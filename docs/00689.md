# ä¸ºä»€ä¹ˆæ‚¨åº”è¯¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å­˜å‚¨åº“æ¨¡å¼ï¼Ÿä»¥åŠå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Œç®€å•çš„æ–¹æ³•â€¦

> åŸæ–‡:[https://dev . to/mihaidev/why-you-should-use-the-repository-pattern-in-your-project-and-how-to-do-it-the-easy-way-12ij](https://dev.to/mihaidev/why-should-you-use-the-repository-pattern-in-your-project-and-how-to-do-it-the-easy-way-12ij)

ä½ æœ€ä¸éœ€è¦æ‹…å¿ƒçš„æ˜¯å¦ä¸€ç§æ¨¡å¼â€¦

ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½ç”¨ç®€å•æ˜äº†çš„æ–¹å¼å†™ä»£ç å‘¢ï¼Ÿ

å—¯â€¦â€¦å¦‚æœä½ é—®æˆ‘ï¼Œæ¨¡å¼åœ¨è½¯ä»¶å¼€å‘ä¸­æœ‰éå¸¸é‡è¦çš„ä½œç”¨ã€‚

## [](#design-patterns-vs-simple-code)è®¾è®¡æ¨¡å¼ VS ç®€å•ä»£ç 

æ²¡æœ‰ç®€å•æ˜äº†çš„ä»£ç è¿™ç§ä¸œè¥¿ã€‚

å³ä½¿ä½ ä¸çŸ¥é“ä»»ä½•æ¨¡å¼ï¼Œä½ ä»ç„¶åœ¨æ¯æ¬¡å†™ä»£ç æ—¶ä½¿ç”¨ä¸€ä¸ªã€‚è¿™å«åšâ€œæ„å¤§åˆ©é¢æ¡ä»£ç æ¨¡å¼â€ğŸ˜Š

æ˜¯çš„ï¼Œåœ¨åŠå¤œé•¿æ—¶é—´ç¼–ç ä¹‹åï¼Œè¿™å¬èµ·æ¥å¯èƒ½å¾ˆç¾å‘³ï¼Œä½†æ˜¯ç›¸ä¿¡æˆ‘ï¼Œè¿™æ˜¯å¼€å‘äººå‘˜æœ€ç³Ÿç³•çš„å™©æ¢¦ã€‚

æ¨¡å¼æ˜¯ä½ æœ€å¥½çš„æœ‹å‹ï¼Œå› ä¸ºå®ƒä»¬å¸®åŠ©ä½ ä»¥ä¸€ç§æ¸…æ™°æ˜“è¯»ã€çµæ´»æ‰©å±•å’Œæ˜“äºæ¨ç†çš„æ–¹å¼ç»„ç»‡ä½ çš„ä»£ç ã€‚

æ¨¡å¼å¯ä»¥è®©ä½ çš„ç”Ÿæ´»å˜å¾—æ›´åŠ å®¹æ˜“ï¼Œå¹¶ä¸”å¯ä»¥æé«˜ä½ å°†æ¥å‘é¡¹ç›®æ·»åŠ æ›´å¤šç‰¹æ€§çš„é€Ÿåº¦ã€‚

1.  é‚£ä¹ˆåŸºæœ¬å­˜å‚¨åº“æ¨¡å¼åº”è¯¥åšä»€ä¹ˆå‘¢ï¼Ÿ

2.  å®ƒçœ‹èµ·æ¥æ€ä¹ˆæ ·ï¼Ÿ

3.  ä»–çš„ä¸»è¦å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ

åŸºæœ¬å­˜å‚¨åº“æ¨¡å¼åœ¨æ¨¡å‹(é¢†åŸŸé€»è¾‘)å’ŒæŒä¹…å±‚(æ•°æ®åº“)ä¹‹é—´å¼•å…¥äº†ä¸€ä¸ªæŠ½è±¡å±‚ã€‚

å®ƒå¸®åŠ©æ‚¨å°†æ¨¡å‹ä»æŒä¹…å±‚ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œå› æ­¤åœ¨å°†æ¥ï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°æ›´æ”¹æ•°æ®åº“è¡¨ï¼Œè€Œä¸ä¼šå½±å“åº”ç”¨ç¨‹åºçš„é€»è¾‘ã€‚

ä½ ç”šè‡³å¯ä»¥æ”¹å˜ä½ çš„æ•´ä¸ªæ•°æ®åº“å®ç°ï¼Œä½ çš„æ¨¡å‹ä¸åº”è¯¥å…³å¿ƒè¿™ä¸ªã€‚

è°ˆè®ºä¸€äº›å¿˜æ©è´Ÿä¹‰çš„é¢†åŸŸæ¨¡å‹ï¼Œå¯¹å—ï¼ŸğŸ˜Š

## [](#lets-look-at-some-code-so-you-can-grasp-the-concept-better)æˆ‘ä»¬æ¥çœ‹ä¸€äº›ä»£ç ï¼Œè¿™æ ·å¯ä»¥æ›´å¥½çš„æŒæ¡æ¦‚å¿µ

ä¸ºæ­¤æˆ‘å°†ä½¿ç”¨ Typescriptï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒä¸º javascript å¸¦æ¥äº†å¼ºç±»å‹å’Œæ¥å£ã€‚è¿˜å› ä¸ºæˆ‘æ¯å¤©éƒ½åœ¨å·¥ä½œä¸­ä½¿ç”¨å®ƒã€‚ğŸ˜Š

å¦‚æœä½ ä¸å¤ªäº†è§£ Typescriptï¼Œæˆ‘å»ºè®®ä½ å…ˆçœ‹çœ‹è¿™ä¸ª:Typescript æ˜¯æœ‰è¶…èƒ½åŠ›çš„ Javascript

ç°åœ¨ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ï¼Œæ²¿ç€è®°å¿†çš„è½¨è¿¹â€¦

æˆ‘è¿‡å»æ˜¯è¿™æ ·å°†æ¨¡å‹æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­çš„:

```
import { User } from './../models'

let user = new User('Bob', 'Smith', 29, 'front end developer')

user.persiste() 
```

åœ¨ç”¨æˆ·æ¨¡å‹ä¸­:

```
import { myslqConnection } from './mysql-connection'
export default class User
{
   private _firstName : string
   private _lastName : string
   private _age : number
   private _job : string
   constructor(
       firstName : string, 
       lastName : string, 
       age : number, 
       job : string
   ){
       this._firstName = firstName
       this._lastName  = lastName
       this._age       = age
       this._job       = job
   }
   persist()
   {
      // Somehow you need to pass in the configs for connecting to the database
      return myslqConnection.query(`
              INSERT INTO users 
              (first_name, last_name, age, job) 
              VALUES (?)`, [
          this.firstName, 
          this.lastName, 
          this.age, 
          this.job ])
    }
} 
```

è¿™çœ‹èµ·æ¥ä¸å¯¹åŠ²ã€‚

ä»¥ä¸‹æ˜¯è¿™ç»å¯¹æ˜¯ä¸€åœºç¾éš¾çš„ä¸€äº›åŸå› :

1.  æˆ‘å°†ä¸šåŠ¡é€»è¾‘ä¸­çš„æ¨¡å‹ä¸æŒä¹…å±‚æ··åˆåœ¨ä¸€èµ·ã€‚Obs:ç”¨æˆ·æ¨¡å‹ä¸åº”è¯¥çŸ¥é“å®ƒæ˜¯å¦‚ä½•åœ¨æ•°æ®åº“ä¸­æŒä¹…åŒ–çš„ï¼Œå› ä¸ºå®ƒä¸å…³å¿ƒè¿™ä¸ªã€‚è¿™ç§å¿˜æ©è´Ÿä¹‰çš„ç”¨æˆ·æ¨¡å‹ï¼Œä»–ä»¬ä»€ä¹ˆéƒ½ä¸åœ¨ä¹â€¦ğŸ˜Š

2.  æˆ‘åœ¨å®é™…æ¨¡å‹ä¸­å®ç°äº†åˆ°æ•°æ®åº“çš„è¿æ¥ï¼Œå¦‚æœæ‚¨æƒ³è¦æ›´æ”¹å‡­è¯ï¼Œè¿™æ˜¯ä¸€ä»¶åäº‹ã€‚

è¿™ä¸ªå®ç°ä¸å¥½è¿˜æœ‰å¾ˆå¤šå…¶ä»–åŸå› ï¼Œä½†æˆ‘ä¸ä¼šç”¨ç»†èŠ‚æ¥çƒ¦ä½ â€¦

å¦‚æœæ‚¨æƒ³äº†è§£æˆ‘æ˜¯å¦‚ä½•ç”¨å­˜å‚¨åº“æ¨¡å¼è§£å†³æ‰€æœ‰è¿™äº›é—®é¢˜çš„ï¼Œé‚£ä¹ˆå¯ä»¥æŸ¥çœ‹ Medium ä¸Šçš„å®Œæ•´æ–‡ç« :

[https://medium . com/@ mihaiblebea/why-should-you-use-the-repository-pattern-in-you-project-and-how-to-do-it-the-easy-way-2076 e 0889 e2b](https://medium.com/@mihaiblebea/why-should-you-use-the-repository-pattern-in-your-project-and-how-to-do-it-the-easy-way-2076e0889e2b)