# ç”¨è¿™ä¸€æ‹›å¤§å¤§å‡è½»å·´å¸ƒäºšæ–°å‡ å†…äºšçš„ä½“é‡

> åŸæ–‡:[https://dev . to/James Thomson/metally-reduce-png-weight-with the one-trick-4p0g](https://dev.to/jamesthomson/greatly-reduce-png-weight-with-this-one-trick-4p0g)

å‰è¨€:åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å‡è®¾æ‚¨å·²ç»ç†Ÿæ‚‰äº† SVGã€‚å¦‚æœæ²¡æœ‰ï¼Œç°åœ¨æ˜¯è®©ä½ è‡ªå·±[ç†Ÿæ‚‰](https://www.w3schools.com/graphics/svg_intro.asp)çš„å¥½æ—¶æœºï¼SVG çš„åŠ›é‡ç¡®å®ä»¤äººæƒŠå¹ã€‚

å¾ˆå¯èƒ½ä½ å·²ç»å‘ç°è‡ªå·±å¤„äºè¿™ç§æƒ…å†µ...ä½ å¾—åˆ°ä¸€ä¸ªè®¾è®¡ï¼Œå®ƒå¾ˆæ¼‚äº®ï¼Œå……æ»¡äº†è‰²å½©å’Œå›¾åƒã€‚

ç„¶åï¼Œè®¾è®¡äººå‘˜ä¼šé€šçŸ¥æ‚¨ï¼Œè‹±é›„æ¨ªå¹…çš„æ–‡æœ¬ä¼šå‘ç”Ÿå˜åŒ–ï¼ŒèƒŒæ™¯é¢œè‰²ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚

è¿™æ˜¯è‹±é›„æ¨ªå¹…çš„æ ·å­(è™½ç„¶å¯èƒ½è®¾è®¡å¾—æ›´å¥½ï¼Œä½†æ˜¯ï¼Œå˜¿ï¼Œå®ƒè¡¨è¾¾äº†é‡ç‚¹):

[![Ice cream hero banner design](../Images/2d7ac8dd75058b0b38ad7d81139e5b82.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--AoRufD45--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/tpr6l76i9im41y9hc0uu.jpg)

å¥½çš„ï¼Œæ²¡é—®é¢˜ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä¸èƒ½åªä½¿ç”¨ä¸€ä¸ªèƒŒæ™¯å›¾åƒå°±å®Œäº‹äº†ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè‹±é›„åˆ†æˆå‡ ä¸ªéƒ¨åˆ†ï¼Œè¿™æ ·å®ƒçš„ä¸€äº›éƒ¨åˆ†å°±å¯ä»¥æ˜¯åŠ¨æ€çš„ã€‚

é€šå¸¸ä½ ä¼šç”¨ PNG æ¥è·å–å†°æ·‡æ·‹è›‹å·çš„å›¾ç‰‡ã€‚ä½†æ˜¯ï¼Œpng é€šå¸¸å¾ˆå¤§ï¼Œå°¤å…¶æ˜¯å½“æˆ‘ä»¬å¼€å§‹è¿åˆé«˜ DPI å±å¹•æ—¶ã€‚æˆ‘ä»¬çš„ PNG å†°æ·‡æ·‹å°†ä¼šè¾¾åˆ°æƒŠäººçš„ 1.9 å…†å­—èŠ‚ï¼å› æ­¤ï¼Œç›¸åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªæŠ€å·§ä¸ [SVG é¢å…·](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/mask)ã€‚

<figure>

[![Isolated ice cream image and mask](../Images/4c80133247a641e25a7fe61890c5ab8b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--m4hyYAm0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/lltqlgebz3qwcenhqfz2.jpg)

<figcaption>Jpg (left) 292kb, 8-bit PNG (right) 17kb</figcaption>

</figure>

é¦–å…ˆï¼Œæˆ‘ä»¬å°†æŠŠå†°æ·‡æ·‹ä¿å­˜ä¸º jpg æ–‡ä»¶ã€‚æˆ‘å°†ä½¿ç”¨é»‘è‰²èƒŒæ™¯æ¥ä»£æ›¿é€æ˜ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å¦ä¸€ä¸ªå›¾åƒä¿å­˜ä¸º 8 ä½ pngï¼Œç”¨ä½œè’™ç‰ˆå›¾åƒã€‚ä»»ä½•é»‘è‰²çš„éƒ¨åˆ†éƒ½æ˜¯ä¸å¯è§çš„ï¼Œä»»ä½•ç™½è‰²çš„éƒ¨åˆ†éƒ½æ˜¯å¯è§çš„ã€‚

æˆ‘ä»¬å°†åœ¨ SVG ä¸­ä¸€èµ·ä½¿ç”¨è¿™ä¸¤å¼ å›¾ç‰‡ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
<svg  xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMinYMin" version="1.1" viewBox="0 0 938 1912">
  <defs>
    <mask id="mask">
      <image width="938" height="1912" xlink:href="/images/ice-cream-mask.png"/>
    </mask>
  </defs>
  <image mask="url(#mask)" width="938" height="1912" xlink:href="/images/ice-cream.jpg"/>
</svg> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ å¯ä»¥å¼•ç”¨ä¸Šé¢ä»£ç ä¸­çš„å›¾ç‰‡ï¼Œæˆ–è€…ä½ ç”šè‡³å¯ä»¥å°†å®ƒä»¬å†…è”ä¸º [base64](https://www.base64-image.de/) ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ªä»£ç æ ä¸­çœ‹åˆ°ã€‚

[https://codepen.io/getreworked/embed/QPzxwB?height=600&default-tab=result&embed-version=2](https://codepen.io/getreworked/embed/QPzxwB?height=600&default-tab=result&embed-version=2)

ç°åœ¨ä½ çŸ¥é“äº†ã€‚æˆ‘ä»¬å·²ç»ä» 1.9mb çš„é€æ˜ PNG å‘å±•åˆ°å¤§çº¦ 309kb çš„ SVGï¼Œè€Œæ²¡æœ‰ç‰ºç‰²è´¨é‡å’Œé€æ˜åº¦ã€‚å¾ˆå¯çˆ±ï¼Œæ˜¯å§ï¼Ÿ

ä¸€å¦‚æ—¢å¾€ï¼Œç¼–ç å¿«ä¹ï¼ğŸ¤“

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘è¿˜æ²¡æœ‰æµ‹è¯•æ‰€æœ‰çš„æµè§ˆå™¨ï¼Œä½†æ˜¯ SVG æ”¯æŒç°åœ¨å·²ç»éå¸¸æ™®åŠï¼Œæ‰€ä»¥æˆ‘ä¸è®¤ä¸ºä¼šæœ‰å¾ˆå¤šé—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ é‡åˆ°äº†ä»»ä½•é—®é¢˜ï¼Œè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚

ä½ ä¹Ÿå¯ä»¥ç”¨è¿™æ”¯[æ£’çš„ä»£ç ç¬”æ¥å¸®åŠ©ä½ çš„æµ‹è¯•](https://codepen.io/shshaw/full/IDbqC/)ã€‚