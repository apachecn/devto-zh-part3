# åˆ›å»º React é€‰é¡¹å¡ç»„ä»¶å¹¶å¯ä¸ Bit å…±äº«

> åŸæ–‡:[https://dev . to/Kris/create-react-tab-component-and-shareable-with-bit-5c8b](https://dev.to/kris/create-react-tab-component-and-shareable--with-bit-5c8b)

### [](#build-a-reusable-react-tab-component-with-bit)ç”¨ Bit æ„å»ºå¯å¤ç”¨çš„ React Tab ç»„ä»¶

#### [](#create-a-tabs-component-your-team-can-use-in-all-your-apps)åˆ›å»ºä¸€ä¸ªä½ çš„å›¢é˜Ÿå¯ä»¥åœ¨ä½ çš„æ‰€æœ‰åº”ç”¨ä¸­ä½¿ç”¨çš„æ ‡ç­¾ç»„ä»¶ã€‚

<figure>[![](../Images/ec2611d1c1ea37bff06598e1d5e753cb.png)](https://bitsrc.io/kriss/reactcomponent/components/tabs) 

<figcaption>æ‘†å¼„ç»„ä»¶ï¼Œç”¨ Bit</figcaption>

</figure>

å®‰è£…

é€‰é¡¹å¡å…è®¸å°†å¤æ‚çš„å†…å®¹åˆ†è§£æˆå¤šä¸ªéƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯ä»¥ä¸€æ¬¡æµè§ˆä¸€ä¸ªéƒ¨åˆ†ã€‚

è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¯é‡ç”¨çš„ react ç»„ä»¶æ¥å¤„ç†æ‚¨çš„é€‰é¡¹å¡ã€‚é¡¹ç›®ç»“æ„å°†éå¸¸åŸºæœ¬:

*   åº”ç”¨
*   åˆ¶è¡¨ç¬¦
*   æ ‡ç­¾

ç„¶åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨[ä½](https://github.com/teambit/bit)ä½¿å…¶å¯ä»å…¶ä»–åº”ç”¨ç¨‹åºä¸­é‡ç”¨ã€‚è®©æˆ‘ä»¬å¼€å§‹å§ã€‚

### [](#app-component)App ç»„ä»¶

App æ˜¯æ‰€æœ‰æ ‡ç­¾é¡µçš„å®¹å™¨ï¼Œ**æ ‡ç­¾é¡µ**å‘ˆç°å…¶ä¸­çš„ä»»ä½•å†…å®¹ã€‚åœ¨æœ€ç»ˆè¾“å‡ºä¸­ï¼Œæ¯ä¸ªå­å…ƒç´ éƒ½å‘ˆç°ä¸ºä¸€ä¸ªé€‰é¡¹å¡ã€‚æ‰€æœ‰ç›´ç³»å­å¥³éƒ½éœ€è¦æœ‰ä¸€ä¸ªæ ‡ç­¾ã€‚æ­¤å¤–ï¼Œæ ‡ç­¾åœ¨è¾“å‡ºä¸­æ˜¾ç¤ºä¸ºé€‰é¡¹å¡åç§°ã€‚

```
import React from 'react';
import Tabs from './Tabs';
import './Tab.css'

const App = () => {
  return (
    <div>
      <h1>React Tabs</h1>
      <Tabs>
        <div label="Home">This is the First Tab</div>
        <div label="Another">Yet another Tab!</div>
        <div label="Yet Another">This one's third</div>
      </Tabs>
    </div>
  );
};

export default App; 
```

Tabs åŒ…å«å¸¦æœ‰æ ‡ç­¾çš„ divã€‚**é¦–é¡µï¼Œå¦ä¸€ä¸ª**å’Œ**è¿˜æœ‰å¦ä¸€ä¸ª**å°†ä¼šæ˜¯ç‚¹å‡»çš„æ ‡ç­¾é¡¹ã€‚

å­ç»„ä»¶å¯ä»¥æ˜¯ä»»ä½•å…¶ä»–å…·æœ‰æœ‰æ•ˆ JSX çš„ç»„ä»¶ï¼Œä½†æ˜¯ç°åœ¨è®©æˆ‘ä»¬ä¿æŒç®€å•ã€‚

### [](#tabs-component)æ ‡ç­¾é¡µç»„ä»¶

æ¯ä¸ªé€‰é¡¹å¡éƒ½æ˜¯é€‰é¡¹å¡ç»„ä»¶çš„å­ç»„ä»¶ã€‚è¿™æ˜¯ä¸€ä¸ªå¿…éœ€çš„å±æ€§ï¼Œå°†ä½äºä¸€ä¸ªæ•°ç»„ä¸­ã€‚

```
static propTypes = {
    children: PropTypes.instanceOf(Array).isRequired
  }; 
```

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªçŠ¶æ€æ¥è·Ÿè¸ªå½“å‰é¡¹ç›®ã€‚å½“æ¯ä¸ªé€‰é¡¹å¡è¢«æ¿€æ´»æ—¶ï¼Œä½¿ç”¨æ­¤çŠ¶æ€æ˜¾ç¤ºæ¯ä¸ªé€‰é¡¹å¡çš„å†…å®¹ï¼Œå¹¶ä»¥ä¸åŒçš„æ–¹å¼è®¾ç½®æ´»åŠ¨é¡¹çš„æ ·å¼ã€‚

```
state = {
    activeTab: this.props.children[0].props.label
  }; 
```

è¿™é‡Œï¼Œåˆå§‹çŠ¶æ€è¢«è®¾ç½®ä¸ºç¬¬ä¸€ä¸ªå­©å­çš„æ ‡ç­¾ã€‚æ ‡ç­¾å¯ä»¥ä½œä¸ºå­©å­çš„é“å…·æ¥è®¿é—®

æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªæ”¹å˜æ´»åŠ¨é€‰é¡¹å¡çš„æ–¹æ³•ã€‚

```
onClickTabItem = (tab) => {
    this.setState({ activeTab: tab });
  }; 
```

åœ¨é€‰é¡¹å¡çš„å‘ˆç°æ–¹æ³•ä¸­ï¼Œææ„å­çº§ã€æ´»åŠ¨é€‰é¡¹å¡å’Œ onclick æ–¹æ³•ã€‚

```
const {
      onClickTabItem,
      props: { children },
      state: { activeTab }
    } = this; 
```

æ­¤å¤–ï¼Œå®šä¹‰å¯å˜å†…å®¹ï¼Œè¿™å°†å­˜å‚¨å½“å‰æ´»åŠ¨æ ‡ç­¾çš„å†…å®¹ã€‚åœ¨å•ç‹¬çš„ div ä¸­å‘ˆç°å†…å®¹ã€‚

è®©å†…å®¹ï¼›

å®ƒå°†è¿”å›ä¸¤ä¸ªä¸œè¥¿:*é€‰é¡¹å¡åˆ—è¡¨*å’Œ*é€‰é¡¹å¡å†…å®¹*ã€‚

æ˜ å°„åˆ°å­ç»„ä»¶ï¼Œå°†ä¸ªä½“ä¼ é€’åˆ°é€‰é¡¹å¡ç»„ä»¶ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ã€‚

ç°åœ¨ï¼Œå°†æ‰€éœ€çš„é“å…·ä¼ é€’ç»™é€‰é¡¹å¡ç»„ä»¶ã€‚

```
render() {
    const {
      onClickTabItem,
      props: { children },
      state: { activeTab }
    } = this;
    let content;
    return (
      <div className="tabs">
        <ol className="tab-list">
          {children.map((child) => {
            const { label } = child.props;
            if (label === activeTab) content = child.props.children;
            return (
              <Tab
                activeTab={activeTab}
                key={label}
                label={label}
                onClick={onClickTabItem}
              />
            );
          })}
        </ol>
        <div className="tab-content">{content}</div>
      </div>
    );
  } 
```

å¹¶ä¸”åœ¨åŒä¸€ä¸ªå¾ªç¯ä¸­ï¼Œæ£€æŸ¥æ‰€æœ‰æ ‡ç­¾ä¸­çš„ *activeTab* çŠ¶æ€ã€‚ *label_same as _activeTab* ä¸ºæ´»åŠ¨æ ‡ç­¾ã€‚é€‰é¡¹å¡å†…å®¹åŒºåŸŸå†…å®¹åŒºåŸŸå°†å­é¡¹æ˜¾ç¤ºä¸ºå†…å®¹ã€‚

å¦‚æœä½ æ¸´æœ›çœ‹åˆ°è¾“å‡ºï¼Œç”¨*è¿”å›æ ‡ç­¾*æ›¿æ¢*è¿”å›*ã€‚ç°åœ¨ä½ ä»ç„¶ä¼šå¾—åˆ°ä¸€äº›è¾“å‡ºã€‚å½“ç„¶ï¼Œä½ ä¸èƒ½æ”¹å˜æ ‡ç­¾ã€‚

[![](../Images/bf64faa81336b3710dce14d50337b04f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--wEKrRvTR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/618/0%2An8RhUWtWOjEyRE1a.png)

### [](#tab-component)æ ‡ç­¾ç»„ä»¶

æˆ‘ä»¬åœ¨**æ ‡ç­¾**ä¸­æ¸²æŸ“äº†**æ ‡ç­¾**ç»„ä»¶ã€‚ä½†æ˜¯ï¼Œè¿˜æ²¡æœ‰é€‰é¡¹å¡ç»„ä»¶ã€‚

ä¼ é€’çš„å±æ€§æ˜¯ keyã€activeTabã€label å’Œ onClickã€‚

æ‰€éœ€é“å…·: **activeTab** ã€ **label** å’Œ **onClick** ã€‚æ ¹æ®éœ€è¦ç”¨æ­£ç¡®ç±»å‹æ ‡è®°å®ƒä»¬ã€‚

```
static propTypes = {
    activeTab: PropTypes.string.isRequired,
    label: PropTypes.string.isRequired,
    onClick: PropTypes.func.isRequired,
  }; 
```

é€‰é¡¹å¡å‘ˆç°ä¼ é€’çš„æ ‡ç­¾ã€‚

onClick å‡½æ•°è·å–ä¸€ä¸ªæ ‡ç­¾å’Œä¼ é€’çš„ onClick å‡½æ•°ã€‚å•å‡»é€‰é¡¹å¡æ—¶ï¼Œå®ƒè°ƒç”¨ä¸€ä¸ªä¼ å…¥çš„ onClick æ–¹æ³•ï¼Œå°†æ ‡ç­¾ä½œä¸ºå‚æ•°ã€‚

```
onClick = () => {
    const { label, onClick } = this.props;
    onClick(label);
  }; 
```

Tab component è¿”å›å¸¦æœ‰ä¼ é€’æ ‡ç­¾çš„ç»„ä»¶ã€‚

å®ƒä»ä¼ é€’çš„ prop ä¸­è·å¾—äº†é«˜äº *onClick* æ–¹æ³•ã€*æ ‡ç­¾*å’Œ *activeTab* çš„æ–¹æ³•ã€‚æ‰€æœ‰é¡¹ç›®éƒ½æœ‰ä¸€ä¸ªé»˜è®¤ç±»åˆ«'*é€‰é¡¹å¡-åˆ—è¡¨-é¡¹ç›®*'ã€‚' *tab-list-active* 'æ˜¯æ´»åŠ¨é¡¹ç›®çš„ç±»ã€‚ç°åœ¨ï¼Œå¦‚æœ*æ´»åŠ¨æ ‡ç­¾*ä¸*æ ‡ç­¾ç›¸åŒï¼Œåˆ™å°†å®ƒé™„åŠ åˆ°ç±»åˆ—è¡¨ä¸­ã€‚æ³¨æ„ç±»åä¹‹é—´çš„ç©ºæ ¼ã€‚* 

```
render() {
    const {
      onClick,
      props: { activeTab, label }
    } = this;

    let className = 'tab-list-item';

    if (activeTab === label) {
      className += ' tab-list-active';
    }

    return (
      <li className={className} onClick={onClick}>
        {label}
      </li>
    );
  } 
```

ç±»åçš„æ‰€æœ‰ CSS éƒ½åœ¨ index.css ä¸­ï¼Œå¦‚æœæ‚¨æƒ³è®©è¾“å‡ºçœ‹èµ·æ¥åƒä¸‹é¢è¿™æ ·ï¼Œè¯·ä½¿ç”¨ç›¸åŒçš„ç±»åã€‚

### [](#make-the-component-reusable-with-bit)ç”¨ Bit ä½¿ç»„ä»¶å¯é‡ç”¨

<figure>[![](../Images/754c2115ffad43ce2fb4fd90eca638b5.png)](https://bitsrc.io/components) 

<figcaption>ç»„ä»¶å¸¦ä½:é€‰æ‹©ã€æ’­æ”¾ã€ä½¿ç”¨</figcaption>

</figure>

[**Bit**](http://bitsrc.io) æ˜¯ä¸€ä¸ªåŸºäºäº‘çš„ç»„ä»¶å¹³å°ã€‚

å®ƒå¸®åŠ©æ‚¨çš„å›¢é˜Ÿç»„ç»‡å’Œå…±äº«å¯é‡ç”¨çš„ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶å¯ç”¨äºæ›´å¿«åœ°æ„å»ºæ–°çš„åº”ç”¨ç¨‹åºã€‚

ç»„ä»¶å¯ä»¥ä¸æ¥è‡ªä¸åŒé¡¹ç›®å’Œåº“çš„ Bit å…±äº«ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ‚¨çš„ä»£ç ä¸­å‘ç°ã€ä½¿ç”¨å’Œå®‰è£…ã€‚

ç®€å•åœ°è¯´ï¼Œæ‚¨å¯ä»¥å°† Bit è§†ä¸ºæ‚¨çš„ç»„ä»¶â€œLego box â€,æ‚¨å¯ä»¥åœ¨å…¶ä¸­å…±äº«æ¥è‡ªä»»ä½•é¡¹ç›®çš„ç»„ä»¶ï¼Œç„¶åæ‰¾åˆ°å¹¶ä½¿ç”¨å®ƒä»¬æ¥æ„å»ºæ–°çš„ä¸œè¥¿ã€‚æœ‰ç”¨å§ï¼Ÿè¿˜æœ‰å¾ˆå¤šï¼Œä½†æˆ‘ä»¬ç°åœ¨ä¸ä¼šæ·±å…¥è®¨è®ºã€‚

é¦–å…ˆï¼Œ[ç™»å½•åˆ° Bit](https://bitsrc.io/signup) å¹¶åˆ›å»ºæ‚¨çš„ç»„ä»¶é›†åˆã€‚

ç°åœ¨æˆ‘ä»¬çš„ç³»åˆ—å·²ç»å‡†å¤‡å¥½äº†ï¼›è®©æˆ‘ä»¬ä½¿ç”¨ Bit ä»å®ƒæ‰€åœ¨çš„å­˜å‚¨åº“ä¸­å¿«é€Ÿå…±äº«ç»„ä»¶(Bit å‘æŒ¥äº†â€œé­”åŠ›â€ï¼›å®ƒä¼šè‡ªåŠ¨éš”ç¦»ç»„ä»¶ï¼Œå¹¶å°†å…¶å…±äº«åˆ°äº‘ï¼Œæ— éœ€æ›´æ”¹ä»»ä½•ä»£ç æˆ–æ–‡ä»¶ï¼).

æˆ‘ä»¬æ¥åˆ†äº«ä¸€ä¸‹ tab ç»„ä»¶ã€‚

### [](#install-bit)å®‰è£…é’»å¤´

å¦‚æœæ‚¨è¿˜æ²¡æœ‰ Bitï¼Œä½¿ç”¨
è¿›è¡Œå…¨å±€å®‰è£…

```
npm install -g bit-bin 
```

### [](#initialize-bit-for-the-project)ä¸ºé¡¹ç›®åˆå§‹åŒ–ä½

ç”¨
åˆå§‹åŒ– Bit å·¥ä½œç©ºé—´

```
bit init 
```

è¿™ä¸ªå‘½ä»¤æ·»åŠ  bit.json å’Œã€‚ä½å›¾æ–‡ä»¶ï¼Œè¿™æ · Bit å°±å¯ä»¥å¼€å§‹è·Ÿè¸ªå’Œéš”ç¦»å­˜å‚¨åº“ä¸­çš„ç»„ä»¶ã€‚

åœ¨ä¸‹é¢çš„ä½æ–‡æ¡£ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç»„ä»¶çš„å…¥å£ç‚¹

[![](../Images/c5e52c58d6846440a54dfc470b715a9c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--M8jq4gTM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/809/1%2AYCwMXILTjMCHPMcQPl7vyw.png)

åˆ›å»º **index.js å¹¶ä» App.js**
ä¸­ç§»èµ°æ‰€æœ‰ä»£ç 

```
import React from 'react';
import Tabs from './Tabs';
import './Tab.css'

const Tab = () => {
  return (
    <div>

      <Tabs>
        <div label="Home">This is the First Tab</div>
        <div label="Another">Yet another Tab!</div>
        <div label="Yet">This one's third</div>
      </Tabs>
    </div>
  );
};

export default Tab; 
```

ç°åœ¨ï¼Œè®© Bit è·Ÿè¸ªä½ æ”¾åœ¨ src/components ç›®å½•ä¸­çš„æ‰€æœ‰ç»„ä»¶ã€‚

```
bit add src/components/\* 
```

[ä¸ºå·¥ä½œåŒºè®¾ç½®ä¸€ä¸ª Bit ç¼–è¯‘å™¨](https://bitsrc.io/bit/envs)(æˆ‘ç”¨ react) :

```
bit import bit.envs/compilers/react --compiler 
```

æ‚¨å¯ä»¥æ„å»ºè‡ªå·±çš„ç»„ä»¶ã€‚

```
bit build 
```

ç°åœ¨ï¼Œå£°æ˜è¿™æ˜¯ 1.0.0 ç‰ˆæœ¬ã€‚

```
bit tag --all 1.0.1 
```

å†æ¬¡è¿è¡Œ bit status ä»¥ç¡®è®¤æ˜¯å¦é™„åŠ äº†æ­¤ç‰ˆæœ¬:

[![](../Images/bd84e4ad7c067c9bb80ef81c6f286dca.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Hh-3PXNx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/702/1%2AB2MFyifYN3erAFX2f4SNZg.png)

å°†å®ƒä»¬æ¨åˆ° Bit è¿œç¨‹ä½œç”¨åŸŸ:

```
bit export kriss.reactcomponent 
```

å°±æ˜¯è¿™æ ·ï¼æ‚¨åˆšåˆšå¯¼å‡ºçš„ç»„ä»¶ç°åœ¨å°†æ˜¾ç¤ºåœ¨æ‚¨çš„é›†åˆä¸­ã€‚

[![](../Images/859fce1963cd082cf5b125da93f9ccb7.png)T2ã€‘](https://bitsrc.io/kriss/reactcomponent/components/tabs)

ç»„ä»¶å®šä¹‰ä¸Šé¢çš„ä»»ä½•æ³¨é‡Šå—éƒ½è¢«ç”¨ä½œç»„ä»¶æè¿°ï¼Œå¦‚æœæˆ‘è¦æ·»åŠ æµ‹è¯•ï¼ŒBit ä¹Ÿä¼šè¿è¡Œå®ƒä»¬ã€‚

[ç»„ä»¶/æ ‡ç­¾-ååº”ç»„ä»¶ä½](https://bitsrc.io/kriss/reactcomponent/components/tabs)

### [](#conclusion)ç»“è®º

æ‚¨å·²ç»ä¸ºè‡ªå·±åˆ›å»ºäº†ä¸€ä¸ªå¾ˆå¥½çš„é€‰é¡¹å¡å¼ç»„ä»¶ï¼Œå¹¶ä¸ Bit å…±äº«ã€‚ç°åœ¨ï¼Œæ‚¨å’Œæ‚¨çš„å›¢é˜Ÿå¯ä»¥åœ¨ä»»ä½•æ‚¨å–œæ¬¢çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒï¼Œä»¥åŠ å¿«æ„å»ºé€Ÿåº¦ã€‚å¸Œæœ›ä½ å–œæ¬¢ï¼Œå¹¶è¯·éšæ—¶è¯„è®ºå’Œè¯¢é—®ä»»ä½•äº‹æƒ…ï¼å¹²æ¯ğŸ˜ƒ

### [](#learn-more)äº†è§£æ›´å¤š

*   [åœ¨ React ä¸­åŠ å¿«å¼€å‘çš„ 5 ç§å·¥å…·](https://blog.bitsrc.io/5-tools-for-faster-development-in-react-676f134050f2)
*   [2019 å¹´ä½ åº”è¯¥çŸ¥é“çš„ 11 ä¸ª React UI ç»„ä»¶åº“](https://blog.bitsrc.io/11-react-component-libraries-you-should-know-178eb1dd6aa4)
*   ã€2019 å¹´ 11 ä¸ª JavaScript åŠ¨ç”»åº“

* * *