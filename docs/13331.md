# æ–°ç‰ˆæœ¬:viabtc v0.4.0

> åŸæ–‡:[https://dev.to/krmbzds/new-release-viabtc-v040-3i9l](https://dev.to/krmbzds/new-release-viabtc-v040-3i9l)

# [ã€viabtcã€‘](https://github.com/krmbzds/viabtc)ğŸ“ˆ

é€šè¿‡ BTC äº¤æ¢æœåŠ¡å™¨ä¸å¼€æºè½¯ä»¶[æ¥å£çš„ HTTP å®¢æˆ·ç«¯ã€‚](https://github.com/viabtc/viabtc_exchange_server)

å¯¹åˆ›å»ºåŠ å¯†è´§å¸äº¤æ˜“æ‰€æ„Ÿå…´è¶£å—ï¼Ÿè¿™å—å®çŸ³å¯ä»¥å¸®åŠ©ä½ ã€‚

## [](#installation)å®‰è£…

å°†`viabtc`æ·»åŠ åˆ°ä½ çš„ Gemfile å¹¶è¿è¡Œ`bundle`æˆ–è€…ç”¨`gem install viabtc`è‡ªå·±å®‰è£…ã€‚

## [](#configuration)é…ç½®

å¦‚æœä½¿ç”¨ **Rails** ï¼Œåœ¨`config/initializers`ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`viabtc.rb`çš„æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç å—ã€‚

```
ViaBTC.configure do |config|
  config.http_base_url = 'http://localhost:18080'
end 
```

å¦‚æœæ²¡æœ‰ï¼Œè¯·åœ¨æ–°å®¢æˆ·ç«¯åˆå§‹åŒ–ä¹‹å‰ï¼Œå°†å®ƒæ·»åŠ åˆ°ä»£ç ä¸­è¿è¡Œçš„ä»»ä½•ä½ç½®ã€‚é˜…è¯»æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®:ğŸ“–[é…ç½®ç»´åŸº](https://github.com/krmbzds/viabtc/wiki/Configuration)

## [](#usage)ç”¨æ³•

åˆ›å»ºæ–°å®ä¾‹:

```
viabtc_http_client = ViaBTC::HTTP::Client.new 
```

å‘å‡º API è¯·æ±‚:

```
viabtc_http_client.market_status(market: 'ETHBTC')

#=> {"error"=>nil, "result"=>{"low"=>"0", "period"=>86400, "last"=>"0", "high"=>"0", "open"=>"0", "volume"=>"0", "close"=>"0", "deal"=>"0"}, "id"=>0} 
```

## [](#support)æ”¯æŒ

#### [](#ruby-versions-tested-against)Ruby ç‰ˆæœ¬æµ‹è¯•å¯¹æ¯”

*   `2.6.1`(ç¨³å®š)
*   `2.5.3`(ç¨³å®š)
*   `2.4.5`(ç¨³å®š)
*   â³`2.3.8`(å®‰å…¨ç»´æŠ¤é˜¶æ®µ)

#### [](#viabtc-exchange-server-api-support)ViaBTC äº¤æ¢æœåŠ¡å™¨ API æ”¯æŒ

| API æ–¹æ³• | ç›¸åº”çš„æ–¹æ³• |
| --- | --- |
| `balance.query` | `#balance` |
| `balance.update` | `#withdraw` `#deposit` |
| `balance.history` | `#balance_history` |
| `asset.list` | `#asset_list` |
| `asset.summary` | `#asset_summary` |
| `order.put_limit` | `#limit_sell` `#limit_buy` |
| `order.put_market` | `#market_sell` `#market_buy` |
| `order.cancel` | `#cancel_order` |
| `order.deals` | `#order_deals` |
| `order.book` | `#sell_orders` `#buy_orders` |
| `order.depth` | `#order_depth` |
| `order.pending` | `#pending_orders` |
| `order.pending_detail` | `#pending_order_details` |
| `order.finished` | `#finished_orders``#finished_sell_orders`T2ã€‘ |
| `order.finished_detail` | `#finished_order_detail` |
| `market.last` | `#market_last` |
| `market.deals` | `#market_deals` |
| `market.user_deals` | `#user_executed_orders` |
| `market.kline` | `#market_kline` |
| `market.status` | `#market_status` |
| `market.status_today` | `#market_status_today` |
| `market.list` | `#market_list` |
| `market.summary` | `#market_summary` |

## [](#development)å‘å±•

åœ¨ç­¾å‡º repo ä¹‹åï¼Œè¿è¡Œ`bin/setup`æ¥å®‰è£…ä¾èµ–é¡¹ã€‚ç„¶åï¼Œè¿è¡Œ`rake spec`æ¥è¿è¡Œæµ‹è¯•ã€‚ä½ ä¹Ÿå¯ä»¥è¿è¡Œ`bin/console`å¾—åˆ°ä¸€ä¸ªäº¤äº’å¼æç¤ºï¼Œè®©ä½ è¿›è¡Œå®éªŒã€‚

è¦å°†è¿™ä¸ª gem å®‰è£…åˆ°æ‚¨çš„æœ¬åœ°æœºå™¨ä¸Šï¼Œè¿è¡Œ`bundle exec rake install`ã€‚è¦å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼Œæ›´æ–°`version.rb`ä¸­çš„ç‰ˆæœ¬å·ï¼Œç„¶åè¿è¡Œ`bundle exec rake release`ï¼Œè¿™å°†ä¸ºè¯¥ç‰ˆæœ¬åˆ›å»ºä¸€ä¸ª git æ ‡ç­¾ï¼Œæ¨é€ git æäº¤å’Œæ ‡ç­¾ï¼Œå¹¶å°†`.gem`æ–‡ä»¶æ¨é€åˆ° [RubyGems](https://rubygems.org) ã€‚

## [](#contributing)æŠ•ç¨¿

1.  [åˆ†å‰ä»“åº“](http://github.com/krmbzds/viabtc/fork)
2.  åˆ‡æ¢åˆ°å¼€å‘åˆ†æ”¯(`git checkout develop`)
3.  åˆ›å»ºä½ çš„ç‰¹å¾åˆ†æ”¯(`git checkout -b my-new-feature`)
4.  æäº¤æ‚¨çš„æ›´æ”¹(`git commit -am 'Add some feature'`)
5.  æ¨åˆ°æ ‘æä¸Š(`git push origin my-new-feature`)
6.  åˆ›å»ºæ–°çš„æ‹‰å¼è¯·æ±‚

### [](#donations)ææ¬¾

ä½ å¯ä»¥åœ¨ [Librepay](https://liberapay.com/krmbzds/donate) æŠŠæˆ‘æäº†ã€‚è°¢è°¢ï¼â˜•ï¸

## [](#is-it-any-good)æœ‰ä»€ä¹ˆå¥½ï¼Ÿ

æ˜¯çš„ã€‚

* * *

æ—¢ç„¶ä½ å·²ç»èµ°äº†è¿™ä¹ˆè¿œ..ğŸ¤“

å¦‚æœä½ å–œæ¬¢ï¼Œåˆ«å¿˜äº†â­ï¸æˆ‘çš„[åº“](https://github.com/krmbzds/viabtc)ï¼

æ¬¢è¿é”™è¯¯æŠ¥å‘Šå’Œè¯·æ±‚ï¼â™¥ï¸

å¿«ä¹é»‘å®¢ï¼Œ
å‡¯é›·å§†

* * *

å…‹é‡Œæ–¯Â·åˆ©ç»´æ‹‰å°¼æä¾›çš„ç…§ç‰‡