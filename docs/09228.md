# å›´æ£‹å¾ªç¯

> åŸæ–‡:[https://dev.to/stephenafamo/loops-in-go-2lp9](https://dev.to/stephenafamo/loops-in-go-2lp9)

[![Loops in Go](../Images/db9594e22103144d3f6df9cff1cf7c06.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--qDG6F152--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i2.wp.com/stephenafamo.com/blog/wp-content/uploads/2019/03/Loops-in-Go.jpg%3Ffit%3D1500%252C750%26ssl%3D1)

åœ¨ Go ä¸­æ‰§è¡Œå¾ªç¯çš„å…³é”®å­—åªæœ‰ä¸€ä¸ª:forã€‚å®ç°éå¸¸çµæ´»ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†è€ƒè™‘ä½¿ç”¨å®ƒçš„å„ç§æ–¹æ³•ã€‚å¦‚æœä½ å¯¹ç»†èŠ‚æ„Ÿå…´è¶£ï¼Œä½ ä¸€å®šè¦å»çœ‹çœ‹[å®˜æ–¹è§„èŒƒ](https://golang.org/ref/spec#For_statements)ã€‚

## [](#for-loops-in-go)ä¸ºå›´æ£‹ä¸­çš„å¾ªç¯

é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å¤åˆ¶å¸¸è§çš„ C é£æ ¼ for å¾ªç¯ã€‚åœ¨ Go ä¸­ï¼Œå®ƒçš„å·¥ä½œæ–¹å¼ä¸å…¶ä»–è¯­è¨€ç±»ä¼¼ã€‚æˆ‘ä»¬åœ¨å…³é”®å­—åæä¾› 3 ä¸ªè¯­å¥ã€‚ç¬¬ä¸€ä¸ªæ˜¯è¦è¿è¡Œçš„åˆå§‹è¯­å¥ï¼Œç¬¬äºŒä¸ªæ˜¯åœ¨æ¯æ¬¡è¿­ä»£ä¹‹å‰è¯„ä¼°çš„æ¡ä»¶ï¼Œç¬¬ä¸‰ä¸ªæ˜¯åœ¨è¿­ä»£ç»“æŸæ—¶è¿è¡Œçš„æ¡ä»¶ã€‚

```
package main

import "fmt"

func main() {
    for i := 1; i <= 10; i++ {
        fmt.Println(i)
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
1
2
3
4
5
6
7
8
9
10 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#while-loops-in-go)åœ¨å›´æ£‹ä¸­å¾ªç¯å¾€å¤

åœ¨å¤§å¤šæ•°è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ä¸­ï¼Œwhile å¾ªç¯æ˜¯ä¸€ç§æ§åˆ¶æµè¯­å¥ï¼Œå…è®¸ä»£ç åŸºäºç»™å®šçš„å¸ƒå°”æ¡ä»¶é‡å¤æ‰§è¡Œã€‚while å¾ªç¯å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªé‡å¤çš„ if è¯­å¥ã€‚

åœ¨ Go ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`for`å…³é”®å­—é€šè¿‡åªæä¾›ä¸€æ¡è¯­å¥æ¥ç¼–å†™ while å¾ªç¯ã€‚åªè¦è¯­å¥ä¸ºçœŸï¼Œå¾ªç¯å°±ä¼šç»§ç»­è¿è¡Œã€‚

```
package main

import "fmt"

func main() {
    var a = 1

    for a <= 5 {
        fmt.Printf("a is: %v \n", a)
        a++
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
a is: 1 
a is: 2 
a is: 3 
a is: 4 
a is: 5 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#the-range-clause)èŒƒå›´å­å¥

`range`å­å¥å…è®¸æˆ‘ä»¬è¿­ä»£æ•°ç»„ã€åˆ‡ç‰‡ã€æ˜ å°„ã€å­—ç¬¦ä¸²æˆ–é€šé“ã€‚

### [](#looping-over-an-array-using-range)ä½¿ç”¨èŒƒå›´åœ¨æ•°ç»„ä¸Šå¾ªç¯

å½“æˆ‘ä»¬ä½¿ç”¨`range`åœ¨ä¸€ä¸ªæ•°ç»„ä¸Šå¾ªç¯æ—¶ï¼Œæ¯æ¬¡è¿­ä»£æˆ‘ä»¬å°†å¾—åˆ° 2 ä¸ªå€¼ã€‚æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•å’Œå€¼çš„å‰¯æœ¬ã€‚æ¥æ”¶ç¬¬äºŒä¸ªå€¼æ˜¯å¯é€‰çš„ã€‚

```
package main

import "fmt"

func main() {
    var myArray = [...]int{1,2,3,4}

    for k, v := range myArray {
        fmt.Printf("index=%v, value=%v \n", k, v)
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
index=0, value=1 
index=1, value=2 
index=2, value=3 
index=3, value=4 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#looping-over-a-slice-using-range)ä½¿ç”¨èŒƒå›´åœ¨åˆ‡ç‰‡ä¸Šå¾ªç¯

å°±åƒä½¿ç”¨æ•°ç»„ä¸€æ ·ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨`range`åœ¨ä¸€ä¸ªç‰‡ä¸Šå¾ªç¯æ—¶ï¼Œæ¯æ¬¡è¿­ä»£æˆ‘ä»¬å°†å¾—åˆ° 2 ä¸ªå€¼ã€‚æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•å’Œå€¼çš„å‰¯æœ¬ã€‚æ¥æ”¶ç¬¬äºŒä¸ªå€¼æ˜¯å¯é€‰çš„ã€‚

```
package main

import "fmt"

func main() {
    var mySlice = []int{1,2,3,4}

    for k, v := range mySlice {
        fmt.Printf("index=%v, value=%v \n", k, v)
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
index=0, value=1 
index=1, value=2 
index=2, value=3 
index=3, value=4 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#looping-over-a-map-using-range)ä½¿ç”¨èŒƒå›´åœ¨åœ°å›¾ä¸Šå¾ªç¯

æ­£å¦‚æ‚¨æ‰€æ–™ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨`range`éå†ä¸€ä¸ªåœ°å›¾æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿæ”¶åˆ° 2 ä¸ªå€¼ã€‚è¿™ä¸€æ¬¡ï¼Œå€¼æ˜¯æ˜ å°„ä¸­å…ƒç´ çš„é”®ï¼Œä¹Ÿæ˜¯å€¼çš„å‰¯æœ¬ã€‚æ¥æ”¶ç¬¬äºŒä¸ªå€¼æ˜¯å¯é€‰çš„ã€‚

```
package main

import "fmt"

func main() {
    var myMap = map[string]string{
        "foo": "bar",
        "boo": "baz",
    }

    for k, v := range myMap {
        fmt.Printf("key=%v, value=%v \n", k, v)
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
key=foo, value=bar 
key=boo, value=baz 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#looping-over-a-string-using-range)ä½¿ç”¨èŒƒå›´åœ¨å­—ç¬¦ä¸²ä¸Šå¾ªç¯

å½“æˆ‘ä»¬ä½¿ç”¨`range`å¯¹ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œå¾ªç¯æ—¶ï¼Œæˆ‘ä»¬åœ¨æ¯æ¬¡è¿­ä»£ä¸­ä¹Ÿä¼šæ”¶åˆ° 2 ä¸ªå€¼ã€‚ç¬¬ä¸€ä¸ªå€¼æ˜¯å­—ç¬¦å¼€å§‹çš„å­—èŠ‚ä½ç½®ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯ä»£è¡¨å•ä¸ª Unicode å­—ç¬¦çš„`rune`ã€‚é€šå¸¸ï¼Œæ¥æ”¶ç¬¬äºŒä¸ªå€¼æ˜¯å¯é€‰çš„ã€‚

```
package main

import "fmt"

func main() {
    var myString = "Stephen"

    for index, runeValue := range myString {
        fmt.Printf("%#U starts at byte position %d\n", runeValue, index)
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
U+0053 'S' starts at byte position 0
U+0074 't' starts at byte position 1
U+0065 'e' starts at byte position 2
U+0070 'p' starts at byte position 3
U+0068 'h' starts at byte position 4
U+0065 'e' starts at byte position 5
U+006E 'n' starts at byte position 6 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#looping-over-a-channel-using-range)ä½¿ç”¨èŒƒå›´åœ¨ä¸€ä¸ªé€šé“ä¸Šå¾ªç¯

å½“æˆ‘ä»¬ä½¿ç”¨`range`åœ¨ä¸€ä¸ªé€šé“ä¸Šå¾ªç¯æ—¶ï¼Œæˆ‘ä»¬æ¥æ”¶ä¸€ä¸ªå€¼ï¼Œè¿™æ˜¯é€šé“ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚

```
package main

import "fmt"

func main() {
    queue := make(chan string, 2)
    queue <- "one"
    queue <- "two"
    close(queue)

    for elem := range queue {
        fmt.Println(elem)
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
one
two 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#conclusion)ç»“è®º

æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†å›´æ£‹ä¸­çš„å„ç§å¾ªç¯æœºåˆ¶ã€‚ç°åœ¨å‰è¿›ï¼Œèµ°å‘æˆåŠŸã€‚ [![ğŸ˜](../Images/6cf47269a87d637578782b4945735d2e.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--5K4ICNjO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://s.w.org/images/core/emoji/11.2.0/72x72/1f60e.png) ã€‚

Go ä¸­çš„ [Loops è¿™ä¸ªå¸–å­é¦–å…ˆå‡ºç°åœ¨](https://stephenafamo.com/blog/loops-in-go/)[æ–¯è’‚èŠ¬Â·é˜¿æ³•è«çš„åšå®¢](https://stephenafamo.com/blog)ä¸Šã€‚