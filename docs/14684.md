# ç«ç„°é£æš´å½¢æˆçš„æœ‰æ£±è§’çš„ç‰©è´¨

> åŸæ–‡:[https://dev . to/codingcatdev/angular-material-forms-from-firestore-184 I](https://dev.to/codingcatdev/angular-material-forms-from-firestore-184i)

> åŸå¸–:[https://ajonp . com/courses/angular material/angular-material-forms-from-firestore/](https://ajonp.com/courses/angularmaterial/angular-material-forms-from-firestore/)

[https://www.youtube.com/embed/LLupkLEszdY](https://www.youtube.com/embed/LLupkLEszdY)

# [](#angular-material-forms-from-firestore)æ¥è‡ª Firestore çš„æ£±è§’åˆ†æ˜çš„ææ–™å½¢æ€

ğŸŒæ¼”ç¤º:[https://ajonp-lesson-12 . firebase app . com/books/first book/edit](https://ajonp-lesson-12.firebaseapp.com/books/FirstBook/edit)

è¿™ä¸€è¯¾å°†è®²è¿°å¦‚ä½•åˆ›å»ºæ‰€æœ‰çš„[æœ‰è§’çš„ææ–™å½¢çŠ¶ç»„ä»¶](https://material.angular.io/components/categories/forms)ï¼Œå…¶ä¸­è®¸å¤šç»„ä»¶èƒŒåçš„æ•°æ®å°†æ¥è‡ª[äº‘å•†åº—](https://firebase.google.com/docs/firestore/)ã€‚

# [](#setup)è®¾ç½®

æˆ‘ä»¬å°†ä»[Angular Navigation Firestore](https://ajonp.com/lessons/11-angular-navigation-firestore/)çš„ä¸Šä¸€è¯¾å¼€å§‹

## [](#source-from-prior-lesson)æ¥æºäºå‰ä¸€è¯¾

å…‹éš†

```
git clone https://github.com/AJONPLLC/lesson11-angular-navigation-firestore.git lesson12-angular-material-forms-firestore 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç§»é™¤åŸç‚¹ï¼Œå¦‚æœä½ æƒ³æŠŠå®ƒæ·»åŠ åˆ°ä½ è‡ªå·±çš„å›è´­åè®®ä¸­ï¼Œæ€»æ˜¯æ¯”è¾ƒå®¹æ˜“çš„(æˆ–è€…ä½ ä¹Ÿå¯ä»¥ç›´æ¥å¤åˆ¶ã€‚)

```
git remote rm origin 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#install-dependencies)å®‰è£…ä¾èµ–é¡¹

ç¡®ä¿æ‚¨ä½äºæ­£ç¡®çš„ç›®å½•`cd lesson12-angular-material-forms-firestore`ã€‚

```
npm install 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

# [](#book-edit-module)å›¾ä¹¦ç¼–è¾‘æ¨¡å—

## [](#create)åˆ›å»º

ä½¿ç”¨ Angular CLI åˆ›å»ºå¸¦æœ‰è·¯ç”±å’Œç›¸åº”ç»„ä»¶çš„æ¨¡å—ã€‚

```
ng g m modules/books/book-edit --routing && ng g c modules/books/book-edit 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

# [](#router-updates)è·¯ç”±å™¨æ›´æ–°

## [](#booksroutingmodulets)books-routing.module.ts

æ·»åŠ æ–°çš„æƒ°æ€§åŠ è½½è·¯å¾„ï¼Œä»¥ä¾¿æˆ‘ä»¬çš„ä¸» books-routing çŸ¥é“å‘å“ªé‡Œå‘é€ç¼–è¾‘è¯·æ±‚ã€‚

```
...
  {
    path: ':bookId/edit',
    loadChildren: './book-edit/book-edit.module#BookEditModule'
  }
  ... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#bookeditroutingmodulets)é¢„è®¢-ç¼–è¾‘-è·¯ç”±. module.ts

ç°åœ¨æˆ‘ä»¬åœ¨å›¾ä¹¦ç¼–è¾‘æ¨¡å—ä¸­ï¼Œç¡®ä¿å®ƒæœ‰ä¸€ä¸ªåˆ°å›¾ä¹¦ç¼–è¾‘ç»„ä»¶çš„è·¯å¾„ã€‚

```
...
const routes: Routes = [
  {
    path: '',
    component: BookEditComponent
  }
];
... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#serve-the-edit-path)æœåŠ¡ç¼–è¾‘è·¯å¾„

å¯åŠ¨æœåŠ¡å™¨

```
ng serve 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æˆ‘ä»¬çš„è·¯ç”±å™¨éƒ½è®¾ç½®å¥½äº†ï¼Œæˆ‘ä»¬åº”è¯¥å¼€å§‹çœ‹åˆ° book-edit.component.htmlã€‚å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰åŠæ³•å¯¼èˆªåˆ°è¿™ä¸ªè·¯å¾„ï¼Œåªéœ€æ‰‹åŠ¨åœ¨åœ°å€æ ä¸­é”®å…¥å®ƒ`localhost:4200/books/FirstBook/edit`ã€‚

ä½ åº”è¯¥çœ‹çœ‹

### å›¾ä¹¦ç¼–è¾‘ä½œå“ï¼

# [](#update-book-edit)æ›´æ–°å›¾ä¹¦ç¼–è¾‘

## [](#structure)ç»“æ„

ä¸ºäº†ç»™æˆ‘ä»¬çš„è¡¨å•æ·»åŠ ä¸€äº›ç»“æ„ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥æ·»åŠ  Flex å¸ƒå±€å’Œ 75%å±…ä¸­çš„ææ–™å¡æ¥ç»™æˆ‘ä»¬çš„è¡¨å•ä¸€ä¸ªæ¼‚äº®çš„å¤–è§‚ã€‚

book-edit.component.html

```
<div fxLayout="column" fxLayoutAlign="space-around center">
  <mat-card style="width: 75%; margin-bottom: 100px;">
    <mat-card-content>
    </mat-card-content>
    <mat-card-actions> <button mat-button>Ok</button> </mat-card-actions>
  </mat-card>
</div> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å› ä¸ºè¿™äº›æ˜¯æ–°å…ƒç´ ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒä»¬å¯¼å…¥åˆ°æˆ‘ä»¬çš„å›¾ä¹¦ç¼–è¾‘æ¨¡å—ä¸­ã€‚
book-edit.module.ts

```
import { FlexLayoutModule } from '@angular/flex-layout';
import {MatCardModule} from '@angular/material';

...

@NgModule({
  declarations: [BookEditComponent],
  imports: [
    CommonModule,
    BookEditRoutingModule,
    FlexLayoutModule,
    MatCardModule,
  ]
})
... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#getting-firestore-data-for-book-edit)è·å– Firestore æ•°æ®è¿›è¡Œå›¾ä¹¦ç¼–è¾‘

å› ä¸ºæˆ‘ä»¬ç°åœ¨æ­£åœ¨å¯¼èˆªåˆ°ä¸€ä¸ªä½¿ç”¨è§’åº¦è·¯ç”±å™¨çš„åŒºåŸŸï¼Œå¹¶ä¸”éƒ¨åˆ†è·¯å¾„åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å‚æ•° id `:bookId/edit`ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»å½“å‰æ¿€æ´»çš„è·¯å¾„ä¸­è·å¾—è¿™ä¸ª`bookId`ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼Œå¹¶åœ¨æˆ‘ä»¬çš„æ„é€ å‡½æ•°ä¸­æä¾›è¿™ä¸€ç‚¹ã€‚ä¸ºäº†ä»æˆ‘ä»¬çš„`FirestoreService`è·å–æ•°æ®ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ³¨å…¥è¿™ä¸ªæœåŠ¡ã€‚

```
 subs: Subscription[] = [];
  book$: Observable<Book>;
  constructor(private router: ActivatedRoute, private fs: FirestoreService) {}

  ngOnInit() {
    // Get bookId for book document selection from Firestore
    this.subs.push(
      this.router.paramMap.subscribe(params => {
        const bookId = params.get('bookId');
        this.book$ = this.fs.getBook(bookId);
      })
    ); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é€šè¿‡è°ƒç”¨ firestore `getBook`å‡½æ•°å¹¶ä¼ å…¥å½“å‰å‚æ•°`bookId`,æˆ‘ä»¬ç°åœ¨æœ‰äº†ä¸€ä¸ªå¯¹ firestore æ•°æ®çš„å¯è§å¼•ç”¨ã€‚

firestore.service.ts

```
getBook(bookId: string): Observable<Book> {
  // Start Using AngularFirebase Service!!
  return this.afb.doc$<Book>(`books/${bookId}`);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> è¿™æ˜¯æ°å¤«åœ¨ [fireship.io](https://angularfirebase.com/lessons/firestore-advanced-usage-angularfire/) åˆ›é€ çš„ä¸€ä¸ªå¾ˆé…·çš„åŒ…è£…ã€‚
> ä½ å¯ä»¥éšæ„å¤åˆ¶è¿™ä¸ªæœåŠ¡ï¼Œå¹¶æŠŠå®ƒä½œä¸ºä½ æ‰€æœ‰é¡¹ç›®çš„ä¸€ä¸ªæ¼‚äº®çš„åŒ…è£…å™¨ï¼Œæˆ‘ä¸ä¼šæŠŠè¿™ä¸¤ä¸ªè°ƒç”¨åŒ…æ‹¬åœ¨å†…

```
 doc$<T>(ref: DocPredicate<T>): Observable<T> {
    return this.doc(ref)
      .snapshotChanges()
      .pipe(
        map(
          (
            doc: Action<
              DocumentSnapshotDoesNotExist | DocumentSnapshotExists<T>
            >
          ) => {
            return doc.payload.data() as T;
          }
        )
      );
  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

Firestore æ§åˆ¶å°ä¸­çš„å›¾ä¹¦æ•°æ®ç¤ºä¾‹:

[![Book Data](../Images/7989e459cb773654e514aa11e323e720.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Y_VNqToF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548959741/ajonp-ajonp-com/11-lesson-angular-navigation-firestore/yep4ngt60x0ki8jocisx.jpg)

åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬è¿˜å°†æˆ‘ä»¬çš„ RxJs è®¢é˜…æ¨é€åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ destroy æ–¹æ³•å’Œ unsubscribe æœŸé—´éå†ä»»ä½•è®¢é˜…ã€‚å½“æˆ‘ä¸èƒ½ä½¿ç”¨`pipe(take(1))`æˆ–`| async`æ—¶ï¼Œæˆ‘ç»å¸¸ä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚

```
 ngOnDestroy() {
    this.subs.forEach(sub => {
      sub.unsubscribe();
    });
  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#using-firestore-data-inside-of-template)ä½¿ç”¨ Firestore æ¨¡æ¿å†…çš„æ•°æ®

æˆ‘ä»¬ä¸èƒ½åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨æ–°çš„`book$` Observable æ¥æ˜¾ç¤ºä»»ä½•å½“å‰æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥æ›´æ–°æˆ‘ä»¬çš„å¡ç‰‡ï¼Œä»…åœ¨å›¾ä¹¦æ•°æ®å¯ç”¨æ—¶æ˜¾ç¤ºï¼Œå¦åˆ™æ˜¾ç¤ºææ–™å¾®è°ƒå™¨ã€‚å¦‚æœä½ ä¸ç†Ÿæ‚‰ Angular æ–‡æ¡£ï¼Œä½ å¯ä»¥é˜…è¯»æ›´å¤šå…³äº NgIf T2 æŒ‡ä»¤å¦‚ä½•å·¥ä½œçš„å†…å®¹ã€‚

```
 <mat-card *ngIf="(book$ | async); let book; else: spin" style="width: 75%; margin-bottom: 100px;">
  <mat-card-title>{{book.title}}</mat-card-title>
  ...
<ng-template #spin><mat-spinner></mat-spinner></ng-template> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å½“å‰æ ‡é¢˜:
[![Title View](../Images/174a0eb018859dd6a02fe2e18d1b26b1.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--H_xpAfyE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548960658/ajonp-ajonp-com/11-lesson-angular-navigation-firestore/oclrlecxgwgbhbooidhg.jpg)

## [](#adding-form-input)æ·»åŠ è¡¨å•è¾“å…¥

> è¿™é‡Œåªæ˜¯ä¸€ä¸ªè­¦å‘Šï¼Œå¦‚æœæ‚¨æƒ³æŸ¥çœ‹è¯¦ç»†çš„[è§’ååº”å½¢å¼](https://angular.io/guide/reactive-forms)ç”¨æ³•ï¼Œè¿™å°†åœ¨ä¸‹ä¸€è¯¾ä¸­å®Œæˆã€‚

ç°åœ¨æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬çš„ Observable æ­£åœ¨æˆåŠŸåœ°å·¥ä½œï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥æ”¹å˜å¡ç‰‡çš„æ ‡é¢˜ï¼Œå¹¶å¼€å§‹å°†æˆ‘ä»¬çš„å¡ç‰‡åˆ‡æ¢åˆ°å‡ ä¸ªè¡¨å•è¾“å…¥ä¸­ã€‚

ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦å°†`FormsModule`ã€`ReactiveFormsModule`ã€`MatFormFieldModule`å’Œ`MatInputModule`åŒ…å«åˆ°æˆ‘ä»¬çš„å›¾ä¹¦ç¼–è¾‘æ¨¡å—ä¸­ã€‚

book-edit.module.ts

```
 imports: [
    CommonModule,
    BookEditRoutingModule,
    FlexLayoutModule,
    MatCardModule,
    FormsModule,
    ReactiveFormsModule,
    MatFormFieldModule,
    MatInputModule, 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#title-input)æ ‡é¢˜è¾“å…¥

[![Title Input](../Images/f36a922e00a74c1782cd68659b48bfdc.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--xFPpCIU---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548961254/ajonp-ajonp-com/12-angular-material-from-firestore/bvls9ivndkkacihjr2hp.jpg)

æ•´ä¸ªææ–™å¡ç‰‡ç°åœ¨åº”è¯¥çœ‹èµ·æ¥åƒä¸‹é¢è¿™æ ·ï¼Œå¡ç‰‡å‘¨å›´çš„æ–° div åªæ˜¯ä¸ºäº†è®©æ¯ä¸ªéƒ¨åˆ†åœ¨å®ƒè‡ªå·±çš„åˆ—ä¸­æµåŠ¨ã€‚å¦‚æœæ‚¨æ²¡æœ‰ä½¿ç”¨è¿‡[æŸ”æ€§å¸ƒå±€](https://github.com/angular/flex-layout/wiki/fxFlex-API)ï¼Œè¯·æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚

book-edit.component.html

```
 <mat-card
    *ngIf="(book$ | async); let book; else: spin"
    style="width: 75%; margin-bottom: 100px;"
  >
    <mat-card-content>
      <div fxLayout="column" fxLayoutAlign="space-around stretch">
        <section>
          <mat-form-field style="width: 100%">
            <input matInput placeholder="Title" [(ngModel)]="book.title" />
          </mat-form-field>
        </section>
      </div>
    </mat-card-content>
    <mat-card-actions> <button mat-button>Ok</button> </mat-card-actions>
  </mat-card> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸Šé¢æ˜¯æˆ‘ä»¬çš„å‰ä¸¤ä¸ªç»„ä»¶

- [è¡¨å•åŸŸ](https://material.angular.io/components/form-field/overview)ï¼Œä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆæˆ‘ä»¬æ‰€æœ‰ç»„ä»¶çš„åŒ…è£…å™¨ï¼Œå…è®¸å…¶ä»–è¡¨å•åŸŸçš„æ ·å¼ã€‚

- [è¾“å…¥](https://material.angular.io/components/input/overview)è¿™ä¸ªé”®æ˜¯æŒ‡ä»¤`matInput`ï¼Œè¿™å°†å…è®¸ä½ åœ¨`<mat-form-field>`å†…ä½¿ç”¨æ­£ç¡®é£æ ¼çš„æœ¬åœ°`<input>`æˆ–`<textarea>`ã€‚

> å¦‚æœæ­¤æ—¶æ‚¨å‘ç°ä»»ä½•é—®é¢˜ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»å°†æ‰€æœ‰æ¨¡å—å¯¼å…¥åˆ°`book-edit.module.ts`

å¯¹äºé¢å¤–çš„ï¼Œä½ ä¹Ÿå¯ä»¥æ£€æŸ¥æ–‡æœ¬åŒºçš„ä¾‹å­ã€‚

```
 <section>
    <mat-form-field style="width: 100%">
      <textarea
        matInput
        placeholder="Description"
        [(ngModel)]="book.description"
        rows="5"
      ></textarea>
    </mat-form-field>
  </section> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#slide-toggle)æ»‘åŠ¨åˆ‡æ¢

[![Slide Toggle](../Images/ef77b2d5fe67c3b9ed3469cb684668e3.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--asYZemiv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548961935/ajonp-ajonp-com/11-lesson-angular-navigation-firestore/m2ox1ibaek2ybrj9wdsr.jpg)

- [Slide Toggle](https://material.angular.io/components/slide-toggle/overview) æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ç»„ä»¶ï¼Œä¸æ˜¯å¼€å°±æ˜¯å…³(äºŒè¿›åˆ¶)ã€‚

book-edit.module.ts

```
 imports: [
    ...
       MatSlideToggleModule, 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¹äºæˆ‘ä»¬çš„è¦æ±‚ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è¿™ä¸ªæ¥ç¡®å®šä¸€æœ¬ä¹¦æ˜¯å°è¯´è¿˜æ˜¯éå°è¯´ã€‚

æˆ‘ä»¬å°†è®¾ç½®é»˜è®¤å€¼`fictionSelected = true;`,ä»¥ä¾¿é¦–å…ˆè®¾ç½®è™šæ„ã€‚

book-edit.component.ts

```
export class BookEditComponent implements OnInit, OnDestroy {
  subs: Subscription[] = [];
  book$: Observable<Book>;
  fictionSelected = true; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

book-edit.component.html

```
<section>
  <mat-slide-toggle
    [checked]="fictionSelected"
    (change)="fictionChange($event)"
    #ficToggle
  >
    <p *ngIf="ficToggle.checked; else nonFic">Fiction</p>
  </mat-slide-toggle>
</section> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„è¾“å…¥æŒ‡ä»¤`checked`(ç”¨`[]`è¡¨ç¤º)ï¼Œç°åœ¨å°†é‡‡ç”¨`fictionSelected`çš„å€¼ï¼Œæ¯æ¬¡åˆ‡æ¢æ”¹å˜æ—¶ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è¾“å‡ºæŒ‡ä»¤`change`(ç”¨`()`è¡¨ç¤º)æ¥è§¦å‘å‡½æ•°`fictionChange`ï¼Œä¼ å…¥äº‹ä»¶`$event`çš„å½“å‰ç»„ä»¶å®ä¾‹ã€‚ä½ å¯ä»¥é˜…è¯»æ›´å¤šå…³äº [DOM äº‹ä»¶è´Ÿè½½](https://angular.io/guide/user-input#get-user-input-from-the-event-object)çš„å†…å®¹ã€‚

book-edit.component.ts

```
 fictionChange(e) {
    this.fictionSelected = e.checked;
    this.genreControl.reset();
  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#autocomplete)è‡ªåŠ¨å®Œæˆ

<video controls="" loop=""><source src="https://res.cloudinary.com/ajonp/video/upload/v1548963680/ajonp-ajonp-com/12-angular-material-from-firestore/autocomplete.webm" type="video/webm"> <source src="https://res.cloudinary.com/ajonp/video/upload/v1548963680/ajonp-ajonp-com/12-angular-material-from-firestore/autocomplete.mp4" type="video/mp4"></video> 

*   åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè‡ªåŠ¨å®Œæˆåªæ˜¯æ–‡æœ¬çš„å¦ä¸€ç§è¾“å…¥ç±»å‹ã€‚ä½†æ˜¯ï¼Œå®ƒä¹Ÿæœ‰ä¸€ä¸ªç›¸å…³çš„é¢æ¿æ¥æä¾›é€‰é¡¹åˆ—è¡¨ã€‚å¯¹äºæˆ‘ä»¬çš„ç”¨ä¾‹ï¼Œå®ƒå°†åŸºäºæˆ‘ä»¬çš„æ»‘åŠ¨å¼€å…³åˆ—å‡ºä¸¤ä¸ªä¸åŒçš„åˆ—è¡¨ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ä¹ˆè¿‡æ»¤ä¸€èˆ¬è™šæ„çš„å€¼åˆ—è¡¨ï¼Œè¦ä¹ˆè¿‡æ»¤éè™šæ„çš„å€¼åˆ—è¡¨ã€‚

book-edit.module.ts

```
 imports: [
    ...
       MatAutocompleteModule, 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä¸¤ä¸ªåˆ—è¡¨å°†åŒ…å«åœ¨æˆ‘ä»¬ Firestore æ•°æ®åº“çš„æ–°é›†åˆä¸­ï¼Œç§°ä¸º`config`ã€‚åœ¨æˆ‘ä»¬çš„`config`é›†åˆä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸º`book`çš„æ–‡æ¡£ï¼Œå®ƒå°†ä¿å­˜æˆ‘ä»¬çš„è®¸å¤šä¸åŒé…ç½®ã€‚ç‰¹åˆ«æ˜¯å¯¹äºè¿™ä¸¤ä¸ªï¼Œå®ƒä»¬å°†æ˜¯åœ¨`book`å¯¹è±¡ä¸Šçš„æ•°ç»„ã€‚

[![Firestore Fiction/Non-Fiction](../Images/311ee7324572240e89ca7ff845c60648.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Ln_JIBKH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548964455/ajonp-ajonp-com/11-lesson-angular-navigation-firestore/vnxbzg5fnpnuoevun1nu.jpg)

é¦–å…ˆï¼Œæˆ‘ä»¬å°†åˆ›å»º Config Book å¯¹è±¡çš„å¯è§‚å¯Ÿå¯¹è±¡ã€‚
book-edit.component.ts

```
 bookConfig$: Observable<ConfigBook>;
  ...
    // Set Book Config
    this.bookConfig$ = this.fs.getConfigBook(); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸ºæˆ‘ä»¬çš„ç±»å‹åˆ›å»º`ConfigBook`æ¥å£ã€‚

```
ng g i core/models/config-book 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

config-book.ts

```
export interface ConfigBook {
  ageCategory?: Array<string>;
  fiction?: Array<string>;
  nonFiction?: Array<string>;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥è·å– Firestore å‘å‡ºçš„ç¬¬ä¸€ç»„å€¼ï¼Œå¹¶å°†å…¶ä½œä¸ºç±»å‹ä¸º`ConfigBook`çš„[è¡Œä¸ºä¸»é¢˜](http://reactivex.io/rxjs/manual/overview.html#behaviorsubject)å‘é€å‡ºå»ã€‚æˆ‘ä»¬çš„å¼€å…³å·²ç»è®¾ç½®äº†`this.fictionSelected`ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å†³å®šåœ¨`this.genereList$`ä¸­åº”è¯¥å‘å‡ºä»€ä¹ˆåˆ—è¡¨ã€‚

book-edit.component.ts

```
export class BookEditComponent implements OnInit, OnDestroy {
  ...
  genreControl = new FormControl();
  ...
    // Set default Genere
    this.bookConfig$.pipe(take(1)).subscribe(bookConfig => {
      this.subs.push(
        this.genreControl.valueChanges.pipe(startWith('')).subscribe(value => {
          const filterValue = value ? value.toLowerCase() : '';
          if (this.fictionSelected) {
            this.genreList$.next(
              bookConfig.fiction.filter(option =>
                option.toLowerCase().includes(filterValue)
              )
            );
          } else {
            this.genreList$.next(
              bookConfig.nonFiction.filter(option =>
                option.toLowerCase().includes(filterValue)
              )
            );
          }
        })
      );
    }); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‚¨è¿˜ä¼šæ³¨æ„åˆ°ï¼Œæˆ‘ä»¬å·²ç»è®¢é˜…äº†åœ¨æˆ‘ä»¬çš„æ–°`genreControl`ä¸Šå‘ç”Ÿçš„ä»»ä½•`valueChanges`ã€‚ä¸‹é¢ä½ ä¼šçœ‹åˆ°`formControl`è¾“å…¥æŒ‡ä»¤è¢«ä¼ é€’ç»™äº†æˆ‘ä»¬çš„ç±»å‚æ•°`genreControl`ï¼Œå®ƒæ˜¯`FormControl`çš„ä¸€ä¸ªå®ä¾‹ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€è¯¾ä¸­æ›´è¯¦ç»†åœ°æ¢ç©¶æ‰€æœ‰çš„`@angular/forms`ã€‚ä¸ºäº†æˆ‘ä»¬çš„ç¼˜æ•…ï¼Œè¿™é‡Œåªéœ€è¦çŸ¥é“è¿™å…è®¸æˆ‘ä»¬åœ¨æ‚¨é”®å…¥æ—¶æ£€æŸ¥æ‰€æœ‰å˜åŒ–çš„å€¼ã€‚å½“æˆ‘ä»¬å¼€å§‹è¾“å…¥æ—¶ï¼Œå®ƒä½¿ç”¨æˆ‘ä»¬ä» Firestore ä¼ å…¥çš„æ•°ç»„ï¼Œå¹¶æ ¹æ®æˆ‘ä»¬ä½¿ç”¨`bookConfig.fiction.filter`æˆ–`bookConfig.nonFiction.filter`è¾“å…¥çš„å­—ç¬¦ä¸²è¿‡æ»¤å®ƒä»¬ã€‚

```
 <section>
    <mat-form-field style="width: 100%">
      <input
        name="genre"
        type="text"
        matInput
        [formControl]="genreControl"
        [matAutocomplete]="auto"
        placeholder="Genre"
        aria-label="Genre"
      />
    </mat-form-field>
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option
        *ngFor="let genre of (genreList$ | async)"
        [value]="genre"
      >
        {{ genre }}
      </mat-option>
    </mat-autocomplete>
  </section> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸Šé¢æˆ‘ä»¬æ­£åœ¨æ”¶å¬æ¥è‡ª`genreList$` BehaviorSubject çš„æ›´æ–°ï¼Œä»¥åˆ›å»ºæˆ‘ä»¬çš„`<mat-option>`å€¼åˆ—è¡¨ã€‚æˆ‘ä»¬çš„è¾“å…¥æœ‰ä¸€ä¸ªè¾“å…¥æŒ‡ä»¤`[matAutocomplete]="auto"`ï¼Œé€šè¿‡ä½¿ç”¨`matAutocomplete`å°†å®ä¾‹å˜é‡`#auto`åˆ†é…ç»™è¾“å…¥æ¥é™„åŠ è¿™ä¸ª`<mat-autocomplete>`ã€‚

### [](#checkbox)å¤é€‰æ¡†

[![Checkbox](../Images/df63304a220aa851c539e730e17361f8.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Y6MeBSLL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548966370/ajonp-ajonp-com/11-lesson-angular-navigation-firestore/hhk37heauwmp6ns7minw.jpg)

> æ·±å‘¼å¸ï¼Œè‡ªåŠ¨å®ŒæˆåŠŸèƒ½å·²ç»å®Œæˆäº†å¾ˆå¤šï¼Œå‰©ä¸‹çš„å°±ç®€å•å¤šäº†ğŸ˜º

*   [å¤é€‰æ¡†](https://material.angular.io/components/checkbox/overview)å†æ¬¡æä¾›äº†ä¸åŸç”Ÿ`<input type="checkbox">`ç›¸åŒçš„åŠŸèƒ½ï¼Œå¹¶å¢å¼ºäº†ææ–™è®¾è®¡ã€‚

book-edit.module.ts

```
 imports: [
    ...
       MatCheckboxModule, 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[![Firestore Config](../Images/58a53520ab640d1d2c15377e19ee43ca.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--urusc1fK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548966831/ajonp-ajonp-com/11-lesson-angular-navigation-firestore/caewhsmpkrkxdo1dcj2d.jpg)

å¯¹æˆ‘ä»¬æ¥è¯´ï¼Œè¿™åŒ…å«äº†æˆ‘ä»¬ä¹¦ä¸­æ›´å¤šçš„é…ç½®é¡¹ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»åœ¨`bookConfig$`ä¸­åˆ›å»ºäº†ä¸€ä¸ªå¯è§‚å¯Ÿå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å‘Šè¯‰ Angular ç›‘å¬å®ƒï¼Œå¹¶å°†å…¶åˆ†é…ç»™æˆ‘ä»¬çš„æœ¬åœ°æ¨¡æ¿å˜é‡`bookConfig`ã€‚ç„¶åæˆ‘ä»¬å°†è¿™äº›åˆ†é…ç»™æŒ‡ä»¤ [NgModel](https://angular.io/api/forms/NgModel) ã€‚è¿™æ˜¯ä¸€ä¸ªåŒå‘ç»‘å®šï¼Œå› ä¸ºæˆ‘ä»¬çš„ä¾‹å­å¹¶ä¸æ„å‘³ç€ä»€ä¹ˆï¼Œä½†æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€è¯¾ä¸­è¿›ä¸€æ­¥é˜è¿°è¿™äº›å†…å®¹ã€‚

```
<section *ngIf="(bookConfig$ | async); let bookConfig">
  <h3>Options</h3>
  <div fxLayout="column">
    <mat-checkbox [(ngModel)]="bookConfig.options.hasAudio">
      Audio
    </mat-checkbox>
    <mat-checkbox [(ngModel)]="bookConfig.options.hasPhotos">
      Photos
    </mat-checkbox>
    <mat-checkbox [(ngModel)]="bookConfig.options.hasVideos">
      Videos
    </mat-checkbox>
  </div> </section> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [æ—¥æœŸé€‰æ‹©å™¨](#datepicker)

[![Date Picker](../Images/d059740dd380cfd400532d3f519bcfd5.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--GMdi6woj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548967267/ajonp-ajonp-com/11-lesson-angular-navigation-firestore/eaz6tqu7haioisymv83l.jpg)

*   Datepicker å…è®¸ç”¨æˆ·é€šè¿‡æ–‡æœ¬è¾“å…¥æˆ–ä»æ—¥å†ä¸­é€‰æ‹©æ—¥æœŸæ¥è¾“å…¥æ—¥æœŸã€‚å®ƒç”±å‡ ä¸ªååŒå·¥ä½œçš„ç»„ä»¶å’ŒæŒ‡ä»¤ç»„æˆã€‚

> ç‰¹åˆ«è¯´æ˜è¿™é‡Œé™¤äº†`MatDatepickerModule`è¿˜éœ€è¦`MatNativeDateModule`ã€‚

book-edit.module.ts

```
 imports: [
    ...
       MatDatepickerModule,
       MatNativeDateModule 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™åªæ˜¯åˆ›å»ºäº†é¢„å…ˆå›ºå®šçš„æ—¥æœŸé€‰æ‹©å™¨ã€‚æˆ‘ä»¬ç›®å‰æ²¡æœ‰ä»»ä½•æ•°æ®å¯ä»¥ç”¨æ¥æ›´æ–°è¿™ä¸ªå­—æ®µã€‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€è¯¾è®²è¿°è¿™ä¸€ç‚¹ã€‚

book-edit.component.html

```
 <section>
    <mat-form-field>
      <input
        matInput
        [matDatepicker]="picker"
        placeholder="Publish Date"
      />
      <mat-datepicker-toggle
        matSuffix
        [for]="picker"
      ></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
  </section> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#select)é€‰æ‹©

[![Select](../Images/df3914d82aeeca13aed3c860eb9e8c37.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--H7FrUlg1--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548967053/ajonp-ajonp-com/11-lesson-angular-navigation-firestore/wos1r5ksaofipa6fbmhb.jpg)

*   [é€‰æ‹©](https://material.angular.io/components/select/overview)ä½ å¯ä»¥ä½¿ç”¨`<mat-form-field>`ä¸­çš„ææ–™é€‰æ‹©æˆ–åŸç”Ÿé€‰æ‹©ã€‚æœ¬æœºæ§ä»¶æœ‰å‡ ä¸ªæ€§èƒ½ä¼˜åŠ¿...ä½†æ˜¯æˆ‘çœŸçš„å¾ˆå–œæ¬¢ä½¿ç”¨ææ–™è®¾è®¡çš„é£æ ¼ã€‚

book-edit.module.ts

```
 imports: [
    ...
       MatSelectModule, 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> åœ¨æ¨¡æ¿ä¸­æ‰“å¼€æˆ‘ä»¬çš„`bookConfig$`å¯èƒ½ä¼šæ›´å¥½ï¼Œä½†æ˜¯æˆ‘æƒ³æŠŠå®ƒä»¬ä½œä¸ºå•ç‹¬çš„å•å…ƒä¿å­˜ã€‚

å¯¹äºæˆ‘ä»¬çš„ book ç»„ä»¶ï¼Œæˆ‘ä»¬å°†å†æ¬¡ä» Firestore çš„ Config Book ä¸­è·å–æ‰€æœ‰å¹´é¾„ç±»åˆ«ï¼Œå¹¶ä½¿ç”¨è¿™äº›å€¼è¿›è¡Œé€‰æ‹©ã€‚

[![Mat Select](../Images/06f6f2bfd348f376b2f008899285fd2c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--_hAc-eJG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548967697/ajonp-ajonp-com/11-lesson-angular-navigation-firestore/rxghw62n7jkgwdilxh80.jpg)

book-edit.component.html

```
 <section>
    <mat-form-field style="width: 100%">
      <mat-select placeholder="Age Category">
        <mat-option
          *ngFor="let ageCategory of (bookConfig$ | async)?.ageCategory"
          [value]="ageCategory"
        >
          {{ ageCategory }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </section> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#slider)æ»‘å—

[![Slider](../Images/6c21ed08f2218026cbf84e87a854ad12.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--mejfwoun--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548967734/ajonp-ajonp-com/11-lesson-angular-navigation-firestore/j0hmgry94kxytkpaws0a.jpg)

*   [æ»‘å—](https://material.angular.io/components/slider/overview) `<mat-slider>`å…è®¸é€šè¿‡é¼ æ ‡ã€è§¦æ‘¸æˆ–é”®ç›˜ä»ä¸€ä¸ªèŒƒå›´å†…é€‰æ‹©ä¸€ä¸ªå€¼ï¼Œç±»ä¼¼äº`<input type="range">`ã€‚

book-edit.module.ts

```
 imports: [
    ...
       MatSliderModule, 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åŒæ ·ï¼Œæˆ‘ä»¬ä¸ä¼šå¯¹è¿™ä¸ªå€¼åšä»»ä½•äº‹æƒ…ï¼Œä½†æ˜¯æˆ‘æƒ³å‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨åˆ›å»ºæ—¶é»˜è®¤è¿™ä¸ªå€¼ã€‚ç¨åï¼Œæˆ‘ä»¬å°†æŠŠå®ƒç›´æ¥ä¸æˆ‘ä»¬å›¾ä¹¦çš„ Firestore ä»·å€¼è”ç³»èµ·æ¥ã€‚

book-edit.component.ts

```
 bookRating = 3; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

book-edit.component.html

```
 <section>
    <h3>Rating</h3>
    <mat-slider
      min="1"
      max="5"
      step="0.5"
      value="1.5"
      [(ngModel)]="bookRating"
    ></mat-slider>
  </section> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#radio-button)å•é€‰æŒ‰é’®

[![Radio Button](../Images/f7b273b69c06d87601a485850b91d774.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--AZ634w6B--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548968040/ajonp-ajonp-com/11-lesson-angular-navigation-firestore/edkb9mkpmr46tkfjthr4.jpg)

*   [å•é€‰æŒ‰é’®](https://material.angular.io/components/radio/overview) `<mat-radio-button>`æä¾›ä¸åŸç”Ÿ`<input type="radio">`ç›¸åŒçš„åŠŸèƒ½ï¼Œå¹¶å¢å¼ºäº†ææ–™è®¾è®¡é£æ ¼å’ŒåŠ¨ç”»ã€‚

book-edit.module.ts

```
 imports: [
    ...
       MatRadioModule, 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¹æˆ‘ä»¬æ¥è¯´ï¼Œè¿™å°†å†æ¬¡ç›´æ¥å¼•ç”¨æˆ‘ä»¬çš„ä¹¦ä¸Šçš„çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥ä» Firestore é…ç½®ä¸­åˆ›å»ºè¿™äº›ï¼Œä½†æˆ‘ä¸è®¤ä¸ºæˆ‘ä»¬ä¼šç»å¸¸æ›´æ”¹è¿™äº›é€‰é¡¹ã€‚å¦‚æœæ‚¨æ„¿æ„ï¼Œæ‚¨å¯ä»¥åƒæˆ‘ä»¬ä½¿ç”¨ select é€‰é¡¹ä¸€æ ·æ‰§è¡Œç›¸åŒçš„å¾ªç¯ï¼Œå¹¶æ·»åŠ é…ç½®ã€‚åœ¨ä¸‹ä¸€è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†æ·»åŠ è¯¥é…ç½®ï¼Œå¹¶å±•ç¤ºå¦‚ä½•è¿›è¡Œæ’åºéªŒè¯ã€‚

book-edit-component.html

```
 <section>
    <h3>Status</h3>
    <mat-radio-group [(ngModel)]="bookStatus" fxLayout="column">
      <mat-radio-button value="Draft">Draft</mat-radio-button>
      <mat-radio-button value="Published">Published</mat-radio-button>
    </mat-radio-group>
  </section> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

# [](#wrap-up)æ€»ç»“èµ·æ¥

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†æ‰€æœ‰çš„è§’å½¢ææ–™è¡¨å•ç»„ä»¶ï¼Œå…¶ä¸­è®¸å¤šç»„ä»¶çš„æ•°æ®æ¥è‡ª Firestoreã€‚ä¸‹ä¸€æ­¥æ˜¯è®©æˆ‘ä»¬çš„è¡¨å•æ›´å…·ååº”æ€§ã€‚

[![Kitchen Sink](../Images/efa4eddb4bfb68ed8b10fc010d6e6ff4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--QK7SZh93--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/ajonp/image/upload/f_auto%2Cfl_lossy%2Cq_auto/v1548968315/ajonp-ajonp-com/11-lesson-angular-navigation-firestore/dwg3vmpnxdsam560rvhr.jpg)