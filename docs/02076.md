# ä½¿ç”¨ Azure Logic åº”ç”¨ç¨‹åºå’Œé€‚é…å¡å°† Meetup å…¬å‘Šä¸å¾®è½¯å›¢é˜Ÿé›†æˆ

> åŸæ–‡:[https://dev . to/simonwaight/integrate-meetup-announcements-with-Microsoft-teams-using-azure-logic-apps-and-adaptive-cards-4 afj](https://dev.to/simonwaight/integrate-meetup-announcements-with-microsoft-teams-using-azure-logic-apps-and-adaptive-cards-4afj)

æœ€è¿‘ï¼Œæˆ‘å‘ç°è‡ªå·±åŠ å…¥äº†å¤ªå¤šçš„èšä¼šï¼Œä»¥è‡³äºè¶Šæ¥è¶Šéš¾è·Ÿè¸ªä¸€ä¸ªå›¢ä½“ä½•æ—¶å®£å¸ƒä¸€ä¸ªæ–°äº‹ä»¶ã€‚æ­¤å¤–ï¼Œåœ¨æˆ‘çš„äº²å¯†åœˆå­é‡Œï¼Œæˆ‘æœ‰å‡ ä¸ªäººæƒ³ä¸æˆ‘åˆ†äº«æ–°çš„æ´»åŠ¨å…¬å‘Šã€‚

å› æ­¤ï¼Œæˆ‘æƒ³æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥è·Ÿè¸ªæ–°äº‹ä»¶ï¼Œå¹¶ç¡®ä¿æˆ‘è‡ªå·±å’Œå…¶ä»–äººå¯ä»¥çœ‹åˆ°å®ƒä»¬ï¼Œå³ä½¿æˆ‘ä»¬ä¸æ˜¯ meetup ç»„çš„ç›´æ¥æˆå‘˜ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†çœ‹çœ‹æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ Azure Logic Apps å‘å¾®è½¯å›¢é˜Ÿå‘å¸ƒæ–°çš„ Meetup äº‹ä»¶ä¿¡æ¯ï¼Œä½¿ç”¨ Meetup çš„ REST API ä½œä¸ºæ•°æ®æºã€‚

**æ³¨æ„:**ä» 2020 å¹´ 6 æœˆèµ·ï¼ŒMeetup è¦æ±‚å¸Œæœ›è°ƒç”¨å…¶ API çš„å®¢æˆ·ç«¯è¿›è¡Œ OAuth2 è®¤è¯ã€‚æˆ‘å·²ç»å†™äº†ä¸€ç¯‡[å•ç‹¬çš„æ–‡ç« ](https://dev.to/simonwaight/adding-oauth2-support-to-your-meetup-api-custom-connector-for-azure-logic-apps-5a16)ï¼Œè®²è¿°å¦‚ä½•ç»™è¿™ç¯‡æ–‡ç« ä¸­æåˆ°çš„è‡ªå®šä¹‰è¿æ¥å™¨æ·»åŠ  OAuth2 æ”¯æŒã€‚

### [](#understanding-the-meetup-rest-api)äº†è§£ Meetup REST API

Meetup åœ¨[https://www.meetup.com/meetup_api/](https://www.meetup.com/meetup_api/)å‘å¸ƒäº†ä»–ä»¬çš„ API è§„èŒƒï¼Œä¸ºäº†æˆ‘çš„ç›®çš„ï¼Œæˆ‘ä½¿ç”¨äº† [V3 äº‹ä»¶ç«¯ç‚¹](https://www.meetup.com/meetup_api/docs/:urlname/events/#list)ä½œä¸ºæˆ‘çš„æ•°æ®æºã€‚

æˆ‘åœ¨ä½¿ç”¨ API æ—¶é‡åˆ°äº†ä¸€äº›æŒ‘æˆ˜ï¼Œæˆ‘åœ¨æœ€ç»ˆçš„ Logic åº”ç”¨ç¨‹åºä¸­è§£å†³äº†è¿™äº›æŒ‘æˆ˜ã€‚è¿™äº›æŒ‘æˆ˜æ˜¯:

*   èŠ‚æµ:åœ¨æ‚¨çš„å®¢æˆ·ç«¯è¢«èŠ‚æµä¹‹å‰ï¼Œå…è®¸çš„è°ƒç”¨æ•°é‡ç›¸å¯¹è¾ƒå°‘ã€‚ç¡®åˆ‡çš„æ•°å­—[æ²¡æœ‰è®°å½•](https://www.meetup.com/meetup_api/docs/#limits)ï¼Œå°½ç®¡å®ƒä»¬åœ¨ API çš„ HTTP å¤´ä¸­å‘å¸ƒå›æ¥(è§ä¸‹æ–‡)ã€‚

[![Throttling Feedback in API](../Images/ff2da04cee0939cf2d1183363891e3dd.png "Throttling Feedback in API")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--YfZFgg_X--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://siliconvalve.files.wordpress.com/2019/05/2019-05-21_11-03-15.png%3Fw%3D300%26h%3D289)

é‰´äº Logic Apps èƒ½å¤ŸåŒæ—¶è¿è¡Œå¤šä¸ªæ“ä½œï¼Œæˆ‘ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶å°±å—åˆ°äº†é™åˆ¶ï¼ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘åœ¨ Logic åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨äº†[å»¶è¿ŸåŠ¨ä½œ](https://docs.microsoft.com/en-us/azure/connectors/connectors-native-delay)æ¥é™ä½æˆ‘ç‚¹å‡» API çš„é€Ÿåº¦ã€‚

*   æ—¥æœŸæ ¼å¼å·®å¼‚:Meetup API æ–‡æ¡£ç§°ä»–ä»¬åœ¨ API ä¸­æ¥å—/å‘å¸ƒ [ISO 8601 æ—¥æœŸæ—¶é—´](https://en.wikipedia.org/wiki/ISO_8601)å€¼ã€‚å½“å°è¯•ä½¿ç”¨ Logic Apps ç”Ÿæˆçš„ ISO 8601 æœ¬åœ°æ—¥æœŸæ—¶é—´æ—¶ï¼Œæˆ‘é‡åˆ°äº†é—®é¢˜ï¼Œå› ä¸º Logic Apps ç”ŸæˆåŸºäº UTC çš„æ—¥æœŸ/æ—¶é—´ã€‚API å¯¹æ­¤è¡¨ç¤ºä¸æ»¡ï¼Œå› æ­¤æˆ‘åªéœ€å¤„ç†ä¼ é€’ç»™ API çš„æ—¥æœŸæ—¶é—´å€¼ï¼Œä»¥åŒ¹é…é¢„æœŸçš„æ ¼å¼ã€‚è°ƒç”¨çš„æ—¶é—´éƒ¨åˆ†å¹¶ä¸é‡è¦ï¼Œæ‰€ä»¥æˆ‘ä¸»è¦ä½¿ç”¨æ—¥æœŸéƒ¨åˆ†ï¼Œå¹¶æ‰‹åŠ¨æ·»åŠ  T00:00 ä½œä¸ºæ—¶é—´ã€‚
*   ä½¿ç”¨ OAuth2 çš„æˆæƒä¿æŠ¤:Logic åº”ç”¨ç¨‹åºçš„ HTTP è¿æ¥å™¨ç›®å‰ä¸æ”¯æŒ OAuth2ï¼Œæ‰€ä»¥æˆ‘ä¸å¾—ä¸ä½¿ç”¨ Meetup çš„ API key æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•ä¸å†è¢« Meetup å®˜æ–¹æ”¯æŒï¼Œä½†æ˜¯ç°åœ¨å¯¹æˆ‘æ¥è¯´æ˜¯æœ‰æ•ˆçš„ã€‚ä¸ºäº†ç¡®ä¿ API å¯†åŒ™çš„å®‰å…¨ï¼Œæˆ‘å°†å®ƒä½œä¸ºä¸€ä¸ªç§˜å¯†ä¿å­˜åœ¨å¯†åŒ™åº“ä¸­(è¯·æ³¨æ„ï¼Œè¯¥å€¼ä»¥æ˜æ–‡å½¢å¼æ˜¾ç¤ºåœ¨è¿è¡Œå†å²ä¸­ï¼Œå› æ­¤ï¼Œå¦‚æœæ‚¨ä½¿ç”¨ Logic Appï¼Œè¯·ç¡®ä¿åœ¨ç®¡ç†å®ƒæ—¶[ä½¿ç”¨å®‰å…¨å»ºè®®](https://docs.microsoft.com/en-us/azure/logic-apps/logic-apps-securing-a-logic-app#secure-access-to-logic-app-run-history))ã€‚

### [T1ã€‘åˆ›å»ºæˆ‘ä»¬çš„æ•°æ®æº](#creating-our-datasource)

ä¿å­˜æˆ‘ä»¬å°†è¦è·Ÿè¸ªçš„ meetups ä¿¡æ¯çš„æœ€ç®€å•ã€æœ€ä¾¿å®œçš„æ–¹æ³•æ˜¯ä½¿ç”¨ Azure Table Storage ï¼Œè¿™æ˜¯ Azure ä¸­æœ€åˆçš„ NoSQL å­˜å‚¨é€‰é¡¹ï¼

æˆ‘æ‰¾åˆ°äº†ä¸‹é¢çš„æ¨¡å¼æ¥ä¸¾åŠæˆ‘æ­£åœ¨è·Ÿè¸ªçš„èšä¼š:

*   åˆ†åŒºé”®:åŸå¸‚ï¼Œå³æ‚‰å°¼
*   RowKey: Meetup çš„ URL è·¯å¾„ï¼Œå³ Azure-Sydney-User-Group
*   LastEventId:åŒ…å«æ¥è‡ª Meetup çš„äº‹ä»¶ Id çš„å­—ç¬¦ä¸²ï¼Œå³ 261477320
*   LastEventTime:åŒ…å«ä¸Šæ¬¡èšä¼šçš„ ISO 8601 æ—¥æœŸ/æ—¶é—´çš„å­—ç¬¦ä¸²ï¼Œå³ 2019-05-30T17:46ï¼Œç¨åå°†è¯¦ç»†ä»‹ç»
*   TeamChannel:åŒ…å«å‘å¸ƒå…¬å‘Šçš„å›¢é˜Ÿä¸­çš„æ¸ é“åç§°çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚æ‚‰å°¼
*   Track: boolean è¡¨ç¤ºæˆ‘ä»¬æ˜¯å¦åº”è¯¥è·Ÿè¸ªè¿™ä¸ªä¼šè®®

å¦‚æœæˆ‘çš„è§£é‡Šä¸æ¸…æ¥šï¼Œä¸‹é¢æ˜¯ä¸€äº›è¡Œåœ¨ Explorer ä¸­çš„æ ·å­ã€‚æ—¶é—´æˆ³å­—æ®µæ˜¯ä¸ºè¡¨å­˜å‚¨ä¸­çš„æ¯ä¸€è¡Œè‡ªåŠ¨åˆ›å»ºçš„ã€‚

[![Data Row in Explorer](../Images/6018efd3349a29c7bc4ec3d4960b4333.png "Data Row in Explorer")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--sIXg5OxU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://siliconvalve.files.wordpress.com/2019/05/2019-05-24_08-44-52.png%3Fw%3D1024%26h%3D102)

LastEventTime å­—æ®µç”¨äºä¿å­˜å‡ ä¸ªå€¼-å¦‚æœåœ¨ç›‘æ§çª—å£å†…æ²¡æœ‰æ–°çš„ä¼šè®®é€šçŸ¥ï¼Œåˆ™è¯¥å­—æ®µä¿å­˜é€»è¾‘åº”ç”¨ç¨‹åºè¿è¡Œçš„æœ€åæ—¶é—´ã€‚

æˆ‘ä½¿ç”¨äº†è¿™ç§æ–¹æ³•ï¼Œå› æ­¤æˆ‘ä»¬é™åˆ¶äº†æˆ‘ä»¬æ£€æŸ¥èšä¼šçš„æ—¶é—´èŒƒå›´ï¼Œä»¥é¿å…æ— é™æœŸåœ°é€‰æ‹©é¢„å…ˆå®‰æ’å¥½çš„èšä¼šã€‚

åœ¨è¡¨å­˜å‚¨ä¸­å¯¼å…¥æˆ–åˆ›å»ºæ•°æ®çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨å…è´¹çš„ [Azure Storage Explorer](https://azure.microsoft.com/features/storage-explorer/) ï¼Œç„¶åä½¿ç”¨ CSV ä½œä¸ºæ•°æ®æºã€‚

### [](#using-adaptive-cards)ä½¿ç”¨è‡ªé€‚åº”å¡

å½“æˆ‘æƒ³å‘å¾®è½¯å›¢é˜Ÿå‘å¸–æ—¶ï¼Œæˆ‘å¸Œæœ›æœ‰ä¸€ç§æ–¹å¼æ¥å¸å¼•äººä»¬å¯¹ä¿¡æ¯çš„æ³¨æ„ï¼Œå¹¶ä¸ºå›¢é˜Ÿç”¨æˆ·æä¾›ä¸€ç§ä¸ä¹‹äº¤äº’çš„æ–¹å¼ã€‚

æœ€åˆï¼Œæˆ‘è®¤ä¸ºåªéœ€ä½¿ç”¨æ ‡å‡†æ¶ˆæ¯å‘å›¢é˜Ÿå‘å¸–ï¼Œå¹¶åŒ…å« Meetup æ´»åŠ¨çš„ URL å°±è¶³å¤Ÿäº†ã€‚ç»“æœæ˜¯è¿™ç§æ–¹æ³•æ ¹æœ¬ä¸æä¾›ä»»ä½•ç”¨æˆ·äº¤äº’â€”â€”ç”šè‡³ä¸èƒ½ç‚¹å‡»é“¾æ¥ï¼

æ„Ÿè°¢ Twitter ä¸Šçš„ä¸€äº›äººï¼Œæˆ‘è¢«æŒ‡å‘äº† [Adaptive Cards](https://adaptivecards.io/) ï¼Œå®ƒæ—¨åœ¨æä¾›ä¸€ç§è·¨å¹³å°ä»¥ç±»ä¼¼å¡ç‰‡çš„æ ¼å¼å‘ˆç°ä¸°å¯Œå†…å®¹çš„ä¸€è‡´æ–¹å¼ã€‚

æˆ‘ä¸æ˜¯è®¾è®¡å¸ˆï¼Œæ‰€ä»¥æˆ‘å€Ÿç”¨äº†[æ´»åŠ¨æ›´æ–°ç¤ºä¾‹](https://adaptivecards.io/samples/ActivityUpdate.html)ï¼Œå¹¶æ ¹æ®æˆ‘çš„ä½¿ç”¨æƒ…å†µå¯¹å…¶è¿›è¡Œäº†ä¿®æ”¹ï¼Œå°†å…¶åŒ…å«åœ¨æˆ‘çš„ Logic åº”ç”¨ç¨‹åºä¸­ï¼Œç”¨ Logic åº”ç”¨ç¨‹åºç”Ÿæˆçš„å†…å®¹æ›¿æ¢äº†ä¸€äº›å­—æ®µä¿¡æ¯ã€‚

[![Adaptive Card Sample](../Images/3f8d5b917bf70e2097ddaa7d65c3b5b8.png "Adaptive Card Sample")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--mI_DuPtI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://siliconvalve.files.wordpress.com/2019/05/2019-05-21_11-49-23.png%3Fw%3D300%26h%3D224)

> â— **æ³¨æ„:**ä½ ä¸èƒ½åœ¨é€‚é…å¡ä¸­åµŒå…¥ HTMLï¼Œæ‰€ä»¥è¦ç¡®ä¿ä½ æ”¾å…¥å ä½ç¬¦çš„æ–‡æœ¬åªæ˜¯çº¯æ–‡æœ¬ã€‚

ä¸‹é¢æ˜¯æˆ‘çš„é€‚é…å¡çš„æ ·å­(å°±æ˜¯åµŒå…¥åœ¨ Logic App é‡Œçš„é‚£ä¸ª)ã€‚

[![My Adaptive Card](../Images/404c5a093d1b0448c77a59160ba26d0c.png "My Adaptive Card")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--zppf7njQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://siliconvalve.files.wordpress.com/2019/05/2019-05-23_12-03-35.png%3Fw%3D1100)

### [](#posting-into-teams)å‘å¸–å…¥é˜Ÿ

åœ¨æˆ‘çš„åœºæ™¯ä¸­ï¼Œæˆ‘æƒ³åŠ å…¥å‡ ä¸ªå¾®è½¯å›¢é˜Ÿã€‚å…¶ä¸­ä¸€ä¸ªå›¢é˜Ÿåªæœ‰ä¸€ä¸ªé¢‘é“ï¼Œæˆ‘åˆ—å‡ºäº†æ‰€æœ‰çš„èšä¼šï¼Œæ‰€ä»¥æˆ‘â€œç¡¬ç¼–ç â€äº†è¿™ä¸ªé¢‘é“ã€‚å¯¹äºæˆ‘çš„ç¬¬äºŒä¸ªå›¢é˜Ÿï¼Œæˆ‘æƒ³æ ¹æ® Meetup æ‰€åœ¨çš„åŸå¸‚åŠ¨æ€é€‰æ‹©é¢‘é“ã€‚

åœ¨æˆ‘åœ¨ GitHub ä¸Šæä¾›çš„æ¨¡æ¿ä¸­ï¼Œæˆ‘åªæœ‰ç¬¬äºŒç§ä½“éªŒï¼Œè¿™æ ·ä½ å°±å¯ä»¥çœ‹åˆ°å¦‚ä½•åœ¨ Logic åº”ç”¨ç¨‹åºä¸­æ‰¾åˆ°å›¢é˜Ÿé€šé“ä¿¡æ¯ï¼Œç„¶ååœ¨ä½ ç¨åå‘¼å«å›¢é˜Ÿæ—¶ä½¿ç”¨è¿™äº›æ•°æ®ã€‚

æ‚¨éœ€è¦èƒ½å¤Ÿè®¿é—®æ‚¨è¦å‘å¸ƒåˆ°çš„å›¢é˜Ÿâ€“åˆå§‹è¿æ¥æˆæƒä½¿ç”¨æ‚¨çš„ Office 365 ç”¨æˆ·ä¸Šä¸‹æ–‡ã€‚

> â— **æ³¨æ„:**å¦‚æœä½ éœ€è¦æ‰¾åˆ°ä½ æƒ³è¦å‘å¸ƒçš„å›¢é˜Ÿçš„å”¯ä¸€ IDï¼Œä½ å¯ä»¥ä½¿ç”¨å›¢é˜Ÿæ¥æ‰¾åˆ°å®ƒã€‚å³é”®å•å‡»å›¢é˜Ÿå¹¶é€‰æ‹©â€œè·å–å›¢é˜Ÿé“¾æ¥â€ã€‚åœ¨æ‚¨æ”¶åˆ°çš„ URL ä¸­ï¼Œæ‚¨ä¼šå‘ç°ä¸€ä¸ªå‚æ•°â€œgroupIdâ€â€”â€”è¯¥å€¼æ˜¯åœ¨æ‚¨çš„ ARM æ¨¡æ¿ä¸­ä½¿ç”¨çš„å›¢é˜Ÿ Id(è§ä¸‹æ–‡ï¼)

[![Team ID](../Images/09835c104f65fb95844f3635cc52e64e.png "Team ID")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--OzOTowSz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://siliconvalve.files.wordpress.com/2019/05/2019-05-23_11-56-03.png%3Fw%3D1100)

### [](#build-your-own)è‡ªå·±æ‰“é€ ï¼

æˆ‘å·²ç»åˆ›å»ºäº†ä¸€ä¸ª Azure Resource Manager (ARM)æ¨¡æ¿ï¼Œå…¶ä¸­åŒ…å«äº†å°†è¯¥è§£å†³æ–¹æ¡ˆéƒ¨ç½²åˆ°æ‚¨çš„ Azure ç¯å¢ƒæ‰€éœ€çš„æ‰€æœ‰ç»„ä»¶ã€‚ä½ å¯ä»¥åœ¨ GitHub ä¸Šæ‰¾åˆ°å®ƒ:[https://github.com/sjwaight/MeetupAndTeamsLogicApps](https://github.com/sjwaight/MeetupAndTeamsLogicApps)

åœ¨éƒ¨ç½² ARM æ¨¡æ¿ä¹‹å‰ï¼Œæ‚¨éœ€è¦åšä¸€äº›äº‹æƒ…ã€‚

ä»¥ä¸‹å‘½ä»¤ä½¿ç”¨äº† [Azure CLI](https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest) ï¼Œå¹¶å‡è®¾æ‚¨æœ‰é€‚å½“çš„è®¢é˜…æƒé™æ¥æ‰§è¡Œè¿™äº›æ“ä½œ(é€šå¸¸è´¡çŒ®è€…å°±è¶³å¤Ÿäº†)ã€‚

#### [](#1-create-a-resource-group)1ã€‚åˆ›å»ºèµ„æºç»„

æ›´æ”¹â€œä½ç½®â€å’Œâ€œåç§°â€ä»¥æ»¡è¶³æ‚¨çš„éœ€è¦(å¦‚æœæ‚¨æ„¿æ„ï¼Œä¹Ÿå¯ä»¥ä¿ç•™å®ƒä»¬)ã€‚

```
az group create --location westus2 --name meetup-bridge-01 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

#### [](#2-create-an-azure-ad-service-principal)2ã€‚åˆ›å»º Azure å¹¿å‘ŠæœåŠ¡ä¸»ä½“

è¿™å°†ç”¨äºä» Logic åº”ç”¨ç¨‹åºè®¿é—®å¯†é’¥åº“ã€‚æ‚¨å¿…é¡»åœ¨ Azure AD ä¸­æ‹¥æœ‰è¶³å¤Ÿçš„æƒé™æ‰èƒ½æ‰§è¡Œæ­¤æ“ä½œã€‚

æ ¹æ®éœ€è¦æ›´æ”¹â€œåç§°â€å’Œâ€œèŒƒå›´â€ä»¥åŒ¹é…æ‚¨çš„ç¯å¢ƒã€‚

```
az ad sp create-for-rbac \ 
--name meetupkeyvault \ 
--role reader \ 
--scopes /subscriptions/{YOUR\_SUBSCRIPTION}/resourceGroups/meetup-bridge-01 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å°†è¿”å›ç±»ä¼¼ä¸‹é¢çš„ç»“æœ

```
{ 
  "appId": "XXXX9fe0-XXX-XXXX-XXXX-e611592bXXXX", 
  "displayName": "meetupkeyvault", 
  "name": "http://meetupkeyvault", 
  "password": "XXXXXXXXXXXXXXXXX", 
  "tenant": "XXX08c33-XXXX-XXXX-XXXX-48065adeXXXX"
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç¡®ä¿è®°ä¸‹ AppIdã€å¯†ç å’Œç§Ÿæˆ·å­—æ®µã€‚

#### [](#3-deploy-the-arm-template)3ã€‚éƒ¨ç½² ARM æ¨¡æ¿

æ‚¨éœ€è¦æä¾›ä¸€äº›å‚æ•°æ¥éƒ¨ç½² ARM æ¨¡æ¿ã€‚

*   vaults_meetupkeyvault_name:è¦åˆ›å»ºæˆ–ä½¿ç”¨çš„å¯†é’¥åº“çš„åç§°ã€‚
*   Storage accounts _ meetuplist _ name:è¦åˆ›å»ºæˆ–ä½¿ç”¨çš„å­˜å‚¨å¸æˆ·çš„åç§°ã€‚
*   ad_service_principal:ç”¨äºè®¿é—®å¯†é’¥åº“çš„ Azure AD æœåŠ¡ä¸»ä½“çš„åº”ç”¨ç¨‹åº IDã€‚
*   deployment_region:æ¨¡æ¿è¦éƒ¨ç½²åˆ°çš„ Azure åŒºåŸŸã€‚è¿™åº”è¯¥ä¸æ‚¨çš„èµ„æºç»„çš„åŒºåŸŸç›¸åŒ¹é…ã€‚
*   target_teams_group_id:æ‚¨è¦ä½¿ç”¨çš„ Microsoft Teams ç»„çš„å”¯ä¸€ idã€‚æˆ‘åœ¨ä¸Šé¢ä»‹ç»äº†å¦‚ä½•æ‰¾åˆ°å®ƒã€‚
*   keyvault_1_token:clientSecret:ä¸ºæ‚¨çš„ Azure å¹¿å‘ŠæœåŠ¡ä¸»ä½“éšæœºç”Ÿæˆçš„å¯†ç ã€‚
*   meetup_api_key:æ‚¨çš„ Meetup API å¯†é’¥å°†ä½œä¸ºç§˜å¯†å­˜å‚¨åœ¨å¯†é’¥åº“ä¸­ã€‚

éƒ¨ç½²æ¨¡æ¿åï¼Œæ‚¨ä¼šå‘ç°é€»è¾‘åº”ç”¨ç¨‹åºæ‰§è¡Œå¤±è´¥ã€‚è¿™æ˜¯å› ä¸ºæ‚¨éœ€è¦é‡æ–°æˆæƒå›¢é˜Ÿå’Œå…³é”® Vault è¿æ¥å™¨ã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨é—¨æˆ·ä¸­æ‰“å¼€è¿æ¥å¹¶éµå¾ªè¯¥è¿‡ç¨‹æ¥å®ç°è¿™ä¸€ç‚¹ã€‚

[![Auth Connection](../Images/99a1e74fcafc1ac1b1ca483e35d53292.png "Auth Connection")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--1EqB_zQ7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://siliconvalve.files.wordpress.com/2019/05/2019-05-23_13-33-38.png%3Fw%3D1100)

åœ¨ä½¿ç”¨å¯†é’¥åº“è¿æ¥å™¨ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ç”¨æˆ·èƒ½å¤Ÿä¿®æ”¹ç›®æ ‡å¯†é’¥åº“ã€‚å¦‚æœæ‚¨ä½¿ç”¨ ARM æ¨¡æ¿åˆ›å»ºäº†å¯†é’¥åº“(è€Œä¸æ˜¯ä½¿ç”¨ç°æœ‰çš„å¯†é’¥åº“),é‚£ä¹ˆæ‚¨çš„ç”¨æˆ·ä¸€å¼€å§‹å°±æ²¡æœ‰å¯†é’¥åº“çš„æƒé™ã€‚

ä¸€æ—¦ä½ é‡æ–°æˆæƒäº†è¿æ¥ï¼Œä½ å°±å¯ä»¥å¼€å§‹å·¥ä½œäº†ï¼Œå½“æ–°çš„èšä¼šå®£å¸ƒæ—¶ï¼Œä½ ä¼šåœ¨å›¢é˜Ÿä¸­å¾—åˆ°é¢‘ç¹çš„æ›´æ–°ã€‚

ğŸ˜