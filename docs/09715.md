# åˆ©ç”¨ Quasar æ¡†æ¶å’Œ GraphQL æ„å»ºå“åº”è¿…é€Ÿçš„è·¨å¹³å° Vue åº”ç”¨

> åŸæ–‡:[https://dev . to/hasurahq/build-responsive-cross-platform-vue-apps-with-quasar-framework-and-graph QL-59a 1](https://dev.to/hasurahq/build-responsive-cross-platform-vue-apps-with-quasar-framework-and-graphql-59a1)

**TLï¼›**
åšå£«ä½¿ç”¨å•ä¸ªä»£ç åº“æ„å»ºå“åº”å¼ spaã€SSR åº”ç”¨ã€pwaã€æ··åˆç§»åŠ¨/ç”µå­åº”ç”¨ï¼Œå…¶ä¸­ [Quasar æ¡†æ¶](https://quasar-framework.org/)ç”± Vue.js æä¾›æ”¯æŒï¼ŒGraphQL APIs åŸºäº postgres ä½¿ç”¨ Hasura GraphQL å¼•æ“ã€‚

å³æ—¶è®¾ç½®ã€‚æ•™ç¨‹/æ ·æ¿æ–‡ä»¶ğŸ‘‰[ç±»æ˜Ÿä½“-æ¡†æ¶-vue-å›¾è¡¨ ql](https://github.com/hasura/graphql-engine/tree/master/community/sample-apps/quasar-framework-vue-graphql)

[![quasar-with-hasura](../Images/2e23daab1f0b22964370380926dc17a7.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--d_LIW1Yl--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/5u2yyjpepe3amacqqvlr.png)

## [](#quasar-framework)ç±»æ˜Ÿä½“æ¡†æ¶

Quasar Framework æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„å…¨å‰ç«¯å †æ ˆï¼Œå…è®¸å¼€å‘äººå‘˜ç»´æŠ¤ä¸€ä¸ªå•ä¸€çš„ä»£ç åº“æ¥æ„å»ºä¸åŒç±»å‹çš„åº”ç”¨ç¨‹åº(SPAã€SSRã€Hybdrid ç­‰)ã€‚å®ƒç”± Vue.js æä¾›æ”¯æŒï¼Œä½†è‡ªå¸¦ä¸€å¥—å†…ç½®çš„ [web ç»„ä»¶](https://quasar-framework.org/components/)ï¼Œå¯ä»¥å¯¼å…¥è¿™äº›ç»„ä»¶æ¥å¿«é€Ÿæ„å»ºåº”ç”¨ç¨‹åºçš„ç•Œé¢ã€‚

## [](#hasura-with-quasar)æœ‰ç±»æ˜Ÿä½“çš„å®‡å®™

Hasura æ˜¯ä¸€ä¸ª[å¼€æº](https://github.com/hasura/graphql-engine)å¼•æ“ï¼Œä¸ºæ‚¨æä¾›æ–°çš„æˆ–ç°æœ‰ Postgres æ•°æ®åº“ä¸Šçš„å®æ—¶ graph QL APIï¼Œå†…ç½®æ”¯æŒæ‹¼æ¥è‡ªå®šä¹‰ graph QL API å’Œåœ¨æ•°æ®åº“æ›´æ”¹æ—¶è§¦å‘ webhooksã€‚

Hasura GraphQL éå¸¸é€‚åˆæ„å»ºè·¨å¹³å°åº”ç”¨çš„å·¥ä½œæµç¨‹ã€‚æ‰€æœ‰å®¢æˆ·ç«¯(ç§»åŠ¨åº”ç”¨ç¨‹åº/ç”µå­åº”ç”¨ç¨‹åº)éƒ½ä½¿ç”¨ç”±åŒä¸€ç»„æƒé™å’Œæˆæƒæ§åˆ¶çš„åŒä¸€ç»„ APIï¼Œå¹¶ä¸”å¯ä»¥åˆ©ç”¨ Postgres çš„åŠŸèƒ½ã€‚Quasar é€šè¿‡ä¸€ä¸ªä»£ç åº“å’Œä¸€ä¸ªæ¥è‡ª Hasura çš„é€šç”¨ GraphQL API æä¾›äº†æ— é™çš„å¯èƒ½æ€§ï¼Œä»è€Œç®€åŒ–äº†å¼€å‘å·¥ä½œæµç¨‹ã€‚

ç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€ä¸ªç®€å•çš„ä½œè€…/æ–‡ç« åšå®¢åº”ç”¨ç¨‹åºçš„ä¸€äº›å®ç°ç»†èŠ‚:

## [](#plugins)æ’ä»¶

Quasar å…è®¸ç”¨æˆ·å®šä¹‰åº”ç”¨ç¨‹åºæ’ä»¶ï¼Œè¿™äº›æ’ä»¶å¯ç”¨äºåœ¨æ ¹ Vue å®ä¾‹å®ä¾‹åŒ–ä¹‹å‰è¿è¡Œä»£ç ã€‚

```
quasar new plugin apollo 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬åœ¨`src/plugins/apollo.js`ä¸­å®šä¹‰äº†é˜¿æ³¢ç½—æ’ä»¶ï¼Œå¹¶ç”¨ Hasura GraphQL API ç«¯ç‚¹åˆ›å»ºäº†**é˜¿æ³¢ç½—å®¢æˆ·ç«¯**ã€‚

åœ¨è¿™ä¸ªç¤ºä¾‹åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªæ’ä»¶å°† Apollo props æ³¨å…¥ Vue prototypeã€‚æ‰€ä»¥åœ¨**é‡Œé¢ã€‚vue** æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨**è¿™ä¸ªã€‚$apollo** æ¥æ‰§è¡Œä»»ä½• graphql ç‰¹å®šçš„åŠ¨ä½œã€‚
æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹ **quasar.conf** å¹¶åœ¨æ’ä»¶åˆ—è¡¨ä¸­æ·»åŠ  **apollo** æ¥é…ç½® quasar æ·»åŠ æ–°æ’ä»¶ï¼Œå¦‚ä¸‹:

```
module.exports = function (ctx) {
  return {
    // app plugins (/src/plugins)
    plugins: [
      'apollo'
    ],
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨å¸ƒå±€ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåˆ—å‡ºä½œè€…çš„å¸ƒå±€æŠ½å±‰ï¼Œå¹¶ä½¿ç”¨äº†ä¸€ä¸ªç®€å•çš„ GraphQL æŸ¥è¯¢æ¥è·å–ä½œè€…ã€‚

```
<script>
import { openURL } from 'quasar'
import gql from 'graphql-tag'

const authorQuery = gql`
  query {
    author {
      id
      name
    }
  }`
export default {
  name: 'MyLayout',
  data () {
    return {
      leftDrawerOpen: this.$q.platform.is.desktop
    }
  },
  methods: {
    openURL,
    fetchArticles (item) {
      this.$router.push('/author/' + item.id)
    }
  },
  apollo: {
    // Simple query that will update the 'author' vue property
    author: authorQuery
  }

}
</script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä»ç„¶æ˜¯ä½ ç”¨ Vue.js åº”ç”¨ç¨‹åºç¼–å†™çš„ç›¸åŒç±»å‹çš„ä»£ç ï¼Œç”¨ **vue-apollo** è¿›è¡Œ GraphQL æŸ¥è¯¢ã€‚ä½†ä¸åŒä¹‹å¤„åœ¨äº,`<template>`quasar æä¾›äº†ç±»ä¼¼åŸç”Ÿçš„ç»„ä»¶æ¥æ„å»ºæ··åˆåº”ç”¨ã€‚

ä½œè€…åˆ—è¡¨å‘ˆç°åœ¨ä¸€ä¸ª`<q-layout-drawer>`ä¸Šï¼Œå®ƒä¼šåƒæ¯ä¸ªç±»æ˜Ÿä½“å¸ƒå±€ç»„ä»¶ä¸€æ ·è‡ªåŠ¨å“åº”ã€‚Quasar å¸¦æœ‰å„ç§å¸ƒå±€ã€æŒ‰é’®ã€è¡¨å•ç»„ä»¶ç­‰ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿå¼€å§‹åˆ›å»ºä¸€ä¸ªåŸç”Ÿçš„åº”ç”¨ç¨‹åºã€‚

## [](#build-targets)å»ºç«‹ç›®æ ‡

Quasar è¦æ±‚ä½ æŒ‡å®šåº”ç”¨çš„æ¨¡å¼`spa|ssr|pwa|cordova|electron`å’Œç›®æ ‡`cordova|electron`(å¦‚æœæ˜¯æ··åˆåº”ç”¨)ã€‚æ‚¨è¿˜å¯ä»¥æŒ‡å®šä¸»é¢˜ï¼Œå¦‚ææ–™ã€ios ç­‰ï¼Œè¿™å°†ä¸ºæ¯ä¸ªç»„ä»¶é€‚å½“åœ°åº”ç”¨æ ·å¼ã€‚

ç‚¹å‡»é˜…è¯»æ›´å¤šå…³äºæ„å»ºç›®æ ‡[çš„ä¿¡æ¯](https://quasar-framework.org/guide/app-build-commands.html)

æˆ‘å·²ç»æŠŠæ ·æ¿å’Œæ•™ç¨‹æ”¾åœ¨ä¸€èµ·ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¿«é€Ÿå¼€å§‹äº†ï¼
åœ¨ [github](https://github.com/hasura/graphql-engine/tree/master/community/sample-apps/quasar-framework-vue-graphql) ä¸ŠæŸ¥çœ‹ã€‚