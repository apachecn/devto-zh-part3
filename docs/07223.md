# æˆ‘å¦‚ä½•ç”¨ Python å¼€å‘ open-dev.to CLI åº”ç”¨ç¨‹åº

> åŸæ–‡:[https://dev . to/wangonya/how-I-make-the-open-dev-to-CLI-app-with-python-54p 0](https://dev.to/wangonya/how-i-made-the-open-dev-to-cli-app-with-python-54p0)

è‡ªä»æˆ‘å¼€å§‹å­¦ä¹  Python ä»¥æ¥ï¼Œæˆ‘ä¸€ç›´æƒŠè®¶äºä½ å¯ä»¥ç”¨å®ƒåšå¤šå°‘äº‹æƒ…ï¼Œä»¥åŠä¸€æ—¦ä½ ç†Ÿæ‚‰äº†å®ƒï¼Œå®ƒå®é™…ä¸Šæ˜¯å¤šä¹ˆå®¹æ˜“ã€‚æˆ‘ä¸€ç›´å–œæ¬¢åœ¨ç»ˆç«¯ä¸Šå·¥ä½œï¼Œæ‰€ä»¥ä¸ºäº†è®©æˆ‘çš„å­¦ä¹ æ›´æœ‰è¶£ï¼Œæˆ‘å­¦ä¼šäº†å¦‚ä½•ç”¨ [Click](https://click.palletsprojects.com/en/7.x/) åˆ¶ä½œ cli åº”ç”¨ç¨‹åºï¼Œå¹¶åœ¨å»å¹´å¹´åº•åˆ¶ä½œäº†ä¸€ä¸ª Chuck Norris ç¬‘è¯åº”ç”¨ç¨‹åº:

[![wangonya](../Images/f24a24d0096b366df3522b3e07664d45.png)](/wangonya) [## è¯ºé‡Œæ–¯-cli

### kelvin wango nya 12 æœˆ 27 æ—¥ 181 åˆ†é’Ÿè¯»æ•°

#showdev #beginners #python #cli](/wangonya/norris-cli-4ifk)

æˆ‘åœ¨ PyPi ä¸Šå‘å¸ƒäº†è¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œä½œä¸ºä¸€ä¸ª Python åˆå­¦è€…ï¼Œä½ å¯ä»¥æƒ³è±¡æˆ‘åœ¨ PyPi ä¸Šçœ‹åˆ° T2 åšçš„ä¸œè¥¿æ—¶çš„å–œæ‚¦ã€‚PyPiï¼ğŸ˜„ç‰›é€¼çš„æ„Ÿè§‰ã€‚

æ˜¨å¤©ï¼Œæˆ‘ä¸å¾—ä¸æš‚åœå·¥ä½œï¼Œå†³å®šæ‰“å¼€ Dev.toã€‚å¦‚æœæˆ‘ä¸éœ€è¦å®ƒæ¥åšä»»ä½•äº‹æƒ…ï¼Œæˆ‘å–œæ¬¢å…³é—­æµè§ˆå™¨ï¼Œä»¥é¿å…åˆ†å¿ƒã€‚æ‰€ä»¥æˆ‘åˆ‡æ¢å·¥ä½œåŒºï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œç‚¹å‡» Dev.to ä¹¦ç­¾ï¼Œæˆ‘å°±åœ¨é‚£é‡Œäº†ã€‚è¿™ä¸ªæƒ³æ³•çªç„¶å‡ºç°åœ¨æˆ‘çš„è„‘æµ·ä¸­:å¦‚æœæˆ‘æœ‰ä¸€ä¸ªä»ç»ˆç«¯æ‰“å¼€ dev.to çš„å‘½ä»¤ï¼Œæˆ‘å°±å¯ä»¥ç»•è¿‡è¿™ä¸€åˆ‡ã€‚æˆ‘ä¹‹å‰å·²ç»åœ¨æˆ‘çš„ç»ˆç«¯ä¸Šäº†ï¼Œæ‰€ä»¥è¿™çœ‹èµ·æ¥æ˜¯ä¸ªå¥½ä¸»æ„ğŸ˜„ã€‚å½“ç„¶ï¼Œè¿™å¯ä»¥åœ¨ä»»ä½•ç½‘ç«™ä¸Šå®ç°â€”â€”æˆ‘åªæ˜¯æƒ³åˆ°äº† Dev.toï¼Œå› ä¸ºè¿™æ˜¯è®©æˆ‘é¦–å…ˆç»å†è¿™ä¸ªè¿‡ç¨‹çš„åŸå› ã€‚

[![wangonya](../Images/f24a24d0096b366df3522b3e07664d45.png)](/wangonya) [## ä»ç»ˆç«¯æ‰“å¼€ Dev.toğŸ‰

### kelvin wango nya 2019 å¹´ 4 æœˆ 9 æ—¥ 11 åˆ†é’Ÿè¯»æ•°

#showdev #python #cli](/wangonya/open-dev-to-from-your-terminal-33g2)

åƒå¾€å¸¸ä¸€æ ·ï¼Œç¤¾åŒºéå¸¸æ”¯æŒï¼

[![tomasforsman profile image](../Images/e632e4a52785185d0f10e65d191ed007.png) ](/tomasforsman) [ Tomas Forsman ](/tomasforsman) â€¢ [<time datetime="2019-04-09T22:08:47Z"> Apr 9 '19 </time>](https://dev.to/tomasforsman/comment/a2dk) 

è¿™å¾ˆæœ‰è¶£=)ä½ åº”è¯¥è¡¥å……ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼Œä½ éœ€è¦åšäº›ä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•åˆ¶ä½œä¸€ä¸ªåŒ…æ¥åˆ†äº«ã€‚

[![wangonya profile image](../Images/a75901410487c81d9e7040e9efcb1600.png) ](/wangonya) [ Kelvin Wangonya ](/wangonya) â€¢ [<time datetime="2019-04-10T03:59:07Z"> Apr 10 '19 </time>](https://dev.to/wangonya/comment/a2gm) 

æˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è¿™æ ·åšã€‚è°¢è°¢ï¼ğŸ˜Š

æ‰€ä»¥æˆ‘æ˜¯è¿™æ ·åšçš„ã€‚

å¦‚æœæ‚¨æƒ³ç»§ç»­ï¼Œç°åœ¨æ˜¯æ—¶å€™åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼Œ`cd`å¹¶åˆ›å»ºæ‚¨çš„è™šæ‹Ÿç¯å¢ƒã€‚

```
$  mkdir open-dev.to
$  cd open-dev.to
$  virtualenv venv # pip install virtualenv if you don't have it
$  source venv/bin/activate
(venv) $  mkdir app
(venv) $  touch app/__init__.py # this is where we'll write our code
(venv) $  touch requirements.txt # this will hold the project's requirements 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## `click`&`webbrowser`æ¨¡å—

æ•´ä¸ªäº‹æƒ…çš„æ ¸å¿ƒæ˜¯è¿™ä¸¤è¡Œä»£ç :

```
import click
import webbrowser 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[`webbrowser`](https://docs.python.org/3/library/webbrowser.html) æä¾›äº†æ‰“å¼€æµè§ˆå™¨çš„æƒé™ï¼Œ [`click`](https://click.palletsprojects.com/en/7.x/) ä½¿å…¶æˆä¸º cli appã€‚

python è‡ªå¸¦äº†`webbrowser`ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å®‰è£…`click`ã€‚

```
(venv) $  pip install click
(venv) $  pip freeze > requirements.txt # add the installed module to our requirements file 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­å†™ä»£ç äº†ã€‚å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°`app/__init__.py`ã€‚æˆ‘å°†è§£é‡Šæ¯ä¸€è¡Œçš„ä½œç”¨ã€‚

```
import click
import webbrowser

@click.command()
@click.option('--tag', '-t', help='add a tag')
def main(tag):
    """
    Open a new dev.to browser tab on the browser
    """
    if tag:
        url = 'https://dev.to/t/{}'.format(tag)
    else:
        url = 'https://dev.to'

    webbrowser.open(url, new=2)

if __name__ == "__main__":
    main() 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

çœŸçš„å°±è¿™ä¹ˆç®€å•ï¼å³ä½¿æ˜¯åˆå­¦è€…ä¹Ÿèƒ½ç†è§£è¿™æ®µä»£ç çš„ä½œç”¨ã€‚

**`@click.command()`**
è¿™ä¸ªç‚¹å‡»è£…é¥°å™¨æŠŠ`main()`å‡½æ•°è½¬æ¢æˆ cli å‘½ä»¤ã€‚æ²¡æœ‰å®ƒï¼Œå®ƒåªæ˜¯ä¸€ä¸ªæ™®é€šçš„ python å‡½æ•°ã€‚ä½†æ˜¯æœ‰äº†å®ƒï¼Œå®ƒå°±å˜æˆäº†å¯ä»¥ä½œä¸ºå‘½ä»¤è¡Œå®ç”¨ç¨‹åºè°ƒç”¨å‘½ä»¤ã€‚

**`@click.option('--tag', '-t', help='add a tag')`**
`@click.option()`æ‰©å±•å‘½ä»¤ï¼Œä½¿å…¶èƒ½å¤Ÿæ¥å—é¢å¤–çš„å‚æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`--tag`æˆ–å…¶ç®€å†™ç‰ˆæœ¬`-t`æ˜¯å…è®¸çš„ã€‚`help`ä¸€æ–‡è§£é‡Šäº†è¿™ä¸ªè®ºç‚¹çš„ä½œç”¨ã€‚

**`def main(tag):`**
è¿™æ˜¯æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„å…¥å£ï¼Œæ‰€æœ‰ç¥å¥‡çš„äº‹æƒ…éƒ½å‘ç”Ÿåœ¨è¿™é‡Œã€‚è¯¥å‡½æ•°(ç°åœ¨æ˜¯ä¸€ä¸ªå‘½ä»¤)å¸¦æœ‰ä¸€ä¸ªå¯é€‰çš„`tag`å‚æ•°ï¼Œå®ƒå†³å®šäº†è¦æ‰“å¼€çš„ urlï¼Œå¦‚ä¸‹é¢å‡ è¡Œçš„`if else`æ‰€ç¤ºã€‚

**`"""Open a new dev.to browser tab on the browser"""`**
[![comment](../Images/8ddf2c5a4b5cf46d4bad2a50c0fe6ac2.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--cGKrY5Sa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.redd.it/iuy9fxt300811.png)

**`webbrowser.open(url, new=2)`**
æ‰“å¼€è¯·æ±‚çš„ç½‘å€ã€‚`new=2`ç¡®ä¿è¿™æ˜¯åœ¨ä¸€ä¸ªæ–°çš„æ ‡ç­¾ä¸­å®Œæˆçš„ã€‚

æœ€åï¼Œå½“è„šæœ¬è¿è¡Œæ—¶ï¼Œ`if __name__`å—è¿è¡Œ`main()`å‡½æ•°ã€‚

æœ‰äº†ä¸Šé¢çš„ä»£ç ï¼Œåªéœ€è¿è¡Œ`__init__.py`æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

```
$  python app/__init__.py 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸€ä¸ªæ–°çš„ Dev.to é€‰é¡¹å¡åº”è¯¥ä¼šè‡ªåŠ¨åœ¨æ‚¨çš„æµè§ˆå™¨ä¸Šæ‰“å¼€ã€‚

```
$  python app/__init__.py --help
Usage: __init__.py [OPTIONS]

  Open a new dev.to browser tab on the browser

Options:
  -t, --tag TEXT  add a tag
  --help          Show this message and exit. 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è®©æˆ‘ä»¬å°è¯•ä¼ å…¥ä¸€ä¸ªæ ‡ç­¾ã€‚

```
$  python app/__init__.py --tag react 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`https://dev.to/t/react`åº”è¯¥æ˜¯æ‰“å¼€äº†ğŸ˜€ã€‚

ä½†æ˜¯æˆ‘ä»¬ä¸æƒ³æ¯æ¬¡éƒ½è·‘ã€‚åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨`setuptools`æ¥æ†ç»‘è„šæœ¬ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥åœ¨æœ¬åœ°å®‰è£…å®ƒï¼Œå¹¶ä½¿ç”¨ç®€å•çš„`dev.to`å‘½ä»¤æ¥è¿è¡Œè„šæœ¬ï¼Œè€Œä¸æ˜¯æ¼«é•¿çš„`python app/__init__.py`ã€‚æˆ‘è¿˜å°†å±•ç¤ºå¦‚ä½•åœ¨ PyPi ä¸Šå‘å¸ƒä¸€ä¸ªåŒ…ã€‚

[![eliot](../Images/1c519c1c1e633229120ec3de94373499.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--2r_PgtVF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://pbs.twimg.com/profile_images/1048098761552142336/goBBdAW1.jpg)