# ä¸å˜æ€§ä½¿å¾—è·Ÿè¸ªå˜æ›´å˜å¾—ä¾¿å®œ

> åŸæ–‡:[https://dev . to/dance 2 die/immunability-makes-tracking-changes-cheap-4g 19](https://dev.to/dance2die/immutability-makes-tracking-changes-cheap-4g19)

*ç…§ç‰‡ç”±[æ¸¸é‡ŒÂ·ç½—é»˜](https://unsplash.com/photos/Xne1N4yZuOY?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)åœ¨[Unsplash](https://unsplash.com/search/photos/boulder?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)T5 æ‹æ‘„*

***ç»™è‡ªå·±çš„ç¬”è®°***
(æ„æ€ï¼Œæœ‰ç‚¹è‰ç‡&æ˜¯ç»™è‡ªå·±çš„ç¬”è®°ä½†è¿˜æ˜¯æƒ³åˆ†äº«)

ä¸Šå‘¨çš„å‘¨æœ«é˜…è¯»ä¸»é¢˜æ˜¯[å…³äºä¼˜åŒ–æ€§èƒ½çš„æ–‡æ¡£](https://reactjs.org/docs/optimizing-performance.html)ã€‚

åœ¨é˜…è¯»å…³äºä¸å˜æ€§çš„æ–‡ç« æ—¶ï¼Œä¸€ä¸ªå•Šå“ˆçš„æ—¶åˆ»ã€‚

å‡è®¾æ‚¨æœ‰ä¸€ä¸ªç»„ä»¶ï¼Œ`Post`å¿…é¡»åƒè¿™æ ·å‘ˆç°ä¸€ä¸ªè¯„è®ºçº¿ç¨‹ã€‚

<figure>[![](../Images/538030bd2789a010a3a6b3cb27b5a26d.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--Qyv3Y8LH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i2.wp.com/www.slightedgecoder.com/wp-content/uploads/2018/12/reddit-comments.jpg%3Fw%3D1170%26ssl%3D1) 

<figcaption>*Reddit å¸–å­:* [*æœ‰ä»€ä¹ˆç¬‘è¯è¿™ä¹ˆè ¢è¿™ä¹ˆå¥½ç¬‘ï¼Ÿ*](https://www.reddit.com/r/AskReddit/comments/a26y06/whats_a_joke_thats_so_stupid_its_funny/)</figcaption>

</figure>

çŠ¶æ€æ ‘å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

<figure>[![](../Images/73facaa11db6abeaf89a879b294f7b64.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--22bdoFQA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i2.wp.com/www.slightedgecoder.com/wp-content/uploads/2018/12/comment-tree.png%3Fw%3D1170%26ssl%3D1) 

<figcaption>å²—ä½çŠ¶æ€æ ‘</figcaption>

</figure>

å½“ JavaScript æ¯”è¾ƒä¸¤ä¸ªå€¼æ—¶ï¼ŒçŠ¶æ€æ ‘ä¸­æ˜¾ç¤ºçš„åŸè¯­ç±»å‹(æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”ç­‰)æ¯”è¾ƒï¼Œå¦‚`id`ã€`date`ã€`author`ï¼Œæ˜¯å»‰ä»·çš„ã€‚

å½“ä½ å¿…é¡»æ¯”è¾ƒå¯¹è±¡ç±»å‹çŠ¶æ€æ—¶ï¼Œé€šè¿‡å¼•ç”¨ è¿›è¡Œæ¯”è¾ƒ ***ã€‚***

å› æ­¤ï¼Œå¦‚æœæœ‰äººä¿®æ”¹äº†`comments`æ•°ç»„ä¸­çš„ä¸€é¡¹ï¼Œæ‚¨å¿…é¡»éå†æ³¨é‡Šä¸­çš„æ¯ä¸€é¡¹ï¼Œä»¥æ‰¾å‡ºæ˜¯å¦æœ‰ä»»ä½•æ›´æ”¹ã€‚

è¿™æ˜¯ä¸€ä¸ª`O(n)`æ“ä½œè¿‡ç¨‹ï¼Œæ‰€ä»¥å¾ˆæ…¢ğŸ¦„ã€‚

ä½†æ˜¯å¦‚æœä½ å·²ç»è¿”å›äº†ä¸€ä¸ªæ–°çš„`comments`æ•°ç»„(ä½¿ç”¨ Object.assign æˆ–è€… object spreadï¼Œ{â€¦})é‚£ä¹ˆ reference å·²ç»æ”¹å˜äº†ï¼Œå› æ­¤ä½ çŸ¥é“æœ‰äº›äº‹æƒ…å·²ç»æ”¹å˜äº†ã€‚

ç°åœ¨å®ƒæ˜¯ä¸€ä¸ª`O(1)`æ“ä½œï¼Œé€Ÿåº¦æå¿«ğŸã€‚

## [åˆ°](#til)

å¦‚æœæ‚¨çš„çŠ¶æ€æ˜¯ä¸å¯å˜çš„ï¼Œé‚£ä¹ˆ React å¯ä»¥åè°ƒå“ªä¸ªçŠ¶æ€æ›´æ–°æˆæœ¬ä½ã€‚

å¦‚æœä½ éœ€è¦æ›´å¤šçš„æ§åˆ¶ï¼Œä½ ä»ç„¶å¯ä»¥è¦†ç›– [shouldComponentUpdate](https://reactjs.org/docs/react-component.html#shouldcomponentupdate) ã€‚

## [](#resources)èµ„æº

*   [ä¼˜åŒ–æ€§èƒ½](https://reactjs.org/docs/optimizing-performance.html)â€“å®˜æ–¹ React æ–‡æ¡£
*   [ã€å‘¨æœ«é˜…è¯»ã€‘React å…³äºä¼˜åŒ–æ€§èƒ½çš„æ–‡æ¡£](https://www.reddit.com/r/reactjs/comments/a1y5ej/weekend_reads_react_docs_on_optimizing_performance/)
*   [ä¸å¯å˜çš„ç”¨æˆ·ç•Œé¢](https://vimeo.com/album/3953264/video/166790294)â€“æ¸²æŸ“ 2018 ä¸­çš„æÂ·æ‹œä¼¦
    *   è¿˜æ²¡çœ‹å®Œå‘¢
    *   åˆšä»[ä¸¹çš„æ¨æ–‡](https://twitter.com/dan_abramov/status/735530699231531008)é‡Œæ‰¾åˆ°çš„ã€‚

*å¸–å­[çš„ä¸å˜æ€§ä½¿å¾—è·Ÿè¸ªå˜æ›´å˜å¾—å¾ˆä¾¿å®œ](https://www.slightedgecoder.com/2018/12/02/immutability-makes-tracking-changes-cheap/)æœ€å…ˆå‡ºç°åœ¨ [Sung çš„æŠ€æœ¯åšå®¢](https://www.slightedgecoder.com)ä¸Šã€‚*