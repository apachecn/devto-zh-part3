# Android ä¸­çš„âš¡Fixing çº¦æŸå¸ƒå±€å’Œå‡†åˆ™å£°æ˜é”™è¯¯å¼‚å¸¸

> åŸæ–‡:[https://dev . to/wajahatkarim/fixing-constraint layout-guideline-assertion error-exception-in-Android-24ap](https://dev.to/wajahatkarim/fixing-constraintlayout-guideline-assertionerror-exception-in-android-24ap)

#### [](#a-quick-tip-to-fix-assertionerror-exception-when-updating-constraintlayout-from-102-to-later-versions)å°† ConstraintLayout ä» 1.0.2 æ›´æ–°åˆ°æ›´é«˜ç‰ˆæœ¬æ—¶ä¿®å¤ AssertionError å¼‚å¸¸çš„å¿«é€Ÿæç¤ºã€‚

> è¿™ç¯‡æ–‡ç« æ˜¯æˆ‘ä»Šå¤©å­¦ä¹ çš„ç³»åˆ—çš„[çš„ä¸€éƒ¨åˆ†ï¼Œæœ€åˆå‘å¸ƒåœ¨æˆ‘çš„](https://medium.com/p/65c64e1dcb6) [TIL Github åº“](https://github.com/wajahatkarim3/Today-I-Learned/)å’Œæˆ‘åœ¨ wajahatkarim.com[çš„ç½‘ç«™](http://wajahatkarim.com)

* * *

è¿™å‡ å¤©ï¼Œæˆ‘åœ¨åšä¸€ä¸ªéå¸¸è€çš„ä»£ç åº“çš„ android åº”ç”¨ç¨‹åºã€‚å› æ­¤ï¼Œåœ¨æˆ‘æ·»åŠ æ–°åŠŸèƒ½å’Œä¿®å¤é”™è¯¯çš„åŒæ—¶ï¼Œæˆ‘ä¹Ÿåœ¨ç”¨æœ€æ–°çš„ API æ”¹è¿›ä»£ç åº“ã€‚å› æ­¤ï¼Œåœ¨è¿™æ–¹é¢ï¼Œæˆ‘åœ¨å¤§çº¦ 3 ä¸ªæœˆå‰æ·»åŠ äº†[çº¦æŸå¸ƒå±€](https://developer.android.com/training/constraint-layout)ã€‚å½“æ—¶æœ€æ–°ç‰ˆæœ¬æ˜¯ 1.0.2ã€‚è¿™å¸®åŠ©æˆ‘ä»¥ç®€å•çš„æ–¹å¼åˆ›å»ºå¤æ‚çš„å¸ƒå±€ï¼Œå¹¶å…è®¸æˆ‘åˆ©ç”¨å¹³é¢è§†å›¾å±‚æ¬¡ç»“æ„æ¥æ›´å¥½åœ°æ‰§è¡Œä»»åŠ¡ã€‚

å¤§çº¦æ˜¨å¤©ï¼Œæˆ‘æœ‰ä¸€ä¸ªä»»åŠ¡ï¼ŒåŒ…æ‹¬åŒæ—¶æ˜¾ç¤º/éšè—å¤šä¸ªè§†å›¾ã€‚æˆ‘å°è¯•ä½¿ç”¨[ç»„çº¦æŸå¸ƒå±€](https://developer.android.com/reference/android/support/constraint/Group)ï¼Œæ‰€ä»¥æ›´æ–°åˆ°ä¸‹ä¸€ä¸ªç¨³å®šç‰ˆæœ¬ï¼Œ1.1.3ã€‚

ä½†å½“æˆ‘å¯åŠ¨è¿™æ¬¾åº”ç”¨æ—¶ï¼Œä¸€äº›å¸¦æœ‰ ConstraintLayout çš„å±å¹•æ­£å¸¸å·¥ä½œï¼Œè€Œåœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œåº”ç”¨å´©æºƒäº†ã€‚æˆ‘æŸ¥çœ‹æ—¥å¿—æ—¶ï¼Œå‘ç°äº†è¿™ä¸ªã€‚

[![](../Images/cd593009e280a287d74a7d45c80b3f3b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--nwNGF7v9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AnFmmABYHe3KwaXm4Hw0yeg.png)

æ—¥å¿—æ ¹æœ¬æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚å”¯ä¸€æ˜æ™ºçš„äº‹æƒ…ï¼Œå¯ä»¥å¸®åŠ©æˆ‘è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»è¿™ä¸ªæ—¥å¿—ä¸­å¾—åˆ°çš„æ˜¯ç¬¬ 2 è¡Œï¼Œå®ƒæ˜¾ç¤ºäº†å…³é”®å­—æŒ‡å—ã€‚æ‰€ä»¥ï¼Œæˆ‘æœ‰ä¸€ç§ç›´è§‰ï¼Œè¿™åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å¯¼æ–¹é’ˆçš„é—®é¢˜ã€‚

* * *

åšä¸€ä¸ªç®€å•çš„è°·æ­Œæœç´¢å‘æˆ‘ä¿è¯ï¼Œæœ‰è®¸å¤šå…¶ä»–å¼€å‘äººå‘˜é¢ä¸´ç€åŒæ ·çš„é—®é¢˜ï¼Œæ²¡æœ‰äººçœŸæ­£çŸ¥é“ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ç§æƒ…å†µä»¥åŠå¦‚ä½•è§£å†³ã€‚

å…³äºè¿™ä¸ªé—®é¢˜çš„[çº¿ç¨‹](https://stackoverflow.com/questions/51594162/constraint-layout-issue-java-lang-assertionerror-top)[stack overflow](https://stackoverflow.com/questions/50188620/constraint-layout-lib-update-from-1-0-2-to-1-1-0-got-error-guideline-getanchor)è¯å®äº†ä¸€ä»¶äº‹ï¼Œè¿™ä¸ªé—®é¢˜ä¸æŒ‡å¯¼æ–¹é’ˆæœ‰å…³ã€‚ç”šè‡³è¿˜æœ‰åœ¨ [Google Codelab çš„çº¦æŸå¸ƒå±€åº“](https://github.com/googlecodelabs/constraint-layout)æäº¤çš„é—®é¢˜ï¼Œåƒ[è¿™ä¸ª](https://github.com/googlecodelabs/constraint-layout/issues/51)å’Œ[è¿™ä¸ª](https://github.com/googlecodelabs/constraint-layout/issues/53)ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™äº›é—®é¢˜ä»ç„¶æ˜¯å¼€æ”¾çš„ï¼Œè¿˜æ²¡æœ‰ä¸€ä¸ªå•ä¸€çš„è¯„è®ºï¼Œæ›´ä¸ç”¨è¯´è§£å†³æ–¹æ¡ˆã€‚å¼€å‘äººå‘˜åªèƒ½é è‡ªå·±æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

<figure>[![](../Images/449e0e1ac76324593f8189011408d1d6.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--4ndjMrrF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AVfotlhR7yerfwKOQNAYzIw.png) 

<figcaption>æˆªå›¾ [Issue # 53](https://github.com/googlecodelabs/constraint-layout/issues/53) from [çº¦æŸå¸ƒå±€äº Github](https://github.com/googlecodelabs/constraint-layout/)</figcaption>

</figure>

* * *

### [](#hot-and-%EF%B8%8Fquick-fix-to-this-frustrating-problem)ğŸ”¥Hot å’ŒâŒšï¸Quick è§£å†³äº†è¿™ä¸ªä»¤äººæ²®ä¸§çš„é—®é¢˜ğŸ˜ƒ

è¿™ä¸ªé—®é¢˜æ²¡æœ‰å…·ä½“çš„è§£å†³åŠæ³•ã€‚ä½†è¿™æ˜¯æœ‰åŸå› çš„ã€‚å› æ­¤ï¼Œè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£åŸå› ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

[constraint layout](https://developer.android.com/reference/android/support/constraint/Guideline)ä¸­çš„ä¸€ä¸ªæŒ‡å¯¼æ–¹é’ˆæ˜¯ä¸€ä¸ªè™šæ‹ŸåŠ©æ‰‹ï¼Œå®ƒåœ¨è®¾å¤‡ä¸Šè¿è¡Œæ—¶ä¸å¯è§ï¼Œä½†åœ¨è§†å›¾ä¸­æ˜¯å¯è§çš„ã€‚ä¸è§äº†ã€‚è¿™äº›ä»…ç”¨äºå¸ƒå±€å’Œå®šä½ç›®çš„ã€‚

<figure>[![](../Images/4042d199cf43175bb068e70dad5700f9.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--mVfqNV9T--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/423/0%2AXMq9-dAZ9LzhOkXO.png) 

<figcaption>ä¸¤ä¸ªæŒ‰é’®ç›¸å¯¹äºä¸€æ¡ç™¾åˆ†æ¯”å‚ç›´åŸºå‡†çº¿</figcaption>

</figure>

å®šä½

æ ¹æ® Google çš„æ–‡æ¡£ï¼Œä¸€ä¸ªæŒ‡å—å¯ä»¥æ˜¯æ°´å¹³çš„ä¹Ÿå¯ä»¥æ˜¯å‚ç›´çš„:

*   å‚ç›´æŒ‡å¼•çº¿çš„å®½åº¦ä¸ºé›¶ï¼Œå…¶é«˜åº¦ä¸ºå…¶ [ConstraintLayout](https://developer.android.com/reference/android/support/constraint/ConstraintLayout.html) çˆ¶é¡¹çš„é«˜åº¦
*   æ°´å¹³æŒ‡å¼•çº¿çš„é«˜åº¦ä¸ºé›¶ï¼Œå®½åº¦ä¸ºå…¶ [ConstraintLayout](https://developer.android.com/reference/android/support/constraint/ConstraintLayout.html) çˆ¶çº§çš„å®½åº¦

è¿™ä¸ª AssertionError å¼‚å¸¸çš„ä¸»è¦åŸå› å°±æ˜¯è¿™ä¸ªã€‚

> æ‚¨ä¸èƒ½å°†ä»»ä½•å…¶ä»–è§†å›¾å‚ç›´çº¦æŸäºä»»ä½•å‚ç›´åŸºå‡†çº¿ï¼Œæ°´å¹³æ–¹å‘ä¹Ÿæ˜¯å¦‚æ­¤ã€‚

è¿™æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå‚ç›´çš„æŒ‡å¯¼æ–¹é’ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸èƒ½åƒè¿™æ ·å†™ä»£ç :

[![](../Images/831bca885819a0eb1929f1a75a983cf6.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--C59Ec8ol--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2A6qV6khrb_BzLiGzGQwMmDA.png)

æ£€æŸ¥ç¬¬ 16 å’Œ 17 è¡Œã€‚æˆ‘ä»¬å·²ç»å°†æ–‡æœ¬è§†å›¾çš„é¡¶éƒ¨å’Œåº•éƒ¨è®¾ç½®ä¸ºå‚ç›´åŸºå‡†çº¿çš„é¡¶éƒ¨å’Œåº•éƒ¨ã€‚å‚ç›´åŸºå‡†çº¿çš„é«˜åº¦æ˜¯çˆ¶é¡¹çš„é«˜åº¦ï¼Œæˆ‘ä»¬ä¸èƒ½å°†ä»»ä½•è§†å›¾çº¦æŸåˆ°å‚ç›´åŸºå‡†çº¿çš„é¡¶éƒ¨å’Œåº•éƒ¨ã€‚ç›¸åï¼Œæˆ‘ä»¬åº”è¯¥çº¦æŸåˆ°å‚ç›´æ–¹å‘çš„å·¦è¾¹å’Œå³è¾¹ï¼Œé¡¶éƒ¨/åº•éƒ¨çº¦æŸåˆ°æ°´å¹³æ–¹å‘ã€‚æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬å†™ app:layout _ constraint left _ toRightOf = " @+id/guideline "è¿™æ ·çš„ä¸œè¥¿ï¼Œé‚£ä¹ˆå°±ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜äº†ã€‚

* * *

### [](#the-solution%E2%80%8A%E2%80%8Afinally)âœ…æœ€åçš„è§£å†³æ–¹æ¡ˆğŸ˜ƒ

æˆ‘çš„é¡¹ç›®æœ‰ 15 ä¸ªä»¥ä¸Šçš„å¸ƒå±€æ–‡ä»¶ï¼Œå…¶ä¸­æœ‰ ConstraintLayoutã€‚æ—¥å¿—æ¶ˆæ¯å¸®åŠ©ä¸å¤§ã€‚å› æ­¤ï¼Œé¦–å…ˆæ‰“å¼€æ‰€æœ‰ä½¿ç”¨äº†æŒ‡å—çš„å¸ƒå±€æ–‡ä»¶ã€‚

ç°åœ¨å¯¼è‡´è¿™ä¸ªé—®é¢˜çš„å¸ƒå±€å°†åœ¨é¢„è§ˆçª—æ ¼çš„å³ä¸Šè§’æ˜¾ç¤ºä¸€ä¸ªçº¢è‰²çš„é”™è¯¯åœ†åœˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

[![](../Images/da1eb732682eb34c04c0a08669fb0401.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--sOezwD4i--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/492/1%2AX21oUN-7qUx9dp_HcMJmQA.png)

å½“ä½ ç‚¹å‡»å®ƒæ—¶ï¼Œä½ ä¼šçœ‹åˆ°åº•éƒ¨çš„ä¿¡æ¯é¢æ¿ï¼Œå®ƒä¼šå‘Šè¯‰ä½ å‚ç›´æ–¹å‘çš„ä¸Š/ä¸‹å’Œæ°´å¹³æ–¹å‘çš„å·¦/å³ã€‚å½“æ‚¨å•å‡»â€œè¯¦ç»†ä¿¡æ¯â€æŒ‰é’®æ—¶ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€ä¸ªå¯¹è¯æ¡†ï¼Œæ˜¾ç¤ºä¸ä¸‹å›¾å®Œå…¨ç›¸åŒçš„å¼‚å¸¸æ¶ˆæ¯ã€‚

[![](../Images/0fde12f362e1220277f59d11159ce417.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Ka1Mse0W--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2Am3rpoRLKnf1Fgt736-OkUA.png)

è¿™ä¸ªçº¢è‰²çš„é”™è¯¯åœˆå’Œè¿™ä¸ªå¯¹è¯æ¡†æ˜¯ç¡®è®¤ä½ åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ï¼Œè¿™æ˜¯å¯¼è‡´è¿™ä¸ªå¼‚å¸¸å’Œå´©æºƒçš„åº”ç”¨ç¨‹åºã€‚å› æ­¤ï¼Œäº¤å‰æ£€æŸ¥åŸºå‡†çº¿å’Œå…¶ä»–è§†å›¾çš„çº¦æŸï¼Œå¹¶ç¡®ä¿å‚ç›´åŸºå‡†çº¿è¢«çº¦æŸä¸ºå·¦å³ï¼Œæ°´å¹³åŸºå‡†çº¿è¢«çº¦æŸä¸ºä¸Šä¸‹ã€‚è¿™æ˜¯è§£å†³è¿™ä¸ªçƒ¦äººé—®é¢˜çš„å”¯ä¸€åŠæ³•ã€‚

ä¸€æ—¦ä½ è¿™æ ·åšäº†ï¼Œè¿™ä¸ªçº¢åœˆå°±ä¼šæ¶ˆå¤±ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºï¼Œä¸ä¼šå‡ºç°ä»»ä½•é—®é¢˜å’Œå´©æºƒã€‚

* * *

**å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œä½ å¯ä»¥é˜…è¯»æˆ‘ä¸‹é¢çš„æ–°æ–‡ç« :**

*   âš¡ï¼Œä½ çš„ Android å·¥ä½œå®¤æ€»æ˜¯å¾ˆæ…¢å—ï¼ŸğŸš€ä¸‹é¢ä»‹ç»ä¸€ä¸‹å¦‚ä½•ç«‹åˆ»æé€Ÿã€‚

**Wajahat Karim** æ¯•ä¸šäº[NUST](http://nust.edu.pk)ï¼Œæ˜¯ä¸€åç»éªŒä¸°å¯Œçš„ç§»åŠ¨å¼€å‘äººå‘˜ï¼Œä¸€åæ´»è·ƒçš„å¼€æºè´¡çŒ®è€…ï¼Œä¹Ÿæ˜¯ä¸¤æœ¬ä¹¦[å­¦ä¹  Android æ„å›¾](https://www.amazon.com/Learning-Android-Intents-Muhammad-Usama/dp/1783289635)å’Œ[ç”¨ Unity æŒæ¡ Android æ¸¸æˆå¼€å‘](https://www.amazon.com/Mastering-Android-Game-Development-Unity/dp/1783550775/)çš„åˆè‘—è€…ã€‚åœ¨ä¸šä½™æ—¶é—´ï¼Œä»–å–œæ¬¢å’Œå®¶äººå‘†åœ¨ä¸€èµ·ï¼Œåšç¼–ç å®éªŒï¼Œå–œæ¬¢å†™å¾ˆå¤šä¸œè¥¿(ä¸»è¦æ˜¯åœ¨ä»–çš„åšå®¢å’Œåª’ä½“ä¸Š),å¹¶ä¸”æ˜¯å¼€æºçš„çƒ­æƒ…è´¡çŒ®è€…ã€‚2018 å¹´ 6 æœˆï¼Œä»–çš„ä¸€ä¸ªåº“åœ¨ [Github Trending](https://github.com/trending) ä¸Šæˆä¸ºç¬¬ä¸€åã€‚[ä»–çš„åº“](http://github.com/wajahatkarim3)åœ¨ Github ä¸Šæœ‰å¤§çº¦ 3000 é¢—æ˜Ÿæ˜Ÿï¼Œå¹¶è¢«å…¨çƒå„åœ°çš„å¼€å‘è€…ç”¨äºå„ç§åº”ç”¨ã€‚åœ¨ Twitter å’Œ [Medium](https://medium.com/@wajahatkarim3) ä¸Šå…³æ³¨ä»–ï¼Œè·å¾—æ›´å¤šå…³äºä»–çš„å†™ä½œã€Android å’Œå¼€æºå·¥ä½œçš„æ›´æ–°ã€‚

* * *