# ç»éªŒæ•™è®­:ä» Python åˆ° JavaScript

> åŸæ–‡:[https://dev . to/Dan _ starner/lessons-learned-python-to-JavaScript-4 lae](https://dev.to/dan_starner/lessons-learned-python-to-javascript-4lae)

éšç€æˆ‘å¯¹ JavaScript ä¸–ç•Œçš„æ·±å…¥ç ”ç©¶ï¼Œä»¥ä¸‹æ˜¯æˆ‘å‘ç°çš„ä¸€äº›æœ‰è¶£çš„äº‹æƒ…ã€‚

## [](#some-background)ä¸€äº›èƒŒæ™¯

åœ¨å½­åšï¼Œæˆ‘å’Œä¸€ä¸ªå¼€å‘è¿ç»´/åŸºç¡€æ¶æ„å›¢é˜Ÿä¸€èµ·å·¥ä½œï¼Œä»–ä»¬ä¸»è¦ä»äº‹ç¡¬ä»¶ã€ç½‘ç»œå’Œè„šæœ¬æ–¹é¢çš„å·¥ä½œã€‚è¿™æ„å‘³ç€æˆ‘å›¢é˜Ÿä¸­çš„æ¯ä¸ªäººéƒ½éå¸¸æ“…é•¿ Bashã€Ansible å’Œ Pythonï¼Œå¹¶ä¸”å¯èƒ½åœ¨ä¸€å¤©ä¹‹å†…èƒŒå‡ºæ¯”å‡ ç§’é’Ÿè¿˜å¤šçš„ç½‘ç»œç¼©ç•¥è¯­ã€‚

åœ¨æˆ‘åŠ å…¥åä¸ä¹…ï¼Œæˆ‘ä»¬å¼€å§‹è€ƒè™‘ä¸€ä¸ª web ä»ªè¡¨æ¿ï¼Œå®ƒå°†ç®¡ç†å’Œè‡ªåŠ¨åŒ–æˆ‘ä»¬çš„è®¸å¤šæ‰‹åŠ¨æµç¨‹å’Œä»»åŠ¡ã€‚æˆ‘ä»¬è®¡åˆ’åŒ…æ‹¬æ‰€æœ‰çš„åŠŸèƒ½ï¼Œå®ƒå°†ä¼š*éå¸¸é…·*...é™¤äº†æˆ‘æ˜¯å›¢é˜Ÿä¸­å”¯ä¸€ä¸€ä¸ªäº†è§£ web å¼€å‘çš„äººï¼Œå³ä½¿è¿™æ ·ä¹Ÿæ˜¯ä¸€ç§æ¾æ•£çš„è”ç³»ã€‚

æˆ‘ä»¥å‰çš„ç»éªŒæ˜¯ä¸ºç½‘ç»œå…¬å¸ç¼–å†™åç«¯æœåŠ¡å’Œ APIï¼Œä½†æˆ‘çœŸçš„æ²¡æœ‰å‰ç«¯æ–¹é¢çš„ç»éªŒã€‚å¯¹äºè¿™ä¸ª web dashboard é¡¹ç›®ï¼Œæˆ‘æƒ³çœŸæ­£æŠ•å…¥è¿›å»ï¼Œå­¦ä¹ æ­£ç¡®çš„ååº”æ–¹å¼ï¼Œè‡ªå·±æ„å»ºä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¨‹åºã€‚

## [](#what-i-learned)æˆ‘å­¦åˆ°äº†ä»€ä¹ˆ

ä»¥ä¸‹æ˜¯æˆ‘ä» Python å’Œåç«¯çš„è§’åº¦äº†è§£åˆ°çš„æˆ–å¯¹ JavaScriptã€React å’Œå‰ç«¯å¼€å‘æ„Ÿå…´è¶£çš„ä¸€äº›äº‹æƒ…ã€‚è¯·æ³¨æ„ï¼Œæˆ‘æ­£åœ¨æ„å»ºä¸€ä¸ª React åº”ç”¨ç¨‹åºï¼Œå› æ­¤è®¸å¤šè¿™äº›ä¸œè¥¿éƒ½å›´ç»•ç€åº“ã€‚

### [](#npm-dev-dependencies-vs-dependencies)NPM å‘å±•ä¾èµ– vs ä¾èµ–

ç›´åˆ°æˆ‘å¼€å§‹ä¸ºæˆ‘çš„ Express-React åº”ç”¨ç¨‹åºæ„å»º Docker å›¾åƒï¼Œæˆ‘æ‰çœŸæ­£ç†è§£è¿™ä¸€ç‚¹ã€‚åœ¨ Python ä¸­ï¼Œæˆ‘æ€»æ˜¯æœ‰ä¸€ä¸ªåŒ…å«æˆ‘çš„æµ‹è¯•å’Œæ—æŒºåº“çš„`dev-requirements.txt`æ–‡ä»¶å’Œä¸€ä¸ªåŒ…å«æ‰€æœ‰å…¶ä»–ä¾èµ–é¡¹çš„`requirements.txt`æ–‡ä»¶ã€‚è¿™ä¸¤ä¸ªéƒ½ç•™åœ¨`package.json`çœŸçš„å¾ˆå¥½ï¼Œæ¸…ç†äº†é¡¹ç›®ç»“æ„ï¼Œä½¿è‡ªåŠ¨åŒ–å®‰è£…æ›´å®¹æ˜“ã€‚

### [](#structure-doesnt-matter-as-long-as-it-works)ç»“æ„æ— æ‰€è°“ï¼Œåªè¦ç®¡ç”¨å°±è¡Œ

åœ¨å¼€å‘æ—¶ï¼Œæˆ‘ä¸æ–­åœ°ç§»åŠ¨æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œè¯•å›¾å®ç°æœ€ä½³çš„é¡¹ç›®ç»“æ„ã€‚æˆ‘æ€»æ˜¯æœ‰è¿™æ ·çš„æƒ³æ³•:*å¦‚æœæˆ‘æ·»åŠ æ›´å¤šçš„ä¸œè¥¿ï¼Œè¿™è¿˜èƒ½å·¥ä½œå—ï¼Ÿ*ï¼Œè€Œä¸”å®ƒé€šå¸¸ä¼šå¯¼è‡´ä¸€ä¸ªæ°¸æ— æ­¢å¢ƒçš„é¡¹ç›®ç»“æ„ç®¡ç†è€Œä¸æ˜¯ç¼–ç çš„å…”å­æ´ã€‚

æˆ‘ä»ç½‘ä¸Šä¸åŒçš„å¸–å­å’Œæˆ‘è‡ªå·±çš„ç»éªŒä¸­å­¦åˆ°çš„æ˜¯ï¼ŒReact ä¸åœ¨ä¹ä½ ä½¿ç”¨ä»€ä¹ˆæ ·çš„é¡¹ç›®ç»“æ„ï¼Œä½ ä¹Ÿä¸åº”è¯¥è¿™æ ·ã€‚æ˜¾ç„¶ï¼Œå°½é‡ä¿æŒæ•´æ´æœ‰åºï¼Œä½†æ˜¯é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœæœ‰äº›ä¸œè¥¿å¯¹ä½ æœ‰ç”¨ï¼Œä¸åˆ°ä¸‡ä¸å¾—å·²ä¸è¦é‡æ„å®ƒã€‚æˆ‘å–œæ¬¢æˆ‘ç°åœ¨çš„æ–‡ä»¶å¤¹ç»“æ„ï¼Œå®ƒçœ‹èµ·æ¥åƒä¸‹é¢è¿™æ ·ã€‚è¯·æ³¨æ„ï¼Œæˆ‘çœç•¥äº†æ–‡ä»¶ã€‚

```
.
â”œâ”€â”€ __mocks__
â”œâ”€â”€ bin                # Scripts needed to run Docker image
â”œâ”€â”€ certs              # Any certs I need for local dev. These are mounted to container
â”œâ”€â”€ dist               # Build directory
â”œâ”€â”€ screenshots
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ assets         # Non-JS or styling assets
â”‚   â”‚   â”œâ”€â”€ images
â”‚   â”‚   â””â”€â”€ jss        # I use MaterialUI, which styles using JSS
â”‚   â”œâ”€â”€ components     # General use components
â”‚   â”‚   â””â”€â”€ hoc        # Higher order components
â”‚   â”œâ”€â”€ config         # Configuration file for server that loads env to object
â”‚   â”œâ”€â”€ core           # Anything that is crucial to the React app
â”‚   â”‚   â”œâ”€â”€ layout     # Core layout components
â”‚   â”‚   â”‚   â”œâ”€â”€ header
â”‚   â”‚   â”‚   â””â”€â”€ sidebar
â”‚   â”‚   â”œâ”€â”€ pages      # Not Found / Landing pages
â”‚   â”‚   â”œâ”€â”€ state      # Core managed state, aka users and theme
â”‚   â”‚   â”‚   â”œâ”€â”€ auth
â”‚   â”‚   â”‚   â””â”€â”€ meta
â”‚   â”‚   â””â”€â”€ util       # Any usable themes
â”‚   â”œâ”€â”€ pages          # List of top level React Router routes as 'pages'
â”‚   â”œâ”€â”€ server         # All code pertaining to the Express server
â”‚   â””â”€â”€ tests          # All tests
â””â”€â”€ webpack            # Webpack configs for server and client 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#state-management-cleaner-components)çŠ¶æ€ç®¡ç†/æ¸…æ´å™¨ç»„ä»¶

Python ä¸­çš„çŠ¶æ€ç®¡ç†å¯¹æˆ‘æ¥è¯´å¹¶ä¸å­˜åœ¨ï¼Œå°¤å…¶æ˜¯å¦‚æœå®ƒæ˜¯ä¸ºäº†æ›´å¤šçš„è„šæœ¬ç›®çš„ã€‚æˆ‘é€šå¸¸æ›´å–œæ¬¢ä½œæ–‡è€Œä¸æ˜¯é—ä¼ ï¼Œä½†è¿™æ€»æ˜¯å› ä¸ºæˆ‘åœ¨å­¦æ ¡å­¦åˆ°çš„ä¸œè¥¿ã€‚ç¼–å†™ React ç»„ä»¶ç¡®å®è®©è¿™ä¸ªæƒ³æ³•è„±é¢–è€Œå‡ºã€‚

ç»„ä»¶ç”±è¾ƒå°çš„ã€å¯èƒ½å¯é‡ç”¨çš„ç»„ä»¶ç»„æˆï¼Œå±‚æ¬¡ç»“æ„ä¸­çš„æ¯ä¸€å±‚éƒ½è´Ÿè´£å‘ˆç°å’Œ/æˆ–ç»´æŠ¤åº”ç”¨ç¨‹åºçš„ç‰¹å®šéƒ¨åˆ†ã€‚å‡å°‘ä»£ç è¡ŒçœŸçš„æ˜¯ä¸€ç§å¾ˆé…·çš„æ„Ÿè§‰ï¼Œå› ä¸ºæˆ‘è®¤è¯†åˆ°ç»„ä»¶æˆ–è€…æ˜¯ç›¸å…³çš„ï¼Œæˆ–è€…æ˜¯å¯ä»¥ç”±å¦ä¸€ä¸ªç»„æˆçš„èªæ˜çš„æ–¹æ³•ã€‚

ä¸€æ—¦ä½ ç†è§£äº†æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ï¼Œç€‘å¸ƒæ•ˆæœçš„æ•´ä½“æ¦‚å¿µå’Œä»çˆ¶ç»„ä»¶åˆ°å­ç»„ä»¶çš„çŠ¶æ€çœ‹èµ·æ¥çœŸçš„å¾ˆé…·ã€‚èµ·åˆæˆ‘å¹¶ä¸ç†è§£è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯éšç€æˆ‘ç†è§£äº†é€‚å½“çš„çŠ¶æ€ç®¡ç†ï¼Œæˆ‘çš„ä»£ç å’Œç»„ä»¶ä¹‹é—´çš„å…³ç³»å˜å¾—æ›´å¥½äº†ã€‚

### [](#promises-are-super-confusing-at-first)æ‰¿è¯ºä¸€å¼€å§‹è¶…çº§è¿·æƒ‘

æ¥è‡ªä¸€ä¸ªåŒæ­¥çš„ Python /è„šæœ¬ä¸–ç•Œï¼ŒJavaScript promises ç›´åˆ° 3 å¤©å‰å¯¹æˆ‘æ¥è¯´è¿˜æ˜¯æ¯«æ— æ„ä¹‰ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä¸‹é¢çš„ä¾‹å­ä»ç„¶ä¸å¥½ï¼Œè¯·ä¸è¦è®¨åŒã€‚å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œæˆ‘è¯•å›¾è®©æ‰¿è¯ºåŒæ­¥ï¼Œæˆ‘ä¼šå¾ˆå›°æƒ‘ï¼Œä¸ºä»€ä¹ˆåƒä¸‹é¢è¿™æ ·çš„äº‹æƒ…ä¼šè¿”å›ä¸€ä¸ªæ‰¿è¯ºã€‚

```
function fetchSomething() {
  const fetchURL = '/something';
  return axios.get(fetchURL);  // returns a promise
}

// Handling the axios call like a synchronous
// function leds to tons of horrible callback 
// and uncaught promise exceptions ğŸ¤·ğŸ¼â€â™‚ï¸
function getSomethingHandler(callback) {
  fetchSomething()
    .then(response => { callback(response.data) })
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½†æ˜¯ç°åœ¨æˆ‘æ˜ç™½äº†æ•´ä¸ª`then(callback)`ã€`catch(errCallback)`æµç¨‹ï¼Œè¿™è®©*å˜å¾—æ›´æœ‰æ„ä¹‰*ã€‚åœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘æŠŠå®ƒé‡å†™ä¸ºä¸‹é¢è¿™æ ·ï¼Œç¨å¾®å¥½ä¸€ç‚¹:

```
function fetchSomething() {
  const fetchURL = '/something';
  return new Promise((resolve, reject) => {
    axios.get(fetchURL)
      .then(response => { resolve(response.data) })
      .catch(error => { reject(error) })
  });
}

// Handling the axios call like a synchronous
// function leds to tons of horrible callback 
// and uncaught promise exceptions ğŸ¤·ğŸ¼â€â™‚ï¸
function getSomethingHandler(callback) {
  fetchSomething()
    .then(data => { res.send(data) }) })
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä¸ªç‰ˆæœ¬åœæ­¢äº†è®¸å¤šå›è°ƒå’Œæ‰¿è¯ºå¼‚å¸¸ã€‚è¿™ä¹Ÿå…è®¸æˆ‘çš„å¤„ç†å‡½æ•°æœŸæœ›æ•°æ®å·²ç»è¢«æå–å‡½æ•°æ•´ç†æˆæˆ‘æƒ³è¦çš„æ ¼å¼ã€‚æœ€åæˆ‘å¼€å§‹ç”¨`async`å’Œ`await`ã€‚æˆ‘ä»ç„¶ä¸ç¡®å®šè¿™äº›ï¼Œæ‰€ä»¥æˆ‘é“æ­‰ï¼Œå¦‚æœä»¥ä¸‹ä¸æ˜¯ 100%æ­£ç¡®çš„ã€‚

```
async function fetchSomething() {
  const fetchURL = '/something';
  try {
    // Wait for the axios promise to resolve
    const response = await axios.get(fetchURL);
    return response.data;
  } catch (err) {
    console.log(err)
    return err;
  }
}

function getSomethingHandler(callback) {
  fetchSomething()
    .then(data => { res.send(data) }) })
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»ç„¶åœ¨ç§¯æåœ°å­¦ä¹ æ›´å¤šå…³äºè¿™ä¸ªå¼‚æ­¥å·¥ä½œæµçš„çŸ¥è¯†ï¼Œä½†æ˜¯åˆ°ç›®å‰ä¸ºæ­¢å®ƒè¿˜æ˜¯å¾ˆæ£’çš„ã€‚

### [](#bonus-css-flexbox-is-amazing)åŠ æˆ CSS: FlexBox å‰å®³äº†

æ›´å¤šçš„æ˜¯å…³äº CSS çš„ä¸œè¥¿ï¼Œä½†æ˜¯é˜»æ­¢æˆ‘æ›´å¿«è¿›å…¥å‰ç«¯è®¾è®¡çš„ä¸»è¦å› ç´ ä¹‹ä¸€æ˜¯å¤„ç†å…ƒç´ å¯¹é½å’Œå¤§å°ã€‚æ— è®ºæˆ‘è¾“å…¥ä»€ä¹ˆæ ·çš„`margin`æˆ–`align`å€¼ï¼Œä¼¼ä¹éƒ½æ²¡æœ‰æ•ˆæœã€‚è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡çœŸæ­£ä½“éªŒåœ¨ CSS3 ä¸­ä½¿ç”¨ Flexboxï¼Œè¿™è®©ä¸–ç•Œå˜å¾—ä¸åŒã€‚åœ¨`flex-grow`ã€`flex-basis`ã€`justify`å’Œ`align-items`ä¹‹é—´ï¼Œåœ¨ HTML ä¸­å®šä½ä¸œè¥¿å˜å¾—å®¹æ˜“å¤šäº†ã€‚

### [](#closing-up)å…³é—­èµ·æ¥

è™½ç„¶è¿˜æœ‰å¾ˆå¤šä¸œè¥¿æˆ‘å¯ä»¥è°ˆè®ºï¼Œä½†è¿™äº›æ˜¯æˆ‘åœ¨è¿‡å»å‡ ä¸ªæœˆä¸­ä½¿ç”¨ JavaScriptã€Express å’Œ React çš„ä¸€äº›ä¸»è¦ç»éªŒã€‚éšç€é¡¹ç›®çš„æˆç†Ÿï¼Œæˆ‘å¯èƒ½ä¼šå†™ç¬¬äºŒç¯‡æ–‡ç« ã€‚

æ„Ÿè°¢é˜…è¯»ğŸ‘ğŸ˜ƒ