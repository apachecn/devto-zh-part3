# ç”¨ Unsplash æ„å»ºä¸€ä¸ªçŒ«å›¾åƒç”Ÿæˆå™¨ğŸ˜»

> åŸæ–‡:[https://dev . to/mandi hamza/building-a-cat-image-generator-with-unsplash-4f6j](https://dev.to/mandihamza/building-a-cat-image-generator-with-unsplash--4f6j)

å°é¢å›¾ç‰‡ç”± [@kivenzhao](https://unsplash.com/@kivenzhao)

ä½ æ˜¯ä¸€ä¸ªè´ªç©çš„å­¦ä¹ è€…å—ï¼Ÿä½ åº”è¯¥å®³æ€•ï¼ç©è€æ‰“å¼€äº†ä½ çš„æ€ç»´ï¼Œæœ‰åŠ©äºä½ è¿›å…¥ä¸€ç§å¿ƒæµçŠ¶æ€ã€‚æˆ‘æ˜¯ç¼–ç¨‹æ–°æ‰‹ï¼Œæ‰€ä»¥ä»å¥½ç©çš„åœ°æ–¹å­¦ä¹ å¯ä»¥å‡å°‘æŒ«è´¥æ„Ÿï¼Œå»¶é•¿æˆ‘çš„ç»ƒä¹ æ—¶é—´ã€‚

æˆ‘ä¸ºå…¶ä»–æ–°æ‰‹å†™è¿™ç¯‡æ–‡ç« ï¼Œå‘ä»–ä»¬å±•ç¤ºå¦‚ä½•è®©ä¸€ä¸ªé¡¹ç›®å˜å¾—æœ‰è¶£ã€‚ä½œä¸ºä¸€ä¸ªæ–°æ‰‹ï¼Œæˆ‘å–œæ¬¢åŒ…å«è¿›ä¸€æ­¥é˜…è¯»çš„èµ„æºçš„æ–‡ç« ï¼Œæ‰€ä»¥æˆ‘ç¡®ä¿ä»å¤´åˆ°å°¾éƒ½åŒ…å«å®ƒä»¬ï¼

åœ¨æˆ‘ä»¬æ·±å…¥ç ”ç©¶ä»£ç ä¹‹å‰ï¼Œè¯·ç‚¹å‡»ä¸‹é¢çš„â€œéšæœºæ’­æ”¾â€æŒ‰é’®æ¥çœ‹çœ‹â€œUnsplash ä¹‹çŒ«â€çš„è¿è¡Œæƒ…å†µğŸ‘‡

[https://codepen.io/mandihamza/embed/JwGLez?height=600&default-tab=result&embed-version=2](https://codepen.io/mandihamza/embed/JwGLez?height=600&default-tab=result&embed-version=2)

æˆ‘å¯¹è¿™ä¸ªé¡¹ç›®æœ‰ä¸‰ä¸ªç›®æ ‡:äº†è§£ Javascript å‡½æ•°...å¾ªç¯ï¼Œå¹¶ä¿æŒå®ƒçš„è¶£å‘³æ€§ï¼Œä¸çŒ«ï¼

è®¡åˆ’ä½ çš„å·¥ä½œã€‚æ‰§è¡Œä½ çš„è®¡åˆ’ã€‚

çŒ«å›¾åƒç”Ÿæˆå™¨éœ€è¦å››æ ·ä¸œè¥¿:

**1ã€‚ä½ çš„ä»£ç ä¹‹å®¶** âœ”ï¸

Codepen æ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„åŸºäºæµè§ˆå™¨çš„ä»£ç ç¼–è¾‘å™¨ï¼Œå¯¹æ–°æ‰‹éå¸¸å‹å¥½ã€‚å¯¹äºåƒ*Unsplash*çš„çŒ«è¿™æ ·çš„é¡¹ç›®æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œç¾çš„åœ°æ–¹ã€‚æ­¤å¤–ï¼Œå®ƒæœ‰ä¸€ä¸ªçƒ­é‡è£…åŠŸèƒ½ï¼Œæ‰€ä»¥æ¯æ¬¡æˆ‘æ”¹å˜æˆ‘çš„ä»£ç ï¼Œä¸€ç»„æ–°çš„çŒ«å›¾ç‰‡å‡ºç°ï¼è¿™è®©æˆ‘å³ä½¿åœ¨æŒ£æ‰çš„æ—¶å€™ä¹Ÿèƒ½ä¿æŒå¾®ç¬‘ã€‚

**2 .ç¾ä¸½çš„çŒ«å›¾ç‰‡**

Unsplash æ‹¥æœ‰ä»¤äººæƒŠå¹çš„æ‘„å½±å¸ˆï¼Œä»–ä»¬åˆ†äº«å…è´¹çš„é«˜è´¨é‡å›¾åƒã€‚ä»–ä»¬çš„ [Unsplash Source](https://source.unsplash.com/) å·¥å…·æä¾›éšæœºå›¾åƒå¹¶æä¾›åŸºæœ¬çš„æŸ¥è¯¢å‚æ•°ã€‚å®ƒéå¸¸é€‚åˆå°å‹ä½æµé‡é¡¹ç›®ã€‚å¦‚æœä½ æ­£åœ¨æ„å»ºä¸€ä¸ªé«˜æµé‡çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”éœ€è¦å¥å£®çš„å‚æ•°ï¼Œä½ åº”è¯¥ä½¿ç”¨ä»–ä»¬çš„[å…è´¹ API](https://unsplash.com/developers) ã€‚

**3ã€‚ä¸€ç‚¹è®¾è®¡** âœ”ï¸

å½“æˆ‘å°çš„æ—¶å€™ï¼Œæˆ‘å–œæ¬¢ä¸½èÂ·å¼—å…°å…‹ç”¨çš„æ˜äº®çš„é¢œè‰²ã€‚æˆ‘ç”¨å®ƒä½œä¸ºå½©è‰²èƒŒæ™¯çš„çµæ„Ÿã€‚æˆ‘ç”¨è¿™ä¸ª [CSS æ¸å˜ç”Ÿæˆå·¥å…·](https://cssgradient.io/)æ¥å¸®åŠ©é€‰æ‹©æ˜äº®çš„é¢œè‰²ã€‚æˆ‘å–œæ¬¢è®©è®¾è®¡å˜å¾—æ›´ç®€å•çš„å·¥å…·ï¼è¿™äº›å›¾ç‰‡æ˜¯ç”¨ CSS grid è®¾è®¡çš„ï¼Œä½†æ˜¯æˆ‘ä¸ä¼šè¯¦ç»†è®¨è®ºè¿™ä¸ªæ ·å¼ï¼Œå› ä¸ºè¿™ç¯‡æ–‡ç« çš„é‡ç‚¹æ˜¯ Javascriptã€‚

**4ã€‚ä¸€äº›ä»£å·** âœ”ï¸

HTML æ ‡è®°éœ€è¦ 3 ä¸ªå¸¦æœ‰ src æ ‡ç­¾çš„å›¾åƒå…ƒç´ å’Œä¸€ä¸ªæŒ‰é’®å…ƒç´ :

```
<button id="shuffleButton" type="button" class="button" alt="Shuffle Button">Shuffle</button>

<div class="grid">
  <img class="cube" src="" alt="cat picture">
  <img class="cube" src="" alt="cat picture">
  <img class="cube" src="" alt="cat picture">
</div> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬éœ€è¦ä¸€ä¸ªä» Unsplash è¯·æ±‚ URL å“åº”çš„å‡½æ•°ã€‚ä»¥ä¸‹æ˜¯æ ¸å¿ƒè¦ç´ :

1.  ç”¨ä¸€äº›å‚æ•°ä¿å­˜æ¥è‡ª Unsplash æºçš„ URL çš„å¸¸æ•°ã€‚
2.  ä¿å­˜ img å…ƒç´ çš„å¸¸æ•°ã€‚
3.  ä¿å­˜éšæœºæ•°ç”Ÿæˆå™¨çš„å¸¸æ•°ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å®ƒä¸ºæ¯ä¸ª URL è¯·æ±‚æ·»åŠ ç‹¬ç‰¹çš„ç­¾åã€‚(ä½ é©¬ä¸Šå°±ä¼šæ˜ç™½æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªã€‚)
4.  A For...of å¾ªç¯éå† img å…ƒç´ å¹¶ä¿®æ”¹å®ƒä»¬çš„ src å€¼ã€‚

é¦–å…ˆï¼Œè®©æˆ‘ä»¬å£°æ˜æˆ‘ä»¬çš„ URL å¸¸é‡ã€‚è¿™æ˜¯ Unsplash :
çš„*çŒ«çš„å®Œæ•´ URL å¸¸é‡*

```
const url = "https://source.unsplash.com/collection/139386/200x200/?sig="; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä»¥ä¸‹æ˜¯è¯¥ç½‘å€çš„åˆ†ç±»:

1.  æ¥è‡ª Unplash çš„åŸºæœ¬ URL:[https://source.unsplash.com/](https://source.unsplash.com)
2.  `collection`å‚æ•°åè·Ÿå”¯ä¸€çš„[é›†åˆ](https://unsplash.com/collections)å·ã€‚
    ä¾‹å¦‚ï¼Œæˆ‘ç”¨äº†ä¸€ç»„ç”± [@dylka](https://unsplash.com/@dylka) ç­–åˆ’çš„çŒ«å›¾åƒã€‚

    è¿™ä¸ªæ”¶è—çš„ç½‘å€æ˜¯:[https://unsplash.com/collections/139386/cats](https://unsplash.com/collections/139386/cats)ã€‚

    æˆ‘ä»¬éœ€è¦æˆ‘ä»¬çš„ç½‘å€å·ç :`139386`

3.  å›¾åƒå°ºå¯¸å‚æ•°:`200x200`ã€‚

4.  ç­¾åå‚æ•°:`?sig=`ã€‚

æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬å£°æ˜ä¿å­˜ img å…ƒç´ çš„å¸¸é‡ï¼Œå°±åƒè¿™æ ·:

```
const images = document.querySelectorAll("img"); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨è®©æˆ‘ä»¬å£°æ˜ä¸€ä¸ªå¸¸é‡æ¥ä¿å­˜éšæœºæ•°ç”Ÿæˆå™¨ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å®ƒåœ¨æ¯æ¬¡å‘å‡ºæ–°è¯·æ±‚æ—¶ï¼Œåœ¨ sig å‚æ•°åé¢é™„åŠ ä¸€ä¸ªå”¯ä¸€çš„æ•°å­—ã€‚

æˆ‘ä»¬éœ€è¦è¿™æ ·åšï¼Œå› ä¸ºæµè§ˆå™¨è¯•å›¾é€šè¿‡æä¾›æ¥è‡ª Unsplash çš„ URL å“åº”çš„ç¼“å­˜å‰¯æœ¬è€Œä¸æ˜¯æ–°çš„å“åº”æ¥å¸®åŠ© T1ã€‚è¿™é€šå¸¸æ˜¯[æœ‰ç›Šçš„è¡Œä¸º](https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching)ï¼Œä½†åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä¼šå¯¼è‡´é‡å¤çš„å›¾åƒã€‚å”¯ä¸€çš„æ•°å­—ç­¾åè¿«ä½¿æµè§ˆå™¨åšå‡ºæ–°çš„è¯·æ±‚ï¼Œå¦åˆ™åœ¨æœåŠ¡å™¨ç«¯ä¼šè¢«[å¿½ç•¥ã€‚å¶å°”ä»æœ‰é‡å¤å›¾åƒï¼Œä½†é¢‘ç‡å¤§å¤§é™ä½ã€‚](https://github.com/unsplash/unsplash-source-js/issues/9) 

```
const randomNum = () => {
  return Math.floor(Math.random() * 1000);
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå®ƒéå† img å…ƒç´ ï¼Œå¹¶ä½¿ç”¨æˆ‘ä»¬å£°æ˜çš„å¸¸é‡ç”¨ä¸€ä¸ªéšæœºçš„ Unsplash URL å¡«å……æ¯ä¸ª img src å±æ€§å€¼ã€‚ä¸‹é¢æ˜¯ä»£ç çš„æ ·å­:

```
function shufflePics() {
  for (let att of images) {
    att.src = `${url}${randomNum()}`;
    {
      console.log(att.src);
    }
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ç”¨äº† For...å¾ªç¯æ¥è¿­ä»£ img å…ƒç´ ï¼Œå› ä¸ºå®ƒå¯ä»¥è¿­ä»£ NodeList å¯¹è±¡ï¼Œè¿™å°±æ˜¯ querySelectorAll()æ–¹æ³•ä¸ºæˆ‘ä»¬çš„å›¾åƒå¸¸é‡è¿”å›çš„å†…å®¹ã€‚è¿˜æœ‰å…¶ä»–æ–¹æ³•å¯ä»¥è¿­ä»£ NodeList å¯¹è±¡ï¼Œä½†æ˜¯ä½œä¸ºåˆå­¦è€…ï¼Œæˆ‘å‘ç°...æ˜“äºé˜…è¯»çš„å¾ªç¯ã€‚

images å¸¸é‡ä¿å­˜å›¾åƒå…ƒç´ ï¼Œä½†æ˜¯è¦è®¿é—®å®ƒä»¬çš„ src å±æ€§å€¼ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ç‚¹ç¬¦å·ï¼Œæ¯”å¦‚:`att.src`ã€‚

ç°åœ¨æˆ‘ä»¬éœ€è¦å°† URL å’Œ randomNum å¸¸é‡åˆ†é…ç»™`att.src`ã€‚æˆ‘ä»¬è¿™æ ·åŒ…è£…å®ƒä»¬ï¼Œ`${}`â€”â€”è¿™åœ¨ ES6 ä¸­å«åšè¡¨è¾¾å¼ã€‚è¡¨è¾¾å¼æ˜¯å®ƒä»¬æ‰€åŒ…å«çš„å­—ç¬¦ä¸²çš„å ä½ç¬¦(URL &éšæœºæ•°)ã€‚ç„¶åï¼Œè¡¨è¾¾å¼ç”¨åæ–œçº¿æ‹¬èµ·æ¥ï¼Œç»„åˆæˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

ç°åœ¨ï¼Œè¯¥å‡½æ•°ç”¨æ¥è‡ª Unsplash çš„æƒŸä¸€ URL å“åº”å¡«å……æ¯ä¸ª src å±æ€§å€¼ã€‚è€¶ï¼ğŸ¥³

æœ€åï¼Œæˆ‘ä»¬éœ€è¦å°†æŒ‰é’®ç»‘å®šåˆ° shufflePics å‡½æ•°ï¼Œè¿™æ ·æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šè·å–ä¸‰å¼ æ–°çš„çŒ«å›¾ç‰‡ã€‚æˆ‘ä»¬é€šè¿‡ç”¨`querySelector()`æ–¹æ³•é€‰æ‹©æŒ‰é’®å¹¶æ·»åŠ ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨æ¥å®ç°è¿™ä¸€ç‚¹ã€‚ä»£ç æ˜¯è¿™æ ·çš„:

```
document.querySelector("button").addEventListener("click", shufflePics); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å°±æ˜¯è¿™æ ·ï¼ç°åœ¨æˆ‘ä»¬å¯ä»¥æ²¡å®Œæ²¡äº†åœ°ç¿»é˜…è¿™ä¸ª Unsplash ç³»åˆ—ä¸­çš„çŒ«å’ªå›¾ç‰‡äº†ï¼

ä¸‹ä¸€æ¬¡ä½ å¼€å§‹ä¸€ä¸ªæ•™ç¨‹æˆ–é™„å¸¦é¡¹ç›®æ—¶ï¼Œæˆ‘é‚€è¯·ä½ å˜å¾—æœ‰è¶£ï¼å®ƒå°†æ‰“å¼€ä½ çš„æ€ç»´ï¼Œæ¥å—æ–°çš„å¯èƒ½æ€§ï¼Œå¦‚æœä½ å’Œæˆ‘ä¸€æ ·ï¼Œå®ƒå°†å¸®åŠ©ä½ ä¿æŒä¸“æ³¨ã€‚

ç”¨ Unsplash åˆ¶ä½œ*çŒ«éå¸¸æœ‰è¶£ï¼Œæˆ‘è¿«ä¸åŠå¾…åœ°æƒ³æ”¹è¿›å®ƒï¼æˆ‘å¾ˆé«˜å…´å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Unsplash çš„ APIï¼Œæ‰€ä»¥æˆ‘çš„ä¸‹ä¸€æ¬¡è¿­ä»£æ˜¾ç¤ºäº†ä¼˜ç§€æ‘„å½±å¸ˆçš„å­¦åˆ†ã€‚*

æ„Ÿè°¢æ‚¨é˜…è¯»æˆ‘çš„ç¬¬ä¸€ç¯‡å¼€å‘å¸–å­ï¼æˆ‘æœŸå¾…æ‚¨å¯¹æˆ‘çš„ä»£ç ã€æˆ‘ä»¬çš„çŒ«ä¸»äººä»¥åŠæ‚¨å¦‚ä½•å°†æ¸¸æˆæ€§èå…¥å·¥ä½œçš„åé¦ˆã€‚

***â€”æ´¾å“ˆå§†æ‰***

éšæ—¶ç»™æˆ‘åœ¨ [Twitter ä¸Šå–Š](https://twitter.com/_technicallyme)ï¼

é™„è¨€:ä¸å–œæ¬¢çŒ«ï¼Ÿè¯•è¯•[ä¸åä¸å¿«çš„ç‹—](https://codepen.io/mandihamza/pen/pqdPWm)ğŸ¶

æ­£å¦‚æˆ‘æ‰€æ‰¿è¯ºçš„ï¼Œè¿™é‡Œæœ‰ä¸€äº›å¯ä¾›è¿›ä¸€æ­¥é˜…è¯»çš„èµ„æºã€‚

Sheelah Brennan çš„è¿™ä¸ªæ•™ç¨‹å¸®åŠ©æˆ‘ç»§ç»­è¿™ä¸ªé¡¹ç›®ã€‚å¼ºçƒˆæ¨èå»çœ‹çœ‹ï¼
âœ¨[å¦‚ä½•è‡ªåŠ¨ä»åŸå‹çš„ Unsplash ä¸­æå–éšæœºå›¾åƒ](https://sheelahb.com/blog/unsplash-random-image-how-to/)ã€‚âœ¨

**ç†è§£ä¸º...of Loops**
[ä» querySelectorAll ä¸­å¾ªç¯éå† DOM å…ƒç´ çš„ 5 ç§æ–¹æ³• JavaScript](https://medium.com/@jsdevray/5-ways-to-loop-over-dom-elements-from-queryselectorall-in-javascript-55bd66ca4128)
[Moz å…³äºå¾ªç¯å’Œè¿­ä»£çš„æ–‡æ¡£](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration#for...of_statement)

**ç†è§£æ¨¡æ¿æ–‡æœ¬è¯­æ³•**
[Javascript æ¨¡æ¿æ–‡æœ¬æŒ‡å—](https://flaviocopes.com/javascript-template-literals/)Flavio Copes
[æ¨¡æ¿å­—ç¬¦ä¸²](https://wesbos.com/template-strings-html/)Wes Bos
[Moz å…³äºæ¨¡æ¿æ–‡æœ¬çš„æ–‡æ¡£](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals)
[åˆ‡æ¢åˆ° ES6(ç¬¬ 2 éƒ¨åˆ†:å­—ç¬¦ä¸²æ’å€¼å’Œæ¨¡æ¿æ–‡æœ¬)](https://medium.com/predict/switching-to-es6-part-2-string-interpolation-and-template-literals-2f1b0ee56740)

**ç†è§£ const vs . var vs . let**
[Wes Bos çš„ JavaScript](https://wesbos.com/javascript-scoping/) ä¸­ let å’Œ const çš„ä½œç”¨åŸŸ

**misc .**
[JavaScript:æ–°æ‰‹ç”¨ç®­å¤´å‡½æ•°](https://codeburst.io/javascript-arrow-functions-for-beginners-926947fc0cdc)
[Moz å…³äº HTTP ç¼“å­˜çš„æ–‡æ¡£](https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching)
[$(æ–‡æ¡£)ã€‚ready()vs window . onload()vs $(window)ã€‚load()](https://www.techiediaries.com/javascript/document-ready-vs-window-onload-vs-window-load/)