# ä½¿ç”¨ TypeScript ä½¿ VueJS å’Œ Vuex çš„ä¾èµ–æ³¨å…¥å˜å¾—ç®€å•

> åŸæ–‡:[https://dev . to/fernalvarez 590/dependency-injection-made-easy-for-vuejs-and-vuex-with type script-556m](https://dev.to/fernalvarez590/dependency-injection-made-easy-for-vuejs-and-vuex-with-typescript-556m)

[![](../Images/f57b8c6c03509c52a0078599d0b1b464.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--6yI6XR43--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/0%2A38yIPuEG7RKUFi-v) 

<figcaption>å›¾ç‰‡ç”±@ mriveodorta</figcaption>

ä¸å¾—ä¸æ‰¿è®¤*(è€Œä¸”è¿™æ˜¯æˆ‘ä¸ªäººçš„è§‚ç‚¹)*ã€‚ä¾èµ–æ³¨å…¥åœ¨ VueJS ç”Ÿæ€ç³»ç»Ÿä¸­å¹¶ä¸æµè¡Œï¼Œæˆ‘æ•¢è¯´ï¼Œåœ¨ JS ç”Ÿæ€ç³»ç»Ÿä¸­ä¹Ÿä¸æµè¡Œã€‚äººä»¬å¸Œæœ›å¿«é€Ÿè€Œå®Œç¾åœ°å®Œæˆå·¥ä½œï¼Œè¿™ç»å¯¹æ²¡é—®é¢˜ï¼Œä½†æˆ‘è§‰å¾—å¤§å¤šæ•°åšå®çš„é¢å‘å¯¹è±¡çš„åŸåˆ™åœ¨ JS ç”Ÿæ€ç³»ç»Ÿä¸­æ¶ˆå¤±äº†ï¼Œä½†è®©æˆ‘ä»¬åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­è®¨è®ºè¿™ä¸ªé—®é¢˜ğŸ˜›

* * *

ä¸ºäº†ç†è§£ä¾èµ–æ³¨å…¥åŠå…¶å¥½å¤„ï¼Œæˆ‘**ç»å¯¹**æ¨èä½ å…ˆé˜…è¯»è¿™ç¯‡æ–‡ç« :

[å¿«é€Ÿä»‹ç»ä¾èµ–æ³¨å…¥:ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥ï¼Œä½•æ—¶ä½¿ç”¨ä¾èµ–æ³¨å…¥](https://medium.freecodecamp.org/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f)

* * *

ä¾èµ–æ³¨å…¥**åœ¨ VueJS åº”ç”¨ç¨‹åºä¸­æœ‰ç‚¹éš¾ä»¥å®ç°ï¼Œå› ä¸ºå®ƒéœ€è¦å¯¹ä»£ç åº“åšä¸€äº›è°ƒæ•´ã€‚JS å’Œ TS çš„ä¾èµ–æ³¨å…¥è§£å†³æ–¹æ¡ˆä¹‹ä¸€æ˜¯ [InversifyJS](http://inversify.io/) ï¼Œå®ƒæ˜¯æˆ‘æœ€å–œæ¬¢çš„ä¾èµ–æ³¨å…¥å®¹å™¨ï¼Œä½†ä»ç„¶å¾ˆéš¾ä¸ VueJS ä¸€èµ·ä½¿ç”¨ã€‚å¹¸è¿çš„æ˜¯ï¼Œæ²¡æœ‰æ›´å¤šçš„äººç»™æˆ‘ä»¬ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œ**æ˜¯åœ¨æˆ‘ä»¬çš„ VueJS åº”ç”¨ä¸­å®ç° DI çš„è§£å†³æ–¹æ¡ˆ**ã€‚**

åœ¨æœ¬æŒ‡å—/ç»ƒä¹ ä¸­ï¼Œæˆ‘å¸Œæœ›æ‚¨äº†è§£å¦‚ä½•ä½¿ç”¨åº“ [Inversify Props](https://github.com/CKGrafico/inversify-props) ä½¿ç”¨ TypeScript è½»æ¾åœ°å°†ä¾èµ–æ³¨å…¥å®ç°åˆ° VueJS é¡¹ç›®ä¸­

[CKGrafico/inversify-props](https://github.com/CKGrafico/inversify-props)

[![](../Images/4e93a0859451dac5652e1304110de2e4.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--HflZDX5S--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/498/0%2A92p2JN9TLqFNWpzw) 

<figcaption>ã€æƒåŠ›çš„æ¸¸æˆ(HBO)</figcaption>

### [](#complete-example)å®Œæ•´çš„ä¾‹å­

å¦‚æœä½ æƒ³çœ‹å®Œæ•´çš„ä¾‹å­ï¼Œä½ å¯ä»¥ç›´æ¥ç‚¹å‡»è¿™ä¸ªé“¾æ¥ï¼

[å¸æœº 590/vuejsdepencyinjection xample](https://github.com/jefer590/vuejsdepencyinjectionexample/tree/03/use-dependency-injection-inside-vuex-module)

### [](#what-do-i-need)æˆ‘éœ€è¦ä»€ä¹ˆï¼Ÿ

1.  å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ [**çº±**](https://yarnpkg.com/) å’Œ [**Vue CLI**](https://cli.vuejs.org/)
2.  ä¸€ä¸ªä¸ TypeScript å…¼å®¹çš„ç¼–è¾‘å™¨(ä¸ºæ­¤æˆ‘å–œæ¬¢ WebStorm)
3.  å¤åˆ¶ç»ƒä¹ ä¸­çš„åŸºæœ¬ repoã€‚

#### [](#what-are-we-building)æˆ‘ä»¬åœ¨å»ºé€ ä»€ä¹ˆï¼Ÿ

ä¸€ä¸ªè¶…çº§ç®€å•çš„åº”ç”¨ç¨‹åº:

1.  é¦–å…ˆï¼Œå°†ä½¿ç”¨é€šè¿‡ç»„ä»¶è¿æ¥åˆ° [https://api.kanye.rest](https://api.kanye.rest/) çš„æœåŠ¡
2.  ç„¶åï¼ŒåŒæ ·çš„è¡Œä¸ºï¼Œä½†é€šè¿‡ Vuex æ¨¡å—

### [](#getting-ready)åšå¥½å‡†å¤‡

åœ¨æ‚¨çš„æœºå™¨ä¸­å…‹éš†ä¸‹ä¸€ä¸ªå›è´­:

[å¸æœº 590/vuejsdepencyinjection xample](https://github.com/jefer590/vuejsdepencyinjectionexample/tree/master)

ç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–é¡¹

```
$ yarn install 
```

### [](#creating-the-service)åˆ›å»ºæœåŠ¡

åœ¨/src æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º services çš„æ–°æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨æ–°æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º impl çš„æ–‡ä»¶å¤¹

*   /services æ ¹å°†ç”¨äºæ–¹ä¾¿åœ°å…¬å¼€æœåŠ¡æ¥å£
*   /services/impl å°†ç”¨äºæ·»åŠ æˆ‘ä»¬çš„æ¥å£/æœåŠ¡çš„å…·ä½“å®ç°

åœ¨/services æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»º IKanyeWestService.ts æ–‡ä»¶ï¼Œå½¢çŠ¶å¦‚ä¸‹: