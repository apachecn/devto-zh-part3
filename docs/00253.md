# ç”¨ Azure å‡½æ•°æ„å»º DIY ADHD è¯ç‰©æé†’& Twilio

> åŸæ–‡:[https://dev . to/azure/building-a-DIY-ADHD-medicine-reminder-with-azure-functions-o70](https://dev.to/azure/building-a-diy-adhd-medication-reminder-with-azure-functions-o70)

æœ€è¿‘ï¼Œæˆ‘ä¸€ç›´åœ¨ç© Azure å‡½æ•°æ¥è‡ªåŠ¨åŒ–æˆ‘ç”Ÿæ´»çš„ä¸åŒéƒ¨åˆ†ã€‚å°±åœ¨ä»Šå¤©ï¼Œå½“æˆ‘æ­£åœ¨ä¸ºä¸€ä¸ªå³å°†åˆ°æ¥çš„å·¥ä½œé¡¹ç›®ä½¿ç”¨å‡½æ•°æ„å»ºä¸€ä¸ªæ¼”ç¤ºæ—¶ï¼Œæˆ‘æŠ¬å¤´çœ‹äº†çœ‹æ—¶é’Ÿï¼Œå‘ç°æ˜¯ä¸‹åˆ 4 ç‚¹ã€‚

### [](#the-good-news-time-flies-when-youre%C2%A0coding)ğŸ™‹â€â™€ï¸:å¥½æ¶ˆæ¯æ˜¯:å½“ä½ ç¼–ç çš„æ—¶å€™ï¼Œæ—¶é—´è¿‡å¾—å¾ˆå¿«ï¼

### [](#the-bad-news-i-do-not-function-as-well-without-my-adhd-medication-and-well-i-forgot-to-take-my-adhd-medication)ğŸ¤¦â€â™€ï¸:åæ¶ˆæ¯æ˜¯:æ²¡æœ‰æˆ‘çš„å¤šåŠ¨ç—‡è¯ç‰©ï¼Œæˆ‘ä¸èƒ½å¾ˆå¥½åœ°å·¥ä½œï¼Œå—¯â€¦æˆ‘å¿˜äº†æœç”¨æˆ‘çš„å¤šåŠ¨ç—‡è¯ç‰©ã€‚

[![](../Images/82c19a2e2554c3e3186d998f7a28ddfc.png)T2ã€‘](https://i.giphy.com/media/xT1XGXjrQSB337IszC/giphy.gif)

å…³äºæˆ‘ä»¬è¿™äº›æ‚£æœ‰å¤šåŠ¨ç—‡çš„äººï¼Œæˆ‘ä»¬çš„å·¥ä½œè®°å¿†æœ‰é—®é¢˜ã€‚å¦‚æœä½ ä¸ç†Ÿæ‚‰å·¥ä½œè®°å¿†ï¼Œå®ƒæ˜¯æˆ‘ä»¬è®°å¿†çš„ä¸€éƒ¨åˆ†ï¼Œèƒ½å¤Ÿä¿æŒä¿¡æ¯è¶³å¤Ÿé•¿çš„æ—¶é—´ï¼Œä»¥è®°ä½æ¥ä¸‹æ¥çš„äº‹æƒ…ï¼Œä¸“æ³¨äºä¸€é¡¹ä»»åŠ¡ï¼Œæˆ–åœ¨çŸ­æœŸå†…ä½¿ç”¨ä¿¡æ¯(ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªç¼“å­˜)ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘åœ¨è®²ä¸€ä¸ªæ•…äº‹æ—¶ï¼Œæˆ‘ç»å¸¸ä¼šå˜å¾—å…´å¥‹ï¼Œåç¦»ä¸»é¢˜ï¼Œæˆ‘çš„å¤§è„‘è¿è¡Œå®ƒçš„åƒåœ¾æ”¶é›†å™¨ï¼Œå®Œå…¨å¿˜è®°æˆ‘æœ€åˆåœ¨è®²ä»€ä¹ˆã€‚æ­¤å¤–ï¼Œåœ¨æˆ‘è®°å¾—å½“å¤©çš„æ¸©åº¦ä¹‹å‰ï¼Œæˆ‘ç»å¸¸è¦çœ‹ä¸¤åˆ°ä¸‰æ¬¡å¤©æ°”/é—®æˆ‘ä»¬çš„è°·æ­Œä¸»é¡µã€‚è®©æˆ‘ä»¬è¯´æˆ‘ä¸æ˜¯ã€Šæµ·åº•æ€»åŠ¨å‘˜ã€‹é‡Œçš„å¤šè‰ï¼Œä½†æ˜¯â€¦â€¦æˆ‘å·²ç»çŸ¥é“åœ¨é‚£ä¸€åˆ»ä¼šå®Œå…¨å¿˜è®°é‡è¦çš„äº‹æƒ…ï¼Œå°¤å…¶æ˜¯åƒä¸€å¤©åƒä¸¤æ¬¡è¯è¿™æ ·çš„ä»»åŠ¡ã€‚ğŸ˜£ä¹Ÿè®¸**è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä»Šå¤©ä¸‹åˆæˆ‘å¼€å§‹è§‰å¾—æˆ‘çš„å¤§è„‘è¿è½¬å˜æ…¢äº†ï¼Œå—¯ï¼Ÿ**

[![](../Images/ba1d8f93c573bab5f2d1f3bfd133c552.png)T2ã€‘](https://i.giphy.com/media/l0D2PvoPVcXGegM1y/giphy.gif)

æ‰€ä»¥ï¼Œæˆ‘åœä¸‹æ‰‹å¤´çš„å·¥ä½œï¼Œåƒäº†åŠç‰‡è¯(æˆ‘ä¸æƒ³å‡Œæ™¨ 1 ç‚¹æ‰ç¡ğŸ˜³)ï¼Œå†™äº†è¿™ç¯‡å…³äºå»ºç«‹ä½ è‡ªå·±çš„ ADHD è¯ç‰©(æˆ–è€…ï¼Œä»»ä½•ä½ æƒ³è¢«æé†’çš„ä¸œè¥¿)çš„æŒ‡å—ã€‚

# [](#lets-build-it-before-we-forget-to-)è®©æˆ‘ä»¬å»ºé€ å®ƒ(åœ¨æˆ‘ä»¬å¿˜è®°ä¹‹å‰ğŸ˜…)!

### [](#step-1-create-an-azure-function)ç¬¬ä¸€æ­¥:åˆ›å»º Azure å‡½æ•°

ä¸ºäº†æ˜“äºç†è§£çš„è§†è§‰æ•ˆæœ/æˆªå›¾ï¼Œæˆ‘ç”¨ Azure é—¨æˆ·åˆ›å»ºäº†è¿™ä¸ªã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ [VS ä»£ç ](https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-first-function-vs-code/?WT.mc_id=azuredevtoreminderapp-blog-chcondon)ã€ [Azure CLI](https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-first-azure-function-azure-cli/?WT.mc_id=azuredevtoreminderapp-blog-chcondon) ç­‰ã€‚æœ‰äº† Azure Functionsï¼Œæ‚¨å¯ä»¥åœ¨æœ¬åœ°æœºå™¨ä¸Šç¼–ç å’Œæµ‹è¯•åŠŸèƒ½ï¼Œè€Œä¸å¿…æ¯æ¬¡æƒ³æµ‹è¯•æ—¶éƒ½éƒ¨ç½²åˆ°äº‘ä¸Š(èŠ‚çœäº†å¤§é‡æ—¶é—´ï¼).

è¦åˆ›å»º Azure åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥ä»å…¥é—¨èœå•å¼€å§‹ï¼Œç„¶åé€‰æ‹©åŠŸèƒ½åº”ç”¨ã€‚

[![](../Images/f6e0ec7bee7d00fc3bd902f811ac229b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--8h2DaHXJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/gyevy34y36l2py02e2y7.png)

ç„¶åä½ éœ€è¦åœ¨è¿™é‡Œå¡«å†™ä¸€äº›å…³äºä½ çš„èŒèƒ½çš„åŸºæœ¬ä¿¡æ¯ã€‚åŒ…æ‹¬åº”ç”¨ç¨‹åºåç§°ã€æ‚¨æƒ³è¦ä½¿ç”¨çš„ Azure è®¢é˜…ã€ä¸€ä¸ª[èµ„æºç»„](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-overview/?WT.mc_id=azuredevtoreminderapp-blog-chcondon)(åœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘æ­£åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„)ã€æ‚¨æƒ³è¦ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿã€[æ‰˜ç®¡è®¡åˆ’](https://docs.microsoft.com/en-us/azure/azure-functions/functions-scale/?WT.mc_id=azuredevtoreminderapp-blog-chcondon)(æˆ‘æ­£åœ¨ä½¿ç”¨æ¶ˆè´¹)ã€æˆ‘æƒ³è¦ä½¿ç”¨çš„ä½ç½®(æˆ‘åœ¨åŠ åˆ©ç¦å°¼äºšå·ï¼Œæ‰€ä»¥ West US 2 é€šå¸¸æ˜¯æˆ‘çš„é»˜è®¤å€¼)ã€æˆ‘æƒ³è¦ä½¿ç”¨çš„è¿è¡Œæ—¶å †æ ˆ(åœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘æ­£åœ¨ä½¿ç”¨ JavaScript)ï¼Œå¹¶ä¸”æˆ‘å¯ä»¥é€‰æ‹©åˆ›å»ºæ–°çš„[å­˜å‚¨](https://docs.microsoft.com/en-us/azure/storage/common/storage-introduction/?WT.mc_id=azuredevtoreminderapp-blog-chcondon)æˆ–ä½¿ç”¨åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ã€‚â€‹â€‹

[![](../Images/310e769beec157e13b326cf029b97d95.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--JvCOplX4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/v8qv7hgadhjqh6cqqzin.png)

ä¸€æ—¦æˆ‘å®Œæˆäº†æ‰€æœ‰è¿™äº›ï¼Œæˆ‘å°±å¯ä»¥å¼€å§‹éƒ¨ç½²äº†ï¼ç­‰å¾…å¤§çº¦ä¸€ä¸¤åˆ†é’Ÿï¼Œç„¶åè§‚å¯Ÿ**éƒ¨ç½²æˆåŠŸ**æ¶ˆæ¯ã€‚â€‹

å¦‚æœä½ éµå¾ªè¿™äº›æ­¥éª¤ï¼Œæˆ‘ä»¬æœ‰æˆ‘ä»¬çš„èµ„æºï¼æˆ‘ä»¬åªéœ€é€‰æ‹©**â€œè½¬åˆ°èµ„æºâ€**å³å¯æŸ¥çœ‹æ‚¨çš„æ–°åŠŸèƒ½åº”ç”¨ã€‚ç°åœ¨æˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ªæ–°å‡½æ•°ã€‚

[![](../Images/11eb841308fb00989208486fdf9153ce.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--bP8E1nyV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/64ut6v7chdl2oqb3goy5.png)

[![](../Images/c4844f4c0849c7fb04bfdda087b39854.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ShVAvbIF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ucn9jyhkmdhlcpxczogq.png)

å½“æ‚¨é€‰æ‹©è§¦å‘å®šæ—¶å™¨æ—¶ï¼Œä¼šå‡ºç°ä¸€ä¸ªæç¤ºï¼Œè¦æ±‚æ‚¨è¾“å…¥åŠŸèƒ½çš„**åç§°**ï¼Œä»¥åŠæ‚¨çš„è§¦å‘å™¨çš„**æ—¶é—´è¡¨**ã€‚æˆ‘å·²ç»è®¾ç½®äº†â€œ0 0 15 * * *â€ï¼Œæ‰€ä»¥æˆ‘çš„æé†’å°†åœ¨ä¸‹åˆ 3 ç‚¹å‘é€(*æ³¨æ„:æŸ¥çœ‹æ‚¨æ—¥å¿—ä¸­çš„æ—¶é—´æˆ³- Azure ä½¿ç”¨åè°ƒä¸–ç•Œæ—¶- UTC* )ã€‚

[![](../Images/25324f9a546e7e24ebbdb093718ca81f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ssTrHDHU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/zvlthn28efuc4wl357pv.png)

ä½†æ˜¯è¿™ä¸ªæé†’æ€ä¹ˆå‘å‘¢ï¼Ÿå¦‚æœä½ æœ‰ä¸€ä¸ªç§äººåŠ©ç†ï¼Œå¯ä»¥æ¯å¤©ç»™ä½ å‘çŸ­ä¿¡ï¼Œæ£€æŸ¥ä½ æ˜¯å¦åƒè¯ï¼Œè¿™ä¸æ˜¯å¾ˆå¥½å—ï¼Ÿå¥½å§ï¼Œè™½ç„¶æˆ‘ä»¬æ²¡æœ‰æ—¶é—´å»ºé€ ä¸€ä¸ªæœºå™¨äººåŠ©æ‰‹æ¥ä¸ºæˆ‘ä»¬è·‘å’–å•¡ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Twilio API æ¥ç»™æˆ‘ä»¬å‘çŸ­ä¿¡ï¼ä¸ºæ­¤ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ª [Twilio](https://www.twilio.com/referral/xBBj30) è´¦æˆ·ï¼Œå¹¶åœ¨åˆ›å»ºåä»é‚£é‡Œè·å– SID å’Œ Auth ä»¤ç‰Œ(â˜ï¸ *ä½ å¯ä»¥æ³¨å†Œ Twilioï¼Œç”¨æˆ‘çš„ä¸ªäººä»£ç  CHLOE20* è·å¾— 20 ç¾å…ƒ)ã€‚**æˆ‘å¼ºçƒˆå»ºè®®ç«‹å³å°†å®ƒä»¬æ·»åŠ åˆ°ä½ çš„åº”ç”¨ç¨‹åºè®¾ç½®ä¸­ï¼Œè¿™æ ·å®ƒä»¬å°±å®‰å…¨äº†**(è€Œä¸æ˜¯ç›´æ¥æ·»åŠ åˆ°ä½ çš„ä»£ç ä¸­)ã€‚

### [](#step-2-integrate-with-twilio)ç¬¬äºŒæ­¥:ä¸ Twilio æ•´åˆ

[![](../Images/afe8cf0a945ccd2ee5cf8327626ab69a.png)T2ã€‘](https://i.giphy.com/media/jPgEkqIWTmYLK/giphy.gif)

æ‚¨éœ€è¦å°†æ‚¨çš„**æ”¶ä»¶äººå·ç **ã€**å‘ä»¶äººå·ç **(æˆ‘ä½¿ç”¨çš„æ˜¯ä» Twilio è´­ä¹°çš„ç”µè¯å·ç )ä»¥åŠ **TWILIO_TOKEN** å’Œ **TWILIO_SID** æ·»åŠ åˆ°é…ç½®ä¸‹çš„åº”ç”¨ç¨‹åºè®¾ç½®ä¸­ã€‚æ­£å¦‚æˆ‘ä¹‹å‰æåˆ°çš„ï¼Œæˆ‘**é«˜åº¦**å»ºè®®å°†è¿™äº›æ·»åŠ åˆ°ä½ çš„[åº”ç”¨è®¾ç½®](https://docs.microsoft.com/en-us/azure/azure-app-configuration/overview/?WT.mc_id=azuredevtoreminderapp-blog-chcondon)ä¸­ï¼Œè€Œä¸æ˜¯ç›´æ¥æ·»åŠ åˆ°ä½ çš„ä»£ç ä¸­ï¼Œè¿™æ ·å®ƒä»¬æ˜¯å®‰å…¨çš„ã€‚å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªå…³äºå¦‚ä½•/ä¸ºä»€ä¹ˆè®¾ç½® Azure åº”ç”¨ç¨‹åºçš„è§†é¢‘æ¼”ç¤ºï¼Œè¯·æŸ¥çœ‹è¿™ä¸ªè§†é¢‘[å’Œ Scott Hanselman](https://azure.microsoft.com/en-us/resources/videos/configuration-and-app-settings-of-azure-web-sites/) ä»¥åŠ Stefan Schackow[çš„è§†é¢‘](https://dev.to/shanselman)ã€‚

ä½ è¿˜éœ€è¦ç¡®ä¿ä½ å·²ç»å®‰è£…äº† Twilioã€‚æ‚¨åªéœ€åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹ã€‚

```
npm install twilio 
```

[![](../Images/092800b34201c3ed72c07e2a3e8b78d3.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--VoWUS07a--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/wn8fr7x8qe1c9dapvjoe.png)

### [](#step-3-write-some-code-quickly-before-we-get-too-distracted-)ç¬¬ä¸‰æ­¥:å†™ä¸€äº›ä»£ç (å¿«ç‚¹ï¼Œåœ¨æˆ‘ä»¬å¤ªåˆ†å¿ƒä¹‹å‰ï¼ğŸ˜…)

è¿™æ˜¯ä»£ç çš„ä¸€éƒ¨åˆ†ğŸ‘‰ [index.js](https://gist.github.com/ChloeCodesThings/344b84004cf0c1584cbff6797f6ea5a1#file-index-js)

æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘å·²ç»åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°æ¥æ£€æŸ¥æˆ‘çš„è®¡æ—¶å™¨æ˜¯å¦è¿‡æœŸ(å¦‚æœæ˜¯ï¼Œæˆ‘ä¼šå°†å…¶å†™å…¥æ—¥å¿—)ã€‚ç„¶åï¼Œæˆ‘æ­£åœ¨åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯(ã€‚create ),å®ƒå°†ä» SENDER_NUMBER å‘é€ï¼ŒåŒ…æ‹¬æˆ‘çš„é‚®ä»¶æ­£æ–‡ï¼Œå¹¶å°†å‘é€åˆ° RECIPIENT_NUMBERã€‚å¦‚æœä¸€åˆ‡æŒ‰è®¡åˆ’è¿›è¡Œï¼Œâ€œæ–‡æœ¬æˆåŠŸå‘é€â€å°†è¢«å†™å…¥æˆ‘çš„æ—¥å¿—ã€‚å¦åˆ™ï¼Œæˆ‘ä¼šè®°å½•é”™è¯¯ã€‚

æˆ–è€…ï¼Œæ‚¨å¯ä»¥åœ¨ function.json æ–‡ä»¶ä¸­è®¾ç½®[ç»‘å®š](https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-twilio/?WT.mc_id=azuredevtoreminderapp-blog-chcondon)ã€‚ä½ å¯ä»¥çœ‹çœ‹æˆ‘ç»™è¿™é‡Œçš„é‚£äº›åšçš„ä¸€ä¸ªè¦ç‚¹ã€‚[ç»‘å®š](https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-twilio/?WT.mc_id=azuredevtoreminderapp-blog-chcondon)ä¹Ÿå¯ä»¥é€šè¿‡ Azure é—¨æˆ·çš„**é›†æˆ**éƒ¨åˆ†è¿›è¡Œç¼–è¾‘å’Œæ›´æ–°ï¼Œå¦‚ä¸‹æ‰€ç¤º:

[![](../Images/cb84ae7d0f451c8277296fef48d466e9.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--fqpwST1C--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/94p7dgrcrqw896g4wbc2.png)

ç„¶è€Œï¼Œä½¿ç”¨æˆ‘ä»¬ç¼–å†™çš„ä»£ç ï¼Œæˆ‘ä»¬ä¸éœ€è¦è®¾ç½®ç»‘å®šâ€”â€”æˆ‘ä»¬å¯ä»¥ç®€å•åœ°è°ƒç”¨å‡½æ•°ï¼Œå¹¶å¼•ç”¨å˜é‡(SENDER_NUMBERã€TWILIO_SID ç­‰)ã€‚)ä»æˆ‘ä»¬çš„ app è®¾ç½®ã€‚

[![](../Images/a13d2f014d61c1043890c54282cd404d.png)T2ã€‘](https://i.giphy.com/media/2XskdWMBUY1yxD6Hcic/giphy.gif)

å¦‚ä½ æ‰€è§ï¼Œè¿™å¾ˆç®€å•ã€‚åˆ›å»ºä¸€æ¡çŸ­ä¿¡ï¼Œå‘é€å®ƒï¼Œç„¶åå“’å“’â€”â€”æé†’å·²å‘é€ï¼ä½†æœ‰ä¸€ä¸ªé—®é¢˜â€¦æœ‰æ—¶æˆ‘ä¼šå› ä¸ºå¤ªåˆ†å¿ƒæˆ–ä¸“æ³¨äºä¸€é¡¹ä»»åŠ¡è€Œä¸ä¼šçœ‹åˆ°ä¸€æ¡çŸ­ä¿¡(è¿˜æœ‰ï¼Œæˆ‘çš„æ‰‹æœºä¼šæ”¶åˆ°å¾ˆå¤šé€šçŸ¥â€”â€”å¦‚æœæˆ‘æ²¡æœ‰æ³¨æ„åˆ°å‘¢ï¼ŸğŸ˜¬).æ‰€ä»¥ï¼Œæˆ‘å†³å®šåŠ ä¸€ä¸ªåå¤‡è®¡åˆ’â€¦â€¦ä¸€ä¸ªç”µè¯ï¼

æ‰“ç”µè¯çš„ä»£ç ç±»ä¼¼äºå‘é€æ–‡æœ¬æ¶ˆæ¯ï¼Œæœ‰ä¸€äº›å°çš„å˜åŒ–ã€‚

è¿™æ˜¯ä»£ç çš„ä¸€éƒ¨åˆ†ğŸ‘‰ [index.js](https://gist.github.com/ChloeCodesThings/8137aa645fd1a5eebaf20e3ad7c69b62#file-index-js)

ä½ ä¼šæ³¨æ„åˆ°æˆ‘ä»¬çš„ç”µè¯ä»£ç æŒ‡çš„æ˜¯â€œTWIML_URLâ€ã€‚è¿™æ˜¯æŒ‡æˆ‘çš„åº”ç”¨ç¨‹åºè®¾ç½®ä¸­çš„ä¸€ä¸ª URLï¼Œå®ƒé“¾æ¥åˆ°æˆ‘åœ¨ Twilio ä¸­è®¾ç½®çš„ä¸€ä¸ª TwiML Binã€‚ä¸€ä¸ª [TwiML Bin](https://www.twilio.com/docs/runtime/tutorials/twiml-bins) å…è®¸æˆ‘ä»¬åˆ›å»ºé™æ€ TwiML æ–‡æ¡£ã€‚ä»–ä»¬ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç§æœ‰çš„ URLï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥é…ç½®æˆ‘ä»¬çš„ Twilio SMS æ¶ˆæ¯æˆ–è¯­éŸ³ webhooksã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä½¿ç”¨ä¸€ä¸ª TwiML Bin](ã€https://www.twilio.com/docs/runtime/tutorials/twiml-binsã€‘)æ¥ä¿å­˜è°ƒç”¨æœŸé—´åº”è¯¥å‘ç”Ÿçš„é€»è¾‘ã€‚

[![](../Images/8f0d28520365f3819440c06b8c7ba169.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--gWqdDg7n--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/6z3zc3qz9gaaa6l7bnny.png)

æ‚¨å¯ä»¥ä½¿ç”¨ TwiML åˆ›å»ºäº¤äº’å¼è¯­éŸ³å’Œæ¶ˆæ¯åº”ç”¨ç¨‹åºã€‚ä¸‹é¢æ˜¯æˆ‘åœ¨ç”µè¯ä¸­ä½¿ç”¨å®ƒçš„ä¸€ä¸ªä¾‹å­:

[![](../Images/7995583613fd57080539860047ead834.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--YB6ElrNL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/kn68z4tj5l8hllrdh8cz.png)

TwiML Bin é¡µé¢é¡¶éƒ¨æä¾›çš„ URL æ˜¯æˆ‘åœ¨æˆ‘çš„åº”ç”¨ç¨‹åºè®¾ç½®ä¸­ä¿æŠ¤çš„ URLï¼Œåä¸º **TWIML_URL** (åœ¨ index.js ä¸­ç”¨äºç”µè¯æé†’åŠŸèƒ½)ã€‚ä½ ä¼šæ³¨æ„åˆ°æˆ‘åœ¨ TwiML Bin ä¸­ä½¿ç”¨äº†ç±»ä¼¼äº Markdown çš„è¯­æ³•ã€‚å®ƒä¼šè¯´å‡ºä¸€æ¡å¸¦æœ‰è¯ä¸¸æé†’çš„ä¿¡æ¯(ä½¿ç”¨)ï¼Œç„¶åæ’­æ”¾ä¸€ä¸ª MP3(ä½¿ç”¨)ã€‚Mp3 æ˜¯å¯é€‰çš„ï¼Œä½†æˆ‘å†³å®šæˆ‘æƒ³è¦ä¸€æ¡æ¶ˆæ¯æ’­æ”¾ä¸€ä¸¤åˆ†é’Ÿï¼Œè®©æˆ‘æ‰¾åˆ°æˆ‘çš„è¯ç›’ï¼Œæœç”¨è¯ä¸¸ï¼Œå¹¶åœ¨å®ŒæˆåæŒ‚æ–­ç”µè¯ã€‚Mp3 æ˜¯ä»€ä¹ˆï¼Ÿè¿™æ˜¯å®ƒçš„ä¸€ä¸ªæ¼”ç¤º:

[https://www.youtube.com/embed/mliMzdK1Nq8](https://www.youtube.com/embed/mliMzdK1Nq8)

Twilio é€šè¿‡[èµ„äº§](https://www.twilio.com/docs/runtime/assets)æ‰˜ç®¡ MP3ã€‚è¦åˆ›å»ºæ–°èµ„äº§ï¼Œåªéœ€æŒ‰+æŒ‰é’®ä¸Šä¼  MP3(å¦‚æœæ‚¨æ„¿æ„ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ [Twilio èµ„äº§](https://www.twilio.com/docs/runtime/assets)å‘æ‚¨çš„æé†’æ–‡æœ¬æ·»åŠ å›¾åƒï¼).è¿™ä¸ªèµ„äº§æ˜¯[å¸ŒäºšÂ·æ‹‰åšå¤«å¤§å–Šæ¿€åŠ±æ€§æ¼”è®²](https://www.youtube.com/watch?v=ZXsQAXx_ao0)çš„ MP3ï¼Œä½†æ˜¯ä½ å¯ä»¥æŠŠ MP3 åšæˆä¸€é¦–æ­Œï¼Œä½ è‡ªå·±çš„ä¿¡æ¯ï¼Œæˆ–è€…ä»»ä½•ä½ æƒ³è¦çš„å£°éŸ³ï¼

[![](../Images/903ff002e0f36cf7248e81afa332b347.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--d7isJkk0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/4cvxuub9l36a79f4rogx.png)

### ç¬¬å››æ­¥:æµ‹è¯•å®ƒ(åœ¨æˆ‘ä»¬è¢«å¦ä¸€ä¸ªé¡¹ç›®åˆ†å¿ƒä¹‹å‰)ï¼

æœ€åï¼Œæˆ‘ä»¬éœ€è¦æµ‹è¯•æˆ‘ä»¬çš„è§¦å‘è®¡æ—¶å™¨ï¼å¦‚æœæ‚¨æ„¿æ„ï¼Œå¯ä»¥å°†æ‚¨çš„ Twilio å·ç æ·»åŠ åˆ°æ‰‹æœºçš„é€šè®¯å½•ä¸­ã€‚æˆ‘ç»™æˆ‘çš„å–åä¸ºâ€œğŸ’ŠğŸ‘©ğŸ»â€âš•ï¸ğŸ’Šâ€œï¼Œä½†æ˜¯å¦‚æœä½ æ„¿æ„ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠä½ çš„åå­—ç¦»æ•£åŒ–(å¥¶å¥¶/çˆ¸çˆ¸/è¡¨å§/çå¦®å¼—ä¹Ÿå¯ä»¥ï¼).è¿™æ ·ï¼Œå½“ç”µè¯åœ¨ä½ è®¾å®šçš„æ—¶é—´æ‰“æ¥æ—¶ï¼Œä½ å°±çŸ¥é“æ˜¯ä»€ä¹ˆäº†ã€‚

[![](../Images/03640a76a73d76bf1516180c82fa9cf9.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--5AEqxnpZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/zvhont5ac20426ygmofh.jpeg)

ä¸ºäº†æµ‹è¯•ä½ çš„è°ƒç”¨/æ–‡æœ¬ï¼Œä½ å¯ä»¥ç®€å•åœ°åœ¨ Azure é—¨æˆ·çš„æ¯ä¸ªå‡½æ•°ä¸­æŒ‰ä¸‹ **Run** æŒ‰é’®(ä½äºä½ çš„ **index.js** æ–‡ä»¶çš„é¡¶éƒ¨ï¼Œåœ¨ **Save** æ—è¾¹)ã€‚ä½†æ˜¯ï¼Œæ‚¨è¿˜éœ€è¦æµ‹è¯•è®¡æ—¶å™¨ï¼Œä»¥ç¡®ä¿æ–‡æœ¬/å‘¼å«åœ¨æ­£ç¡®æŒ‡å®šçš„æ—¶é—´å‘å‡ºã€‚å¾ˆå¯èƒ½ä½ é€‰æ‹©çš„å‘é€ç”µè¯/çŸ­ä¿¡çš„æ—¶é—´å·²ç»è¿‡å»ï¼Œæˆ–è€…è¿˜æ²¡æœ‰å‘ç”Ÿã€‚æ‚¨å¯ä»¥åœ¨æ‚¨çš„ **function.json** æ–‡ä»¶ä¸­ç¼–è¾‘æ‚¨çš„å‡½æ•°çš„è®¡æ—¶å™¨ï¼Œæˆ–è€…ç‚¹å‡» **Integrate** åœ¨é—¨æˆ·ä¸­ç¼–è¾‘å®ƒã€‚

[![](../Images/e02fa70d675d7cc96664845a8cd1269a.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--1ZkJqyNz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/tp42i7m26k1pk3j83zib.png)

ä¸ºé¿å…æ··æ·†ï¼Œè¯·æ³¨æ„:**æ£€æŸ¥æ—¥å¿—ä¸­çš„æ—¶é—´æˆ³ï¼Œä»¥å¸®åŠ©ç¡®å®šåŒ…å«**çš„æ­£ç¡® cron è¡¨è¾¾å¼(å¦åˆ™ï¼Œæ‚¨çš„è­¦æŠ¥å¯èƒ½ä¼šåœ¨ä¸æ­£ç¡®çš„æ—¶é—´å‘é€ï¼).ä½ éœ€è¦ç¡®ä¿ä½ çš„æ—¶é—´ç¬¦åˆ Azure ä½¿ç”¨çš„åè°ƒä¸–ç•Œæ—¶(UTC)ã€‚

### [](#step-5-set-it-and-forget-it)ç¬¬äº”æ­¥:ç½®ä¹‹ä¸ç†ï¼â°

[![](../Images/6b99c5c7a27d3a6be5291714f695f4da.png)T2ã€‘](https://i.giphy.com/media/fUNGb8eMRelIi9Sit8/giphy.gif)

å¦‚æœä½ çš„å‡½æ•°å·¥ä½œæ­£å¸¸ï¼Œå¹¶ä¸”åœ¨æ­£ç¡®çš„æ—¶é—´å‘é€â€”â€”æ­å–œä½ ï¼Œä½ å·²ç»æ„å»ºäº†ä¸€ä¸ª [Azure è§¦å‘å®šæ—¶å™¨](https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-timer/?WT.mc_id=azuredevtoreminderapp-blog-chcondon)ï¼ğŸ‰ä½ å¯ä»¥éšæ„å®šåˆ¶ä»£ç ï¼Œå¦‚æœä½ æƒ³å¸®åŠ©è‡ªåŠ¨æé†’è‡ªå·±ï¼Œæˆ–è€…å¦‚æœä½ æ­£åœ¨å¯»æ‰¾æ›´å¤šçš„ç‚¹æ’­ï¼Œä½ å¯ä»¥çœ‹çœ‹æˆ‘çš„æ–‡ç« ï¼Œå…³äºä½¿ç”¨ Twilio + Azure [åˆ›å»ºä¸€ä¸ªå‡çš„ç”·æœ‹å‹ç”µè¯/çŸ­ä¿¡ã€‚ç¼–ç å¿«ä¹ï¼](https://medium.com/microsoftazure/an-ambiverts-guide-to-azure-functions-95931976c565)

[![](../Images/4da0ff92c388b1ed469c8396439e8f6a.png)T2ã€‘](https://i.giphy.com/media/qK6ccDxjSmmre/giphy.gif)