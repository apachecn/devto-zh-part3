# 35 LINQ é¢è¯•é—®ç­” 2019 åˆ·æ–°

> åŸæ–‡:[https://dev . to/aershov 24/35-linq-interview-question-and-answers-to-refresh-for-2019-1 dng](https://dev.to/aershov24/35-linq-interview-questions-and-answers-to-refresh-for-2019-1dng)

è°ˆåˆ°æŸ¥è¯¢æ•°æ®åº“ï¼ŒLINQ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯ä¸€ç§æ¯” SQL æ›´é«˜æ•ˆçš„æŸ¥è¯¢è¯­è¨€ã€‚LINQ ä¸ C#(æˆ– VB)é›†æˆï¼Œä»è€Œæ¶ˆé™¤äº†ç¼–ç¨‹è¯­è¨€å’Œæ•°æ®åº“ä¹‹é—´çš„é˜»æŠ—ä¸åŒ¹é…ï¼Œå¹¶ä¸ºå¤§é‡æ•°æ®æºæä¾›äº†å•ä¸€çš„æŸ¥è¯¢æ¥å£ã€‚

> æœ€åˆå‘è¡¨äº [FullStackã€‚æ°¸è¿œä¸è¦å†é”™è¿‡ä½ çš„æŠ€æœ¯é¢è¯•](https://www.fullstack.cafe)

### Q1:LINQ æ˜¯ä»€ä¹ˆï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­

**LINQ** ä»£è¡¨è¯­è¨€ç»¼åˆæŸ¥è¯¢ã€‚LINQ å…è®¸æˆ‘ä»¬ç¼–å†™å¯¹æœ¬åœ°é›†åˆå¯¹è±¡å’Œè¿œç¨‹æ•°æ®æºçš„æŸ¥è¯¢ï¼Œå¦‚ SQLã€XML æ–‡æ¡£ç­‰ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•å®ç°äº†`IEnumerable`æ¥å£çš„é›†åˆç±»ä¸Šç¼–å†™ LINQ æŸ¥è¯¢ã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### Q2:LINQ æœ‰å“ªäº›ç±»å‹ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­

*   LINQ å¯¹ç‰©ä½“
*   LINQ åˆ° XML
*   LINQ åˆ°æ•°æ®é›†
*   LINQ åˆ° SQL
*   LINQ è‡³å®ä½“

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### [](#q3-explain-what-is-linq-why-is-it-required)Q3:è§£é‡Šä»€ä¹ˆæ˜¯ LINQï¼Ÿä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­

**è¯­è¨€é›†æˆæŸ¥è¯¢**æˆ– **LINQ** æ˜¯æ ‡å‡†æŸ¥è¯¢æ“ä½œç¬¦çš„é›†åˆï¼Œæä¾›æŸ¥è¯¢è®¾æ–½ into.NET æ¡†æ¶è¯­è¨€å¦‚ C#ï¼ŒVB.NETã€‚LINQ æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºå®ƒåœ¨æ•°æ®ä¸–ç•Œå’Œå¯¹è±¡ä¸–ç•Œä¹‹é—´æ¶èµ·äº†ä¸€åº§æ¡¥æ¢ã€‚

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### [](#q4-list-out-the-three-main-components-of-linq)Q4:åˆ—å‡º LINQ çš„ä¸‰ä¸ªä¸»è¦æˆåˆ†ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­

LINQ çš„ä¸‰ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†æ˜¯

*   æ ‡å‡†æŸ¥è¯¢è¿ç®—ç¬¦
*   è¯­è¨€æ‰©å±•
*   LINQ ä¾›åº”å•†

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### [](#q5-what-is-anonymous-function)Q5:ä»€ä¹ˆæ˜¯åŒ¿ååŠŸèƒ½ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­

åŒ¿åå‡½æ•°æ˜¯ä¸€ç§æ²¡æœ‰åå­—çš„ç‰¹æ®Šå‡½æ•°ã€‚æˆ‘ä»¬åªéœ€å®šä¹‰å®ƒä»¬çš„å‚æ•°ï¼Œå¹¶å°†ä»£ç å®šä¹‰åœ¨èŠ±æ‹¬å·ä¸­ã€‚

è€ƒè™‘:

```
delegate int func(int a, int b);
static void Main(string[] args)
{
    func f1 = delegate(int a, int b)
    {
        return a + b;
    };

    Console.WriteLine(f1(1, 2));
} 
```

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### [](#q6-what-are-anonymous-types)Q6:ä»€ä¹ˆæ˜¯åŒ¿åç±»å‹ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­

åŒ¿åç±»å‹æ˜¯ç¼–è¯‘å™¨åœ¨è¿è¡Œæ—¶ç”Ÿæˆçš„ç±»å‹ã€‚å½“æˆ‘ä»¬åˆ›å»ºåŒ¿åç±»å‹æ—¶ï¼Œæˆ‘ä»¬ä¸æŒ‡å®šåç§°ã€‚æˆ‘ä»¬åªå†™å±æ€§åå’Œå®ƒä»¬çš„å€¼ã€‚ç¼–è¯‘å™¨åœ¨è¿è¡Œæ—¶åˆ›å»ºè¿™äº›å±æ€§å¹¶ç»™å®ƒä»¬èµ‹å€¼ã€‚

```
var k = new { FirstProperty = "value1", SecondProperty = "value2" };
Console.WriteLine(k.FirstProperty); 
```

åŒ¿åç±»åœ¨ LINQ æŸ¥è¯¢ä¸­å¾ˆæœ‰ç”¨ï¼Œå¯ä»¥ä¿å­˜æˆ‘ä»¬çš„ä¸­é—´ç»“æœã€‚

åŒ¿åç±»å‹ä¹Ÿæœ‰ä¸€äº›é™åˆ¶:

*   åŒ¿åç±»å‹ä¸èƒ½å®ç°æ¥å£ã€‚
*   åŒ¿åç±»å‹ä¸èƒ½æŒ‡å®šä»»ä½•æ–¹æ³•ã€‚
*   æˆ‘ä»¬ä¸èƒ½å®šä¹‰é™æ€æˆå‘˜ã€‚
*   æ‰€æœ‰å·²å®šä¹‰çš„å±æ€§éƒ½å¿…é¡»åˆå§‹åŒ–ã€‚
*   æˆ‘ä»¬åªèƒ½å®šä¹‰å…¬å…±å­—æ®µã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### [](#q7-what-are-extension-methods)Q7:ä»€ä¹ˆæ˜¯å»¶ä¼¸æ³•ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­

**æ‰©å±•æ–¹æ³•**æ˜¯é™æ€ç±»çš„é™æ€å‡½æ•°ã€‚è¿™äº›æ–¹æ³•å¯ä»¥åƒå®ä¾‹æ–¹æ³•è¯­æ³•ä¸€æ ·è¢«è°ƒç”¨ã€‚å½“æˆ‘ä»¬ä¸æƒ³ä¿®æ”¹ç±»æ—¶ï¼Œè¿™äº›æ–¹æ³•å¾ˆæœ‰ç”¨ã€‚è€ƒè™‘:

```
public static class StringMethods
{
    public static bool IsStartWithLetterM(this string s)
    {
        return s.StartsWith("m");
    }
}
class Program
{
    static void Main(string[] args)
    {
        string value = "malslfds";
        Console.WriteLine(value.IsStartWithLetterM()); //print true;

        Console.ReadLine();
    }
} 
```

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### [](#q8-explain-what-is-linq-to-objects)Q8:è§£é‡Šä»€ä¹ˆæ˜¯â€œLINQ è‡³ç‰©â€ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­

å½“ LINQ ç›´æ¥æŸ¥è¯¢ä»»ä½•`IEnumerable(<T>)`é›†åˆæˆ– IEnumerable è€Œä¸ä½¿ç”¨ä¸­é—´ LINQ æä¾›è€…æˆ– API(å¦‚ LINQ åˆ° SQL æˆ– LINQ åˆ° XML)æ—¶ï¼Œè¢«ç§°ä¸º **LINQ åˆ°å¯¹è±¡**ã€‚

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### é—®é¢˜ 9:è§£é‡Š LINQ ä¾›åº”å•†åœ¨ LINQ çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­

LINQ æä¾›ç¨‹åºæ˜¯é‡‡ç”¨ LINQ æŸ¥è¯¢çš„ä¸€ç»„ç±»ï¼Œè¯¥æŸ¥è¯¢ç”Ÿæˆå¯¹ç‰¹å®šæ•°æ®æºæ‰§è¡Œç­‰æ•ˆæŸ¥è¯¢çš„æ–¹æ³•ã€‚

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### [](#q10-mention-what-is-the-role-of-datacontext-classes-in-linq)Q10:æåˆ° DataContext ç±»åœ¨ LINQ çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­

**DataContext** ç±»å……å½“ SQL Server æ•°æ®åº“å’Œ SQL LINQ ä¹‹é—´çš„æ¡¥æ¢ã€‚ä¸ºäº†è®¿é—®æ•°æ®åº“å’Œæ”¹å˜æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œå®ƒåŒ…å«è¿æ¥å­—ç¬¦ä¸²å’Œå‡½æ•°ã€‚å®é™…ä¸Šï¼ŒDataContext ç±»æ‰§è¡Œä»¥ä¸‹ä¸‰é¡¹ä»»åŠ¡:

*   åˆ›å»ºåˆ°æ•°æ®åº“çš„è¿æ¥ã€‚
*   å®ƒå‘æ•°æ®åº“æäº¤å’Œæ£€ç´¢å¯¹è±¡ã€‚
*   å°†å¯¹è±¡è½¬æ¢ä¸º SQL æŸ¥è¯¢ï¼Œåä¹‹äº¦ç„¶ã€‚

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### Q11:åœ¨ LINQ ä¸­ï¼Œå¦‚ä½•ä½¿ç”¨ where()å’Œ Lambda è¡¨è¾¾å¼æ‰¾åˆ°å…ƒç´ çš„ç´¢å¼•ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­

ä¸ºäº†æ‰¾åˆ°å…ƒç´ çš„ç´¢å¼•ï¼Œä½¿ç”¨é‡è½½ç‰ˆæœ¬çš„`where()`å’Œ lambda è¡¨è¾¾å¼:

```
where(( i, ix ) => i == ix); 
```

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### [](#q12-explain-how-linq-is-useful-than-stored-procedures)Q12:è§£é‡Šä¸€ä¸‹ LINQ ä¸ºä»€ä¹ˆæ¯”å­˜å‚¨è¿‡ç¨‹æœ‰ç”¨ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­

*   è°ƒè¯•:è°ƒè¯•å­˜å‚¨è¿‡ç¨‹å¾ˆå›°éš¾ï¼Œä½†æ˜¯ç”±äº LINQ æ˜¯ of.NET çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ visual studio è°ƒè¯•å™¨æ¥è°ƒè¯•æŸ¥è¯¢
*   **éƒ¨ç½²:**å¯¹äºå­˜å‚¨è¿‡ç¨‹ï¼Œåº”è¯¥æä¾›é¢å¤–çš„è„šæœ¬ï¼Œä½†æ˜¯æœ‰äº† LINQï¼Œä¸€åˆ‡éƒ½è¢«ç¼–è¯‘æˆä¸€ä¸ª DLLï¼Œå› æ­¤éƒ¨ç½²å˜å¾—å®¹æ˜“
*   ç±»å‹å®‰å…¨: LINQ æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œæ‰€ä»¥åœ¨ç¼–è¯‘æ—¶ä¼šå¯¹æŸ¥è¯¢é”™è¯¯è¿›è¡Œç±»å‹æ£€æŸ¥

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### Q13:è§£é‡Šä¸ºä»€ä¹ˆåœ¨ LINQ ä¸­ SELECT å­å¥åœ¨ FROM å­å¥ä¹‹åï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­

ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€å’Œ C#ä¸€æ ·ï¼ŒLINQ è¢«ä½¿ç”¨ï¼Œå®ƒè¦æ±‚æ‰€æœ‰çš„å˜é‡è¢«é¦–å…ˆå£°æ˜ã€‚LINQ æŸ¥è¯¢çš„â€œFROMâ€å­å¥å®šä¹‰äº†é€‰æ‹©è®°å½•çš„èŒƒå›´æˆ–æ¡ä»¶ã€‚å› æ­¤ï¼Œåœ¨ LINQï¼ŒFROM å­å¥å¿…é¡»å‡ºç°åœ¨ SELECT ä¹‹å‰ã€‚

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### [](#q14-could-you-compare-entity-framework-vs-linq-to-sql-vs-adonet-with-stored-procedures)Q14:æ‚¨èƒ½æ¯”è¾ƒä¸€ä¸‹å®ä½“æ¡†æ¶å’Œ LINQ ä¸ SQL å’Œ ADO.NET çš„å­˜å‚¨è¿‡ç¨‹å—ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

**å­˜å‚¨è¿‡ç¨‹:**

(++)

*   æå¤§çš„çµæ´»æ€§
*   å®Œå…¨æ§åˆ¶ SQL
*   ç°æœ‰çš„æœ€é«˜æ€§èƒ½

( - )

*   éœ€è¦ SQL çŸ¥è¯†
*   å­˜å‚¨è¿‡ç¨‹ä¸å—æºä»£ç æ§åˆ¶(æ›´éš¾æµ‹è¯•)
*   åœ¨æŒ‡å®šç›¸åŒçš„è¡¨åå’Œå­—æ®µåæ—¶ï¼Œå¤§é‡çš„â€œé‡å¤å·¥ä½œâ€ã€‚åœ¨é‡å‘½åä¸€ä¸ªæ•°æ®åº“å®ä½“å¹¶åœ¨æŸå¤„ä¸¢å¤±äº†å¯¹å®ƒçš„ä¸€äº›å¼•ç”¨åï¼Œç ´ååº”ç”¨ç¨‹åºçš„å¯èƒ½æ€§å¾ˆå¤§ã€‚
*   å‘å±•ç¼“æ…¢

**å½¢å¼(EFã€L2SQLã€ADOã€‚å‡€:**

(++)

*   è¿…é€Ÿå‘å±•
*   æ•°æ®è®¿é—®ä»£ç ç°åœ¨å—æºä»£ç æ§åˆ¶
*   ä½ ä¸ä¼šå—åˆ° DB å˜åŒ–çš„å½±å“ã€‚å¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œæ‚¨åªéœ€è¦åœ¨ä¸€ä¸ªåœ°æ–¹æ›´æ–°æ‚¨çš„æ¨¡å‹/æ˜ å°„ã€‚

( - )

*   æ€§èƒ½å¯èƒ½ä¼šæ›´å·®
*   å¯¹ ORM äº§ç”Ÿçš„ SQL æ²¡æœ‰æ§åˆ¶æˆ–è€…æ§åˆ¶å¾ˆå°‘(å¯èƒ½æ•ˆç‡ä½ä¸‹æˆ–è€…é”™è¯¯ç™¾å‡º)ã€‚å¯èƒ½éœ€è¦å¹²é¢„å¹¶ç”¨è‡ªå®šä¹‰å­˜å‚¨è¿‡ç¨‹æ›¿æ¢å®ƒã€‚è¿™å°†ä½¿æ‚¨çš„ä»£ç å˜å¾—æ··ä¹±(ä¸€äº› LINQ åœ¨ä»£ç ä¸­ï¼Œä¸€äº› SQL åœ¨ä»£ç ä¸­å’Œ/æˆ–åœ¨ä¸å—æºä»£ç æ§åˆ¶çš„æ•°æ®åº“ä¸­)ã€‚
*   å› ä¸ºä»»ä½•æŠ½è±¡éƒ½å¯èƒ½å¯¼è‡´â€œé«˜çº§â€å¼€å‘äººå‘˜ä¸çŸ¥é“å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### [](#q15-when-trying-to-decide-between-using-the-entity-framework-and-linq-to-sql-as-an-orm-whats-the-difference)Q15:å½“è¯•å›¾åœ¨ä½¿ç”¨å®ä½“æ¡†æ¶å’Œ LINQ åˆ° SQL ä½œä¸º ORM ä¹‹é—´åšå‡ºå†³å®šæ—¶ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

*   **LINQ åˆ° SQL** ä»…æ”¯æŒ Microsoft SQL Server ä¸­å¯ç”¨çš„æ•°æ®åº“è¡¨ã€è§†å›¾ã€å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°çš„ä¸€å¯¹ä¸€æ˜ å°„ã€‚å¯¹äºè®¾è®¡ç›¸å¯¹è¾ƒå¥½çš„ SQL Server æ•°æ®åº“æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºå¿«é€Ÿæ•°æ®è®¿é—®æ„é€ çš„å¾ˆå¥½çš„ APIã€‚LINQ2SQL æœ€åˆæ˜¯éš C# 3.0 å’Œã€‚Net æ¡†æ¶ 3.5ã€‚

*   ADO.Net å®ä½“æ¡†æ¶æ˜¯ä¸€ä¸ª ORM(å¯¹è±¡å…³ç³»æ˜ å°„å™¨)APIï¼Œå®ƒå…è®¸å¯¹å¯¹è±¡åŸŸæ¨¡å‹åŠå…¶ä¸è®¸å¤šä¸åŒ ADO.Net æ•°æ®æä¾›è€…çš„å…³ç³»è¿›è¡Œå¹¿æ³›çš„å®šä¹‰ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥æ··åˆå’ŒåŒ¹é…è®¸å¤šä¸åŒçš„æ•°æ®åº“ä¾›åº”å•†ã€åº”ç”¨æœåŠ¡å™¨æˆ–åè®®ï¼Œä»¥è®¾è®¡ç”±å„ç§è¡¨ã€æºã€æœåŠ¡ç­‰æ„å»ºçš„å¯¹è±¡çš„èšåˆæ··æ­ã€‚ADO.Net æ¡†æ¶æ˜¯éšã€‚Net æ¡†æ¶ 3.5 SP1ã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### [](#q16-using-linq-to-remove-elements-from-a-list)Q16:ä½¿ç”¨ LINQ ä»åˆ—è¡¨ä¸­åˆ é™¤å…ƒç´ 

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

å‡è®¾`authorsList`æ˜¯ç±»å‹`List<Author>`ï¼Œæˆ‘å¦‚ä½•åˆ é™¤ç­‰äº`Bob`çš„`Author`å…ƒç´ ï¼Ÿ

* * *

è€ƒè™‘:

```
authorsList.RemoveAll(x => x.FirstName == "Bob"); 
```

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### Q17:First()å’Œ Take(1)æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

è€ƒè™‘:

```
var result = List.Where(x => x == "foo").First();
var result = List.Where(x => x == "foo").Take(1); 
```

* * *

`First()`å’Œ`Take()`çš„åŒºåˆ«åœ¨äº`First()`è¿”å›çš„æ˜¯å…ƒç´ æœ¬èº«ï¼Œè€Œ`Take()`è¿”å›çš„æ˜¯æ°å¥½åŒ…å«ä¸€ä¸ªå…ƒç´ çš„å…ƒç´ åºåˆ—ã€‚(å¦‚æœå°† 1 ä½œä¸ºå‚æ•°ä¼ é€’)ã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### Q18:LINQ ä»€ä¹ˆæ—¶å€™ç”¨ First()ä»€ä¹ˆæ—¶å€™ç”¨ FirstOrDefault()ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

*   å½“æ‚¨çŸ¥é“æˆ–æœŸæœ›åºåˆ—è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œä½¿ç”¨`First()`ã€‚æ¢å¥è¯è¯´ï¼Œå½“åºåˆ—ä¸ºç©ºæ˜¯ä¸€ç§ä¾‹å¤–æƒ…å†µæ—¶ã€‚
*   å½“ä½ çŸ¥é“ä½ éœ€è¦æ£€æŸ¥æ˜¯å¦æœ‰ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œä½¿ç”¨`FirstOrDefault()`ã€‚æ¢å¥è¯è¯´ï¼Œå½“åºåˆ—ä¸ºç©ºåˆæ³•æ—¶ã€‚æ‚¨ä¸åº”è¯¥ä¾èµ–å¼‚å¸¸å¤„ç†æ¥è¿›è¡Œæ£€æŸ¥ã€‚(è¿™æ˜¯ä¸å¥½çš„åšæ³•ï¼Œå¯èƒ½ä¼šå½±å“æ€§èƒ½)ã€‚

å¦‚æœæ²¡æœ‰è¦è¿”å›çš„è¡Œï¼Œ`First()`å°†æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œè€Œ`FirstOrDefault()`å°†è¿”å›é»˜è®¤å€¼(å¯¹äºæ‰€æœ‰å¼•ç”¨ç±»å‹ä¸º NULL)ã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### [](#q19-explain-how-standard-query-operators-useful-in-linq)Q19:è§£é‡Šæ ‡å‡†æŸ¥è¯¢æ“ä½œç¬¦åœ¨ LINQ å¦‚ä½•æœ‰ç”¨ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

å½¢æˆæŸ¥è¯¢æ¨¡å¼çš„ä¸€ç»„æ‰©å±•æ–¹æ³•è¢«ç§°ä¸º LINQ æ ‡å‡†æŸ¥è¯¢æ“ä½œç¬¦ã€‚ä½œä¸º LINQ æŸ¥è¯¢è¡¨è¾¾å¼çš„æ„å»ºå—ï¼Œè¿™äº›è¿ç®—ç¬¦æä¾›äº†ä¸€ç³»åˆ—æŸ¥è¯¢åŠŸèƒ½ï¼Œå¦‚è¿‡æ»¤ã€æ’åºã€æŠ•å½±ã€èšåˆç­‰ã€‚

æ ¹æ®åŠŸèƒ½ï¼ŒLINQ æ ‡å‡†æŸ¥è¯¢æ“ä½œç¬¦å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ã€‚

*   è¿‡æ»¤è¿ç®—ç¬¦(Whereï¼ŒOfType)
*   è”æ¥è¿ç®—ç¬¦(è”æ¥ã€ç»„è”æ¥)
*   æŠ•å½±æ“ä½œ(é€‰æ‹©ï¼Œå¤šé€‰)
*   æ’åºè¿ç®—ç¬¦(OrderByã€ThenByã€Reverseã€...)
*   åˆ†ç»„è¿ç®—ç¬¦(GroupByã€ToLookup)
*   è½¬æ¢(Castã€ToArrayã€ToListã€...)
*   ä¸²è”(Concat)
*   èšåˆ(èšåˆã€å¹³å‡ã€è®¡æ•°ã€æœ€å¤§å€¼ã€...)
*   é‡è¯è¿ç®—(Allã€Anyã€Contains)
*   åˆ†åŒºæ“ä½œ(Skipï¼ŒSkipWhileï¼ŒTakeï¼Œ...)
*   ç”Ÿæˆæ“ä½œ(DefaultIfEmptyã€Emptyã€Rangeã€Repeat)
*   é›†åˆæ“ä½œ(Distinctï¼ŒExceptï¼Œ...)
*   ç›¸ç­‰(SequenceEqual)
*   å…ƒç´ è¿ç®—ç¬¦(ElementAtï¼ŒFirstï¼ŒLastï¼Œ...)

ğŸ”—**æ¥æº:**ã€tutorialspoint.comã€‘T2

### Q20:ä»€ä¹ˆæ˜¯è¡¨æƒ…æ ‘ï¼Œå®ƒä»¬åœ¨ LINQ æ˜¯å¦‚ä½•ä½¿ç”¨çš„ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

ä¸€ä¸ª**è¡¨è¾¾å¼æ ‘**æ˜¯ä¸€ä¸ªåŒ…å«è¡¨è¾¾å¼çš„æ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä»£ç ã€‚æ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œè¡¨ç¤ºä½ å¯ä»¥ç”¨ä»£ç è¿›è¡Œçš„è®¡ç®—ã€‚ç„¶åï¼Œå¯ä»¥é€šè¿‡åœ¨ä¸€ç»„æ•°æ®ä¸Šâ€œè¿è¡Œâ€è¡¨è¾¾å¼æ ‘æ¥æ‰§è¡Œè¿™äº›ä»£ç ã€‚

åœ¨ LINQï¼Œè¡¨è¾¾å¼æ ‘è¢«ç”¨æ¥è¡¨ç¤ºç»“æ„åŒ–æŸ¥è¯¢ï¼Œè¿™äº›æŸ¥è¯¢ä»¥å®ç°`IQueryable<T>`çš„æ•°æ®æºä¸ºç›®æ ‡ã€‚ä¾‹å¦‚ï¼ŒLINQ æä¾›è€…å®ç°äº†ç”¨äºæŸ¥è¯¢å…³ç³»æ•°æ®å­˜å‚¨çš„`IQueryable<T>`æ¥å£ã€‚C#ç¼–è¯‘å™¨å°†é’ˆå¯¹æ­¤ç±»æ•°æ®æºçš„æŸ¥è¯¢ç¼–è¯‘æˆä»£ç ï¼Œåœ¨è¿è¡Œæ—¶æ„å»ºè¡¨è¾¾å¼æ ‘ã€‚ç„¶åï¼ŒæŸ¥è¯¢æä¾›ç¨‹åºå¯ä»¥éå†è¡¨è¾¾å¼æ ‘æ•°æ®ç»“æ„ï¼Œå¹¶å°†å…¶ç¿»è¯‘æˆé€‚åˆæ•°æ®æºçš„æŸ¥è¯¢è¯­è¨€ã€‚

ğŸ”—**æ¥æº:**ã€docs.microsoft.comã€‘T2

### Q21:ä½ èƒ½è§£é‡Šä¸€ä¸‹ C#ä¸­å»¶è¿Ÿæ‰§è¡Œå’Œå»¶è¿Ÿæ±‚å€¼çš„ç¡®åˆ‡åŒºåˆ«å—ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

å®é™…ä¸Šï¼Œå®ƒä»¬çš„æ„æ€åŸºæœ¬ç›¸åŒã€‚ç„¶è€Œï¼Œæœ€å¥½ä½¿ç”¨å»¶æœŸè¿™ä¸ªæœ¯è¯­ã€‚

*   æ‡’æƒ°æ„å‘³ç€â€œä¸åˆ°ä¸‡ä¸å¾—å·²ä¸è¦åšå·¥ä½œã€‚â€
*   å»¶è¿Ÿæ„å‘³ç€â€œåœ¨è°ƒç”¨è€…å®é™…ä½¿ç”¨ç»“æœä¹‹å‰ï¼Œä¸è¦è®¡ç®—ç»“æœã€‚â€

å½“è°ƒç”¨è€…å†³å®šä½¿ç”¨è¯„ä¼°çš„ç»“æœæ—¶(å³å¼€å§‹éå†ä¸€ä¸ª`IEnumerable<T>`)ï¼Œè¿™æ­£æ˜¯éœ€è¦å®Œæˆâ€œå·¥ä½œâ€çš„æ—¶å€™(æ¯”å¦‚å‘æ•°æ®åº“å‘å‡ºä¸€ä¸ªæŸ¥è¯¢)ã€‚

æœ¯è¯­*å»¶è¿Ÿ*æ›´å…·ä½“/æè¿°äº†å®é™…å‘ç”Ÿçš„äº‹æƒ…ã€‚å½“æˆ‘è¯´æˆ‘æ‡’çš„æ—¶å€™ï¼Œæ„æ€æ˜¯æˆ‘é¿å…åšä¸å¿…è¦çš„å·¥ä½œï¼›è¿™åˆ°åº•æ„å‘³ç€ä»€ä¹ˆè¿˜ä¸æ¸…æ¥šã€‚ç„¶è€Œï¼Œå½“æˆ‘è¯´æ‰§è¡Œ/è¯„ä¼°è¢«æ¨è¿Ÿæ—¶ï¼Œå®ƒæœ¬è´¨ä¸Šæ„å‘³ç€æˆ‘æ ¹æœ¬æ²¡æœ‰ç»™ä½ çœŸæ­£çš„ç»“æœï¼Œè€Œæ˜¯ä¸€å¼ ä½ å¯ä»¥ç”¨æ¥è¦æ±‚ç»“æœçš„ç¥¨ã€‚æˆ‘æ¨è¿Ÿäº†å®é™…ä¸Šèµ°å‡ºå»ï¼Œå¾—åˆ°é‚£ä¸ªç»“æœï¼Œç›´åˆ°ä½ è¦æ±‚å®ƒã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### [](#q22-explain-what-are-linq-compiled-queries)Q22:è§£é‡Šä»€ä¹ˆæ˜¯ LINQ ç¼–è¯‘æŸ¥è¯¢ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

å¯èƒ½ä¼šå‡ºç°æˆ‘ä»¬éœ€è¦å¤šæ¬¡é‡å¤æ‰§è¡Œç‰¹å®šæŸ¥è¯¢çš„æƒ…å†µã€‚LINQ å…è®¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæŸ¥è¯¢ï¼Œå¹¶ä½¿å®ƒæ€»æ˜¯è¢«ç¼–è¯‘ï¼Œä»è€Œä½¿è¿™ä¸ªä»»åŠ¡å˜å¾—éå¸¸ç®€å•ã€‚ç¼–è¯‘æŸ¥è¯¢çš„å¥½å¤„:

*   æ¯æ¬¡éƒ½éœ€è¦ç¼–è¯‘æŸ¥è¯¢ï¼Œæ‰€ä»¥æŸ¥è¯¢çš„æ‰§è¡Œé€Ÿåº¦å¾ˆå¿«ã€‚
*   æŸ¥è¯¢åªç¼–è¯‘ä¸€æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨ä»»æ„æ¬¡ã€‚
*   å³ä½¿æŸ¥è¯¢çš„å‚æ•°æ­£åœ¨æ›´æ”¹ï¼ŒæŸ¥è¯¢ä¹Ÿéœ€è¦é‡æ–°ç¼–è¯‘ã€‚

è€ƒè™‘:

```
static class MyCompliedQueries {
    public static Func <DataClasses1DataContext, IQueryable <Person>> CompliedQueryForPerson = 
        CompiledQuery.Compile((DataClasses1DataContext context) = >from c in context.Persons select c);
} 
```

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### [](#q23-get-the-indexes-of-top-n-items-where-item-value-true)Q23:è·å–é¡¹ç›®å€¼ä¸ºçœŸçš„å‰ n ä¸ªé¡¹ç›®çš„ç´¢å¼•

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

æˆ‘æœ‰ä¸€ä¸ª`List<bool>`ã€‚æˆ‘éœ€è¦å¾—åˆ°å‰ n ä¸ªæ¡ç›®çš„ç´¢å¼•ï¼Œå…¶ä¸­æ¡ç›®`value = true`ã€‚

```
10011001000

TopTrueIndexes(3) = The first 3 indexes where bits are true are 0, 3, 4 
TopTrueIndexes(4) = The first 4 indexes where bits are true are 0, 3, 4, 7 
```

* * *

å‡è®¾ä½ æœ‰ä¸€äº›å®¹æ˜“è¯†åˆ«çš„æ¡ä»¶ï¼Œä½ å¯ä»¥è¿™æ ·åšï¼Œè¿™å°†é€‚ç”¨äºä»»ä½•`IEnumerable<T>` :

```
var query = source.Select((value, index) => new { value, index })
                  .Where(x => x.value => Condition(value))
                  .Select(x => x.index)
                  .Take(n); 
```

é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œæ‚¨ä½¿ç”¨é‡è½½`Select`æ¥è·å– Where ä¹‹å‰çš„ç´¢å¼•/å€¼å¯¹ï¼Œç„¶åä½¿ç”¨å¦ä¸€ä¸ª Select æ¥è·å– Where ä¹‹åçš„ç´¢å¼•...å¹¶ä½¿ç”¨ Take åªè·å¾—å‰ n ä¸ªç»“æœã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### [](#q24-define-what-is-let-clause)Q24:å®šä¹‰ä»€ä¹ˆæ˜¯ Let å­å¥ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

åœ¨æŸ¥è¯¢è¡¨è¾¾å¼ä¸­ï¼Œå­˜å‚¨å­è¡¨è¾¾å¼çš„ç»“æœæœ‰æ—¶å¾ˆæœ‰ç”¨ï¼Œä»¥ä¾¿åœ¨åç»­å­å¥ä¸­ä½¿ç”¨å®ƒã€‚æ‚¨å¯ä»¥ä½¿ç”¨`let`å…³é”®å­—æ¥å®ç°è¿™ä¸€ç‚¹ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„èŒƒå›´å˜é‡ï¼Œå¹¶ç”¨æ‚¨æä¾›çš„è¡¨è¾¾å¼çš„ç»“æœæ¥åˆå§‹åŒ–å®ƒã€‚

è€ƒè™‘:

```
var names = new string[] { "Dog", "Cat", "Giraffe", "Monkey", "Tortoise" };
var result =
    from animalName in names
    let nameLength = animalName.Length
    where nameLength > 3
    orderby nameLength
    select animalName; 
```

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### [](#q25-explain-what-is-the-difference-between-skip-and-skipwhile-extension-method)Q25:è§£é‡Š Skip()å’Œ SkipWhile()æ‰©å±•æ–¹æ³•çš„åŒºåˆ«ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

*   **Skip()** **:** å®ƒå°†æ¥å—ä¸€ä¸ªæ•´æ•°å‚æ•°ï¼Œå¹¶ä»ç»™å®šçš„`IEnumerable`å¼€å§‹è·³è¿‡é¡¶éƒ¨çš„`n`ä¸ªæ•°å­—
*   **SkipWhile ():** å®ƒå°†ç»§ç»­è·³è¿‡å…ƒç´ ï¼Œç›´åˆ°è¾“å…¥æ¡ä»¶ä¸º`true`ã€‚å¦‚æœæ¡ä»¶æ˜¯`false`ï¼Œå®ƒå°†è¿”å›æ‰€æœ‰å‰©ä½™çš„å…ƒç´ ã€‚

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### [](#q26-explain-what-is-lambda-expressions-in-linq)Q26:è§£é‡Šä»€ä¹ˆæ˜¯ lambda åœ¨ LINQ çš„è¡¨è¾¾ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­

**Î»è¡¨è¾¾å¼**è¢«è®¤ä¸ºæ˜¯ç”¨äºå½¢æˆå§”æ‰˜æˆ–è¡¨è¾¾å¼æ ‘ç±»å‹çš„å”¯ä¸€å‡½æ•°ï¼Œå…¶ä¸­å³ä¾§æ˜¯æ–¹æ³•çš„è¾“å‡ºï¼Œå·¦ä¾§æ˜¯æ–¹æ³•çš„è¾“å…¥ã€‚ç‰¹åˆ«æ˜¯ä¸ºäº†ç¼–å†™ LINQ æŸ¥è¯¢ï¼Œä½¿ç”¨äº† Lambda è¡¨è¾¾å¼ã€‚

ğŸ”—**æ¥æº:**ã€career.guru99.comã€‘T2

### Q27:è¯´å‡º LINQ ä¼˜äºå­˜å‚¨è¿‡ç¨‹çš„ä¸€äº›ä¼˜ç‚¹

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­â­

LINQ ç›¸å¯¹äºä½“è‚²è¿åŠ¨çš„ä¸€äº›ä¼˜åŠ¿:

1.  **ç±»å‹å®‰å…¨**:è¿™ä¸ªæˆ‘æƒ³å¤§å®¶éƒ½æ‡‚ã€‚
2.  æŠ½è±¡:å¯¹äº LINQ åˆ°å®ä½“æ¥è¯´å°¤å…¶å¦‚æ­¤ã€‚è¿™ç§æŠ½è±¡è¿˜å…è®¸æ¡†æ¶æ·»åŠ é¢å¤–çš„æ”¹è¿›ï¼Œæ‚¨å¯ä»¥å¾ˆå®¹æ˜“åœ°åˆ©ç”¨è¿™äº›æ”¹è¿›ã€‚PLINQ æ˜¯å‘ LINQ æ·»åŠ å¤šçº¿ç¨‹æ”¯æŒçš„ä¸€ä¸ªä¾‹å­ã€‚æ·»åŠ è¿™ç§æ”¯æŒæ‰€éœ€çš„ä»£ç æ›´æ”¹å¾ˆå°‘ã€‚ç®€å•åœ°è°ƒç”¨å­˜å‚¨è¿‡ç¨‹çš„æ•°æ®è®¿é—®ä»£ç è¦å›°éš¾å¾—å¤šã€‚
3.  **è°ƒè¯•æ”¯æŒ**:æˆ‘å¯ä»¥ç”¨ä»»ä½•ã€‚NET è°ƒè¯•å™¨æ¥è°ƒè¯•æŸ¥è¯¢ã€‚ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ï¼Œæ‚¨ä¸èƒ½è½»æ¾åœ°è°ƒè¯• SQLï¼Œè¿™ç§ä½“éªŒå¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºæ‚¨çš„æ•°æ®åº“ä¾›åº”å•†(MS SQL Server æä¾›äº†ä¸€ä¸ªæŸ¥è¯¢åˆ†æå™¨ï¼Œä½†é€šå¸¸è¿™è¿˜ä¸å¤Ÿ)ã€‚
4.  **ä¸ä¾›åº”å•†æ— å…³** : LINQ ä¸è®¸å¤šæ•°æ®åº“ååŒå·¥ä½œï¼Œæ”¯æŒçš„æ•°æ®åº“æ•°é‡åªä¼šå¢åŠ ã€‚å­˜å‚¨è¿‡ç¨‹å¹¶ä¸æ€»æ˜¯å¯ä»¥åœ¨æ•°æ®åº“ä¹‹é—´ç§»æ¤ï¼Œå› ä¸ºè¯­æ³•æˆ–ç‰¹æ€§æ”¯æŒä¸åŒ(å¦‚æœæ•°æ®åº“æ”¯æŒå­˜å‚¨è¿‡ç¨‹çš„è¯)ã€‚
5.  **éƒ¨ç½²**:éƒ¨ç½²å•ä¸ªç¨‹åºé›†æ¯”éƒ¨ç½²ä¸€ç»„å­˜å‚¨è¿‡ç¨‹æ›´å®¹æ˜“ã€‚è¿™ä¹Ÿä¸ç¬¬å››ç‚¹æœ‰å…³ã€‚
6.  **æ›´ç®€å•**:ä¸éœ€è¦å­¦ä¹  T-SQL åšæ•°æ®è®¿é—®ï¼Œä¹Ÿä¸éœ€è¦å­¦ä¹ è°ƒç”¨å­˜å‚¨è¿‡ç¨‹æ‰€å¿…éœ€çš„æ•°æ®è®¿é—® API(ä¾‹å¦‚ ADO.NET)ã€‚è¿™ä¸#3 å’Œ#4 æœ‰å…³ã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### Q28:åœ¨ LINQ å»¶æœŸæ‰§è¡Œæ­»åˆ‘æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­â­

**å»¶è¿Ÿæ‰§è¡Œ**æ„å‘³ç€è¡¨è¾¾å¼çš„æ±‚å€¼è¢«å»¶è¿Ÿï¼Œç›´åˆ°å®é™…éœ€è¦å®ƒçš„å®ç°å€¼ã€‚å½“æ‚¨å¿…é¡»æ“ä½œå¤§å‹æ•°æ®é›†åˆæ—¶ï¼Œå»¶è¿Ÿæ‰§è¡Œå¯ä»¥æå¤§åœ°æé«˜æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åœ¨åŒ…å«ä¸€ç³»åˆ—é“¾å¼æŸ¥è¯¢æˆ–æ“ä½œçš„ç¨‹åºä¸­ã€‚åœ¨æœ€å¥½çš„æƒ…å†µä¸‹ï¼Œå»¶è¿Ÿæ‰§è¡Œåªèƒ½å¯¹æºé›†åˆè¿›è¡Œä¸€æ¬¡è¿­ä»£ã€‚

åœ¨è¿­ä»£å™¨å—ä¸­ä½¿ç”¨æ—¶ï¼ŒC#è¯­è¨€ä¸­çš„å…³é”®å­—`yield`ç›´æ¥æ”¯æŒå»¶è¿Ÿæ‰§è¡Œ(ä»¥ yield-return è¯­å¥çš„å½¢å¼)ã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### Q29:ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ç¼–è¯‘æŸ¥è¯¢ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­â­

å½“ä»¥ä¸‹æ‰€æœ‰æƒ…å†µéƒ½æˆç«‹æ—¶ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨`CompiledQuery`:

*   è¯¥æŸ¥è¯¢å°†è¢«å¤šæ¬¡æ‰§è¡Œï¼Œä»…å› å‚æ•°å€¼è€Œå¼‚ã€‚
*   æŸ¥è¯¢éå¸¸å¤æ‚ï¼Œä»¥è‡³äºè¡¨è¾¾å¼æ±‚å€¼å’Œè§†å›¾ç”Ÿæˆçš„æˆæœ¬éå¸¸é«˜(åå¤è¯•éªŒ)
*   ä½ æ²¡æœ‰ä½¿ç”¨åƒ`IEnumerable<T>.Contains()`è¿™æ ·çš„ LINQ åŠŸèƒ½ï¼Œå®ƒä¸èƒ½ä¸`CompiledQuery`ä¸€èµ·å·¥ä½œã€‚
*   æ‚¨å·²ç»ç®€åŒ–äº†æŸ¥è¯¢ï¼Œè¿™åœ¨å¯èƒ½çš„æƒ…å†µä¸‹æä¾›äº†æ›´å¤§çš„æ€§èƒ½ä¼˜åŠ¿ã€‚
*   æ‚¨ä¸æ‰“ç®—è¿›ä¸€æ­¥ç»„åˆæŸ¥è¯¢ç»“æœ(ä¾‹å¦‚ï¼Œrestrict æˆ– project)ï¼Œè¿™ä¼šäº§ç”Ÿâ€œåç¼–è¯‘â€çš„æ•ˆæœã€‚

ç¬¬ä¸€æ¬¡æ‰§è¡ŒæŸ¥è¯¢æ—¶ï¼Œå®ƒå°±å¼€å§‹å·¥ä½œã€‚è¿™å¯¹ç¬¬ä¸€æ¬¡æ‰§è¡Œæ²¡æœ‰ä»»ä½•å¥½å¤„ã€‚åƒä»»ä½•æ€§èƒ½è°ƒä¼˜ä¸€æ ·ï¼Œé€šå¸¸è¦é¿å…å®ƒï¼Œç›´åˆ°æ‚¨ç¡®å®šæ‚¨æ­£åœ¨ä¿®å¤ä¸€ä¸ªå®é™…çš„æ€§èƒ½çƒ­ç‚¹ã€‚æ³¨æ„ EF 5 ä¼šè‡ªåŠ¨è¿™æ ·åšã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### [](#q30-what-is-an-equivalent-to-the-let-keyword-in-chained-linq-extension-method-calls)Q30:é“¾å¼ LINQ æ‰©å±•æ–¹æ³•è°ƒç”¨ä¸­çš„â€œletâ€å…³é”®å­—ç­‰ä»·äºä»€ä¹ˆï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­â­

åŸºæœ¬ä¸Š`let`åˆ›å»ºäº†ä¸€ä¸ªåŒ¿åå…ƒç»„ã€‚ç›¸å½“äº:

```
var result = names.Select(animal => new { animal = animal, nameLength = animal.Length })
    .Where(x => x.nameLength > 3)
    .OrderBy(y => y.nameLength)
    .Select(z => z.animal); 
```

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### [](#q31-can-you-provide-a-concise-distinction-between-anonymous-method-and-lambda-expressions)Q31:èƒ½å¦æä¾›åŒ¿åæ–¹æ³•å’Œ lambda è¡¨è¾¾å¼çš„ç®€æ˜åŒºåˆ†ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­â­â­

è€ƒè™‘ä»¥ä¸‹æŸ¥è¯¢:

```
Customers.Where(delegate(Customers c) { return c.City == "London";}); // delegate
Customers.Where(c => c.City == "London"); // lambda 
```

ç¬¬ä¸€æ¬¡ç”Ÿæˆ:

```
SELECT [t0].[CustomerID], [t0].[CompanyName], [t0].[ContactName], [t0].[ContactTitle], [t0].[Address], [t0].[City], [t0].[Region], [t0].[PostalCode], [t0].[Country], [t0].[Phone], [t0].[Fax]
    FROM [Customers] AS [t0] 
```

è€Œç¬¬äºŒä¸ªç”Ÿæˆ:

```
SELECT [t0].[CustomerID], [t0].[CompanyName], [t0].[ContactName], [t0].[ContactTitle], [t0].[Address], [t0].[City], [t0].[Region], [t0].[PostalCode], [t0].[Country], [t0].[Phone], [t0].[Fax]
    FROM [Customers] AS [t0]
    WHERE [t0].[City] = @p0 
```

ç¼–è¯‘å™¨èƒ½å¤Ÿç¡®å®š lambda è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªç®€å•çš„å•è¡Œè¡¨è¾¾å¼ï¼Œå¯ä»¥ä¿ç•™ä¸ºè¡¨è¾¾å¼æ ‘ï¼Œè€ŒåŒ¿åå§”æ‰˜ä¸æ˜¯ lambda è¡¨è¾¾å¼ï¼Œå› æ­¤ä¸èƒ½åŒ…è£…ä¸º`Expression<Func<T>>`ã€‚å› æ­¤ï¼Œåœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼ŒWhere æ‰©å±•æ–¹æ³•çš„æœ€ä½³åŒ¹é…æ˜¯æ‰©å±• IEnumerable çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯éœ€è¦ä¸€ä¸ª`Expression<Func<T, bool>>`çš„ IQueryable ç‰ˆæœ¬ã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### Q32:è¯´å‡º LINQ åœ¨ä½“è‚²è¿åŠ¨ä¸Šçš„ä¸€äº›ç¼ºç‚¹

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­â­â­

LINQ vs å­˜å‚¨è¿‡ç¨‹çš„ä¸€äº›ç¼ºç‚¹:

1.  **ç½‘ç»œæµé‡**:å½“ LINQ å‘é€æ•´ä¸ªæŸ¥è¯¢æ—¶ï¼Œå­˜å‚¨è¿‡ç¨‹åªéœ€è¦é€šè¿‡ç½‘ç»œåºåˆ—åŒ–å­˜å‚¨è¿‡ç¨‹åç§°å’Œå‚æ•°æ•°æ®ã€‚å¦‚æœæŸ¥è¯¢éå¸¸å¤æ‚ï¼Œæƒ…å†µä¼šå˜å¾—éå¸¸ç³Ÿç³•ã€‚ç„¶è€Œï¼ŒLINQ çš„æŠ½è±¡å…è®¸å¾®è½¯éšç€æ—¶é—´çš„æ¨ç§»æ¥æ”¹è¿›è¿™ä¸€ç‚¹ã€‚
2.  ä¸å¤ªçµæ´»:å­˜å‚¨è¿‡ç¨‹å¯ä»¥å……åˆ†åˆ©ç”¨æ•°æ®åº“çš„ç‰¹æ€§é›†ã€‚LINQ å€¾å‘äºæä¾›æ›´é€šç”¨çš„æ”¯æŒã€‚è¿™åœ¨ä»»ä½•ä¸€ç§è¯­è¨€æŠ½è±¡ä¸­éƒ½å¾ˆå¸¸è§(æ¯”å¦‚ C#å’Œæ±‡ç¼–)ã€‚
3.  **é‡æ–°ç¼–è¯‘**:å¦‚æœä½ éœ€è¦æ”¹å˜æ•°æ®è®¿é—®çš„æ–¹å¼ï¼Œä½ éœ€è¦é‡æ–°ç¼–è¯‘ã€ç‰ˆæœ¬åŒ–å’Œé‡æ–°éƒ¨ç½²ä½ çš„ç¨‹åºé›†ã€‚å­˜å‚¨è¿‡ç¨‹å¯ä»¥*æœ‰æ—¶*å…è®¸ DBA è°ƒä¼˜æ•°æ®è®¿é—®ä¾‹ç¨‹ï¼Œè€Œä¸éœ€è¦é‡æ–°éƒ¨ç½²ä»»ä½•ä¸œè¥¿ã€‚

å®‰å…¨æ€§å’Œå¯ç®¡ç†æ€§ä¹Ÿæ˜¯äººä»¬äº‰è®ºçš„è¯é¢˜ã€‚

1.  **å®‰å…¨æ€§**:ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥é€šè¿‡ç›´æ¥é™åˆ¶å¯¹è¡¨çš„è®¿é—®æ¥ä¿æŠ¤æ‚¨çš„æ•æ„Ÿæ•°æ®ï¼Œå¹¶åœ¨å­˜å‚¨è¿‡ç¨‹ä¸Šæ”¾ç½® ACLã€‚ç„¶è€Œï¼Œä½¿ç”¨ LINQï¼Œæ‚¨ä»ç„¶å¯ä»¥é™åˆ¶å¯¹è¡¨çš„ç›´æ¥è®¿é—®ï¼Œè€Œæ˜¯å°† ACL æ”¾åœ¨å¯æ›´æ–°çš„è¡¨*è§†å›¾*ä¸Šï¼Œä»¥è¾¾åˆ°ç±»ä¼¼çš„ç›®çš„(å‡è®¾æ‚¨çš„æ•°æ®åº“æ”¯æŒå¯æ›´æ–°çš„è§†å›¾)ã€‚
2.  **å¯ç®¡ç†æ€§**:ä½¿ç”¨è§†å›¾è¿˜å¯ä»¥è®©æ‚¨çš„åº”ç”¨ç¨‹åºä¸å—æ¨¡å¼å˜åŒ–çš„å½±å“(æ¯”å¦‚è¡¨è§„èŒƒåŒ–)ã€‚æ‚¨å¯ä»¥æ›´æ–°è§†å›¾ï¼Œè€Œä¸éœ€è¦æ›´æ”¹æ•°æ®è®¿é—®ä»£ç ã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### Q33:Select å’Œ SelectMany æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­â­â­

*   **Select** æ˜¯ä¸€ä¸ªç®€å•çš„ä»æºå…ƒç´ åˆ°ç»“æœå…ƒç´ çš„ä¸€å¯¹ä¸€æ˜ å°„ã€‚
*   **SelectMany** åœ¨æŸ¥è¯¢è¡¨è¾¾å¼ä¸­æœ‰å¤šä¸ª from å­å¥æ—¶ä½¿ç”¨:åŸå§‹åºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ç”¨æ¥ç”Ÿæˆä¸€ä¸ªæ–°åºåˆ—ã€‚å®ƒè¿˜*ç®€åŒ–è¿”å›åˆ—è¡¨åˆ—è¡¨çš„æŸ¥è¯¢*ã€‚

è€ƒè™‘:

```
public class PhoneNumber
{
    public string Number { get; set; }
}

public class Person
{
    public IEnumerable<PhoneNumber> PhoneNumbers { get; set; }
    public string Name { get; set; }
}

IEnumerable<Person> people = new List<Person>();

// Select gets a list of lists of phone numbers
IEnumerable<IEnumerable<PhoneNumber>> phoneLists = people.Select(p => p.PhoneNumbers);

// SelectMany flattens it to just a list of phone numbers.
IEnumerable<PhoneNumber> phoneNumbers = people.SelectMany(p => p.PhoneNumbers);

// And to include data from the parent in the result: 
// pass an expression to the second parameter (resultSelector) in the overload:
var directory = people
   .SelectMany(p => p.PhoneNumbers,
               (parent, child) => new { parent.Name, child.Number }); 
```

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### [](#q34-what-is-the-difference-between-returning-iqueryable-vs-ienumerable)Q34:è¿”å› IQueryable å’Œ IEnumerable æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­â­â­

è¿”å›`IQueryable<T>`å’Œ`IEnumerable<T>`æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

```
IQueryable < Customer > custs = from c in db.Customers
where c.City == "<City>"
select c;

IEnumerable < Customer > custs = from c in db.Customers
where c.City == "<City>"
select c; 
```

ä¸¤è€…éƒ½è¦å»¶æœŸæ‰§è¡Œå—ï¼Ÿä½•æ—¶åº”è¯¥ä¼˜å…ˆæ‰§è¡Œå“ªä¸€ä¸ªï¼Ÿ

* * *

ä¸åŒçš„æ˜¯ï¼Œ`IQueryable<T>`æ˜¯å…è®¸ LINQ åˆ° SQL (LINQ)çš„æ¥å£ã€‚-åˆ°-ä»»ä½•çœŸçš„)å·¥ä½œã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨è¿›ä¸€æ­¥ç»†åŒ–å¯¹ä¸€ä¸ª`IQueryable<T>`çš„æŸ¥è¯¢ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œè¯¥æŸ¥è¯¢å°†åœ¨æ•°æ®åº“ä¸­æ‰§è¡Œã€‚

è€ƒè™‘:

```
IQueryable<Customer> custs = ...;
// Later on...
var goldCustomers = custs.Where(c => c.IsGold); 
```

è¯¥ä»£ç å°†æ‰§è¡Œ SQL ä»¥ä»…é€‰æ‹©é»„é‡‘å®¢æˆ·ã€‚å¦ä¸€æ–¹é¢ï¼Œä¼šåœ¨æ•°æ®åº“ä¸­æ‰§è¡ŒåŸå§‹æŸ¥è¯¢ï¼Œç„¶åè¿‡æ»¤æ‰å†…å­˜ä¸­çš„éé‡‘ç‰Œå®¢æˆ·:

```
IEnumerable<Customer> custs = ...;
// Later on...
var goldCustomers = custs.Where(c => c.IsGold); 
```

è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„åŒºåˆ«ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä½¿ç”¨`IQueryable<T>`å¯ä»¥é¿å…ä»æ•°æ®åº“ä¸­è¿”å›å¤ªå¤šçš„è¡Œã€‚å¦ä¸€ä¸ªä¸»è¦çš„ä¾‹å­æ˜¯åˆ†é¡µ:å¦‚æœæ‚¨åœ¨`IQueryable`ä¸Šä½¿ç”¨`Take`å’Œ`Skip`ï¼Œæ‚¨å°†åªèƒ½è·å¾—è¯·æ±‚çš„è¡Œæ•°ï¼›åœ¨ä¸€ä¸ª`IEnumerable<T>`ä¸Šè¿™æ ·åšå°†å¯¼è‡´æ‰€æœ‰çš„è¡Œéƒ½è¢«åŠ è½½åˆ°å†…å­˜ä¸­ã€‚

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

### [](#q35-why-use-asenumerable-rather-than-casting-to-ienumerable)Q35:ä¸ºä»€ä¹ˆç”¨ã€‚AsEnumerable()è€Œä¸æ˜¯è½¬æ¢ä¸º IEnumerableï¼Ÿ

> é¢˜ç›®:**linq**T2ã€‘éš¾åº¦:â­â­â­â­â­

å¯è¯»æ€§æ˜¯è¿™é‡Œçš„ä¸»è¦é—®é¢˜ã€‚è€ƒè™‘ä¸€ä¸‹

```
Table.AsEnumerable().Where(somePredicate) 
```

æ¯”
æ›´å…·å¯è¯»æ€§

```
((IEnumerable<TableObject>)Table).Where(somePredicate). 
```

ğŸ”—**æ¥æº:**ã€stackoverflow.comã€‘T2

> è°¢è°¢ğŸ™Œé˜…è¯»ï¼Œç¥ä½ é¢è¯•å¥½è¿ï¼
> *å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·åˆ†äº«ç»™ä½ çš„å¼€å‘è€…ä¼™ä¼´ï¼*
> *æŸ¥çœ‹æ›´å¤šå…¨æ ˆé¢è¯•é—®é¢˜&ç­”æ¡ˆä¸ŠğŸ‘‰[www . full stack . cafe](https://www.fullstack.cafe)T9ã€‘*