# åœ¨ç»„ä»¶æ–¹æ³•ä¸­è®¿é—® vue å…¨å±€è¿‡æ»¤å™¨

> åŸæ–‡:[https://dev . to/flowck/access-vue-global-filters-inside-component-methods-1 pai](https://dev.to/flowck/accessing-vue-global-filters-inside-component-methods-1pai)

é€šå¸¸æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦ä» vue åº”ç”¨ç¨‹åºçš„æ–¹æ³•å’Œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­è®¿é—®å…¨å±€è¿‡æ»¤å™¨ã€‚æ²¡æœ‰é»‘å®¢å’Œç–¯ç‹‚çš„å¯¼å…¥ä¹Ÿå¯ä»¥åšåˆ°ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä½ å°†ä½¿ç”¨ [$options å¯¹è±¡](https://vuejs.org/v2/api/#vm-options) :

```
this.$options.filters.yourFilterName(paramValue); 
```

## [](#demo)æ¼”ç¤º

è®©æˆ‘ä»¬å‡è®¾æ‚¨çš„`main.js`ä¸­æœ‰ä¸€ä¸ªå…¨å±€è¿‡æ»¤å™¨ï¼Œå®ƒå°†å¸¸è§„çš„`Numbers`æ ¼å¼è½¬æ¢æˆç¾å…ƒè´§å¸æ ¼å¼ï¼Œæ‚¨å°†ä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœ:

```
// main.js
import Vue from "vue";

/**
 * numberToUSD: It format numbers into the USD currency format.
 * @param {number} value
 * @returns {string} value
 */
Vue.filter("numberToUSD", value => { 
    return value ? `$${value.toLocaleString("en-US")}` : "$0.0";
}); 
```

ç„¶åä½ æƒ³åœ¨ä¸€ä¸ªç»„ä»¶æ–¹æ³•æˆ–è€…ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­è®¿é—®åŒæ ·çš„è¿‡æ»¤å™¨ï¼Œä½¿ç”¨ [$options å¯¹è±¡](https://vuejs.org/v2/api/#vm-options)ç±»ä¼¼äº:

```
// App.vue

export default {
    name: "App.vue",
    data() {
        return {
            value: 5000
        };
    },
    methods: {
        /*
         * Inside a regular method
         */
        logValueInUSD() {
            console.log(this.$options.filters.numberToUSD(this.value));
        }
    },
    /**
     * Inside lifecycle method: created()
     */
    created() {
        console.log(this.$options.filters.numberToUSD(this.value));
    }
} 
```

è¿™ç§æŠ€æœ¯å¯¹æˆ‘æ¥è¯´éå¸¸æ–¹ä¾¿ï¼Œç‰¹åˆ«æ˜¯å½“æˆ‘éœ€è¦å°†å€¼ä½œä¸ºé“å…·ä¼ é€’ç»™ç¬¬ä¸‰æ–¹ç»„ä»¶æ—¶ï¼Œæˆ‘ä¸èƒ½ä½¿ç”¨æ’å€¼å’Œç®¡é“æ¥åº”ç”¨å®ƒä»¬ã€‚

æˆ‘åœ¨é€šè¿‡$options è®¿é—®å…¨å±€è¿‡æ»¤å™¨æ—¶æ³¨æ„åˆ°çš„å”¯ä¸€ç¼ºç‚¹æ˜¯ï¼Œè®¿é—®è¿‡æ»¤å™¨çš„æŒ‡ä»¤å¯èƒ½ä¼šå˜å¾—æœ‰ç‚¹é•¿ï¼Œä½†è¿™å¯ä»¥é€šè¿‡å°†`this.$options.filters`æ‰“åŒ…æˆä¸€ä¸ªå˜é‡ï¼Œç„¶ååƒè¿™æ ·è®¿é—®ç‰¹å®šçš„è¿‡æ»¤å™¨æ¥è½»æ¾å…‹æœ:

```
const filters = this.$options.filters;

filters.numberToUSD(this.value); 
```

è°¢è°¢ä½ çš„é‚€è¯·ï¼Œå†è§ğŸ‘‹ğŸ‘‹ã€‚