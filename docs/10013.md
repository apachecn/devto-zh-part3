# åœ¨ JavaScript ä¸­è®¾ç½®é»˜è®¤å€¼çš„ 3 ç§æ–¹æ³•

> åŸæ–‡:[https://dev . to/Samantha Ming/3-ways-to-set-default-value-in-JavaScript-2253](https://dev.to/samanthaming/3-ways-to-set-default-value-in-javascript-2253)

[![Code Tidbit by SamanthaMing.com](../Images/1345391f0dd965b71528e9a5d7ed25ea.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--5pLJ2m6C--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/j9f8mt9e470hv4yzvx2p.png)

æˆ‘çš„ç›®æ ‡ä¸€ç›´æ˜¯æœ‰æ¡ä»¶åœ°ç»™å˜é‡èµ‹å€¼çš„ä¸‰å…ƒè¿ç®—ç¬¦ã€‚ä½†æ˜¯è‡ªä»æˆ‘å‘ç°â€œ||â€å¯ä»¥ç”¨ä½œé€‰æ‹©ç¬¦åï¼Œæˆ‘å°±æ›´å¤šåœ°ä½¿ç”¨å®ƒäº†ã€‚æˆ‘å‘ç°æˆ‘çš„ä»£ç æ›´å®¹æ˜“é˜…è¯»ğŸ‘

æ˜¯çš„ï¼Œä½ éœ€è¦ä¸€äº›æ—¶é—´æ¥ç†è§£å®ƒã€‚ä½†æ˜¯ä¸€æ—¦æŒæ¡äº†æ¦‚å¿µï¼Œå°±è¶…çº§å¾—å¿ƒåº”æ‰‹äº†ã€‚ç°åœ¨æˆ‘ä¸è®¤ä¸ºæ›´å°‘çš„ä»£ç ä¼šè®©ä½ çš„ä»£ç æ›´å¥½ã€‚ä½†æ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘æ›´å–œæ¬¢ä½¿ç”¨`||`æ“ä½œç¬¦ğŸ¤©

```
let isHappyHour = 'ğŸº';

// Logical Operator
isHappyHour = isHappyHour || 'ğŸµ'; // 'ğŸº'

// Ternary
isHappyHour = isHappyHour ? isHappyHour : 'ğŸµ'; // 'ğŸº'

// If/Else
if (isHappyHour) { 
  isHappyHour = isHappyHour 
} else { 
  isHappyHour = 'ğŸµ' 
}

console.log(isHappyHour); // 'ğŸº' 
```

## [](#understanding-the-raw-endraw-operator)ç†è§£`||`è¿ç®—ç¬¦

æˆ‘è‚¯å®šä½ ä»¬å¤§å¤šæ•°äººè®¤ä¸º`||`åªç”¨äºå¸ƒå°”æ£€æŸ¥ï¼Œæ¯”å¦‚:

```
if(a || b) {
  // do something
} 
```

ä½†æ˜¯ï¼æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å®ƒæ¥è®¡ç®—é€‰å®šçš„è¡¨è¾¾å¼å¹¶äº§ç”Ÿä¸€ä¸ªå€¼ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæŠŠé€»è¾‘æ“ä½œç¬¦çœ‹ä½œæ˜¯é€‰æ‹©æ“ä½œç¬¦æ˜¯æœ‰å¸®åŠ©çš„ã€‚å½“ä¸éå¸ƒå°”å€¼ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œ`||`æ“ä½œç¬¦å°†è¿”å›ä¸€ä¸ªæŒ‡å®šè¡¨è¾¾å¼æˆ–æ“ä½œæ•°çš„éå¸ƒå°”å€¼ã€‚

çˆ†å¤´äº†å—ï¼Ÿï¼åˆ«æ‹…å¿ƒï¼Œè®©æˆ‘ç”¨å‡¯å°”Â·è¾›æ™®æ£®çš„æ–¹å¼æ¥è§£é‡Šã€‚ä»–æ˜¯â€œ[ä½ ä¸çŸ¥é“ JavaScript](https://github.com/getify/You-Dont-Know-JS/blob/f0d591b6502c080b92e18fc470432af8144db610/types%20%26%20grammar/ch4.md#operators--and-) â€çš„ä½œè€…â€”â€”è¿™æ˜¯ä¸€æœ¬å…è´¹çš„ JavaScript ç”µå­ä¹¦ã€‚

> &&æˆ–||è¿ç®—ç¬¦äº§ç”Ÿçš„å€¼ä¸ä¸€å®šæ˜¯å¸ƒå°”ç±»å‹ã€‚äº§ç”Ÿçš„å€¼å°†æ€»æ˜¯ä¸¤ä¸ªæ“ä½œæ•°è¡¨è¾¾å¼ä¹‹ä¸€çš„å€¼ã€‚

å¥½çš„ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚

```
const truthy = true;
const falsy = false;
const poop = 'ğŸ’©';

truthy || poop; // true
falsy || poop; // 'ğŸ’©'; 
```

åªè¦ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼(å·¦ä¾§)æ˜¯çœŸçš„ï¼Œå®ƒå°†æ€»æ˜¯è¢«é€‰ä¸­çš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœç¬¬ä¸€ä¸ªè¡¨è¾¾å¼(å·¦ä¾§)ä¸º falsyï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªè¡¨è¾¾å¼(å³ä¾§)å°†æ˜¯é»˜è®¤è¾“å‡ºã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿™ä¸ª`||`è¢«ç§°ä¸ºè®¾ç½®é»˜è®¤å€¼çš„æ“ä½œç¬¦ã€‚

### [](#using-default-value-as-function-parameter)ä½¿ç”¨é»˜è®¤å€¼ä½œä¸ºåŠŸèƒ½å‚æ•°

ä½ ç»å¸¸ä¼šçœ‹åˆ°`||`è¢«è¿™æ ·ä½¿ç”¨:

```
function(name) {
  name = name || 'no name';
} 
```

æ³¨æ„:è¿™ä¸å†æ˜¯æ¨èçš„æ–¹å¼äº†ã€‚æ¯” ES6 çš„é»˜è®¤å‚æ•°å¥½å¤šäº†ã€‚å› ä¸ºé€šå¸¸æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½ä¸å¸Œæœ›ç¼ºçœå€¼é€‚ç”¨äºæ‰€æœ‰çš„ false å€¼â€”â€”æˆ‘å°†åœ¨ä¸‹ä¸€èŠ‚è§£é‡Š false å€¼ã€‚æœ€æœ‰å¯èƒ½çš„æ˜¯ï¼Œå¦‚æœæ²¡æœ‰å€¼æˆ–`undefined`ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œæˆ‘ä»¬åªå¸Œæœ›è®¾ç½®é»˜è®¤å€¼ã€‚

**ç”¨ ES6 é»˜è®¤å‚æ•°**æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ

```
function(name = 'no name') {
} 
```

### [](#falsy-values)Falsy å€¼

åœ¨`||`è¿ç®—ç¬¦ä¸­ï¼Œç¬¬äºŒä¸ªè¡¨è¾¾å¼(å³ä¾§)ä»…åœ¨ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼(å·¦ä¾§)å‡ºç°æ—¶æ‰è¢«è®¡ç®—ã€‚æ‰€ä»¥è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä»€ä¹ˆæ„æˆäº†ä¸€ä¸ªå‡å€¼ã€‚

```
// JS Essentials: Falsy Values

false
undefined
null
NaN
0
"" or '' or `` (empty string) 
```

*(æˆ‘å†™äº†å¦ä¸€ç¯‡å…³äº Falsy ä»·å€¼è§‚çš„åšæ–‡ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œ)*

## [](#compared-to-the-raw-ampamp-endraw-operator)æ¯”å–»ä¸º`&&`è¿ç®—ç¬¦

åœ¨æˆ‘ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘å†™äº†å…³äº`&&`æ“ä½œç¬¦çš„å†…å®¹ã€‚(è¿™é‡Œè¯»ä¸€ä¸‹)ã€‚`&&`ä¹Ÿè¢«ç§°ä¸º**è­¦å«æ“ä½œå‘˜**ã€‚æ‰€ä»¥è¿™é‡Œæœ‰ä¸€ä¸ªåŒºåˆ«çš„å¿«é€Ÿæ€»ç»“:

*   `||`:æ€»æ˜¯è¾“å‡ºç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ã€‚åªæœ‰å½“ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ä¸º falsy æ—¶ï¼Œç¬¬äºŒä¸ªè¡¨è¾¾å¼æ‰ä¼šè¢«è¾“å‡ºã€‚

*   `&&`:å¦‚æœä¸º FALSYï¼Œåˆ™è¾“å‡ºç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ã€‚åªæœ‰å½“ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ä¸ºçœŸæ—¶ï¼Œæ‰è¾“å‡ºç¬¬äºŒä¸ªè¡¨è¾¾å¼ã€‚

## [](#what-is-the-elvis-operator)ä»€ä¹ˆæ˜¯çŒ«ç‹ç®—å­

è¿™ä¸ªå¾ˆæœ‰æ„æ€ã€‚åœ¨ JavaScript ä¸­ï¼Œæˆ‘ä»¬ç”¨`||`æ¥è®¾ç½®é»˜è®¤å€¼ã€‚åœ¨å…¶ä»–è¯­è¨€å¦‚ **C++** ä¸­ï¼Œè¿™ç§è¡Œä¸ºç±»ä¼¼äº**çŒ«ç‹æ“ä½œç¬¦**ï¼Œè¡¨ç¤ºä¸º`?:`ã€‚

```
// JavaScript
someVariable || 'default value'

// Elvis Operator (not JavaScript)
someVariable ?: 'default value' 
```

è‡³äºä¸ºä»€ä¹ˆå«çŒ«ç‹ç®—å­:

[![Credit to GlobalNerdy.com](../Images/46ea5c483c09f982886cbb2e1f82844c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--4T1VL8E4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/7itmzmaoim6awjmqop4k.jpg)

*GlobalNerdy.com çš„å½¢è±¡åŠŸåŠ³*

## [](#when-to-use-which)ä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸ªï¼Ÿ

ç°åœ¨ä½ å·²ç»ç†è§£äº† **Falsy å€¼**ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸‰ç§æ–¹æ³•ä¸­å“ªä¸€ç§æ›´å¥½ç”¨ã€‚

**ğŸ†é€»è¾‘è¿ç®—ç¬¦`||`**

å¦‚æœä½ æƒ³æ•æ‰æ‰€æœ‰è™šå‡çš„å€¼ï¼Œè¿™æ˜¯å¾ˆæ£’çš„ã€‚ä»£ç æ›´å°‘ï¼Œä¹Ÿæ›´å®¹æ˜“é˜…è¯»ã€‚å½“ç„¶ï¼Œå‡è®¾æ¯ä¸ªäººéƒ½ç†è§£è¿™ä¸‰ç§è¡Œä¸ºã€‚

æ³¨æ„:æˆ‘å¹¶ä¸æ˜¯è¯´ä»£ç è¶Šå°‘è¶Šå¥½ï¼Œäººä»¬å¾ˆå®¹æ˜“è¿‡äºèªæ˜åœ°è¯•å›¾ç¼©çŸ­ä»£ç ï¼Œä½¿å…¶ä¸å¯è¯»ã€‚æˆ‘ä»¬ä¸ºä»–äººç¼–å†™ä»£ç ï¼Œè¿™æ˜¯ä¸€ç§äº¤æµæ–¹å¼ã€‚ä¸èªæ˜ç›¸æ¯”ï¼Œé€‰æ‹©ä¼ è¾¾ç†è§£æ€»æ˜¯æ›´å¥½ã€‚

```
let a;

// âœ… Short and simple
a = a || b;

// â˜¹ï¸ Meh, could be better
a = a ? a : b;

// ğŸ˜± Ouch
if (a) {
  a = a;
} else {
  a = b;
} 
```

**ğŸ†ä¸‰å…ƒè¿ç®—ç¬¦**

å‡è®¾æˆ‘ä»¬ä¸æƒ³æ•æ‰æ‰€æœ‰è™šå‡çš„å€¼ã€‚æˆ‘ä»¬åªå¸Œæœ›é»˜è®¤å€¼åœ¨`undefined`
æ—¶ç”Ÿæ•ˆ

```
// âŒ Logical doesn't work
a = (a === undefined) || b;
// (a === undefined) > will output a boolean 'true' not the actual value

// âœ… Ternary works
a = (a === undefined) ? a : b;

// â˜¹ï¸ Of course if/else will also work...but Ouch
if (a === undefined) {
  a = a;
} else {
  a = b;
} 
```

**ğŸ†If/Else**

è¿™æ˜¯æ§åˆ¶åŠ›æœ€å¼ºçš„é€‰é¡¹ã€‚å¦‚æœæˆ‘è¯´ï¼Œæˆ‘éœ€è¦æ‰§è¡Œä¸€ä¸ªé¢å¤–çš„åŠ¨ä½œï¼Œè¿™æ˜¯æˆ‘ç»å¯¹ä¼šå»åšçš„äº‹æƒ…ã€‚

```
// âœ… If/Else is much better
if (a) {
  a = a;
  // do something else
} else {
  a = b;
} 
```

* * *

## [](#resources)èµ„æº

*   [MDN Web æ–‡æ¡£-é€»è¾‘è¿ç®—ç¬¦](https://developer.mozilla.org/en-US/docs/Web/JavaScript/)
*   ç±»å‹&è¯­æ³•
*   [ç»´åŸºç™¾ç§‘-çŒ«ç‹æ“ä½œå‘˜](https://en.wikipedia.org/wiki/Elvis_operator)
*   [å †æ ˆæº¢å‡º-ä¸‰å…ƒè¿ç®—ç¬¦ã€Elvis è¿ç®—ç¬¦ã€å®‰å…¨å¯¼èˆªè¿ç®—ç¬¦å’Œé€»è¾‘ or è¿ç®—ç¬¦çš„æ¯”è¾ƒ](https://stackoverflow.com/questions/44046927/comparison-of-ternary-operator-elvis-operator-safe-navigation-operator-and-log)
*   [å †æ ˆæº¢å‡º-é€»è¾‘ or ä¸ä¸‰å…ƒè¿ç®—ç¬¦](https://stackoverflow.com/questions/42026158/precedence-logical-or-vs-ternary-operator)
*   [Java è„šæœ¬ä¸­çš„é»˜è®¤æ“ä½œç¬¦å’Œç°å®ç”Ÿæ´»ä¸­çš„ä¾‹å­](https://zzz.buzz/2016/01/10/default-operator-in-javascript-and-real-life-examples/)
*   [SamanthaMing.com å«é˜Ÿæ“ä½œå‘˜](https://www.samanthaming.com/tidbits/51-prevent-object-retrieval-type-error-with-guard-operator)

* * *

**æ„Ÿè°¢é˜…è¯»â¤**
é—®å¥½ï¼[insta gram](https://www.instagram.com/samanthaming/)|[Twitter](https://twitter.com/samantha_ming)|[è„¸ä¹¦](https://www.facebook.com/hisamanthaming) | [åª’ä½“](https://medium.com/@samanthaming) | [åšå®¢](https://www.samanthaming.com/blog)