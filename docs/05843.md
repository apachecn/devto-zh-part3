# ç”¨ Javascript è®¾ç½® CSS æ ·å¼

> åŸæ–‡:[https://dev.to/karataev/set-css-styles-with-javascript-3nl5](https://dev.to/karataev/set-css-styles-with-javascript-3nl5)

å‡è®¾ä½ æœ‰ä¸€ä¸ªæ®µè½ã€‚

```
<p id="target">rainbow ğŸŒˆ</p> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ éœ€è¦ç”¨ JS æ”¹å˜å®ƒçš„é¢œè‰²ã€‚ä½ æœ‰ä»€ä¹ˆé€‰æ‹©ï¼Ÿ

## [](#1-inline-styles)1ã€‚å†…åµŒæ ·å¼

æœ€ç›´æ¥çš„é€”å¾„ã€‚ä» DOM ä¸­æŸ¥è¯¢å…ƒç´ å¹¶æ›´æ”¹å…¶å†…è”æ ·å¼ã€‚

```
document.getElementById('target').style.color = 'tomato'; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[![inline styles](../Images/e58eb52eeceda28b91451ed3f79e51c9.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Uwj49EBr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/hd67z2je0m8u7zyf7231.jpg)

ç®€çŸ­æ˜äº†ã€‚

## [](#2-global-styles)2ã€‚å…¨å±€æ ·å¼

å¦ä¸€ä¸ªé€‰æ‹©æ˜¯åˆ›å»º`<style>`æ ‡ç­¾ï¼Œç”¨ CSS è§„åˆ™å¡«å……å®ƒï¼Œå¹¶å°†æ ‡ç­¾é™„åŠ åˆ° DOMã€‚

```
 var style = document.createElement('style');
  style.innerHTML = `
  #target {
  color: blueviolet;
  }
  `;
  document.head.appendChild(style); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[![global styles](../Images/5348dd94490eab0ca3e2b4c23a3c9fd4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--dbqMBUgD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/zhkm5phjflfick5xesu2.jpg)

## [](#3-cssom-insertrule)3\. CSSOM insertRule

ç¬¬ä¸‰ç§é€‰æ‹©ä¸å¤ªä¸ºäººæ‰€çŸ¥ã€‚æˆ‘ä»¬å°†ä½¿ç”¨[CSS æ ·å¼è¡¨](https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet) `insertRule`æ–¹æ³•ã€‚

```
 var style = document.createElement('style');
  document.head.appendChild(style);
  style.sheet.insertRule('#target {color: darkseagreen}'); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è™½ç„¶å®ƒå¯èƒ½çœ‹èµ·æ¥ç±»ä¼¼äºç¬¬äºŒä¸ªé€‰é¡¹ï¼Œä½†å®ƒè‚¯å®šæ˜¯ä¸åŒçš„ã€‚
[![insertRule](../Images/cf712b6cfd5c282b1b8773acc6063e30.png)T3ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--VJuSGlJt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/trjxmsf01o01w8c7u224.jpg)

æ­£å¦‚ä½ åœ¨ Chrome devtools ä¸­çœ‹åˆ°çš„ï¼Œ`<style>`æ ‡ç­¾æ˜¯ç©ºçš„ï¼Œä½†æ˜¯æ ·å¼(æš—æµ·ç»¿è‰²)è¢«åº”ç”¨åˆ°å…ƒç´ ä¸Šã€‚è€Œä¸”é¢œè‰²ä¸èƒ½é€šè¿‡ devtools æ”¹å˜ï¼Œå› ä¸º Chrome ä¸å…è®¸[ç¼–è¾‘åŠ¨æ€ CSS æ ·å¼](https://bugs.chromium.org/p/chromium/issues/detail?id=387952)ã€‚

äº‹å®ä¸Šï¼Œè¿™æ ·çš„è¡Œä¸ºæ˜¯æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„åŠ¨æœºã€‚ä¸€ä¸ªæµè¡Œçš„ CSS-in-JS åº“[æ ·å¼åŒ–çš„ç»„ä»¶](https://www.styled-components.com/)å› ä¸ºæ€§èƒ½åŸå› ä½¿ç”¨è¿™ä¸ªç‰¹æ€§åœ¨ç”Ÿäº§æ¨¡å¼ä¸­æ³¨å…¥æ ·å¼ã€‚è¿™ä¸ªç‰¹æ€§åœ¨ç‰¹å®šçš„é¡¹ç›®æˆ–ç¯å¢ƒä¸­å¯èƒ½æ˜¯ä¸å—æ¬¢è¿çš„ï¼Œä¸€äº›äººåœ¨é¡¹ç›®çš„é—®é¢˜ä¸­æŠ±æ€¨å®ƒã€‚

## [](#4-constructable-stylesheets-july-2019-update)4ã€‚å¯æ„å»ºçš„æ ·å¼è¡¨(2019 å¹´ 7 æœˆæ›´æ–°)

ç°åœ¨å¯ä»¥ä» JavaScript åˆ›å»º`CSSStyleSheet`å¯¹è±¡ã€‚

```
// Create our shared stylesheet:
const sheet = new CSSStyleSheet();
sheet.replaceSync('#target {color: darkseagreen}');

// Apply the stylesheet to a document:
document.adoptedStyleSheets = [sheet]; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ›´å¤šè¯¦æƒ…åœ¨[è¿™é‡Œ](https://developers.google.com/web/updates/2019/02/constructable-stylesheets)ã€‚
è¿™ä¸ªé€‰é¡¹åªå¯¹ Chrome æœ‰æ•ˆï¼Œæ‰€ä»¥æ…ç”¨ã€‚

ä½ çŸ¥é“ç”¨ javascript æ·»åŠ æ ·å¼çš„å…¶ä»–é€‰é¡¹å—ï¼Ÿè¿™äº›å¤©ä½ æ›´å–œæ¬¢ä»€ä¹ˆï¼Ÿ

æ„Ÿè°¢é˜…è¯»ï¼