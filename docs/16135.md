# ç”¨ Vue: NW.js æ„å»ºæ¡Œé¢åº”ç”¨

> åŸæ–‡:[https://dev . to/n _ tepluhina/building-a-desktop-app-with-vue-nwjs-1f9e](https://dev.to/n_tepluhina/building-a-desktop-app-with-vue-nwjs-1f9e)

ä¹‹å‰æˆ‘å†™è¿‡ä¸¤ç¯‡å…³äºç”¨ Vue æ¡†æ¶æ„å»ºæ¡Œé¢åº”ç”¨çš„æ–‡ç« :ä¸€ç¯‡æ˜¯å…³äº Vuido åº“çš„ï¼Œå¦ä¸€ç¯‡æ˜¯å…³äº T2 ç”µå­çš„ã€‚æˆ‘æ”¶åˆ°ä¸€äº›è¯„è®ºï¼Œè¦æ±‚å†™ä¸€ç¯‡å…³äº [NW.js](https://nwjs.io/) çš„æ–‡ç« ï¼Œæˆ‘ç­”åº”å†™ä¸€ç¯‡...å¼€å§‹äº†ã€‚è¿Ÿåšæ¯”ä¸åšå¥½ğŸ˜…

> NW.js(ä»¥å‰ç§°ä¸º node-webkit)æ˜¯ä¸€ä¸ªç”¨ HTMLã€CSS å’Œ JavaScript æ„å»ºæ¡Œé¢åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚å®ƒåŸºäº[é“¬](http://www.chromium.org/)å’Œ [Node.js](https://nodejs.org/en/) ã€‚NW.js å…è®¸æ‚¨ç›´æ¥ä»æµè§ˆå™¨è°ƒç”¨ Node.js ä»£ç å’Œæ¨¡å—ï¼Œä¹Ÿå¯ä»¥åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ Web æŠ€æœ¯ã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°å°† web åº”ç”¨ç¨‹åºæ‰“åŒ…åˆ°æœ¬æœºåº”ç”¨ç¨‹åºä¸­ã€‚

## [](#differences-from-electron)âš›ï¸ä¸ç”µå­çš„å·®å¼‚

Electron å’Œ NW.js æœ‰è®¸å¤šå…±åŒçš„ç‰¹æ€§:å®ƒä»¬éƒ½æ˜¯åŸºäº Chromium å’Œ Node.js æ„å»ºçš„ï¼Œå¹¶ä¸”ä½¿ç”¨ HTMLã€CSS å’Œ js æ¥æ„å»ºæ¡Œé¢åº”ç”¨ã€‚ä½†æ˜¯å®ƒä»¬ä¹Ÿæœ‰ä¸€äº›æ˜¾è‘—çš„åŒºåˆ«:

*   åœ¨ NW.js ä¸­ï¼Œåº”ç”¨ç¨‹åºçš„ä¸»è¦å…¥å£ç‚¹æ˜¯ç½‘é¡µæˆ– js è„šæœ¬ã€‚æ‚¨é€šè¿‡`package.json` `main`å±æ€§æŒ‡å®šè¯¥æ¡ç›®ã€‚åœ¨ electronic ä¸­ï¼Œå…¥å£ç‚¹æ˜¯ä¸€ä¸ª JavaScript è„šæœ¬ã€‚æ‚¨å¯ä»¥æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªæµè§ˆå™¨çª—å£ï¼Œå¹¶ä½¿ç”¨ API åŠ è½½ä¸€ä¸ª HTML æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ç›´æ¥æä¾› URLã€‚
*   åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼ŒNW.js æ„å»ºæ‰€æœ‰çš„ ChromiumElectron ä½¿ç”¨ [libchromiumcontent](https://github.com/electron/libchromiumcontent) æ¥è®¿é—® Chromium çš„å†…å®¹ API
*   NW.js æœ‰[å†…ç½®æ”¯æŒ](http://docs.nwjs.io/en/latest/For%20Users/Advanced/Protect%20JavaScript%20Source%20Code/)å°†ä½ çš„æºä»£ç ç¼–è¯‘æˆå—ä¿æŠ¤çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚electronic å°†å…¶åº”ç”¨ç¨‹åºä¸ [asar](https://github.com/electron/asar) æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºæœªå—ä¿æŠ¤çš„æºä»£ç ã€‚

## [](#what-are-we-going-to-build)ğŸ’»æˆ‘ä»¬è¦å»ºé€ ä»€ä¹ˆ

ç°åœ¨ï¼Œå½“æˆ‘ä»¬ç†è§£äº†ä¸ electronic çš„åŒºåˆ«åï¼Œæˆ‘ä»¬å°†æ„å»ºä¸ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ç›¸åŒçš„åº”ç”¨ç¨‹åº:ä¸€ä¸ªåŸºäº [OpenWeatherMap API](https://openweathermap.org/api) çš„åº”ç”¨ç¨‹åºï¼Œç”¨äºæŸ¥çœ‹ç”¨æˆ·é€‰æ‹©çš„åŸå¸‚çš„å¤©æ°”ã€‚è¿™ä¸ªé¡¹ç›®å°†ä½¿ç”¨ [Vue CLI](https://cli.vuejs.org/) æ„å»ºï¼Œæˆ‘æ¨èè¿™ç§æ–¹å¼æ¥æ­å»ºä»»ä½• Vue åº”ç”¨ç¨‹åºã€‚

å¦‚æœä½ åªæƒ³æ£€æŸ¥æœ€ç»ˆçš„ NW.js app ä»£ç ï¼Œè¿™é‡Œæ˜¯[è¿™é‡Œæ˜¯](https://gitlab.com/ntepluhina/Vue-Desktop-App/tree/nw-js)ã€‚

## [](#installation)ğŸ› ï¸å®‰è£…

### [](#creating-an-app-with-vue-cli)ä½¿ç”¨ Vue CLI åˆ›å»ºåº”ç”¨ç¨‹åº

é¦–å…ˆï¼Œè®©æˆ‘ä»¬ç”¨ Vue CLI æ­å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚è¯·ç¡®ä¿æ‚¨å·²ç»å®‰è£…äº†å®ƒï¼Œåœ¨æ‚¨çš„æ§åˆ¶å°ä¸­é”®å…¥ä»¥ä¸‹å‘½ä»¤:

```
vue --version 
```

å¦‚æœä½ æ²¡æœ‰ç‰ˆæœ¬æˆ–è€…ç‰ˆæœ¬ä½äº 3.xï¼Œè¯·è¿è¡Œ

```
npm install -g @vue/cli 
```

ç°åœ¨æ‚¨å¯ä»¥ä»æ§åˆ¶å°åˆ›å»ºä¸€ä¸ª Vue é¡¹ç›®äº†ï¼ä¸ºæ­¤ï¼Œè¯·è¿è¡Œ

```
vue create <<YOUR-PROJECT-NAME>> 
```

å¹¶é€‰æ‹©æ‚¨éœ€è¦çš„é€‰é¡¹ã€‚æˆ‘å°†ä½¿ç”¨è¿™ä¸ªé¡¹ç›®çš„é»˜è®¤è®¾ç½®ã€‚

å¤ªå¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å‡†å¤‡æ·»åŠ ä¸€äº›æ¡Œé¢é­”æœ¯ğŸ§™

### [](#adding-nwjs)æ·»åŠ  NW.js

[NW.js å®˜æ–¹æ–‡æ¡£](http://docs.nwjs.io/en/latest/For%20Users/Package%20and%20Distribute/)æ¨èä½¿ç”¨ä¸¤ä¸ªæ„å»ºå™¨ä¹‹ä¸€æ¥æ‰“åŒ…æ‚¨çš„åº”ç”¨ç¨‹åº:

*   [nwjs-builder-phoenix](https://github.com/evshiron/nwjs-builder-phoenix)
*   [nw-builder](https://github.com/nwjs-community/nw-builder)

æˆ‘é€‰æ‹©äº† nwjs-builder-phoenixï¼Œå‡è®¾æ‚¨ä¹Ÿå°†ä½¿ç”¨å®ƒï¼Œæˆ‘å°†æè¿°è¿›ä¸€æ­¥çš„æ­¥éª¤ğŸ˜…

æ‰€ä»¥ï¼Œé¦–å…ˆä½ éœ€è¦æŠŠå®ƒä½œä¸ºä¸€ä¸ªä¾èµ–é¡¹æ·»åŠ åˆ°ä½ çš„é¡¹ç›®ä¸­:

```
npm install --save-dev nwjs-builder-phoenix
## OR
yarn add --dev nwjs-builder-phoenix 
```

ç°åœ¨æ‚¨éœ€è¦ä¿®æ”¹æ‚¨çš„`package.json`æ–‡ä»¶ï¼Œä¸ºæ‰“åŒ…ç¨‹åºæä¾›ä¸€ä¸ªæ­£ç¡®çš„æ¡ç›®ã€‚

> æç¤º:æ‚¨å¯ä»¥åœ¨åº”ç”¨ç¨‹åºçš„æ ¹æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°`package.json`ã€‚

åº”è¯¥åœ¨`main`å±æ€§ä¸‹æŒ‡å®šæ‰“åŒ…ç¨‹åºæ¡ç›®ã€‚æˆ‘ä»¬å°†åœ¨æ¡Œé¢ä¸Šè¿è¡Œä¸€ä¸ªå¼€å‘ç¯å¢ƒï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ç”¨ä¸‹é¢çš„
æ¥æ‰©å±•æˆ‘ä»¬çš„`package.json`

```
"main":  "http://localhost:8080" 
```

è¿™æ˜¯æˆ‘ä»¬æ­å»ºçš„ web åº”ç”¨ç¨‹åºåœ¨æœ¬åœ°è¿è¡Œçš„ç«¯å£ã€‚é€šå¸¸`main`æ˜¯`index.html`,ä½†æ˜¯ç°åœ¨æˆ‘ä»¬æƒ³åœ¨æ¯æ¬¡åº”ç”¨ç¨‹åºæ”¹å˜æ—¶è¿›è¡Œçƒ­é‡è£…ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æŠŠ`main`æŒ‡å‘ä¸€ä¸ªå¸¦æœ‰çƒ­é‡è£…æ¨¡å—çš„ Vue åº”ç”¨ã€‚

### [](#running-an-application)è¿è¡Œåº”ç”¨ç¨‹åº

ç°åœ¨è®©æˆ‘ä»¬è¿è¡Œæˆ‘ä»¬çš„ web åº”ç”¨ç¨‹åº:

```
npm run serve
## OR
yarn serve 
```

æ‚¨å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ£€æŸ¥`http://localhost:8080`ï¼Œä»¥ç¡®ä¿æŸä¸ªåº”ç”¨ç¨‹åºæ­£åœ¨è¿è¡Œã€‚åº”è¯¥æ˜¯è¿™æ ·çš„:

[![Application in browser](../Images/1c13c90e172a9905234a383a3e452fbc.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--3d-FXlm1--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/vx8vale.png)

æœ€åï¼Œæˆ‘ä»¬å‡†å¤‡å¯åŠ¨ä¸€ä¸ªæ¡Œé¢åº”ç”¨:

```
./node_modules/.bin/run . 
```

> è¿™å°†è·å– NW.js çš„ä¸€ä¸ªæŒ‡å®šç‰ˆæœ¬(é»˜è®¤ä¸º`sdk`)å¹¶è¿è¡Œä¸€ä¸ªå¼€å‘ç¯å¢ƒã€‚
> 
> `run`æ˜¯ç”±`nwjs-builder-phoenix`æ·»åŠ çš„å‘½ä»¤ï¼Œç‚¹è¡¨ç¤ºæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨æ ¹ç›®å½•ä¸‹çš„`package.json`ã€‚

ç°åœ¨ä½ åº”è¯¥æœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºè¿è¡Œåœ¨æ¡Œé¢ä¸Š

[![Application on desktop](../Images/11991840738e9a088eeaee68a1e51dca.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--46rZDfcP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/mbF91p1.png)

è®©æˆ‘ä»¬ç¨å¾®è‡ªåŠ¨åŒ–è¿è¡Œå¼€å‘ç¯å¢ƒã€‚å…³é—­ä½ çš„æ¡Œé¢åº”ç”¨å¹¶å®‰è£… NW.js SDK ç‰ˆæœ¬:

```
npm install --save-dev nw@sdk
## OR
yarn add --dev nw@sdk 
```

ç°åœ¨ï¼Œå‘`package.json` `scripts`éƒ¨åˆ†æ·»åŠ ä¸€ä¸ªæ–°ä»»åŠ¡:

```
"scripts": {
  "serve": "vue-cli-service serve",
  "build": "vue-cli-service build",
  "nw-serve": "nw ." /* <--- here is your new npm task */
}, 
```

è®©æˆ‘ä»¬è¯•ç€è¿è¡Œä¸€ä¸‹:

```
npm run nw-serve
## OR
yarn nw-serve 
```

ä½ åº”è¯¥æœ‰ä½ çš„åº”ç”¨ç¨‹åºå†æ¬¡è¿è¡Œåœ¨æ¡Œé¢ä¸Šï¼Œä½†ç°åœ¨æ²¡æœ‰ä¸‹è½½æ­¥éª¤ğŸ‰

å¥½æ¶ˆæ¯:æ‚¨å¯ä»¥åƒåœ¨æµè§ˆå™¨ä¸­ä¸€æ ·ç®€å•åœ°æ‰“å¼€ devtoolsï¼Œå¹¶ä½¿ç”¨å®ƒä»¬æ¥è°ƒè¯•æ‚¨çš„åº”ç”¨ç¨‹åºï¼åªéœ€ç‚¹å‡»`Window`->-`Devtools`

[![Dev Tools](../Images/944fe76ee3eaeffb2acaf2b1b4734d9c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--cuiO5jq4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/hv14cFD.png)

## [](#scaffolding-an-app)ğŸ•¹ï¸æ­èµ·ä¸€ä¸ª app

ä¸ Electron ç±»ä¼¼ï¼ŒNW.js é©±åŠ¨çš„åº”ç”¨ç¨‹åºçš„æ„å»ºç±»ä¼¼äºæ™®é€šçš„ web åº”ç”¨ç¨‹åºï¼Œå› æ­¤æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª web åº”ç”¨ç¨‹åºï¼Œç”¨ä¸€äº› CSS å¯¹å…¶è¿›è¡Œæ ·å¼åŒ–ï¼Œå¹¶è®©`nwjs-builder-phoenix`è´Ÿè´£å°†å…¶æ‰“åŒ…æˆæ¡Œé¢åº”ç”¨ç¨‹åºã€‚

> æ³¨æ„:å’Œç”µå­ app ä¸€æ ·ï¼Œæˆ‘æ²¡æœ‰æ•…æ„å®‰è£…ä»»ä½• CSS æ¡†æ¶æˆ–ç»„ä»¶åº“:æˆ‘æƒ³åœ¨ä¸æ·»åŠ ä»»ä½•ä¸åŒä¾èµ–é¡¹çš„æƒ…å†µä¸‹æ¯”è¾ƒåŒ…å¤§å°ã€‚å”¯ä¸€ç”¨äºæ‰€æœ‰æ¡Œé¢é¡¹ç›®çš„åº“æ˜¯ [axios](https://github.com/axios/axios) ã€‚

æ‰“å¼€`App.vue`æ–‡ä»¶ï¼Œç”¨ä»¥ä¸‹ä»£ç æ›¿æ¢å…¶å†…å®¹:

```
<template>
  <div id="app">
    <p>Enter the city name to check current weather in it</p>
    <section class="weather-input">
      <input type="text" v-model="query">
      <button :disabled="!query.length">Check</button>
    </section>
  </div>
</template>

<script>
export default {
  data() {
    return {
      query: "",
    };
  }
};
</script>

<style>
#app {
  font-family: "Avenir", Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}

.button {
  color: #000;
}
</style> 
```

ç°åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:

[![Unstyled app](../Images/e4df59808099df2c439706d4f8d6d8bf.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--moxfB1hu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/tECSCG3.png)

## [](#making-an-api-call)ğŸ”—è¿›è¡Œ API è°ƒç”¨

æˆ‘ä½¿ç”¨äº† [OpenWeatherMap å½“å‰å¤©æ°” API](https://openweathermap.org/current) ã€‚å®ƒç»™äº†ä½ å¾ˆå¤šä¸åŒçš„ä¿¡æ¯ï¼Œä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ JSON å“åº”çš„ä¾‹å­ã€‚

æˆ‘ä»¬å°†ä½¿ç”¨ [axios](https://github.com/axios/axios) æ¥è¿›è¡Œ API è°ƒç”¨ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…å®ƒ:

```
npm install axios
## OR
yarn add axios 
```

ä¸ºäº†èƒ½å¤Ÿåœ¨ä»»ä½• Vue ç»„ä»¶ä¸­ä½¿ç”¨ axiosï¼Œæˆ‘ä»¬å°†æŠŠå®ƒå¯¼å…¥åˆ°`main.js`ï¼Œè®¾ç½®åŸºæœ¬ URLï¼Œç„¶ååœ¨ Vue prototype ä¸­ä¸ºå®ƒåˆ›å»ºä¸€ä¸ªå±æ€§:

```
//main.js

import axios from 'axios'

axios.defaults.baseURL = 'http://api.openweathermap.org/data/2.5';
Vue.http = Vue.prototype.$http = axios; 
```

ç°åœ¨ï¼Œåœ¨`App.vue`ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ç»„æ•°æ®å±æ€§æ¥æ˜¾ç¤ºä¸åŒçš„å¤©æ°”æ•°æ®:

```
// App.vue

data() {
    return {
      query: '',
      error: false,
      city: '',
      country: '',
      weatherDescription: '',
      temp: null,
      tempMin: null,
      tempMax: null,
      humidity: null,
      icon: '',
    };
}, 
```

ç±»ä¼¼äºç”µå­ï¼Œæˆ‘å¢åŠ äº†ä¸€ä¸ªé¢å¤–çš„å±æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ª`icon`ã€‚API æä¾›äº†ä¸€ä¸ªå¤©æ°”å›¾æ ‡ï¼Œä½†æˆ‘ä»¬ä¸èƒ½åœ¨ Vuido åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒï¼Œå› ä¸ºç›®å‰ä¸æ”¯æŒæ˜¾ç¤ºå›¾åƒã€‚

è®©æˆ‘ä»¬ä¹Ÿåˆ›å»ºä¸€ä¸ªè·å–æ•°æ®çš„æ–¹æ³•:

```
methods: {
  showWeather() {
    this.$http
      .get(`/weather?q=${this.query}&units=metric&&appid=${API_KEY}`)
      .then(response => {
        this.city = response.data.name;
        this.country = response.data.sys.country;
        this.weatherDescription = response.data.weather[0].description;
        this.temp = response.data.main.temp;
        this.tempMin = response.data.main.temp_min;
        this.tempMax = response.data.main.temp_max;
        this.humidity = response.data.main.humidity;
        this.icon = `http://openweathermap.org/img/w/${
          response.data.weather[0].icon
        }.png`;
        this.error = false;
      })
      .catch(() => {
        this.error = true;
        this.city = '';
      });
  },
}, 
```

> ä¸è¦å¿˜è®°ç”¨ä½ çš„ OpenWeather API å¯†åŒ™åˆ›å»ºä¸€ä¸ª const `API_KEY`ï¼

å¹¶æ·»åŠ åˆ°æˆ‘ä»¬æŒ‰é’®çš„ç‚¹å‡»å›è°ƒ:

```
<button :disabled="!query.length" @click="showWeather">Check</button> 
```

ç°åœ¨ï¼Œå¦‚æœæ‚¨åœ¨è¾“å…¥å­—æ®µä¸­è¾“å…¥æ–‡æœ¬å¹¶ç‚¹å‡»æŒ‰é’®ï¼Œæ‚¨å¯ä»¥åœ¨`Network`é€‰é¡¹å¡ä¸­è§‚å¯Ÿåˆ° API è°ƒç”¨:

[![API call response](../Images/ebe56ff30ae44dd1f0a09b170b3ba024.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--qCJELojf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/1YyIUHN.png)

## [](#displaying-weather-data)ğŸ’…æ˜¾ç¤ºå¤©æ°”æ•°æ®

è®©æˆ‘ä»¬å°†è¿™äº›æ•°æ®æ·»åŠ åˆ°æ¨¡æ¿:

```
<template>
  <main id="app">
    <p>Enter the city name to check current weather in it</p>
    <section class="weather-input">
      <input type="text" v-model="query">
      <button :disabled="!query.length" @click="showWeather">Check</button>
    </section>
    <section v-if="error" class="weather-error">
      There is no such city in the database
    </section>
    <section v-if="city.length" class="weather-result">
      <h1>{{city}}, {{country}}</h1>
      <p><em>{{weatherDescription}}</em></p>
      <div class="weather-result__main">
        <img :src="icon" alt="Weather icon">
        <div class="weather-result__temp">
          {{temp}}&deg;C
        </div>
      </div>
      <div class="weather-result__details">
        <p>Min: {{tempMin}}&deg;C</p>
        <p>Max: {{tempMax}}&deg;C</p>
        <p>Humidity: {{humidity}}%</p>
      </div>
    </section>
  </main>
</template> 
```

æˆ‘ä»¬çš„åº”ç”¨è§†å›¾:

[![App without styling](../Images/c94b0ecd79d24305176bd8a732070289.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--X72VGrGn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/Qic11v4.png)

çœ‹èµ·æ¥è¿˜æ˜¯å¤ªåŸºç¡€äº†ï¼Œæ˜¯æ—¶å€™åŠ ç‚¹ CSS äº†ã€‚è®©æˆ‘ä»¬ç”¨ä¸‹é¢çš„ä»£ç æ›¿æ¢æ‰`App.vue`çš„æ•´ä¸ª`style`éƒ¨åˆ†:

```
<style>
* {
  margin: 0;
  padding: 0;
}
html,
body,
#app {
  height: 100%;
}

#app {
  font-family: Arial, Helvetica, sans-serif;
  font-size: 16px;
  padding: 10px;
  background: rgb(212, 228, 239);
  background: radial-gradient(
    ellipse at center,
    rgba(212, 228, 239, 1) 0%,
    rgba(134, 174, 204, 1) 100%
  );
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#d4e4ef', endColorstr='#86aecc',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
}

.weather-input {
  display: flex;
  align-items: center;
  padding: 20px 0;
}

.weather-result {
  text-align: center;
}

.weather-result__main {
  display: flex;
  align-items: center;
  justify-content: center;
  padding-top: 5px;
  font-size: 1.3rem;
  font-weight: bold;
}

.weather-result__details {
  display: flex;
  align-items: center;
  justify-content: space-around;
  color: dimgray;
}

.weather-error {
  color: red;
  font-weight: bold;
}

input {
  width: 75%;
  outline: none;
  height: 20px;
  font-size: 0.8rem;
}

button {
  display: block;
  width: 25%;
  height: 25px;
  outline: none;
  border-radius: 5px;
  white-space: nowrap;
  margin: 0 10px;
  font-size: 0.8rem;
}
</style> 
```

æœ€åï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ¼‚äº®çš„å…¨åŠŸèƒ½åº”ç”¨ç¨‹åº:

[![App ready](../Images/28ef360dbb3466f3cbb1447112e49ed1.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ZeDi03Yk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/5kP9seC.png)

æ‰“åŒ…ä¹‹å‰è¦åšçš„æœ€åä¸€ä»¶äº‹æ˜¯ç¼©å°çª—å£å¤§å°ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦å‘`package.json` :
æ·»åŠ ä¸€ä¸ª`window`å±æ€§

```
"window": {
  "width": 600,
  "height": 400
}, 
```

## [](#packaging)ğŸ“¦åŒ…è£…

è¦ç”¨`nwjs-builder-phoenix`æ‰“åŒ…ä¸€ä¸ª NW.js åº”ç”¨ç¨‹åºï¼Œä½ éœ€è¦ç”¨ä¸€ç»„åˆé€‚çš„å‚æ•°è¿è¡Œä¸€ä¸ªæ„å»ºå‘½ä»¤ã€‚æˆ‘å°†åœ¨ Mac ä¸Šæ„å»ºå®ƒï¼Œä»¥æ¯”è¾ƒå®ƒä¸ Electron å’Œ Vuido åº”ç”¨ç¨‹åºçš„å¤§å°ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šåœ¨æ„å»ºè¿‡ç¨‹ä¸­ä½¿ç”¨çš„ NW.js ç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡`package.json`
çš„`build`å±æ€§æ¥å®ç°

```
"build":  {  "nwVersion":  "0.35.3"  }, 
```

ç„¶åè®©æˆ‘ä»¬åœ¨ç»ˆç«¯ä¸­è¿è¡Œä¸€ä¸ªæ„å»ºå‘½ä»¤:

```
./node_modules/.bin/build --tasks mac-x64 . 
```

> åŒæ ·ï¼Œå‘½ä»¤ä¸­çš„ç‚¹æ„å‘³ç€æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ä½äºæ ¹é¡¹ç›®æ–‡ä»¶å¤¹ä¸­çš„`package.json`æ–‡ä»¶

è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹åŒ…è£…å°ºå¯¸...233 å…†å­—èŠ‚ğŸ˜±ï¼

[![App size](../Images/a687affa66c61e5e30c26f1898fd93cb.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--WlUQjiv3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/UyyEIVT.png)

å“‡ï¼Œå¤ªå¤šäº†ã€‚ç”šè‡³æ¯”ç”µå­ç”³è¯·è¿˜å¤§ï¼

## [](#conclusions)ğŸŒŸç»“è®º

**ä¼˜ç‚¹:**

*   éå¸¸å®¹æ˜“å¼€å§‹
*   å¯ä»¥é€šè¿‡ CSS æ ·å¼å®šåˆ¶
*   å¥½åŒ»ç”Ÿ
*   æ”¯æŒå—ä¿æŠ¤çš„äºŒè¿›åˆ¶æ–‡ä»¶

**ç¼ºç‚¹**

*   è¶…å¤§åŒ…è£…å°ºå¯¸
*   ä¸å¤ªå¥½çš„å‘½å(å¯èƒ½åªæœ‰æˆ‘ï¼Œä½†ç”µå­/Vuido æ¯” NW.js æ›´ä»¤äººéš¾å¿˜)
*   å°ç”Ÿæ€ç³»ç»Ÿã€‚

## [](#special-thanks)ğŸ’–ç‰¹åˆ«æ„Ÿè°¢

æˆ‘è¦æ„Ÿè°¢ Jared Wilcurtï¼Œä»–å¸®æˆ‘è§£ç­”äº† NW.js çš„é—®é¢˜ã€‚è´¾é‡Œå¾·æ˜¯ [NW.js Vue devtools](https://github.com/TheJaredWilcurt/nw-vue-devtools) çš„ä½œè€…ï¼Œè´Ÿè´£åœ¨æ¡Œé¢ä¸Šè°ƒè¯• Vue åº”ç”¨ç¨‹åºã€‚

**æ›´æ–°**:å¦‚æœä½ æƒ³çŸ¥é“å¦‚ä½•æ˜¾è‘—å‡å°åŒ…è£…å°ºå¯¸ï¼Œ[è¿™é‡Œæœ‰ä¸€ç¯‡ Jared Wilcurt çš„æ–‡ç« ](https://dev.to/thejaredwilcurt/reducing-app-distribution-size-in-nwjs-3d5f)ã€‚