# 1.letï¼Œconst å’Œ...å®šä¹‰å˜é‡

> åŸæ–‡:[https://dev.to/blueturtle/1-const-let-and-var-4c DH](https://dev.to/blueturtle/1-const-let-and--var-4cdh)

ES6 å¼•å…¥äº†ä¸€äº›æ–°çš„è¯­æ³•ç‰¹æ€§ã€‚å…¶ä¸­ä¸€ä¸ªæ˜¯å…³é”®å­— [const](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const) ï¼Œ[è®©](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let)æ¥å£°æ˜å˜é‡ã€‚å…ˆè¯´è¯´ä¸ºä»€ä¹ˆä»–ä»¬æ¯” [var](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var) æ›´å—é’çã€‚

### [](#scopetelescope)**èŒƒå›´**ğŸ”­

`var`æœ‰ä¸€ä¸ªåŠŸèƒ½[èŒƒå›´](https://developer.mozilla.org/en-US/docs/Glossary/Scope)ã€‚è¿™æ„å‘³ç€åœ¨å‡½æ•°ä¸­çš„ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥è®¿é—®å®ƒã€‚è¯·çœ‹è¿™ä¸ªä¾‹å­:

```
function buyHerChocolate(onDiet) {
    if (onDiet) {
        var decision = "Don't do it!";
    } else {
        var decision = "Go buy it!"
    }
    console.log(decision);
    }
buyHerChocolate(true);//"Don't do it!"
console.log(decision);//Uncaught ReferenceError: decision is not defined 
```

å¦‚ä½ æ‰€è§ï¼Œç”¨`var`å®šä¹‰çš„*å†³ç­–*å˜é‡åœ¨å‡½æ•°èŒƒå›´å†…æ˜¯å¯ç”¨çš„ï¼Œä½†æ˜¯å½“æˆ‘ä»¬è¯•å›¾åœ¨å‡½æ•°å¤–è®°å½•å®ƒæ—¶ï¼Œæ§åˆ¶å°æŠ›å‡ºä¸€ä¸ªé”™è¯¯`decision is not defined`ï¼Œå°±å¥½åƒå®ƒä»æ¥ä¸å­˜åœ¨ä¸€æ ·ã€‚

ç›¸åï¼Œ`let`å’Œ`const`æœ‰é˜»æŒ¡`{}`çš„ä½œç”¨åŸŸã€‚

```
function buyHerChocolate(onDiet) {
    if (onDiet) {
        let decision = "Don't do it!";
        console.log(decision);
    } else {
        let decision = "Go buy it!"
        console.log(decision);
    }
    console.log(decision);
    }
buyHerChocolate(true);
//"Don't do it!"
//Uncaught ReferenceError: decision is not defined
console.log(decision);//Uncaught ReferenceError: decision is not defined 
```

æƒŠå–œï¼åœ¨è¡¨è¾¾å¼å—ä¸­è®°å½• decision çš„å€¼ä¼šäº§ç”Ÿé¢„æµ‹çš„å­—ç¬¦ä¸²ï¼Œè€Œåœ¨å—æŠ›å‡ºé”™è¯¯å’Œå‡½æ•°èŒƒå›´ä¹‹å¤–è¿›è¡ŒåŒæ ·çš„æ“ä½œä¹Ÿä¼šæŠ›å‡ºé”™è¯¯ã€‚

åŒæ ·çš„æƒ…å†µä¹Ÿå‘ç”Ÿåœ¨`const`èº«ä¸Šã€‚

* * *

### [](#hoistingarrowdoubleup)**åŠè£…**â«

ç”¨`var`å£°æ˜çš„å˜é‡è¢«[æå‡](https://developer.mozilla.org/en-US/docs/Glossary/Hoisting)åˆ°å®ƒä»¬ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚é‡è¦çš„æ˜¯è¦æ³¨æ„å˜é‡å£°æ˜æ˜¯è¢«æ‰˜ç®¡çš„è€Œä¸æ˜¯èµ‹å€¼ã€‚

```
console.log(x);
var x = 5;//undefined 
```

å‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿï¼åœ¨æå‡ä»»ä½•ä¸€ä¸ª`var`å˜é‡ä¹‹å‰ï¼Œä¸ä¼šæ‰§è¡Œ`console.log()`åŠŸèƒ½ã€‚å› æ­¤ï¼Œ`var x`ï¼›ä¼šä¸Šå‡åˆ°å…¨å±€èŒƒå›´çš„é¡¶ç«¯ã€‚ç„¶åæ‰§è¡Œ console.log(x)å¹¶æœªå®šä¹‰æ—¥å¿—ï¼Œå› ä¸º x åœ¨é‚£æ—¶æ²¡æœ‰å€¼ã€‚x è¢«èµ‹å€¼ä¸º 5ã€‚ä¼šæ˜¯è¿™æ ·çš„:

```
var x;
console.log(x);
x = 5; 
```

å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬åœ¨é‚£ä¹‹å`console.log(x)`ï¼Œå®ƒä¼šå°† 5 è®°å½•åˆ°æ§åˆ¶å°ã€‚è¿™ç§å¤æ€ªçš„è¡Œä¸ºä¼šåœ¨æ›´å¤§çš„ç¨‹åºä¸­å¼•å…¥é”™è¯¯ã€‚

`let`å’Œ`const`ä¸åŠã€‚

```
console.log(x);
const x = 5;//Uncaught ReferenceError: x is not defined 
```

* * *

### [](#declaration-amp-assignmentblacknib)**ç”³æŠ¥&èµ‹å€¼** âœ’ï¸

åœ¨åŒä¸€ä¸ªèŒƒå›´å†…ï¼Œå˜é‡å¯ä»¥è¢«å¤šæ¬¡é‡æ–°å£°æ˜å’Œé‡æ–°åˆ†é…ä¸åŒçš„å€¼ã€‚
`let`å˜é‡ä¸èƒ½é‡å£°æ˜ï¼Œä½†å¯ä»¥åœ¨ç›¸åŒçš„ä½œç”¨åŸŸå†…é‡æ–°èµ‹å€¼ã€‚
`const`å˜é‡ä¸èƒ½åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…é‡æ–°å£°æ˜æˆ–é‡æ–°èµ‹å€¼ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¿…é¡»åŒæ—¶å£°æ˜å®ƒä»¬å¹¶ç»™å®ƒä»¬èµ‹å€¼ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½è¿™ä¹ˆåš:

```
const y;//Uncaught SyntaxError: Missing initializer in const declaration 
```

ä½†æ˜¯æˆ‘ä»¬å¿…é¡»è¿™ä¹ˆåš:

```
const y = 5; 
```

æ‰€ä»¥å¦‚æœä½ çš„å˜é‡æ”¹å˜äº†å€¼ï¼Œä½¿ç”¨`let`æ¥å£°æ˜å®ƒï¼Œå¦‚æœä¸æ€»æ˜¯ä½¿ç”¨`const`ã€‚

å®ƒä»¬å’Œ`var`ä¹‹é—´çš„è¿™äº›å·®å¼‚å°†é˜²æ­¢å‘½åå†²çªã€‚

* * *

### [](#conclusion)**ç»“è®º:**

ç”±äºä¸Šè¿°åŸå› ï¼Œé™¤äº†å˜é‡è¢«é‡æ–°åˆ†é…æ–°å€¼æ—¶ï¼Œä½ åº”è¯¥åœ¨æ‰€æœ‰æƒ…å†µä¸‹ä½¿ç”¨`const`ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨`let`ä»£æ›¿ã€‚å¤§å¤šæ•°æ–‡ç« å»ºè®®å¼€å‘è€…é¿å…ä½¿ç”¨`var`ã€‚ä¸ºä»€ä¹ˆè¿˜ä¼šæœ‰äººç”¨`var`å‘¢ï¼Ÿï¼

å…³äºé‚£ä»¶äº‹ï¼Œä½ åŒæ„æˆ‘çš„çœ‹æ³•å—ï¼Ÿè¯·ç•™è¨€å‘Šè¯‰æˆ‘ä½ çš„çœ‹æ³•ã€‚

* * *

***è¿›ä¸€æ­¥é˜…è¯»:***

ğŸ“Œ[JavaScript ä¸­å‡½æ•°å’Œå—ä½œç”¨åŸŸçš„åŒºåˆ«](https://medium.com/@josephcardillo/the-difference-between-function-and-block-scope-in-javascript-4296b2322abe)

ğŸ“Œ[æ­ç§˜ JavaScript å¯å˜èŒƒå›´æå‡](https://www.sitepoint.com/demystifying-javascript-variable-scope-hoisting/)

ğŸ“Œ[JavaScript ä¸­çš„æå‡æ˜¯ä»€ä¹ˆï¼Ÿ](https://medium.com/javascript-in-plain-english/https-medium-com-javascript-in-plain-english-what-is-hoisting-in-javascript-a63c1b2267a1)