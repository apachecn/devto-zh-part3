# å¦‚ä½•ç”¨ vue å’Œ firepond ä¸Šä¼ æ–‡ä»¶

> åŸæ–‡:[https://dev . to/pqina/how-to-upload-files-with-vue-and-file pond-1 m02](https://dev.to/pqina/how-to-upload-files-with-vue-and-filepond-1m02)

[FilePond](https://pqina.nl/filepond/) æ–‡ä»¶ä¸Šä¼ åº“å·²ç»å­˜åœ¨ä¸€å¹´äº†ï¼Œè®©æˆ‘ä»¬æ¢ç´¢ä¸€ä¸‹å¦‚ä½•å°†å®ƒä¸ Vue é›†æˆã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†è®¾ç½®ä¸€ä¸ªæ–°çš„ Vue åº”ç”¨ç¨‹åºï¼Œå¹¶å°†è¯¥åº”ç”¨ç¨‹åºä¸ Vue FilePond é€‚é…å™¨é“¾æ¥èµ·æ¥ã€‚å®Œæˆåï¼Œæˆ‘ä»¬å°†å»ºç«‹ä¸€ä¸ªè¿æ¥åˆ°åç«¯ï¼Œå°†æ¥æ”¶æˆ‘ä»¬ä¸Šä¼ çš„æ–‡ä»¶ã€‚

æˆ‘ä»¬å°†ä½¿ç”¨ [Vue CLI](https://cli.vuejs.org/) å¿«é€Ÿåˆ›å»ºæˆ‘ä»¬çš„åŸºæœ¬ Vue åº”ç”¨ç¨‹åºã€‚å¦‚æœæ‚¨ç†Ÿæ‚‰è¿™ä¸ªè¿‡ç¨‹ï¼Œæ‚¨å¯ä»¥è·³åˆ°ä¸ FilePond é›†æˆä¸€èŠ‚ã€‚

## [](#creating-a-vue-app)åˆ›å»º Vue åº”ç”¨

å‡è®¾æ‚¨å·²ç»å®‰è£…äº† Node å’Œ Vue CLI(å¦‚æœæ‚¨è¿˜æ²¡æœ‰å®‰è£…å®ƒä»¬ï¼Œè¿™å°†æ˜¯ä¸€ä¸ªå¥½æ—¶æœº)ï¼Œä»æ‚¨çš„ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚å®ƒå°†åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹â€œæˆ‘çš„åº”ç”¨ç¨‹åºâ€ï¼Œå…¶ä¸­å°†åŒ…å«æˆ‘ä»¬çš„ Vue åº”ç”¨ç¨‹åºã€‚

```
vue create my-app 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ä¼šé‡åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©é»˜è®¤é€‰é¡¹ã€‚

å®‰è£…å®Œæˆåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯¼èˆªåˆ°é¡¹ç›®ã€‚

```
cd my-app 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ç”¨ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚

```
npm run serve 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ç°åœ¨å¯ä»¥å¯¼èˆªåˆ°`http://localhost:8080/`æ¥æŸ¥çœ‹æˆ‘ä»¬çš„ Vue åº”ç”¨ç¨‹åºã€‚

æ‚¨å¯ä»¥é€šè¿‡åŒæ—¶æŒ‰ä¸‹`CTRL`å’Œ`C`é”®ä»å‘½ä»¤è¡Œåœæ­¢ Vue åº”ç”¨ç¨‹åºã€‚

## [](#integrating-with-filepond)ä¸ FilePond é›†æˆ

æœ‰äº†æˆ‘ä»¬çš„ Vue åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥æ·»åŠ  FilePond Vue é€‚é…å™¨ã€‚

è®©æˆ‘ä»¬åœæ­¢åº”ç”¨ç¨‹åº(æŒ‰`CTRL` + `C`)å¹¶å®‰è£…é€‚é…å™¨ã€‚

```
npm install filepond vue-filepond --save 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨é€‚é…å™¨æ–‡ä»¶å·²ç»å®‰è£…å¥½äº†ï¼Œè®©æˆ‘ä»¬å†æ¬¡å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹è¿›è¡Œæ›´æ”¹äº†ã€‚

æˆ‘ä»¬å°†æŠŠ FilePond ç»„ä»¶æ·»åŠ åˆ°åº”ç”¨ç¨‹åºç™»å½•é¡µé¢ï¼Œå®é™…ä¸Šæ‚¨å¯èƒ½ä¼šæŠŠå®ƒç§»åŠ¨åˆ°å…¶ä»–åœ°æ–¹ï¼Œä½†æ˜¯å¯¹äºæœ¬æ–‡çš„ç›®çš„æ¥è¯´ï¼Œè¿™å·²ç»è¶³å¤Ÿäº†ã€‚

æˆ‘ä»¬é¦–å…ˆéœ€è¦å¯¼å…¥ FilePond ç»„ä»¶åŠå…¶ CSS æ–‡ä»¶ã€‚

æ‰“å¼€â€œsrc/App.vueâ€æ–‡ä»¶ï¼Œå°†ä»¥ä¸‹å‡ è¡Œæ·»åŠ åˆ°`<script>`å—çš„é¡¶éƒ¨ã€‚

```
import vueFilePond from 'vue-filepond';
import 'filepond/dist/filepond.min.css'; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æˆ‘ä»¬éœ€è¦æ³¨å†Œæˆ‘ä»¬çš„`FilePond`ç»„ä»¶ã€‚æˆ‘ä»¬é€šè¿‡å°†å®ƒæ·»åŠ åˆ°ç»„ä»¶åˆ—è¡¨ä¸­æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

```
export default {
  name: 'app',
  components: {
    FilePond: vueFilePond()
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸‹ä¸€æ­¥æ˜¯å°†ç»„ä»¶æ·»åŠ åˆ° HTML ä¸­ã€‚è®©æˆ‘ä»¬ç¼–è¾‘`<template>`æ ‡ç­¾ä¸­çš„ HTMLï¼Œå¹¶ç”¨`<FilePond/>`æ ‡ç­¾æ›¿æ¢`<div>`çš„å†…å®¹ã€‚

```
<template>
  <div id="app">
    <FilePond/>
  </div>
</template> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ–‡ä»¶æ± æ‹–æ”¾åŒºåŸŸç°åœ¨åº”è¯¥å‘ˆç°åœ¨å±å¹•ä¸ŠğŸš€

[![](../Images/8604453199d6453278d53d4318b54df8.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--SJNESsnK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/uaffpd6b6fjm70zt0px0.png)

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹æŒ‰ç…§è‡ªå·±çš„æ„æ„¿é…ç½® FilePond äº†ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒFilePond åªæ¥å—ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™æ˜¯å› ä¸ºåœ¨æ°´ä¸‹å®ƒå¢å¼ºäº†é»˜è®¤çš„[æ–‡ä»¶è¾“å…¥å…ƒç´ ](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file)ï¼Œå¹¶å¤åˆ¶äº†å®ƒçš„æ ‡å‡†è¡Œä¸ºã€‚

[![](../Images/e625beee41b483ef9e7cec97948e63cd.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--_9Fa58s4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ogfdpkalgvyvfgh7e407.gif)

è¦å¯ç”¨å¤šæ–‡ä»¶æ¨¡å¼ï¼Œè®©æˆ‘ä»¬æ·»åŠ `allowMultiple`å±æ€§ã€‚

```
<FilePond allowMultiple="true"/> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è®©æˆ‘ä»¬æ”¾ä¸‹ä¸€ä¸ªæ–‡ä»¶å¤¹æˆ–é€‰æ‹©å¤šä¸ªæ–‡ä»¶æ¥çœ‹çœ‹å®ƒçš„ä½œç”¨ã€‚

[![](../Images/77567584b0a7267c29184090e2cda2eb.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--tRGuGhKc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/3d8bvisu48jwn5jqx5ft.gif)

å°±åƒç»å…¸çš„æ–‡ä»¶è¾“å…¥ä¸€æ ·ï¼Œæ–‡ä»¶è¢«åŠ è½½åˆ° FilePondï¼Œä½†ä¸åšä»»ä½•å…¶ä»–äº‹æƒ…ï¼Œå®ƒä»¬åªæ˜¯å‘†åœ¨é‚£é‡Œã€‚æˆ‘ä»¬å¾ˆå¯èƒ½å¸Œæœ›å°†å®ƒä»¬å‘é€åˆ°æˆ‘ä»¬çš„åç«¯ã€‚æˆ‘ä»¬å°†é€šè¿‡ä¸º FilePond æä¾›æœåŠ¡å™¨å±æ€§æ¥å®ç°è¿™ä¸€ç‚¹ã€‚

å¦‚æœä½ å·²ç»å‡†å¤‡å¥½äº†ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå¹¶ä¸”å®ƒè¢«è®¾ç½®ä¸ºå¤„ç†æ–‡ä»¶å¯¹è±¡ï¼Œä½ æˆ–è®¸å¯ä»¥ä½¿ç”¨å®ƒï¼Œå¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½® [FilePond PHP æ ·æ¿æ–‡ä»¶](https://github.com/pqina/filepond-boilerplate-php)(ä¸‹è½½å­˜å‚¨åº“å¹¶è¿è¡Œ`vagrant up`)ã€‚

```
<FilePond allowMultiple="true" server="http://192.168.33.10"/> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é…ç½®å¥½æœåŠ¡å™¨ä½ç½®åï¼ŒFilePond ä¼šè‡ªåŠ¨å°†æ”¾ç½®å’Œé€‰æ‹©çš„æ–‡ä»¶å‘å¸ƒåˆ°æä¾›çš„ URLã€‚

[![](../Images/648cae41b16bd4fece59e2986ea69cc3.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--m4156kW7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/jgnww7jtt5uhx67wfbeo.gif)

é»˜è®¤æ–‡ä»¶æ± æœåŠ¡å™¨è°ƒç”¨åœ¨[æœåŠ¡å™¨é…ç½®æ–‡æ¡£](https://pqina.nl/filepond/docs/patterns/api/server/)ä¸­æè¿°ã€‚æœåŠ¡å™¨å±æ€§å¯ä»¥åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šè¿›è¡Œå¾®è°ƒï¼Œè¿™ä½¿å¾— FilePond åŸºæœ¬ä¸Šå¯ä»¥ä¸ä»»ä½•è¿œç¨‹æˆ–æœ¬åœ°æ–‡ä»¶å­˜å‚¨è§£å†³æ–¹æ¡ˆé›†æˆã€‚

è®©æˆ‘ä»¬æ³¨å†Œ [FilePond å›¾åƒé¢„è§ˆæ’ä»¶](https://github.com/pqina/filepond-plugin-image-preview)æ¥ä½¿æ‹–æ”¾çš„å›¾åƒçœ‹èµ·æ¥æ›´å¥½ä¸€äº›ã€‚

```
npm install filepond-plugin-image-preview --save 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æˆ‘ä»¬éœ€è¦å¯¼å…¥å¹¶å‘ FilePond æ ¸å¿ƒæ³¨å†Œæ’ä»¶ã€‚æˆ‘ä»¬å¿…é¡»ä¿®æ”¹`vueFilePond`è°ƒç”¨æ¥ä½¿ç”¨å›¾åƒé¢„è§ˆæ’ä»¶ã€‚

```
import vueFilePond from 'vue-filepond';
import 'filepond/dist/filepond.min.css';

import FilePondPluginImagePreview from 'filepond-plugin-image-preview';
import 'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css';

export default {
  name: 'app',
  components: {
    FilePond: vueFilePond(FilePondPluginImagePreview)
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æå®šäº†ã€‚è®©æˆ‘ä»¬é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œå¹¶åˆ é™¤æˆ‘ä»¬çš„ç¬¬ä¸€å¼ å›¾ç‰‡ã€‚

[![](../Images/6ec6649a70ac51362ad7b4b4f773a8ae.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--mnx0VNDc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/sug3f1yeer5rvyl8k7dt.gif)

è¿™å°±æ˜¯ç”¨ Vue å’Œ FilePond ä¸Šä¼ æ–‡ä»¶çš„åŸºç¡€ã€‚

ä½ å¯ä»¥é€šè¿‡è‡ªåŠ¨ [EXIF æ–¹å‘æ ¡æ­£](https://github.com/pqina/filepond-plugin-image-exif-orientation)ã€[å›¾åƒè£å‰ª](https://github.com/pqina/filepond-plugin-image-crop)ã€[å¤§å°è°ƒæ•´](https://github.com/pqina/filepond-plugin-image-resize)ã€[å®¢æˆ·ç«¯å›¾åƒå˜æ¢](https://github.com/pqina/filepond-plugin-image-transform)ã€[å›¾åƒç¼–è¾‘](https://pqina.nl/doka/)ã€[å„ç§å…¶ä»–æ’ä»¶](https://pqina.nl/filepond/plugins.html)ç­‰ç‰¹æ€§è¿›ä¸€æ­¥å¢å¼ºç»„ä»¶ã€‚

æœ‰ä¸€ä¸ªå®Œæ•´çš„[å±æ€§](https://pqina.nl/filepond/docs/patterns/api/filepond-instance/#properties)å’Œ[äº‹ä»¶](https://pqina.nl/filepond/docs/patterns/api/filepond-instance/#callbacks)åˆ—è¡¨ï¼Œæ‚¨å¯ä»¥å¯¹å…¶è¿›è¡Œé…ç½®ä»¥ä½¿ FilePond æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·åœ¨ [Twitter](https://twitter.com/rikschennink/) ä¸Šæ‰¾åˆ°æˆ‘ï¼Œæˆ–è€…åœ¨ä¸‹é¢ç•™è¨€ã€‚