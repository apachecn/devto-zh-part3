# æ—æŒºä½ çš„ååº”+æ‰“å­—é¡¹ç›®ä¸ ESLint å’Œæ›´æ¼‚äº®ï¼

> åŸæ–‡:[https://dev . to/dorshinar/æ—æŒº-ä½ çš„-react typescript-project-with-eslint-and-beauty-8hb](https://dev.to/dorshinar/linting-your-reacttypescript-project-with-eslint-and-prettier-8hb)

æœ€è¿‘æˆ‘ä»¬åœ¨å·¥ä½œä¸­å¼€å§‹äº†ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œç”¨ React + Typescript ç¼–å†™ã€‚å½“ç„¶ï¼Œåƒä»»ä½•å…¶ä»–é¡¹ç›®ä¸€æ ·ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒè¢«è‡ªåŠ¨åœ°è¿›è¡Œ linted å’Œæ ·å¼æ£€æŸ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬è‡ªå·±ä¸å¿…æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ã€‚

æ—æŒºæ‰“å­—ç¨¿çš„ä¸¤ä¸ªæœ€å¤§ã€æœ€ç†Ÿæ‚‰çš„å·¥å…·æ˜¯ [TSLint](https://palantir.github.io/tslint/) å’Œ [ESLint](https://eslint.org/) ã€‚è™½ç„¶ ESLint å­˜åœ¨äº†å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œä½†å®ƒä»æ¥æ²¡æœ‰å¯¹ Typescript æä¾›åˆé€‚çš„ã€ç”Ÿäº§å°±ç»ªçš„æ”¯æŒï¼Œæ‰€ä»¥å¤§å¤šæ•° Typescript é¡¹ç›®éƒ½æ˜¯ç”¨ TSLint ç¼–å†™çš„ã€‚

æˆ‘çš„ä»»åŠ¡æ˜¯ä¸ºæˆ‘ä»¬çš„é¡¹ç›®æ‰¾åˆ°åˆé€‚çš„å·¥å…·ã€‚è¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„é¡¹ç›®ï¼Œå› æ­¤æ²¡æœ‰å¿…è¦è¿›è¡Œä»£ç è¿ç§»æˆ–è§„åˆ™è¿ç§»ã€‚é¦–å…ˆæˆ‘çœ‹äº† TSLintã€‚å®ƒå¯¹ TypeScript æœ‰å¾ˆå¥½çš„æ”¯æŒï¼ŒåŠ ä¸Šä¸€ä¸ªä¼˜ç§€çš„ [VSCode æ‰©å±•](https://marketplace.visualstudio.com/items?itemName=eg2.tslint)ã€‚è¿™çœ‹èµ·æ¥ç»å¯¹æ˜¯ä¸ªæ­£ç¡®çš„é€‰æ‹©ï¼Œç›´åˆ°æˆ‘å¶ç„¶å‘ç°äº†[çš„è¿™ç¯‡](https://eslint.org/blog/2019/01/future-typescript-eslint)æ–‡ç« ã€‚æˆ‘å‘ç°å®ƒå¾ˆæœ‰è¶£ï¼Œä½†å¦‚æœä½ ä¸æƒ³è¯»ï¼Œæˆ‘ä¼šåœ¨è¿™é‡Œç»™ä½ è¦ç‚¹ã€‚

åœ¨å¾®è½¯ 2019 å¹´å‰ 6 ä¸ªæœˆçš„ [TypeScript è·¯çº¿å›¾](https://github.com/Microsoft/TypeScript/issues/29288)ä¸Šï¼Œä»–ä»¬æä¾›äº†ä¸€æ•´èŠ‚å…³äº TypeScript å¼€å‘è€…å¯¹é€‚å½“ ESLint æ”¯æŒçš„æ—¥ç›Šå¢é•¿çš„éœ€æ±‚ã€‚æ­¤å¤–ï¼Œä»–ä»¬è°ˆè®º ESLint çš„æ¶æ„å¦‚ä½•æ›´é€‚åˆä»–ä»¬çš„éœ€æ±‚ï¼Œæœ€åä»–ä»¬è¯´ä»–ä»¬æ‰“ç®—å®Œå…¨æ¥å— ESLint ä½œä¸º Typescript é¡¹ç›®çš„æ—æŒºå·¥å…·ï¼Œå¹¶ä¿è¯æ”¹è¿› ESLint çš„ Typescript æ”¯æŒï¼Œä»¥åŠªåŠ›åŒ¹é… TSLint çš„æ”¯æŒã€‚

æœ¬æ–‡çš„å…¶ä½™éƒ¨åˆ†å°†è®¨è®ºä¸€ä¸ªæ–°çš„[å­˜å‚¨åº“](https://github.com/typescript-eslint/typescript-eslint)ï¼Œå®ƒæ—¨åœ¨åŒ…å« ESLint èƒ½å¤Ÿè§£æå’Œ Lint ç±»å‹è„šæœ¬ä»£ç æ‰€éœ€çš„æ ¸å¿ƒé¡¹ç›®ã€‚

ç»è¿‡è¿›ä¸€æ­¥çš„æµ‹è¯•å’Œæ¯”è¾ƒï¼Œæˆ‘ç›¸ä¿¡ ESLint å®é™…ä¸Šæ˜¯è¿™é¡¹å·¥ä½œçš„åˆé€‚å·¥å…·(ä¸ä»…å› ä¸ºæˆ‘ä¿¡ä»» Typescript çš„å›¢é˜ŸğŸ˜‰).

æ›´æ–°-5 æœˆ 10 æ—¥:
[åˆ›å»º React App v3](https://github.com/facebook/create-react-app/releases/tag/v3.0.0) ä¹Ÿç”¨@typescript/eslint å¯åŠ¨äº†æ—æŒºçš„ TypeScript é¡¹ç›®ï¼Œæ‰€ä»¥æˆ‘åšä¿¡æˆ‘åšå‡ºäº†æ­£ç¡®çš„é€‰æ‹©ã€‚

[![](../Images/b42d1f088aa418461d662de87f2a4f5f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--XGVSBXRn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2834/1%2AzpFPwbBffYcKQA_ovMFyWQ.png)

å“‡ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„ä»‹ç»ã€‚è®©æˆ‘ä»¬å¼€å§‹ç¼–ç å§ï¼

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚å¯¹äºè¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å°†ä½¿ç”¨`create-react-app`ï¼Œä½†æ˜¯æ— è®ºæ‚¨é€‰æ‹©å“ªä¸ªæ ·æ¿æ–‡ä»¶(æˆ–è€…è‡ªå·±åˆ›å»ºçš„)éƒ½å¯ä»¥ã€‚

`npx create-react-app eslint-react-intro --typescript`

å¯¹äºä¸ç†Ÿæ‚‰çš„äººæ¥è¯´ï¼Œ`npx`æ˜¯å’Œ`node@5.2.0`ä¸€èµ·é¦–å…ˆæ¨å‡ºçš„ä¸€ä¸ªå·¥å…·ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå®ƒå…è®¸æˆ‘ä»¬è½»æ¾è¿è¡Œ npm åŒ…çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè€Œæ— éœ€å…¨å±€å®‰è£…ã€‚å®ƒå®é™…ä¸Šåšçš„è¿˜ä¸æ­¢è¿™äº›ï¼Œæˆ‘ä»¬é¼“åŠ±ä½ å»é˜…è¯»[è¿™ç¯‡](https://medium.com/@maybekatz/introducing-npx-an-npm-package-runner-55f7d4bd282b)ä¼Ÿå¤§çš„æ–‡ç« ã€‚

ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„ react åº”ç”¨ç¨‹åºï¼Œä½†æˆ‘ä»¬åœ¨è¿™é‡Œæ˜¯ä¸ºäº†æ—æŒºï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å®‰è£…ä¸€äº›ä¾èµ–é¡¹:

`npm i -D eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin`

`eslint`æ˜¯ä¸€ä¸ªæ˜æ˜¾çš„ä¾èµ–å…³ç³»ï¼Œä½†æ˜¯ä»€ä¹ˆæ˜¯`@typescript-eslint/parser`å’Œ`@typescript-eslint/eslint-plugin`ï¼Ÿ

é»˜è®¤æƒ…å†µä¸‹ï¼ŒESLint ä¾èµ–è§£æå™¨æ¥è¯»å– Javascript ä»£ç ï¼Œå¹¶å°†å…¶â€œç¿»è¯‘â€æˆ ESLint å¯ä»¥ç†è§£çš„è¯­è¨€(ä¹Ÿç§°ä¸º`ESTree`)ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒESLint ä½¿ç”¨ [Espree](https://github.com/eslint/espree) ï¼Œè¿™å¯¹äºè¯»å– JS ä»£ç éå¸¸æœ‰ç”¨ï¼Œä½†æ˜¯æ— æ³•è¯»å– Typescriptã€‚`@typescript-eslint/parser`æ˜¯ä¸€ä¸ªæ›¿ä»£çš„è§£æå™¨ï¼Œå¯ä»¥è¯»å– Typescript ä»£ç å¹¶ç”Ÿæˆæ‰€è¿° ESTreeï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‘Šè¯‰ ESLint æ”¹ç”¨å®ƒã€‚`@typescript-eslint/eslint-plugin`åªæ˜¯ä¸€ä¸ªä½ å¯ä»¥æ‰“å¼€æˆ–å…³é—­çš„è§„åˆ™åˆ—è¡¨ã€‚

ç°åœ¨æˆ‘ä»¬æœ‰äº†åŸºæœ¬çš„ä¾èµ–å…³ç³»ï¼Œè®©æˆ‘ä»¬æ¥é…ç½® ESLintã€‚

ESLint æœ‰ä¸€ä¸ªå¾ˆå¥½çš„äº’åŠ¨å·¥å…·ï¼Œä½ å¯ä»¥è¿è¡Œå®ƒ:

`eslint --init`

å®ƒä¼šé—®ä½ ä¸€ç³»åˆ—é—®é¢˜æ¥å¸®åŠ©ä½ é…ç½®å®ƒã€‚æˆ‘æ›´å–œæ¬¢è‡ªå·±å®šä¹‰é…ç½®ï¼Œæ‰€ä»¥æˆ‘å°†åˆ›å»ºé…ç½®æ–‡ä»¶â€” `.eslintrc.js` (ESLint ä¹Ÿæ”¯æŒ JSON å’Œ YAML)ã€‚åŒ…å«ä»¥ä¸‹å†…å®¹: