# å¸¦æœ‰ Vue å’Œ Gridsome çš„ç¤¾äº¤åª’ä½“å¡

> åŸæ–‡:[https://dev . to/timdeschryver/social-media-cards-with vue-and-grid some-3g8](https://dev.to/timdeschryver/social-media-cards-with-vue-and-gridsome-3kg8)

### [](#social-media-cards)ç¤¾äº¤åª’ä½“å¡

æœ‰äº†ç¤¾äº¤åª’ä½“å¡ï¼Œå½“ä½ åœ¨ Twitter æˆ– Slack ç­‰ä¸åŒå¹³å°ä¸Šåˆ†äº«æ—¶ï¼Œå¯ä»¥å°†ä¸€ä¸ªç®€å•(ä¹Ÿå¾ˆæ— èŠ)çš„é“¾æ¥è½¬åŒ–ä¸ºå¼•äººæ³¨ç›®çš„ä¿¡æ¯ã€‚è¯¥æ¶ˆæ¯åŒ…å«æ ‡é¢˜ã€æè¿°å’Œå›¾åƒ(å¦‚æœæä¾›çš„è¯)ã€‚è¦ä¸ºç½‘ç«™åˆ›å»ºç¤¾äº¤åª’ä½“å¡ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨é¡µé¢çš„`header`æ ‡ç­¾ä¸­æ·»åŠ å‡ ä¸ªå…ƒæ•°æ®æ ‡ç­¾ã€‚å½“æˆ‘ä»¬æ¨å¹¿æˆ‘ä»¬çš„ç½‘ç«™æ—¶ï¼Œä»¥åšå®¢ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥æä¾›å…ƒæ•°æ®æ ‡ç­¾ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥æ›´è¿›ä¸€æ­¥ï¼Œä¸ºç‰¹å®šé¡µé¢åˆ›å»ºè¿™äº›å…ƒæ•°æ®æ ‡ç­¾ã€‚å¦‚æœæˆ‘ä»¬æƒ³æŠŠä¸€ç¯‡æ–‡ç« å’Œæˆ‘ä»¬çš„åšå®¢ä»¥åŠåšå®¢ä¸­çš„å…¶ä»–æ–‡ç« åŒºåˆ†å¼€æ¥ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºè¿™ç¯‡æ–‡ç« å‡†å¤‡ä¸€å¼ å®šåˆ¶çš„å¡ç‰‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»ç”¨ç‰¹å®šå¸–å­çš„å…ƒæ•°æ®æ ‡ç­¾è¦†ç›–å…¨å±€å…ƒæ•°æ®æ ‡ç­¾ã€‚

ä¸‹é¢çš„ä»£ç ç‰‡æ®µå±•ç¤ºäº†ä¸€ä¸ªä¾‹å­ï¼Œæ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬å¿…é¡»æä¾›ä¸¤ç»„ä¸åŒçš„å…ƒæ•°æ®ã€‚ä»¥`og:`ä¸ºå‰ç¼€çš„ç¬¬ä¸€ç»„æ ‡ç­¾æ˜¯å¼€æ”¾å›¾æ ‡å‡†ï¼Œç”±è„¸ä¹¦ä½¿ç”¨ï¼Œç¬¬äºŒç»„æ ‡ç­¾ä»¥`twitter:`ä¸ºå‰ç¼€ï¼Œè¿™äº›æ˜¯ Twitter ä½¿ç”¨çš„æ ‡ç­¾ã€‚

```
<head>
  <!-- Open Graph -->
  <meta name="og:title" content="Social media cards with Vue and Gridsome" />
  <meta
    name="og:url"
    content="https://timdeschryver.dev/posts/gridsome-social-cards"
  />
  <meta
    name="og:description"
    content="It's easy to create metadata tags with Gridsome, I was so happy with it that I wanted to write this post ğŸ˜ƒ. There is also a page in the docs on how to create metadata tags, but let's translate the theory into a real world example."
  />
  <meta name="og:type" content="article" />
  <meta
    name="og:image"
    content="https://timdeschryver.dev/assets/static/gridsome-social-cards-banner.jpg"
  />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@tim_deschryver" />
  <meta
    name="twitter:title"
    content="Social media cards with Vue and Gridsome"
  />
  <meta
    name="twitter:description"
    content="It's easy to create metadata tags with Gridsome, I was so happy with it that I wanted to write this post ğŸ˜ƒ. There is also a page in the docs on how to create metadata tags, but let's translate the theory into a real world example."
  />
  <meta
    name="twitter:image"
    content="https://timdeschryver.dev/assets/static/gridsome-social-cards-banner.jpg"
  />
</head> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ å¯ä»¥åœ¨ [Open Graph protocol](http://ogp.me/) é¡µé¢å’Œ [Twitter docs](https://developer.twitter.com/en/docs/tweets/optimize-with-cards/guides/getting-started.html) ä¸­é˜…è¯»æ›´å¤šå…³äºä¸Šè¿°æ ‡ç­¾çš„ç”¨æ³•ã€‚ä¹Ÿå¯ä»¥åœ¨[è„¸ä¹¦](https://developers.facebook.com/tools/debug/sharing/)å’Œ[æ¨ç‰¹](https://cards-dev.twitter.com/validator)ä¸ŠéªŒè¯å¡ç‰‡ã€‚

### [](#metadata-tags-with-gridsome)å¸¦ Gridsome çš„å…ƒæ•°æ®æ ‡ç­¾

#### [](#global-tags)å…¨å±€æ ‡ç­¾

è¦å®šä¹‰æ·»åŠ åˆ°æ¯ä¸ªé¡µé¢ä¸Šçš„å…¨å±€å…ƒæ•°æ®æ ‡ç­¾ï¼Œè¯·ä½¿ç”¨`src/main`ä¸­çš„é»˜è®¤å‡½æ•°ã€‚è¦æ·»åŠ ä¸€ä¸ªæ ‡ç­¾ï¼Œæˆ‘ä»¬å¿…é¡»æä¾›æ ‡ç­¾çš„`name`å’Œ`content`ï¼Œ`key`æ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨å…¶ä»–é¡µé¢ä¸Šè¦†ç›–æ ‡ç­¾çš„è¯ï¼Œå°±éœ€è¦è¿™ä¸ªé€‰é¡¹ã€‚å¦‚æœæˆ‘ä»¬ä¸æ·»åŠ `key`å±æ€§ï¼Œå¹¶ä¸”ç¨åæä¾›ç›¸åŒçš„æ ‡ç­¾ï¼Œé‚£ä¹ˆæ¯æ¬¡æ·»åŠ ç›¸åŒçš„æ ‡ç­¾æ—¶ï¼Œæ ‡ç­¾éƒ½ä¼šè¢«å†æ¬¡æ·»åŠ ã€‚ä¸ºäº†ä¿æŒä¸‹é¢çš„ä»£ç ç‰‡æ®µç®€çŸ­ï¼Œæˆ‘å°†åªæ·»åŠ ä¸€ä¸ªæ ‡ç­¾ï¼Œè€Œä¸æ˜¯å…¨éƒ¨ã€‚

```
export default function(Vue, { router, head, isClient }) {
  head.meta.push({
    key: 'og:description',
    name: 'og:description',
    content: `Tim Deschryver's experiences and thoughts on programming`,
  })

  head.meta.push({
    key: 'twitter:description',
    name: 'twitter:description',
    content: `Tim Deschryver's experiences and thoughts on programming`,
  })
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œæä¾›çš„æ ‡ç­¾éƒ½æ˜¯é™æ€å†…å®¹ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ƒä»¬ä¼šä½¿ç”¨`key`å±æ€§ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ Vue è·¯ç”±å™¨æ¥åˆ›å»º`og:url`æ ‡ç­¾ï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›è¿™ä¸ªæ ‡ç­¾æŒ‡å‘å½“å‰çš„ URLï¼Œå¹¶ä¸”å› ä¸ºæˆ‘ä»¬å¾ˆæ‡’ï¼Œä¸æƒ³ä¸ºæ¯ä¸ªé¡µé¢æ‰‹åŠ¨æ·»åŠ å®ƒã€‚

```
router.beforeEach((to, _from, next) => {
  head.meta.push({
    key: 'og:url',
    name: 'og:url',
    content: process.env.GRIDSOME_BASE_PATH + to.path,
  })
  next()
}) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

#### [](#page-specific-tags)é¡µé¢ç‰¹å®šæ ‡ç­¾

Gridsome ä½¿ç”¨é¡µé¢ï¼Œdocs å°†é¡µé¢å®šä¹‰ä¸ºå…·æœ‰é™æ€ URL çš„é™æ€é¡µé¢ã€‚ä¾‹å¦‚,`/posts`æœ‰èµ„æ ¼ä½œä¸ºä¸€ä¸ªé¡µé¢ã€‚

> Pages ç”¨äºæ™®é€šé¡µé¢å’Œåˆ—è¡¨&åˆ†é¡µ GraphQL é›†åˆã€‚ä¾‹å¦‚åšå®¢é¡µé¢ã€‚é¡µé¢çš„ URL è·¯å¾„æ€»æ˜¯é™æ€çš„ã€‚

è¦æ·»åŠ æˆ–è¦†ç›–å…ƒæ•°æ®æ ‡ç­¾ï¼Œè¯·ä½¿ç”¨`metaInfo`ä¸Šçš„`meta`å±æ€§ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬åœ¨å®šä¹‰å…ƒæ•°æ®æ ‡ç­¾æ—¶å†æ¬¡æä¾›äº†ä¸€ä¸ª`key`,å› ä¸ºæˆ‘ä»¬æƒ³è¦è¦†ç›–åœ¨å…¨å±€çº§åˆ«å®šä¹‰çš„æ ‡ç­¾ã€‚

```
export default {
  metaInfo: {
    title: 'Posts',
    meta: [
      {
        key: 'og:title',
        name: 'og:title',
        content: 'timdeschryver.dev - posts',
      },
      {
        key: 'twitter:title',
        name: 'twitter:title',
        content: 'timdeschryver.dev - posts',
      },
    ]
  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

#### [](#dynamic-tags-in-templates)æ¨¡æ¿ä¸­çš„åŠ¨æ€æ ‡ç­¾

Gridsome ä¸­çš„æ¨¡æ¿ä¸é¡µé¢ç›¸åŒï¼Œä½†ä¸é¡µé¢ä¸åŒï¼Œå®ƒæ˜¯åŠ¨æ€çš„ã€‚ä¾‹å¦‚,`/posts/slug`å¯ä»¥ä½œä¸ºä¸€ä¸ªæ¨¡æ¿ã€‚

> æ¨¡æ¿ç”¨äº GraphQL é›†åˆçš„å•ä¸ªå¸–å­è§†å›¾ã€‚

å…ƒæ•°æ®æ ‡ç­¾å’ŒåŠ¨æ€æ¨¡æ¿çš„ä½¿ç”¨å¯ä»¥æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç»„åˆã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™å°±æ˜¯ Gridsome ä½¿å·¥ä½œå˜å¾—å®¹æ˜“å’Œæ„‰å¿«çš„åœ°æ–¹ã€‚

```
export default {
  metaInfo() {
    return {
      title: this.$page.post.title,
      meta: [
        {
          name: 'og:description',
          name: 'og:description',
          content: this.$page.post.description,
        },

        {
          key: 'twitter:description',
          name: 'twitter:description',
          content: this.$page.post.description,
        },
      ],
    }
  },
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¸–å­çš„æ•°æ®æ¥è‡ª GraphQL æŸ¥è¯¢ï¼Œæ¯ä¸ªå¸–å­çš„æ•°æ®éƒ½ä¸åŒã€‚

```
query  Post($path:  String!)  {  post:  post(path:  $path)  {  title  banner  description  }  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> æ›´å¤šä¿¡æ¯è¯·å‚è§ [Gridsome åšå®¢](https://gridsome.org/docs/head)

### [](#the-end-result)æœ€ç»ˆç»“æœ

è¿™æ˜¯ä½ åœ¨æ¨ç‰¹ [![Image of the tweet](../Images/32125868b6bb31d2ea419096653207b0.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--Uyb-jjEn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://timdeschryver.dev/assets/static/tweet.82a2fbd.8b5c795.png) ä¸Šå‘å¸ƒè¿™ç¯‡æ–‡ç« çš„æ ·å­

å¦‚æœä½ åœ¨ç©ºé—²æ—¶é—´åˆ†äº«å®ƒï¼Œè¿™çœ‹èµ·æ¥å°±åƒ [![Image of the slack mesasge](../Images/dead753ceee97c1524650b8e6472762a.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--fOHBgGnJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://timdeschryver.dev/assets/static/slack.1d0800a.ca8154b.png)