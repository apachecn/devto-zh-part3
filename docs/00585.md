# ç”¨ npm åŒ…åˆ†å‘æ ·å¼çš„æœ€å¥½æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ

> åŸæ–‡:[https://dev . to/stereo booster/what-the-best-way-distribute-styles-with-NPM-package-m5f](https://dev.to/stereobooster/what-is-the-best-way-to-distribute-styles-with-npm-package-m5f)

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¸¦æœ‰ React ç»„ä»¶çš„ npm åŒ…ã€‚è¿™äº›ç»„ä»¶å·²ç»/éœ€è¦æ ·å¼åŒ–ã€‚æœ‰äº›æ ·å¼æ˜¯å¯è¦†ç›–çš„ï¼Œä¾‹å¦‚ï¼Œé¢œè‰²æˆ–å°ºå¯¸(åˆåä¸»é¢˜åŒ–)ã€‚æœ‰äº›æ ·å¼æ˜¯ä¸å¯é‡å†™çš„ï¼Œä¾‹å¦‚ï¼ŒæŸäº›ç‰¹å®šäºç»„ä»¶çš„å®šä½ï¼Œæƒ³è±¡ä¸€ä¸‹åœ¨æ—¥å†ç»„ä»¶ä¸­å®šä½å•å…ƒæ ¼æ‰€éœ€çš„æ ·å¼ã€‚

## [](#css-files)CSS æ–‡ä»¶

æˆ‘ä»¬å¯ä»¥é€šè¿‡æä¾› CSS æ–‡ä»¶çš„è€åŠæ³•æ¥å®ç°ã€‚å¦‚æœæ¶ˆè´¹è€…ä½¿ç”¨ç½‘ç»œåŒ…æˆ–åŒ…è£¹ï¼Œä»–ä»¬å¯ä»¥è¿™æ ·åš:

```
import { Component } from "package"
import "package/styles.css"; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœæ²¡æœ‰ bundlerï¼Œå¼€å‘è€…éœ€è¦åœ¨æ ‡é¢˜ä¸­æ”¾ç½®æ ·å¼

```
<link href="package/styles.css" rel="stylesheet"> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ€ä¹ˆåšä¸»é¢˜åŒ–ï¼Ÿæˆ‘ä»¬å¯ä»¥å°è¯•ä½¿ç”¨ [CSS å˜é‡](https://caniuse.com/#feat=css-variables)ã€‚ä½†ç¼ºç‚¹æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ²¡æœ‰å®‰å…¨æ€§ã€‚å¦‚æœä¸æ˜¯`--primarycolor: red;`å¼€å‘è€…å†™`--primary: red;`ï¼Œè€Œæ˜¯æ²¡æœ‰ç±»å‹ç³»ç»Ÿæ— è¿è¡Œæ—¶æ£€æŸ¥æ¥é˜²æ­¢é”™è¯¯ä¼šæ€æ ·ã€‚

æ ·å¼è¡¨ä¹Ÿå…¬å¼€äº†å®ç°ç»†èŠ‚ã€‚æ ·å¼è¡¨æˆä¸ºå…¬å…± API çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦æ”¹å˜ç»„ä»¶çš„å†…éƒ¨æ ‡è®°ï¼Œå®ƒä¼šå½±å“ CSS çš„ç»“æ„ï¼Œå¦‚æœæ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬å°†éœ€è¦ä¿®æ”¹åº“çš„ä¸»è¦ç‰ˆæœ¬(å› ä¸ºå®ƒå¯èƒ½ä¼šç ´åæŸäº›äººçš„æ”¹å˜)ã€‚

æˆ‘ä»¬éœ€è¦ä¸ºæˆ‘ä»¬çš„ç»„ä»¶æ”¯æŒå”¯ä¸€çš„è¯´æ˜ç¬¦(ç±»åæˆ–ç±»ä¼¼çš„)ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•é‡‡ç”¨[çš„ Reach UI æ–¹æ³•](https://ui.reach.tech/styling/)ï¼Œä½¿ç”¨æ•°æ®å‚æ•°è€Œä¸æ˜¯ç±»ï¼Œä¾‹å¦‚`[data-reach-menu-item]`ã€‚ä½†æ˜¯ï¼Œè¿™ç§æ–¹æ³•ä¹Ÿä¸å®‰å…¨ï¼Œå¦‚æœå¼€å‘äººå‘˜é”®å…¥é”™è¯¯çš„è¯´æ˜ç¬¦æˆ–è€…è¯´æ˜ç¬¦éšç€ä¸»è¦åº“çš„æ›´æ–°è€Œæ”¹å˜ï¼Œé‚£è¯¥æ€ä¹ˆåŠã€‚

## [](#cssinjs)CSS-in-JS

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æƒ…æ„Ÿæˆ– JSS æ¥è®¾è®¡ç»„ä»¶ã€‚ä¸»é¢˜åŒ–çš„é—®é¢˜è§£å†³äº†ã€‚å”¯ä¸€åˆ†ç±»å™¨æ²¡æœ‰é—®é¢˜ã€‚è¿™é‡Œæœ‰å®‰å…¨æªæ–½â€”â€”æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ typescript æˆ–æ·»åŠ è¿è¡Œæ—¶æ£€æŸ¥ã€‚

**ä½†æ˜¯**å®ƒä¼šæœ‰è¿è¡Œæ—¶é—´ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªé—®é¢˜(ä»æ€§èƒ½è§’åº¦)ã€‚å®ƒä¼šå¢åŠ ç»„ä»¶çš„å¤§å°(æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`peerDependencies`ï¼Œä½†æ˜¯è¿™æ ·çš„è¯æ²¡æœ‰ bundler åŒ…æ˜¯ä¸å¯æ¶ˆè€—çš„)ã€‚å¦‚æœå¼€å‘è€…ä½¿ç”¨ä¸æ­¢ä¸€ä¸ªç»„ä»¶ï¼Œå¹¶ä¸”æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„ CSS-in-JS è§£å†³æ–¹æ¡ˆï¼Œé‚£è¯¥æ€ä¹ˆåŠğŸ˜±ï¼Ÿæˆ‘ä»¬éœ€è¦ä¸º SSR åšé¢å¤–çš„é…ç½®ã€‚

## [](#other)å…¶ä»–

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨`style`å±æ€§ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦å†™ä¸€äº›ä»£ç æ¥åšä¸»é¢˜åŒ–(å¯èƒ½éœ€è¦ä¸Šä¸‹æ–‡)ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`className` prop å¹¶å‡è®¾æ¶ˆè´¹è€…å°†ä½¿ç”¨ CSS æ¨¡å—ã€‚åŒæ ·ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘å¦‚ä½•å°†å…¶ä¼ é€’ç»™æ·±åº¦åµŒå¥—çš„ç»„ä»¶(å¯èƒ½å¸¦æœ‰ä¸Šä¸‹æ–‡ï¼Ÿ).

ä½¿ç”¨ CSS-in-JS è§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥ç”¨é›¶è¿è¡Œæ—¶è§£å†³æ–¹æ¡ˆç¼–è¯‘ï¼Œå¦‚ [linaria](https://github.com/callstack/linaria) æˆ– [astroturf](https://github.com/4Catalyzer/astroturf) ï¼Œæ‰€ä»¥ä¸éœ€è¦è¿è¡Œæ—¶çš„å¼€å‘äººå‘˜å¯ä»¥åˆ é™¤å®ƒï¼Œä½†ä»ç„¶æ‹¥æœ‰æ‰€æœ‰ DX çš„å¥½å¤„ã€‚æˆ‘åœ¨å®è·µä¸­æ²¡è§è¿‡è¿™ä¸ªï¼Œè¿™åªæ˜¯æˆ‘çš„æ¢¦æƒ³ã€‚

## [](#what-would-you-recommend)ä½ ä¼šæ¨èä»€ä¹ˆï¼Ÿ

å¦‚æ‚¨æ‰€è§ï¼Œæ¯ç§æ–¹æ³•éƒ½æœ‰åˆ©å¼Šã€‚ä½ ä¼šæ¨èä»€ä¹ˆï¼Ÿä½ å°è¯•è¿‡è§£å†³ç±»ä¼¼çš„ä»»åŠ¡å—ï¼Ÿåˆ†äº«ä¸€ä¸‹ä½ çš„ç»å†ã€‚

> ç…§ç‰‡ç”± Erik Eastman åœ¨ Unsplash ä¸Šæ‹æ‘„