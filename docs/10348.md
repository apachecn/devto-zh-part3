# ä¿æŠ¤æ‚¨çš„ç§»åŠ¨åº”ç”¨-ç¬¬ä¸€é›†(ä¿æŠ¤ä»£ç )

> åŸæ–‡:[https://dev.to/progress/secure-your-mobile-app-ç¬¬ä¸€é›†-ä¿æŠ¤ä»£ç -58e](https://dev.to/progress/secure-your-mobile-app---episode-one-protecting-the-code-58e)

æ— è®ºæ‚¨æ˜¯å¼€å‘ä¼ ç»Ÿçš„æœ¬æœºåº”ç”¨ç¨‹åºï¼Œè¿˜æ˜¯ä½¿ç”¨ Appcelerator æˆ– Xamarin ç­‰äº¤å‰ç¼–è¯‘çš„åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨ Ionic çš„æ··åˆåº”ç”¨ç¨‹åºï¼Œæˆ–è€…ä½¿ç”¨ NativeScript æˆ– React Native çš„ JavaScript-æœ¬æœºåº”ç”¨ç¨‹åºï¼Œè´¯ç©¿å…¶ä¸­çš„ä¸€ä¸ªå…±åŒä¸»é¢˜æ˜¯åº”ç”¨ç¨‹åºå®‰å…¨æ€§ã€‚

ç§»åŠ¨å®‰å…¨æ˜¯ä¸€ä¸ªä¸å®¹å¿½è§†çš„é—®é¢˜ã€‚å‡ ä¹æ¯ä¸ªäººéƒ½éšèº«æºå¸¦æ•æ„Ÿæ•°æ®ã€å…¬å¸æœºå¯†å’Œ/æˆ–å—ä¿æŠ¤çš„å¥åº·ä¿¡æ¯ã€‚

> è§‚çœ‹ç½‘ç»œç ”è®¨ä¼š[ä¿æŠ¤æ‚¨çš„ç§»åŠ¨åº”ç”¨çš„æœ€ä½³å®è·µ](https://www.progress.com/campaigns/kinvey/best-practices-for-securing-your-mobile-apps),è·å–ä¸€äº›å…³äº NativeScript å®‰å…¨æ€§çš„æç¤ºå’ŒæŠ€å·§ï¼

## [](#a-bit-o-history)æœ‰ç‚¹å†å²

è¿˜è®°å¾— 90 å¹´ä»£å—ï¼Ÿæˆ‘(å¤§éƒ¨åˆ†)æœ‰ã€‚æˆ‘è¿˜è®°å¾—åœ¨æˆ‘åšå’¨è¯¢çš„æ—¥å­é‡Œï¼Œé‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜:

*   ä»¥æ˜æ–‡å½¢å¼å­˜å‚¨ç”¨æˆ·å¯†ç ï¼›
*   å‘é€æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­å¸¦æœ‰ SSN çš„è¯·æ±‚ï¼›
*   æ¥å—æœªå¯ç”¨ SSL çš„ä¿¡ç”¨å¡æ”¯ä»˜ã€‚

ç¾å¥½æ—¶å…‰ï¼ğŸ˜¬

ä¼ ç»Ÿä¸Šï¼Œç”¨æˆ·ä¾èµ–å…¬å…±åº”ç”¨å•†åº—ä½œä¸ºæœ€ç»ˆçš„åº”ç”¨çœ‹é—¨äºº:å……å½“ç—…æ¯’çœ‹å®ˆäººï¼Œé˜²æ­¢æ¶æ„çš„ API ä½¿ç”¨ã€‚ç„¶è€Œç°å®æ˜¯ï¼Œåœ¨æˆ‘ä»¬éƒ¨ç½²ä¸‹ä¸€ä¸ªä¼˜ç§€çš„åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œæˆ‘ä»¬å¼€å‘äººå‘˜æœ‰è´£ä»»å®ç°é¢å¤–çš„å®‰å…¨è€ƒè™‘ã€‚

åœ¨ NativeScript åšå®¢ä¸Šçš„è¿™ä¸ªç”±å››éƒ¨åˆ†ç»„æˆçš„ç³»åˆ—ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ä¸€ç³»åˆ—ä¸å®‰å…¨ç›¸å…³çš„æç¤ºå’ŒæŠ€å·§ï¼Œä¾›æ‚¨åº”ç”¨äºæ‚¨çš„åº”ç”¨ç¨‹åºã€‚å¤§å¤šæ•°æ’ä»¶éƒ½éå¸¸å®¹æ˜“å®ç°ï¼Œå› ä¸ºç¹é‡çš„å·¥ä½œå·²ç»ç”±æˆ‘ä»¬æ°å‡ºçš„æ’ä»¶å¼€å‘è€…ç¤¾åŒºå®Œæˆäº†ã€‚

*   **ç¬¬ä¸€éƒ¨åˆ†:**ä¿æŠ¤ä½ çš„æºä»£ç (å˜¿å°±æ˜¯è¿™ä¸ªï¼)
*   **ç¬¬äºŒéƒ¨åˆ†:** [ä¿æŠ¤é™æ€æ•°æ®](https://dev.to/progress/secure-your-mobile-app---episode-two-securing-data-at-rest-4ami)
*   **ç¬¬ä¸‰éƒ¨åˆ†:** [ç¡®ä¿è®¾å¤‡å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®å®Œæ•´æ€§](https://dev.to/progress/secure-your-mobile-app---episode-three-securing-data-in-transit-491f)
*   **ç¬¬å››éƒ¨åˆ†:** [ä¼ä¸šç”¨æˆ·è®¤è¯å’Œæˆæƒ](https://dev.to/progress/secure-your-mobile-app---episode-four-secure-user-auth-5ep1)

> æŸ¥çœ‹æ¥è‡ª[NativeScripting.com](https://nativescripting.com/course/securing-nativescript-applications)çš„å…³äºç§»åŠ¨åº”ç”¨å®‰å…¨çš„æ–°è¯¾ç¨‹ï¼Œå¹¶é€šè¿‡ä»£ç :NSSECURE è·å¾— 30%çš„æŠ˜æ‰£ã€‚

## [](#source-code-security)æºä»£ç å®‰å…¨...ï¼Ÿ

æˆ‘ä»¬å¤§å¤šæ•°äººéƒ½æœ‰ web å¼€å‘èƒŒæ™¯ã€‚æˆ‘ä»¬ä¹ æƒ¯äºé€šè¿‡æœåŠ¡å™¨å°†æˆ‘ä»¬çš„ä»£ç å‘é€åˆ°ç”¨æˆ·çš„æµè§ˆå™¨ã€‚çŸ¥è¯†äº§æƒ(ä»£ç å¤åˆ¶)é—®é¢˜ç¡®å®å­˜åœ¨ï¼Œä½†æˆ‘ä»¬å‡ ä¹æ— æ³•é˜»æ­¢è¿™äº›é—®é¢˜ã€‚å¦ä¸€æ–¹é¢ï¼Œæ¡Œé¢å’Œç§»åŠ¨å¼€å‘äººå‘˜æ›´ä¹ æƒ¯äºå°†ä»£ç ç¼–è¯‘æˆå¤§éƒ¨åˆ†ä¸å¯è¯»çš„æ¯”ç‰¹â€”â€”ä¿æŠ¤ä»£ç å¹¶å‡å°‘æ£€æµ‹æ¼æ´çš„åŠªåŠ›ã€‚

é‚£ä¹ˆï¼Œç”± React Native å’Œ NativeScript ç­‰æŠ€æœ¯æ„å»ºçš„æ–°ä¸€æ³¢â€œJavaScript åŸç”Ÿâ€åº”ç”¨ç¨‹åºæ˜¯å¦‚ä½•å¤„ç†è¿™äº›é—®é¢˜çš„å‘¢ï¼Ÿé‚£ä¹ˆç”¨ Ionic æ„å»ºçš„æ··åˆåº”ç”¨å‘¢ï¼Ÿ

[![securing source code](../Images/4314d5ae9cd5e17cf7653aff267ba875.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--AevcBmrJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/rdlauer/articles/master/nativescript/securing-app/1-code.png)

æˆ‘ä¸å–œæ¬¢æ‰“ç ´é›†ä½“çš„å¹»æƒ³ï¼Œä½†æ˜¯**å‘é€åˆ°å®¢æˆ·ç«¯çš„æºä»£ç æœ¬è´¨ä¸Šæ˜¯ä¸å®‰å…¨çš„** -å› ä¸ºå®ƒåœ¨æŠ€æœ¯ä¸Šå¯ä»¥è¢«æœ€ç»ˆç”¨æˆ·ä»¥æŸç§æ–¹å¼è¯»å–ã€‚NativeScriptã€React Native å’Œ Cordova/Ionicâ€”â€”è¿™äº›éƒ½æ²¡æœ‰ç¼–è¯‘æˆæœ¬æœºå­—èŠ‚ç ã€‚JavaScript åœ¨è®¾å¤‡ä¸Šè¢«è§£é‡Šï¼Œç±»ä¼¼äºç½‘ç»œæµè§ˆå™¨çš„åŠŸèƒ½ã€‚

æ‰€ä»¥ä½ æ˜¯ä¸€ä¸ªä¼ ç»Ÿçš„æœ¬åœ°åº”ç”¨å¼€å‘è€…ï¼Œå¹¶è®¤ä¸ºä½ æ˜¯æ¸…ç™½çš„ï¼Ÿå†æƒ³æƒ³â€”â€”æœ‰æ— æ•°ç§å·¥å…·å¯ä»¥åç¼–è¯‘ä½ çš„ä»£ç ï¼Œè¯»å–ä½ çš„ç§˜å¯†ã€‚ğŸ¤

å°½ç®¡å¦‚æ­¤ï¼Œä¸€åˆ‡è¿˜æ²¡æœ‰ç»“æŸï¼è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€äº›ä¿æŠ¤ä½ çš„æºä»£ç å’Œé˜²æ­¢çª¥æ¢ä½ çš„äº§å“çš„ç­–ç•¥â€”â€”ä¿æŠ¤ä½ çš„çŸ¥è¯†äº§æƒå’Œå‡è½»å¯¹ä½ çš„åº”ç”¨å’Œåç«¯ç³»ç»Ÿçš„æ½œåœ¨æ”»å‡»ã€‚

## [](#minification-and-obfuscation)ç¼©å°å’Œæ··æ·†

ç¬¬ä¸€ç§ï¼Œå½“ç„¶ä¹Ÿæ˜¯æœ€ä¸å¼ºå¤§çš„ä¿æŠ¤ä»£ç çš„æ–¹æ³•æ˜¯é€šè¿‡ç¼©å°/æ··æ·†ã€‚è¿™æ˜¯ä¸€é¡¹ç”±æ¥å·²ä¹…çš„æŠ€æœ¯ï¼Œå¯ä»¥è®©ä½ çš„ä»£ç ä¸è¢«äººçœ‹åˆ°ã€‚ä¸€ä¸ªæµè¡Œçš„æ··æ·†åº“ï¼Œ [Uglify](http://lisperator.net/uglifyjs/) ï¼Œå¯ä»¥åƒè¿™æ ·è·å–æ¸…æ™°çš„ JavaScript ä»£ç :

```
const app = require("tns-core-modules/application");
const HomeViewModel = require("./home-view-model");

function onNavigatingTo(args) {
    const page = args.object;
    page.bindingContext = new HomeViewModel();
}

function onDrawerButtonTap(args) {
    const sideDrawer = app.getRootView();
    sideDrawer.showDrawer();
}

exports.onNavigatingTo = onNavigatingTo;
exports.onDrawerButtonTap = onDrawerButtonTap; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

...å¹¶å°†å…¶è½¬æ¢æˆå¯è¯»æ€§ç¨å·®çš„ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
const app=require("tns-core-modules/application"),HomeViewModel=require("./home-view-model");function onNavigatingTo(o){o.object.bindingContext=new HomeViewModel}function onDrawerButtonTap(o){app.getRootView().showDrawer()}exports.onNavigatingTo=onNavigatingTo,exports.onDrawerButtonTap=onDrawerButtonTap; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å‡è®¾ä½ å·²ç»åœ¨ä½¿ç”¨ [Webpack](https://docs.nativescript.org/performance-optimizations/bundling-with-webpack) (å¦‚æœä½ æ²¡æœ‰ï¼Œä½ åº”è¯¥ä½¿ç”¨ï¼).åªéœ€å‘å‡ºä»¥ä¸‹å‘½ä»¤æ¥æ„å»ºå’Œä¿®æ”¹æ‚¨çš„ä»£ç :

```
tns build android|ios --bundle --env.uglify 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

**è­¦å‘Š:**è¿™ç›¸å½“äºæˆ‘ä»¬ä¸­å­¦æ—¶ç”¨çš„å»‰ä»·è‡ªè¡Œè½¦é”ï¼

[![cheap bike lock](../Images/8d1c800d29913efe7f6c77f87c57480e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--JGzU089O--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/rdlauer/articles/master/nativescript/securing-app/1-bikelock.png)

è¿™å°†ä½¿å¶å°”çš„é»‘å®¢è¿œç¦»æˆ‘ä»¬çš„ä¸šåŠ¡ï¼Œä½†é—®é¢˜æ˜¯æœ‰å¤§é‡çš„â€œç¾åŒ–â€èµ„æºï¼Œå®ƒä»¬å°†è·å–ä¸‘é™‹çš„ä»£ç ï¼Œå¹¶ä½¿å…¶å˜å¾—æ›´åŠ æ˜“è¯»ã€‚åœ¨ä¸Šè¿°æ··æ·†ä»£ç ä¸Šä½¿ç”¨è¿™äº›æœåŠ¡ä¹‹ä¸€æä¾›äº†ä»¥ä¸‹å†…å®¹:

```
const app = require("tns-core-modules/application"),
    HomeViewModel = require("./home-view-model");

function onNavigatingTo(o) {
    o.object.bindingContext = new HomeViewModel
}

function onDrawerButtonTap(o) {
    app.getRootView().showDrawer()
}
exports.onNavigatingTo = onNavigatingTo, exports.onDrawerButtonTap = onDrawerButtonTap; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¥½å§ï¼Œå¥½å§ï¼Œè¿™æ˜¯ä¸ªå¼€å§‹ã€‚ä½†æˆ‘è®¤ä¸ºæˆ‘ä»¬å¯ä»¥åšå¾—æ›´å¥½ã€‚

> è®¸å¤šäººæåˆ° progguard ä¹Ÿæ˜¯ä¸€ç§é€‰æ‹©ã€‚ProGuard å¯ä»¥æ··æ·†*çš„ Java* ä»£ç ï¼Œä½†å¯¹*çš„ JavaScript* å´æ— èƒ½ä¸ºåŠ›ã€‚

## [](#jscrambler-obfuscation)Jscrambler(æ··æ·†++++)

åœ¨ NativeScript å›¢é˜Ÿï¼Œæˆ‘ä»¬å·²ç»å’Œ Jscrambler çš„äººä¿æŒè”ç³»å¾ˆå¤šå¹´äº†ï¼Œå¯ä»¥è¿½æº¯åˆ°æˆ‘ä»¬å¼€å‘æ··åˆåº”ç”¨çš„æ—¶å€™ã€‚Jscrambler æ˜¯ä¸€ç§æä¾›é«˜çº§æ¨¡ç³Šå¤„ç†çš„æœåŠ¡ï¼Œå³ä½¿ç»è¿‡ç¾åŒ–ï¼Œä»£ç ä¹Ÿéš¾ä»¥è¾¨è®¤ã€‚

[![jscrambler obfuscation](../Images/bed999cb580c17386147e9f0aef450ea.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--llVcxXfV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/rdlauer/articles/master/nativescript/securing-app/1-jscrambler.png)

Jscrambler é€šè¿‡å°†æ‚¨çš„ JavaScript è½¬æ¢æˆä¸€ç§å½¢å¼ï¼Œé˜²æ­¢ä½¿ç”¨è‡ªåŠ¨åŒ–é™æ€åˆ†ææ”»å‡»çš„é€†å‘å·¥ç¨‹ï¼Œä»è€Œé˜²æ­¢æ‚¨çš„ä»£ç è¢«ç¯¡æ”¹ã€‚Jscrambler è¿˜å¯ä»¥æ·»åŠ â€œä»£ç é™·é˜±â€,é™åˆ¶ JavaScript ä½•æ—¶ã€ä½•åœ°ä»¥åŠç”±è°æ‰§è¡Œã€‚

ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ª NativeScript åº”ç”¨ç¨‹åºä¸­è·å–ä¸€äº› JavaScriptï¼Œé€šè¿‡ Jscrambler è¿è¡Œå®ƒï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœ:

[![jscrambler output](../Images/eb3847c82601f211aefb4d088b88621f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--fn5-oXaR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/rdlauer/articles/master/nativescript/securing-app/1-jscrambler-output.png)

ğŸ‘ğŸ‘

æœ‰äº†ç»è¿‡éªŒè¯çš„ NativeScript å…¼å®¹æ€§ï¼Œå¾ˆå€¼å¾—å°è¯•ä¸€ä¸‹ Jscramblerã€‚åœ¨ jscrambler.com å¼€å§‹æ‚¨çš„å…è´¹è¯•ç”¨ã€‚

> [æŸ¥çœ‹è¿™ç¯‡å…³äºä½¿ç”¨ Jscrambler å’Œ NativeScript çš„æ·±å…¥æ•™ç¨‹](https://www.nativescript.org/blog/protecting-your-source-code-with-jscrambler)ã€‚

åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬å·²ç»é‡‡å–äº†ä¸€äº›éå¸¸åšå®çš„æ­¥éª¤æ¥ä¿æŠ¤æˆ‘ä»¬äº¤ä»˜ç»™æœ€ç»ˆç”¨æˆ·çš„ä»£ç ã€‚é‡‡å–*é¢å¤–æ­¥éª¤*æ¥å‡å°‘*çš„æ½œåœ¨è¶³è¿¹æ€ä¹ˆæ ·*ç”šè‡³å¯ä»¥å®‰è£…æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Ÿ

## [](#limit-access-via-private-app-stores)é™åˆ¶é€šè¿‡ç§äººåº”ç”¨å•†åº—çš„è®¿é—®

å…¬å…±åº”ç”¨å•†åº—å¯¹è°å¯ä»¥ä¸‹è½½ä½ çš„åº”ç”¨å‡ ä¹æ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚ä¸ç®¡ç›®çš„æˆ–å—ä¼—æ˜¯ä»€ä¹ˆï¼Œæ¾³å¤§åˆ©äºš 14 å²çš„å­©å­é€šå¸¸å’Œäºšåˆ©æ¡‘é‚£å· 80 å²çš„è€äººæ‹¥æœ‰ç›¸åŒçš„è®¿é—®æƒé™ã€‚

> è¯šç„¶ï¼Œä½ å¯ä»¥é€šè¿‡å¹´é¾„å’Œåœ°ç†é™åˆ¶æ¥é™åˆ¶ä½ çš„åº”ç”¨ç¨‹åºï¼Œä½¿å®ƒä»¬åœ¨æŸäº›å›½å®¶å¯ç”¨ï¼Œä½†è¿™ä¸åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚

å¦‚æœæ‚¨æ­£åœ¨å¼€å‘ä¸€ä¸ªåªéœ€è¦äº¤ä»˜ç»™å•ä¸ªå®ä½“(å³ä¸€ç»„ç”¨æˆ·æˆ–å•ä¸ªå…¬å¸/ç»„ç»‡)çš„åº”ç”¨**ï¼Œä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©å¯èƒ½æ˜¯ä¸€ä¸ªç§äººåº”ç”¨å•†åº—**ã€‚

### [](#enterprise-mammdm-options)ä¼ä¸š MAM/MDM é€‰é¡¹

å¦‚æœæ‚¨æ˜¯ä¸€ä¸ªè¶³å¤Ÿå¤§çš„ç»„ç»‡çš„ä¸€éƒ¨åˆ†ï¼Œé‚£ä¹ˆæ‚¨çš„å…¬å¸å¾ˆæœ‰å¯èƒ½ä¾é ç§»åŠ¨åº”ç”¨ç®¡ç†(MAM)æˆ–ç§»åŠ¨è®¾å¤‡ç®¡ç†(MDM)è½¯ä»¶æ¥å¸®åŠ©ä¿æŠ¤æ‚¨çš„å†…éƒ¨åº”ç”¨å’Œ/æˆ–è®¾å¤‡ã€‚æœ‰äº† MAM æä¾›å•†ï¼Œå¦‚ [MobileIron](https://www.mobileiron.com/en/modern-security-modern-work) æˆ– [AirWatch](https://www.air-watch.com/) ï¼Œä½ å°±æœ‰äº†ä¸€ä¸ªå†…éƒ¨çš„â€œä¼ä¸šâ€åº”ç”¨å•†åº—ï¼Œæ‰€ä»¥ä½ ä¸å¿…æ‹…å¿ƒæœªç»æˆæƒçš„ç¬¬ä¸‰æ–¹æœ‰èƒ½åŠ›ä¸‹è½½ä½ çš„åº”ç”¨ã€‚

ä¸è¿‡ï¼Œè¿˜æœ‰å…¶ä»–æ›´ä¾¿å®œã€ä¾µå…¥æ€§æ›´ä½çš„é€‰æ‹©:

### [](#apple-developer-enterprise-program)è‹¹æœå¼€å‘è€…ä¼ä¸šè®¡åˆ’

[è‹¹æœä¼ä¸šå¼€å‘è€…è®¡åˆ’](https://developer.apple.com/programs/enterprise/)å…è®¸ä½ ç»•è¿‡å…¬å…±çš„ iOS åº”ç”¨å•†åº—ï¼Œå°†ä½ çš„åº”ç”¨ç›´æ¥äº¤ä»˜ç»™ä½ ç»„ç»‡çš„ç”¨æˆ·ã€‚è™½ç„¶æˆæœ¬é«˜äºä¼ ç»Ÿçš„å¼€å‘è€…åè®®(299 ç¾å…ƒ/å¹´å¯¹ 99 ç¾å…ƒ/å¹´)ï¼Œä½†åˆ†å‘çš„çµæ´»æ€§æ˜¯æ— ä»·çš„ã€‚

ä»£ç ç­¾åå’Œé…ç½®æ–‡ä»¶ç”Ÿæˆçš„è¿‡ç¨‹ä¸æ ‡å‡†æ–¹æ³•å®Œå…¨ç›¸åŒã€‚æ‚¨åªéœ€ä¸ºå†…éƒ¨/ä¸´æ—¶åº”ç”¨éƒ¨ç½²æä¾›ä¸€ä¸ªé¢å¤–çš„ç‹¬ç«‹é…ç½®é€‰é¡¹ã€‚

è½»æ¾ç‚¹ã€‚ä½†åœ¨æŸäº›æ–¹é¢ï¼ŒAndroid è®©è¿™å˜å¾—æ›´åŠ å®¹æ˜“:

### [](#android-private-distribution)å®‰å“ç§é…

åœ¨ Google Play ä¹‹å¤–éƒ¨ç½²åº”ç”¨æ—¶ï¼Œè°·æ­Œçš„é™åˆ¶è¦å°‘å¾—å¤šã€‚ä½ å¯ä»¥å»ºç«‹è‡ªå·±çš„ç§äººåº”ç”¨ç¨‹åºå¸‚åœº(ç”šè‡³åˆ›å»ºè‡ªå·±çš„*åº”ç”¨ç¨‹åº*ä½œä¸ºåº”ç”¨ç¨‹åºå•†åº—),è€Œä¸ä¼šåƒåœ¨è‹¹æœå…¬å¸é‚£æ ·æƒ¹æ€’ä»–äººã€‚è°·æ­Œç”šè‡³å…è®¸ä½ é€šè¿‡ç”µå­é‚®ä»¶ã€ä½ è‡ªå·±çš„ç½‘ç«™ï¼Œç”šè‡³æ˜¯ç”± T2 ç®¡ç†çš„ Google Play å•†åº—æ¥åˆ†å‘åº”ç”¨ç¨‹åºã€‚

> **æ³¨æ„:**å¦‚æœä¸ä½¿ç”¨ Google Playï¼Œå°±æ— æ³•ä½¿ç”¨åº”ç”¨å†…è®¡è´¹å’ŒæˆæƒæœåŠ¡ã€‚

å”¯ä¸€çš„è¯€çªæ˜¯ï¼Œä½ çš„æœ€ç»ˆç”¨æˆ·å¿…é¡»[é€‰æ‹©å®‰è£…æœªçŸ¥åº”ç”¨](https://developer.android.com/distribute/marketing-tools/alternative-distribution#unknown-sources)ã€‚

å¦‚æœä½ ä¸æƒ³è‡ªå·±åŠ¨æ‰‹ï¼Œä¹Ÿæœ‰å¾ˆå¤šæœåŠ¡æä¾›ç±»ä¼¼çš„åŠŸèƒ½ã€‚åº”ç”¨ç¨‹åºå°±æ˜¯è¿™ç§æœåŠ¡çš„ä¸€ä¸ªä¾‹å­ã€‚

## [](#keep-business-logic-in-the-cloud)å°†ä¸šåŠ¡é€»è¾‘ä¿å­˜åœ¨äº‘ç«¯

ä¸å…¶è¯•å›¾ä¿æŠ¤è®¾å¤‡ä¸Šçš„ç§æœ‰ä¸šåŠ¡é€»è¾‘ï¼Œä¸ºä»€ä¹ˆä¸æŠŠå®ƒå¸è½½åˆ°åç«¯ç³»ç»Ÿå‘¢ï¼Ÿç±»ä¼¼äº web åº”ç”¨ç¨‹åºå€¾å‘äºåœ¨åç«¯ä¿ç•™å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ‚¨ä¹Ÿå¯ä»¥å¯¹æ‚¨çš„ç§»åŠ¨åº”ç”¨ç¨‹åºåšåŒæ ·çš„äº‹æƒ…ã€‚

å¯¹äºè®¸å¤šåœºæ™¯ï¼Œæ— è®ºæ˜¯ä¸ºäº†å®‰å…¨è¿˜æ˜¯æ€§èƒ½ï¼Œå°†æ•æ„Ÿçš„ä¸šåŠ¡é€»è¾‘ä»åº”ç”¨ç¨‹åºè½¬ç§»åˆ°äº‘ä¸Šå¯èƒ½ä¼šå¥½å¾—å¤šã€‚

ä½¿ç”¨ NativeScript å®ç°è¿™ä¸€ç‚¹çš„ä¸€ä¸ªç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨[flex services](https://devcenter.kinvey.com/nativescript/guides/flex-services)â€”[Progress Kinvey](https://www.progress.com/kinvey)æä¾›çš„è½»é‡çº§ Node.js å¾®æœåŠ¡ã€‚

> **æç¤º:** Kinvey ä¸ºä¼—å¤šç§»åŠ¨æ¡†æ¶æä¾› SDKï¼Œå¦‚ [Ionic](https://devcenter.kinvey.com/phonegap/reference) ã€ [Xamarin](https://devcenter.kinvey.com/xamarin/reference) ã€[åŸç”Ÿ iOS](https://devcenter.kinvey.com/ios/reference) ã€[åŸç”Ÿ Android](https://devcenter.kinvey.com/android/reference) ï¼Œå½“ç„¶è¿˜æœ‰[åŸç”Ÿè„šæœ¬](https://devcenter.kinvey.com/nativescript/reference)ï¼

æ‚¨å¯èƒ½å¶å°”ä¼šå°†ä¸€äº›ä¸“æœ‰çš„ä¸šåŠ¡é€»è¾‘å­˜å‚¨åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ï¼Œè¿™äº›é€»è¾‘æœ€å¥½å­˜å‚¨åœ¨äº‘ä¸­(æ— è®ºæ˜¯å‡ºäº IP ä¿æŠ¤è¿˜æ˜¯æ€§èƒ½è€ƒè™‘ï¼Œç”šè‡³æ˜¯åœ¨æœåŠ¡å™¨ä¸Šéšè—*å…¶ä»–* API é”®ï¼).å› æ­¤ï¼Œä½ å¯ä»¥ç”¨ Kinvey ç¼–å†™ä¸€ä¸ª FlexServiceï¼Œè€Œä¸æ˜¯åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ä¿ç•™è¿™ä¸ªé€»è¾‘ã€‚

[![kinvey flexservice](../Images/17a5e194ab4b3b8c3b3449f3d56aa87a.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--CCSDixWy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/rdlauer/articles/master/nativescript/securing-app/1-flexservice.png)

ä¾‹å¦‚ï¼Œä»¥ä¸‹ FlexService(ç”±æ°å‡ºçš„ [TJ VanToll](https://twitter.com/tjvantoll) æä¾›)è¯»å–é‡‘èäº¤æ˜“æ•°æ®ï¼Œå¹¶æ ¹æ®ä¸“æœ‰ç®—æ³•å¯¹æ‚¨çš„è¡¨ç°è¿›è¡Œè¯„åˆ†:

```
const sdk = require('kinvey-flex-sdk');

function getTransactions(modules) {
  return new Promise((resolve, reject) => {
    const store = modules.dataStore({ useUserContext: false });
    const collection = store.collection('Transactions');
    const query = new modules.Query();

    collection.find(query, (err, result) => {
      if (err) {
        reject(err);
      } else {
        resolve(result);
      }
    });
  });
}

function determineScore(transactions) {
  var score = 100;
  transactions.forEach((transaction) => {
    if (transaction.amount < 0) {
      score -= 5;
    }
    if (transaction.amount > 5) {
      score += 10;
    }
    if (transaction.category === "restaurant") {
      score -= 5;
    }
  });
  return score.toString();
}

sdk.service((err, flex) => {
  function getBudgetScore(context, complete, modules) {
    getTransactions(modules).then((transactions) => {
      complete().setBody({
        score: determineScore(transactions)
      }).done();
    }).catch((err) => {
      complete().setBody(new Error(err)).runtimeError().done();
    });
  }

  flex.functions.register('getBudgetScore', getBudgetScore);
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é€šè¿‡ Kinvey æä¾›çš„ç«¯ç‚¹ï¼Œå¯ä»¥åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­è®¿é—®è¿™ç§ FlexService:

```
return this.http.post(
    "https://baas.kinvey.com/rpc/kid_<ID>/custom/BudgetScore",
    {},
    {
        headers: new HttpHeaders({
            "Content-Type": "application/json",
            "Authorization": "Basic <YOUR AUTH KEY>"
        })
    }
); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæ‚¨çš„çŸ¥è¯†äº§æƒæ˜¯å®‰å…¨çš„ï¼Œæ‚¨çš„ä¸šåŠ¡é€»è¾‘ä¸ä¼šä»¥ä»»ä½•æ–¹å¼æš´éœ²ç»™ç”¨æˆ·ï¼Œå¹¶ä¸”æ‚¨å¯ä»¥è·å¾—å®Œå…¨å¯ä¼¸ç¼©çš„ Kinvey å®ä¾‹çš„æ€§èƒ½å’Œå¯é æ€§ä¼˜åŠ¿ã€‚

> ä¸ºäº†äº²è‡ªäº†è§£ Kinvey å¦‚ä½•è®©æ‚¨çš„ç§»åŠ¨åº”ç”¨å¼€å‘éœ€æ±‚å—ç›Šï¼Œ[æ³¨å†Œå…è´¹è¯•ç”¨](https://www.progress.com/campaigns/kinvey/console-sign-up)ã€‚

## [](#beware-of-sharing-keys)è°¨é˜²å…±äº«å¯†é’¥ï¼

å¥½å§ï¼Œä¹Ÿè®¸è¿™å¤ªç®€å•äº†ï¼Œä½†æ˜¯è¿™æ¯”ä½ æƒ³è±¡çš„è¦ç»å¸¸å‘ç”Ÿ:**ç¡®ä¿ä½ æ²¡æœ‰å…±äº«ç§é’¥ï¼**

å½“æˆ‘ä»¬åœ¨ GitHub ä¸Šä½¿ç”¨å…¬å…±å­˜å‚¨åº“æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¸ä¼šé™åˆ¶ä¸Šä¼ å“ªäº›æ–‡ä»¶ã€‚è¿˜æœ‰ä¸€äº›åƒµå°¸ç¨‹åºä¼šå®šæœŸæ‰«æå›è´­æ–‡ä»¶ï¼Œä»¥æ‰¾åˆ°ç§äºº AWS æˆ– Firebase å¯†é’¥ï¼Œç„¶åå°†è¿™äº›å¯†é’¥ç”¨äºæ¶æ„ç›®çš„ï¼Œä¾‹å¦‚:

[![crypto mining](../Images/602819920521536a1239b19dfbd3f683.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--VpbbXL42--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://raw.githubusercontent.com/rdlauer/articles/master/nativescript/securing-app/1-crypto-mining.gif)

è§£å†³è¿™ä¸ªé—®é¢˜æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ª`.gitignore`æ–‡ä»¶å¹¶æ’é™¤ã€‚ts/ã€‚å­˜å‚¨ç§é’¥çš„ js æ–‡ä»¶ã€‚ä¸‹é¢æ˜¯æˆ‘åœ¨ NativeScript é¡¹ç›®ä¸­ä½¿ç”¨çš„æ ‡å‡†`.gitignore`(å‡è®¾æˆ‘ä½¿ç”¨çš„æ˜¯ TypeScriptï¼Œè¿™ä¹Ÿä¸åŒ…æ‹¬æˆ‘çš„`app`ç›®å½•ä¸­çš„ JavaScript æ–‡ä»¶):

```
.vscode/
.cloud/
platforms/
node_modules
app/**/*.js
app/**/*.map
npm-debug.log
app/keys.*
hooks/
app/**/google-services.json
app/**/GoogleService-Info.plist 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä¸ä»…æ’é™¤äº†ç§æœ‰å¯†é’¥ï¼Œè¿˜é˜²æ­¢äº†`platforms`å’Œ`node_modules`ç›®å½•è¢«å…±äº«(å¦‚æœä½ æ­£åœ¨å…‹éš†åº”ç”¨ç¨‹åºï¼Œè¿™æ˜¯å®Œå…¨ä¸å¿…è¦çš„â€”â€”æ›´ä¸ç”¨è¯´æ•°ä»¥åƒè®¡çš„æ–‡ä»¶äº†ï¼).

## [](#on-to-episode-two-securing-data-at-rest)ç»§ç»­ç¬¬äºŒé›†:ä¿æŠ¤é™æ€æ•°æ®ï¼

ä»Šå¤©ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†å¦‚ä½•é‡‡å–ä¸€äº›ç›¸å¯¹ç®€å•çš„æ­¥éª¤æ¥ä¿æŠ¤æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä»£ç ï¼Œå‡å°‘æ¶æ„ç”¨æˆ·æŸ¥çœ‹æˆ‘ä»¬ä»£ç çš„ä¼å›¾ï¼Œå‡å°‘æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå®‰è£…è¶³è¿¹ï¼Œå¹¶å°†æ•æ„Ÿçš„ä¸šåŠ¡é€»è¾‘å¸è½½åˆ°äº‘ã€‚

[åœ¨ä¸‹ä¸€éƒ¨åˆ†](https://dev.to/progress/secure-your-mobile-app---episode-two-securing-data-at-rest-4ami)ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨å¦‚ä½•**æ›´å¥½åœ°ä¿æŠ¤å­˜å‚¨åœ¨è®¾å¤‡ä¸Šçš„æ•°æ®**ã€‚