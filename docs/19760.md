# Javascript ä¸­çš„å‡½æ•°å¼ç¼–ç¨‹åŸåˆ™

> åŸæ–‡:[https://dev . to/tee Kay/functional-programming-principles-in-JavaScript-26 G7](https://dev.to/teekay/functional-programming-principles-in-javascript-26g7)

[![](../Images/8082b2d626d63564c367169769a98189.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--IyFMIhCO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1600/1%2AJyVlvqwsCBYl2FuvPFVRZQ.png)

åœ¨é•¿æ—¶é—´å­¦ä¹ å’Œä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹‹åï¼Œæˆ‘é€€ä¸€æ­¥æ€è€ƒç³»ç»Ÿå¤æ‚æ€§ã€‚

> "å¤æ‚æ€§æ˜¯ä»»ä½•ä½¿è½¯ä»¶éš¾ä»¥ç†è§£æˆ–ä¿®æ”¹çš„ä¸œè¥¿."â€”çº¦ç¿°Â·å¥¥ç‰¹è±ªç‰¹

åœ¨åšä¸€äº›ç ”ç©¶æ—¶ï¼Œæˆ‘å‘ç°äº†åƒä¸å˜æ€§å’Œçº¯å‡½æ•°è¿™æ ·çš„å‡½æ•°å¼ç¼–ç¨‹æ¦‚å¿µã€‚è¿™äº›æ¦‚å¿µå¯¹äºæ„å»ºæ— å‰¯ä½œç”¨çš„åŠŸèƒ½æ˜¯å¾ˆå¤§çš„ä¼˜åŠ¿ï¼Œå› æ­¤ç»´æŠ¤ç³»ç»Ÿæ›´å®¹æ˜“â€”â€”è¿˜æœ‰ä¸€äº›å…¶ä»–çš„[å¥½å¤„](https://hackernoon.com/why-functional-programming-matters-c647f56a7691)ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å‘Šè¯‰ä½ æ›´å¤šå…³äºå‡½æ•°å¼ç¼–ç¨‹çš„çŸ¥è¯†ï¼Œä»¥åŠä¸€äº›é‡è¦çš„æ¦‚å¿µï¼Œå¹¶é™„æœ‰å¤§é‡çš„ä»£ç ç¤ºä¾‹ã€‚åœ¨ Javascript ä¸­ï¼

### [](#what-is-functional-programming)ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ

> å‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼â€”â€”ä¸€ç§æ„å»ºè®¡ç®—æœºç¨‹åºçš„ç»“æ„å’Œå…ƒç´ çš„é£æ ¼â€”â€”å°†è®¡ç®—è§†ä¸ºæ•°å­¦å‡½æ•°çš„è¯„ä¼°ï¼Œå¹¶é¿å…æ”¹å˜çŠ¶æ€å’Œå¯å˜æ•°æ®â€”â€”ç»´åŸºç™¾ç§‘

### [](#pure-functions)çº¯å‡½æ•°

[![](../Images/fc901f0c3e11d36b345b872d0aecea3d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--lNoUZITC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1600/0%2AFMur6URY7yAVjeuP)

å½“æˆ‘ä»¬æƒ³è¦ç†è§£å‡½æ•°å¼ç¼–ç¨‹æ—¶ï¼Œæˆ‘ä»¬å­¦ä¹ çš„ç¬¬ä¸€ä¸ªåŸºæœ¬æ¦‚å¿µæ˜¯**çº¯å‡½æ•°**ã€‚ä½†æ˜¯è¿™åˆ°åº•æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯ä»€ä¹ˆä½¿å¾—ä¸€ä¸ªå‡½æ•°æ˜¯çº¯çš„ï¼Ÿ

é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•çŸ¥é“ä¸€ä¸ªå‡½æ•°æ˜¯å¦æ˜¯`pure`ï¼Ÿè¿™é‡Œæœ‰ä¸€ä¸ªéå¸¸ä¸¥æ ¼çš„çº¯åº¦å®šä¹‰:

*   å¦‚æœç»™å®šç›¸åŒçš„å‚æ•°ï¼Œå®ƒå°†è¿”å›ç›¸åŒçš„ç»“æœ(ä¹Ÿç§°ä¸º`deterministic`)

*   å®ƒä¸ä¼šå¼•èµ·ä»»ä½•æ˜æ˜¾çš„å‰¯ä½œç”¨

#### å¦‚æœç»™å®šç›¸åŒçš„å‚æ•°ï¼Œå®ƒå°†è¿”å›ç›¸åŒçš„ç»“æœ

å‡è®¾æˆ‘ä»¬æƒ³è¦å®ç°ä¸€ä¸ªè®¡ç®—åœ†çš„é¢ç§¯çš„å‡½æ•°ã€‚ä¸€ä¸ªä¸çº¯çš„å‡½æ•°å°†æ¥æ”¶`radius`ä½œä¸ºå‚æ•°ï¼Œç„¶åè®¡ç®—`radius * radius * PI` :

```
const PI = 3.14;

function calculateArea(radius) {
  return radius * radius * PI;
}

calculateArea(10); // returns 314.0 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä¸ªä¸çº¯å‡½æ•°ï¼Ÿå› ä¸ºå®ƒä½¿ç”¨äº†ä¸€ä¸ªæ²¡æœ‰ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°çš„å…¨å±€å¯¹è±¡ã€‚

ç°åœ¨æƒ³è±¡ä¸€äº›æ•°å­¦å®¶äº‰è®ºè¯´`PI`çš„å€¼å®é™…ä¸Šæ˜¯`42`å¹¶ä¸”æ”¹å˜äº†å…¨å±€å¯¹è±¡çš„å€¼ã€‚

æˆ‘ä»¬çš„ä¸çº¯å‡½æ•°ç°åœ¨å°†å¯¼è‡´`10 * 10 * 42` = `4200`ã€‚å¯¹äºåŒä¸€ä¸ªå‚æ•°(`radius = 10`ï¼Œæˆ‘ä»¬æœ‰ä¸åŒçš„ç»“æœã€‚è®©æˆ‘ä»¬ä¿®ç†å®ƒï¼

```
const PI = 3.14;

function calculateArea(radius, pi) {
  return radius * radius * pi;
}

calculateArea(10, PI); // returns 314.0 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å“’å“’ğŸ‰ï¼ç°åœ¨æˆ‘ä»¬æ€»æ˜¯å°†`PI`å€¼ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚æ‰€ä»¥ç°åœ¨æˆ‘ä»¬åªæ˜¯è®¿é—®ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ã€‚æ²¡æœ‰`external object`ã€‚

*   å¯¹äºå‚æ•°`radius = 10` & `PI = 3.14`ï¼Œæˆ‘ä»¬æ€»ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœ:`314.0`

*   å¯¹äºå‚æ•°`radius = 10` & `PI = 42`ï¼Œæˆ‘ä»¬æ€»ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœ:`4200`

#### [](#reading-files)è¯»å–æ–‡ä»¶

å¦‚æœæˆ‘ä»¬çš„å‡½æ•°è¯»å–å¤–éƒ¨æ–‡ä»¶ï¼Œå®ƒå°±ä¸æ˜¯ä¸€ä¸ªçº¯ç²¹çš„å‡½æ•°â€”â€”æ–‡ä»¶çš„å†…å®¹å¯ä»¥æ”¹å˜ã€‚

```
function charactersCounter(text) {
  return `Character count: ${text.length}`;
}

function analyzeFile(filename) {
  let fileContent = open(filename);
  return charactersCounter(fileContent);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

#### [](#random-number-generation)éšæœºæ•°ç”Ÿæˆ

ä»»ä½•ä¾èµ–äºéšæœºæ•°ç”Ÿæˆå™¨çš„å‡½æ•°éƒ½ä¸å¯èƒ½æ˜¯çº¯å‡½æ•°ã€‚

```
function yearEndEvaluation() {
  if (Math.random() > 0.5) {
    return "You get a raise!";
  } else {
    return "Better luck next year!";
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

#### [](#it-does-not-cause-any-observable-side%C2%A0effects)å®ƒä¸ä¼šå¼•èµ·ä»»ä½•å¯è§‚å¯Ÿåˆ°çš„å‰¯ä½œç”¨

å¯è§‚å¯Ÿåˆ°çš„å‰¯ä½œç”¨çš„ä¾‹å­åŒ…æ‹¬ä¿®æ”¹å…¨å±€å¯¹è±¡æˆ–é€šè¿‡å¼•ç”¨ä¼ é€’çš„å‚æ•°ã€‚

ç°åœ¨æˆ‘ä»¬æƒ³å®ç°ä¸€ä¸ªå‡½æ•°æ¥æ¥æ”¶ä¸€ä¸ªæ•´æ•°å€¼å¹¶è¿”å›å¢åŠ äº† 1 çš„å€¼ã€‚

```
let counter = 1;

function increaseCounter(value) {
  counter = value + 1;
}

increaseCounter(counter);
console.log(counter); // 2 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬æœ‰äº†`counter`å€¼ã€‚æˆ‘ä»¬çš„éçº¯å‡½æ•°æ¥æ”¶è¯¥å€¼ï¼Œå¹¶å°†è¯¥å€¼åŠ  1 é‡æ–°åˆ†é…ç»™è®¡æ•°å™¨ã€‚

**è§‚å¯Ÿ**:å‡½æ•°å¼ç¼–ç¨‹ä¸é¼“åŠ±å¯å˜æ€§ã€‚

æˆ‘ä»¬æ­£åœ¨ä¿®æ”¹å…¨å±€å¯¹è±¡ã€‚ä½†æ˜¯æˆ‘ä»¬æ€ä¹ˆæ‰èƒ½åšåˆ°å‘¢ï¼Ÿåªéœ€è¿”å›å¢åŠ  1 çš„å€¼ã€‚å°±è¿™ä¹ˆç®€å•ã€‚

```
let counter = 1;

function increaseCounter(value) {
  return value + 1;
}

increaseCounter(counter); // 2
console.log(counter); // 1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

çœ‹åˆ°æˆ‘ä»¬çš„çº¯å‡½æ•°`increaseCounter`è¿”å› 2ï¼Œä½†æ˜¯`counter`å€¼è¿˜æ˜¯ä¸€æ ·çš„ã€‚è¯¥å‡½æ•°è¿”å›å¢åŠ çš„å€¼ï¼Œè€Œä¸æ”¹å˜å˜é‡çš„å€¼ã€‚

å¦‚æœæˆ‘ä»¬éµå¾ªè¿™ä¸¤æ¡ç®€å•çš„è§„åˆ™ï¼Œç†è§£æˆ‘ä»¬çš„ç¨‹åºå°±å˜å¾—æ›´å®¹æ˜“äº†ã€‚ç°åœ¨ï¼Œæ¯ä¸ªåŠŸèƒ½éƒ½æ˜¯å­¤ç«‹çš„ï¼Œæ— æ³•å½±å“æˆ‘ä»¬ç³»ç»Ÿçš„å…¶ä»–éƒ¨åˆ†ã€‚

çº¯å‡½æ•°æ˜¯ç¨³å®šçš„ã€ä¸€è‡´çš„å’Œå¯é¢„æµ‹çš„ã€‚ç»™å®šç›¸åŒçš„å‚æ•°ï¼Œçº¯å‡½æ•°å°†æ€»æ˜¯è¿”å›ç›¸åŒçš„ç»“æœã€‚æˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘ç›¸åŒå‚æ•°æœ‰ä¸åŒç»“æœçš„æƒ…å†µï¼Œå› ä¸ºè¿™æ°¸è¿œä¸ä¼šå‘ç”Ÿã€‚

#### [](#pure-functions-benefits)çº¯èŒèƒ½åˆ©ç›Š

ä»£ç è‚¯å®šæ›´å®¹æ˜“æµ‹è¯•ã€‚æˆ‘ä»¬ä¸éœ€è¦å˜²ç¬‘ä»»ä½•ä¸œè¥¿ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸‹å¯¹çº¯å‡½æ•°è¿›è¡Œå•å…ƒæµ‹è¯•:

*   ç»™å®šå‚æ•°`A` â†’æœŸæœ›å‡½æ•°è¿”å›å€¼`B`

*   ç»™å®šå‚æ•°`C` â†’æœŸæœ›å‡½æ•°è¿”å›å€¼`D`

ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯ä¸€ä¸ªæ¥æ”¶æ•°å­—é›†åˆçš„å‡½æ•°ï¼Œå¹¶æœŸæœ›å®ƒé€’å¢è¿™ä¸ªé›†åˆçš„æ¯ä¸ªå…ƒç´ ã€‚

```
let list = [1, 2, 3, 4, 5];

function incrementNumbers(list) {
  return list.map(number => number + 1);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬æ¥æ”¶`numbers`æ•°ç»„ï¼Œä½¿ç”¨`map`é€’å¢æ¯ä¸ªæ•°å­—ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„é€’å¢æ•°å­—åˆ—è¡¨ã€‚

```
incrementNumbers(list); // [2, 3, 4, 5, 6] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¹äº`input` `[1, 2, 3, 4, 5]`ï¼Œé¢„æœŸçš„`output`å°†æ˜¯`[2, 3, 4, 5, 6]`ã€‚

### [](#immutability)æ°¸æ’æ€§

> ä¸éšæ—¶é—´å˜åŒ–æˆ–è€…ä¸èƒ½è¢«æ”¹å˜ã€‚

[![](../Images/d549ee693ac36ed36c9bbed13d48426a.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--mu4_8TSh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1600/0%2AMGlzHgISuw0dXwsf)

åœ¨å®ƒè¢«åˆ›é€ å‡ºæ¥ä¹‹åã€‚* *å¦‚æœä½ æƒ³æ”¹å˜ä¸€ä¸ªä¸å¯å˜çš„å¯¹è±¡ï¼Œä½ ä¸èƒ½ã€‚ç›¸åï¼Œæ‚¨ç”¨æ–°å€¼åˆ›å»ºäº†ä¸€ä¸ªæ–°å¯¹è±¡ã€‚**

åœ¨ Javascript ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨`for`å¾ªç¯ã€‚ä¸‹ä¸€ä¸ª`for`è¯­å¥æœ‰ä¸€äº›å¯å˜å˜é‡ã€‚

```
var values = [1, 2, 3, 4, 5];
var sumOfValues = 0;

for (var i = 0; i < values.length; i++) {
  sumOfValues += values[i];
}

sumOfValues // 15 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¹äºæ¯æ¬¡è¿­ä»£ï¼Œæˆ‘ä»¬éƒ½åœ¨æ”¹å˜`i`å’Œ`sumOfValue` **çŠ¶æ€**ã€‚ä½†æ˜¯æˆ‘ä»¬å¦‚ä½•å¤„ç†è¿­ä»£ä¸­çš„å¯å˜æ€§å‘¢ï¼Ÿé€’å½’ï¼

```
let list = [1, 2, 3, 4, 5];
let accumulator = 0;

function sum(list, accumulator) {
  if (list.length == 0) {
    return accumulator;
  }

  return sum(list.slice(1), accumulator + list[0]);
}

sum(list, accumulator); // 15
list; // [1, 2, 3, 4, 5]
accumulator; // 0 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬æœ‰æ¥æ”¶æ•°å€¼å‘é‡çš„`sum`å‡½æ•°ã€‚è¯¥å‡½æ•°è°ƒç”¨è‡ªå·±ï¼Œç›´åˆ°æˆ‘ä»¬å¾—åˆ°ç©ºåˆ—è¡¨([æˆ‘ä»¬çš„é€’å½’](https://en.wikipedia.org/wiki/Recursion_(computer_science)#Recursive_functions_and_algorithms) `base case`)ã€‚å¯¹äºæ¯ä¸€æ¬¡â€œè¿­ä»£â€,æˆ‘ä»¬å°†æŠŠå€¼æ·»åŠ åˆ°`total`ç´¯åŠ å™¨ä¸­ã€‚

ä¸å¯æ”¹å˜ã€‚`list`å’Œ`accumulator`å˜é‡ä¸å˜ã€‚å®ƒä¿æŒç›¸åŒçš„å€¼ã€‚

**è§‚å¯Ÿ**:å¯¹ï¼æˆ‘ä»¬å¯ä»¥ç”¨`reduce`æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚æˆ‘ä»¬å°†åœ¨`Higher Order Functions`ä¸»é¢˜ä¸­è®¨è®ºè¿™ä¸€ç‚¹ã€‚

æ„å»ºä¸€ä¸ªå¯¹è±¡çš„æœ€ç»ˆ**çŠ¶æ€**ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æƒ³æŠŠè¿™ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ª`url slug`ã€‚

åœ¨ Ruby çš„ OOP ä¸­ï¼Œæˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ªç±»ï¼Œæ¯”å¦‚è¯´ï¼Œ`UrlSlugify`ã€‚è¿™ä¸ªç±»å°†æœ‰ä¸€ä¸ª`slugify!`æ–¹æ³•å°†å­—ç¬¦ä¸²è¾“å…¥è½¬æ¢æˆä¸€ä¸ª`url slug`ã€‚

```
class UrlSlugify
  attr_reader :text

  def initialize(text)
    @text = text
  end

  def slugify!
    text.downcase!
    text.strip!
    text.gsub!(' ', '-')
  end
end

UrlSlugify.new(' I will be a url slug   ').slugify! # "i-will-be-a-url-slug" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ¼‚äº®ï¼å·²ç»å®æ–½äº†ï¼è¿™é‡Œæˆ‘ä»¬æœ‰å‘½ä»¤å¼ç¼–ç¨‹ï¼Œç¡®åˆ‡åœ°è¯´æ˜æˆ‘ä»¬åœ¨æ¯ä¸ª`slugify`è¿›ç¨‹ä¸­æƒ³è¦åšä»€ä¹ˆâ€”â€”é¦–å…ˆæ˜¯å°å†™ï¼Œç„¶ååˆ é™¤æ— ç”¨çš„ç©ºæ ¼ï¼Œæœ€åç”¨è¿å­—ç¬¦æ›¿æ¢å‰©ä½™çš„ç©ºæ ¼ã€‚

ä½†æ˜¯æˆ‘ä»¬åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ”¹å˜äº†è¾“å…¥çŠ¶æ€ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°ç»„åˆæˆ–å‡½æ•°é“¾æ¥æ¥å¤„ç†è¿™ç§å˜å¼‚ã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªå‡½æ•°çš„ç»“æœå°†è¢«ç”¨ä½œä¸‹ä¸€ä¸ªå‡½æ•°çš„è¾“å…¥ï¼Œè€Œä¸ä¿®æ”¹åŸå§‹çš„è¾“å…¥å­—ç¬¦ä¸²ã€‚

```
let string = " I will be a url slug ";

function slugify(string) {
  return string.toLowerCase()
    .trim()
    .split("  ")
    .join("-");
}

slugify(string); // i-will-be-a-url-slug 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œæˆ‘ä»¬æœ‰:

*   `toLowerCase`:å°†å­—ç¬¦ä¸²å…¨éƒ¨è½¬æ¢æˆå°å†™

*   `trim`:åˆ é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼

*   `split`å’Œ`join`:ç”¨ç»™å®šå­—ç¬¦ä¸²ä¸­çš„æ›¿æ¢æ¥æ›¿æ¢ match çš„æ‰€æœ‰å®ä¾‹

æˆ‘ä»¬æŠŠè¿™ 4 ä¸ªå‡½æ•°ç»„åˆèµ·æ¥ï¼Œå°±å¯ä»¥`"slugify"`æˆ‘ä»¬çš„å­—ç¬¦ä¸²ã€‚

### [](#referential-transparency)å‚ç…§é€æ˜

[![](../Images/b3ed71ebe85cdbd02da05dd66db71ae1.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--pwDJvHS2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1600/0%2AK0VAbQjAwmKZb1at)

è®©æˆ‘ä»¬å®ç°ä¸€ä¸ª`square function` :

```
function square(n) {
  return n * n;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç»™å®šç›¸åŒçš„è¾“å…¥ï¼Œè¿™ä¸ªçº¯å‡½æ•°å°†æ€»æ˜¯æœ‰ç›¸åŒçš„è¾“å‡ºã€‚

```
square(2); // 4
square(2); // 4
square(2); // 4
// ... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å°†`2`ä½œä¸º`square function`çš„å‚æ•°ä¼ é€’å°†æ€»æ˜¯è¿”å› 4ã€‚æ‰€ä»¥ç°åœ¨æˆ‘ä»¬å¯ä»¥ç”¨ 4 ä»£æ›¿`square(2)`ã€‚å°±æ˜¯è¿™æ ·ï¼æˆ‘ä»¬çš„åŠŸèƒ½æ˜¯`referentially transparent`ã€‚

åŸºæœ¬ä¸Šï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°å¯¹äºç›¸åŒçš„è¾“å…¥å§‹ç»ˆäº§ç”Ÿç›¸åŒçš„ç»“æœï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯å‚ç…§é€æ˜çš„ã€‚

**çº¯å‡½æ•°+ä¸å¯å˜æ•°æ®=å‚ç…§é€æ˜**

æœ‰äº†è¿™ä¸ªæ¦‚å¿µï¼Œæˆ‘ä»¬å¯ä»¥åšçš„ä¸€ä»¶å¾ˆé…·çš„äº‹æƒ…å°±æ˜¯è®°å¿†è¿™ä¸ªå‡½æ•°ã€‚å‡è®¾æˆ‘ä»¬æœ‰è¿™ä¸ªå‡½æ•°:

```
function sum(a, b) {
  return a + b;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ç”¨è¿™äº›å‚æ•°æ¥è°ƒç”¨å®ƒ:

```
sum(3, sum(5, 8)); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`sum(5, 8)`ç­‰äº`13`ã€‚è¿™ä¸ªå‡½æ•°å°†æ€»æ˜¯å¯¼è‡´`13`ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·åš:

```
sum(3, 13); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è€Œè¿™ä¸ªè¡¨è¾¾å¼æ€»ä¼šäº§ç”Ÿ`16`ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæ•°å­—å¸¸æ•°æ›¿æ¢æ•´ä¸ªè¡¨è¾¾å¼ï¼Œç„¶åç”¨[æ¥è®°å¿†](https://en.wikipedia.org/wiki/Memoization)å®ƒã€‚

### [](#functions-as-firstclass-entities)åŠŸèƒ½ä¸ºä¸€çº§å®ä½“

[![](../Images/922cf76543f536cc76765f5ace28e76d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--DWQu1xMd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1600/0%2AK6m1Ftw54Wm6tfFB)

å°†å‡½æ•°ä½œä¸ºä¸€çº§å®ä½“çš„æƒ³æ³•æ˜¯ï¼Œå‡½æ•°**ä¹Ÿè¢«**è§†ä¸ºå€¼**ï¼Œè€Œ**è¢«ç”¨ä½œæ•°æ®ã€‚

ä½œä¸ºä¸€çº§å®ä½“çš„åŠŸèƒ½å¯ä»¥:

*   ä»å¸¸é‡å’Œå˜é‡ä¸­å¼•ç”¨å®ƒ

*   å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°

*   ä»å…¶ä»–å‡½æ•°è¿”å›ç»“æœ

å…¶æ€æƒ³æ˜¯å°†å‡½æ•°è§†ä¸ºå€¼ï¼Œå¹¶åƒä¼ é€’æ•°æ®ä¸€æ ·ä¼ é€’å‡½æ•°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç»„åˆä¸åŒçš„åŠŸèƒ½æ¥åˆ›å»ºå…·æœ‰æ–°è¡Œä¸ºçš„æ–°åŠŸèƒ½ã€‚

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå°†ä¸¤ä¸ªå€¼ç›¸åŠ ï¼Œç„¶åå°†å€¼åŠ å€ã€‚å¤§æ¦‚æ˜¯è¿™æ ·:

```
function doubleSum(a, b) {
  return (a + b) * 2;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æ˜¯ä¸€ä¸ªå‡å»æ•°å€¼å¹¶è¿”å›åŒç²¾åº¦å€¼çš„å‡½æ•°:

```
function doubleSubtraction(a, b) {
  return (a - b) * 2;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™äº›å‡½æ•°å…·æœ‰ç›¸ä¼¼çš„é€»è¾‘ï¼Œä½†ä¸åŒä¹‹å¤„åœ¨äºè¿ç®—ç¬¦å‡½æ•°ã€‚å¦‚æœæˆ‘ä»¬å¯ä»¥å°†å‡½æ•°è§†ä¸ºå€¼ï¼Œå¹¶å°†å®ƒä»¬ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„å»ºä¸€ä¸ªæ¥æ”¶æ“ä½œç¬¦å‡½æ•°çš„å‡½æ•°ï¼Œå¹¶åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨å®ƒã€‚è®©æˆ‘ä»¬å»ºé€ å®ƒï¼

```
function sum(a, b) {
  return a + b;
}

function subtraction(a, b) {
  return a - b;
}

function doubleOperator(f, a, b) {
  return f(a, b) * 2;
}

doubleOperator(sum, 3, 1); // 8
doubleOperator(subtraction, 3, 1); // 4 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æå®šäº†ã€‚ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ª`f`å‚æ•°ï¼Œå¹¶ç”¨å®ƒæ¥å¤„ç†`a`å’Œ`b`ã€‚æˆ‘ä»¬ä¼ é€’äº†`sum`å’Œ`subtraction`å‡½æ•°æ¥ä¸`doubleOperator`å‡½æ•°ç»„åˆå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„è¡Œä¸ºã€‚

### [](#higherorder-functions)é«˜é˜¶å‡½æ•°

å½“æˆ‘ä»¬è°ˆåˆ°é«˜é˜¶å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯è¿™æ ·çš„å‡½æ•°:

*   æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæˆ–è€…

*   è¿”å›ä¸€ä¸ªå‡½æ•°ä½œä¸ºç»“æœ

æˆ‘ä»¬ä¸Šé¢å®ç°çš„`doubleOperator`å‡½æ•°æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå› ä¸ºå®ƒå°†ä¸€ä¸ªæ“ä½œç¬¦å‡½æ•°ä½œä¸ºå‚æ•°å¹¶ä½¿ç”¨å®ƒã€‚

ä½ å¯èƒ½å·²ç»å¬è¯´è¿‡`filter`ã€`map`å’Œ`reduce`ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›ã€‚

### [](#filter)æ»¤é•œ

ç»™å®šä¸€ä¸ªé›†åˆï¼Œæˆ‘ä»¬å¸Œæœ›æŒ‰å±æ€§è¿‡æ»¤ã€‚filter å‡½æ•°æœŸæœ›ä¸€ä¸ª`true`æˆ–`false`å€¼æ¥ç¡®å®šå…ƒç´ **æ˜¯å¦åº”è¯¥åŒ…å«åœ¨ç»“æœé›†åˆä¸­ã€‚åŸºæœ¬ä¸Šï¼Œå¦‚æœå›è°ƒè¡¨è¾¾å¼æ˜¯`true`ï¼Œè¿‡æ»¤å‡½æ•°ä¼šå°†å…ƒç´ åŒ…å«åœ¨ç»“æœé›†åˆä¸­ã€‚å¦åˆ™ï¼Œä¸ä¼šã€‚**

ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯ï¼Œå½“æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•´æ•°é›†åˆï¼Œæˆ‘ä»¬åªæƒ³è¦å¶æ•°ã€‚

**å‘½ä»¤å¼æ–¹æ³•**

ç”¨ Javascript å®ç°è¿™ä¸€ç‚¹çš„ä¸€ä¸ªå¿…è¦æ–¹æ³•æ˜¯:

*   åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„`evenNumbers`

*   è¿­ä»£`numbers`æ•°ç»„

*   å°†å¶æ•°å‹å…¥`evenNumbers`æ•°ç»„

```
var numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
var evenNumbers = [];

for (var i = 0; i < numbers.length; i++) {
  if (numbers[i] % 2 == 0) {
    evenNumbers.push(numbers[i]);
  }
}

console.log(evenNumbers); // (6)Â [0, 2, 4, 6, 8, 10] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨`filter`é«˜é˜¶å‡½æ•°æ¥æ”¶`even`å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå¶æ•°åˆ—è¡¨:

```
function even(number) {
  return number % 2 == 0;
}

let listOfNumbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
listOfNumbers.filter(even); // [0, 2, 4, 6, 8, 10] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘åœ¨[é»‘å®¢ç­‰çº§ FP](https://www.hackerrank.com/domains/fp) è·¯å¾„ä¸Šè§£å†³çš„ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜æ˜¯[è¿‡æ»¤å™¨é˜µåˆ—é—®é¢˜](https://www.hackerrank.com/challenges/fp-filter-array/problem)ã€‚é—®é¢˜çš„æƒ³æ³•æ˜¯è¿‡æ»¤ä¸€ä¸ªç»™å®šçš„æ•´æ•°æ•°ç»„ï¼Œåªè¾“å‡ºé‚£äº›å°äºæŒ‡å®šå€¼`X`çš„å€¼ã€‚

è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªå¼ºåˆ¶æ€§çš„ Javascript è§£å†³æ–¹æ¡ˆç±»ä¼¼äº:

```
var filterArray = function(x, coll) {
  var resultArray = [];

  for (var i = 0; i < coll.length; i++) {
    if (coll[i] < x) {
      resultArray.push(coll[i]);
    }
  }

  return resultArray;
}

console.log(filterArray(3, [10, 9, 8, 2, 7, 5, 1, 3, 0])); // (3)Â [2, 1, 0] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ç¡®åˆ‡åœ°è¯´äº†æˆ‘ä»¬çš„å‡½æ•°éœ€è¦åšä»€ä¹ˆâ€”â€”è¿­ä»£é›†åˆï¼Œå°†é›†åˆå½“å‰é¡¹ä¸`x`è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå®ƒé€šè¿‡äº†æ¡ä»¶ï¼Œå°±å°†è¿™ä¸ªå…ƒç´ æ¨é€åˆ°`resultArray`ã€‚

**å£°æ˜å¼æ–¹æ³•**

ä½†æ˜¯æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªæ›´å…·å£°æ˜æ€§çš„æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”ä½¿ç”¨`filter`é«˜é˜¶å‡½æ•°ã€‚

ä¸€ä¸ªå£°æ˜æ€§çš„ Javascript è§£å†³æ–¹æ¡ˆåº”è¯¥æ˜¯è¿™æ ·çš„:

```
function smaller(number) {
  return number < this;
}

function filterArray(x, listOfNumbers) {
  return listOfNumbers.filter(smaller, x);
}

let numbers = [10, 9, 8, 2, 7, 5, 1, 3, 0];

filterArray(3, numbers); // [2, 1, 0] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é¦–å…ˆï¼Œåœ¨`smaller`å‡½æ•°ä¸­ä½¿ç”¨`this`ä¼¼ä¹æœ‰ç‚¹å¥‡æ€ªï¼Œä½†æ˜¯å¾ˆå®¹æ˜“ç†è§£ã€‚

`this`å°†æ˜¯`filter`å‡½æ•°ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`3`(`x`)ç”±`this`ä»£è¡¨ã€‚å°±æ˜¯è¿™æ ·ã€‚

æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨åœ°å›¾æ¥åšè¿™ä»¶äº‹ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€å¼ åœ°å›¾ï¼Œä¸Šé¢æœ‰äººä»¬çš„`name`å’Œ`age`ã€‚

```
let people = [
  { name: "TK", age: 26 },
  { name: "Kaio", age: 10 },
  { name: "Kazumi", age: 30 }
]; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬å¸Œæœ›åªè¿‡æ»¤è¶…è¿‡æŒ‡å®šå¹´é¾„å€¼çš„äººï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯ 21 å²ä»¥ä¸Šçš„äººã€‚

```
function olderThan21(person) {
  return person.age > 21;
}

function overAge(people) {
  return people.filter(olderThan21);
}

overAge(people); // [{ name: 'TK', age: 26 }, { name: 'Kazumi', age: 30 }] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä»£ç æ‘˜è¦:

*   æˆ‘ä»¬æœ‰ä¸€ä»½äººå‘˜åå•(æœ‰`name`å’Œ`age`)ã€‚

*   æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°`olderThan21`ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå¯¹äº people æ•°ç»„ä¸­çš„æ¯ä¸ªäººï¼Œæˆ‘ä»¬æƒ³è¦è®¿é—®`age`å¹¶æŸ¥çœ‹å®ƒæ˜¯å¦å¤§äº 21 å²ã€‚

*   æˆ‘ä»¬æ ¹æ®è¿™ä¸ªå‡½æ•°è¿‡æ»¤æ‰€æœ‰äººã€‚

### [](#map)åœ°å›¾

æ˜ å°„çš„æ€æƒ³æ˜¯è½¬æ¢ä¸€ä¸ªé›†åˆã€‚

> map æ–¹æ³•é€šè¿‡å¯¹é›†åˆçš„æ‰€æœ‰å…ƒç´ åº”ç”¨å‡½æ•°å¹¶ä»è¿”å›å€¼æ„å»ºæ–°çš„é›†åˆæ¥è½¬æ¢é›†åˆã€‚

è®©æˆ‘ä»¬å¾—åˆ°ä¸Šé¢ç›¸åŒçš„`people`é›†åˆã€‚æˆ‘ä»¬ç°åœ¨ä¸æƒ³æŒ‰â€œè¶…é¾„â€æ¥è¿‡æ»¤ã€‚æˆ‘ä»¬åªæ˜¯æƒ³è¦ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œç±»ä¼¼äº`TK is 26 years old`ã€‚æ‰€ä»¥æœ€åä¸€ä¸ªå­—ç¬¦ä¸²å¯èƒ½æ˜¯`:name isÂ :age years old`ï¼Œå…¶ä¸­`:name`å’Œ`:age`æ˜¯æ¥è‡ª`people`é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„å±æ€§ã€‚

æŒ‰ç…§å¼ºåˆ¶çš„ Javascript æ–¹å¼ï¼Œåº”è¯¥æ˜¯:

```
var people = [
  { name: "TK", age: 26 },
  { name: "Kaio", age: 10 },
  { name: "Kazumi", age: 30 }
];

var peopleSentences = [];

for (var i = 0; i < people.length; i++) {
  var sentence = people[i].name + " is " + people[i].age + " years old";
  peopleSentences.push(sentence);
}

console.log(peopleSentences); // ['TK is 26 years old', 'Kaio is 10 years old', 'Kazumi is 30 years old'] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç”¨å£°æ˜æ€§çš„ Javascript æ–¹å¼æ¥è¯´ï¼Œåº”è¯¥æ˜¯:

```
function makeSentence(person) {
  return `${person.name} is ${person.age} years old`;
}

function peopleSentences(people) {
  return people.map(makeSentence);
}

peopleSentences(people); // ['TK is 26 years old', 'Kaio is 10 years old', 'Kazumi is 30 years old'] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ•´ä¸ªæƒ³æ³•æ˜¯æŠŠä¸€ä¸ªç»™å®šçš„æ•°ç»„è½¬æ¢æˆä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚

å¦ä¸€ä¸ªæœ‰è¶£çš„é»‘å®¢æ’åé—®é¢˜æ˜¯[æ›´æ–°åˆ—è¡¨é—®é¢˜](https://www.hackerrank.com/challenges/fp-update-list/problem)ã€‚æˆ‘ä»¬åªæƒ³ç”¨ç»™å®šæ•°ç»„çš„ç»å¯¹å€¼æ¥æ›´æ–°å®ƒä»¬çš„å€¼ã€‚

æ¯”å¦‚è¾“å…¥`[1, 2, 3, -4, 5]`éœ€è¦è¾“å‡ºä¸º`[1, 2, 3, 4, 5]`ã€‚`-4`çš„ç»å¯¹å€¼æ˜¯`4`ã€‚

ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯å¯¹æ¯ä¸ªé›†åˆå€¼è¿›è¡Œå°±åœ°æ›´æ–°ã€‚

```
var values = [1, 2, 3, -4, 5];

for (var i = 0; i < values.length; i++) {
  values[i] = Math.abs(values[i]);
}

console.log(values); // [1, 2, 3, 4, 5] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ä½¿ç”¨`Math.abs`å‡½æ•°å°†å€¼è½¬æ¢æˆç»å¯¹å€¼ï¼Œå¹¶è¿›è¡Œå°±åœ°æ›´æ–°ã€‚

è¿™æ˜¯**è€Œä¸æ˜¯**å®ç°è¯¥è§£å†³æ–¹æ¡ˆçš„åŠŸèƒ½æ€§æ–¹å¼ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä¸å˜æ€§ã€‚æˆ‘ä»¬çŸ¥é“ä¸å˜æ€§å¯¹äºä½¿æˆ‘ä»¬çš„å‡½æ•°æ›´åŠ ä¸€è‡´å’Œå¯é¢„æµ‹æ˜¯å¤šä¹ˆé‡è¦ã€‚è¿™ä¸ªæƒ³æ³•æ˜¯å»ºç«‹ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç»å¯¹å€¼çš„æ–°é›†åˆã€‚

ç¬¬äºŒï¼Œè¿™é‡Œä¸ºä»€ä¹ˆä¸ç”¨`map`æ¥â€œè½¬æ¢â€æ‰€æœ‰æ•°æ®ï¼Ÿ

æˆ‘çš„ç¬¬ä¸€ä¸ªæƒ³æ³•æ˜¯æµ‹è¯•`Math.abs`å‡½æ•°åªå¤„ç†ä¸€ä¸ªå€¼ã€‚

```
Math.abs(-1); // 1
Math.abs(1); // 1
Math.abs(-2); // 2
Math.abs(2); // 2 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬å¸Œæœ›å°†æ¯ä¸ªå€¼è½¬æ¢ä¸ºæ­£å€¼(ç»å¯¹å€¼)ã€‚

ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•å¯¹ä¸€ä¸ªå€¼æ‰§è¡Œ`absolute`æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™`map`å‡½æ•°ã€‚ä½ è¿˜è®°å¾—ä¸€ä¸ª`higher order function`å¯ä»¥æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°å¹¶ä½¿ç”¨å®ƒå—ï¼Ÿæ˜¯çš„ï¼Œåœ°å›¾å¯ä»¥åšåˆ°ï¼

```
let values = [1, 2, 3, -4, 5];

function updateListMap(values) {
  return values.map(Math.abs);
}

updateListMap(values); // [1, 2, 3, 4, 5] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å“‡å“¦ã€‚å¤ªç¾äº†ï¼ğŸ˜

### [](#reduce)å‡å°‘

reduce çš„æ€æƒ³æ˜¯æ¥æ”¶ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªé›†åˆï¼Œå¹¶è¿”å›é€šè¿‡ç»„åˆè¿™äº›é¡¹è€Œåˆ›å»ºçš„å€¼ã€‚

äººä»¬è°ˆè®ºçš„ä¸€ä¸ªå¸¸è§ä¾‹å­æ˜¯è·å–è®¢å•çš„æ€»é‡‘é¢ã€‚æƒ³è±¡ä½ åœ¨ä¸€ä¸ªè´­ç‰©ç½‘ç«™ä¸Šã€‚æ‚¨å·²ç»å°†`Product 1`ã€`Product 2`ã€`Product 3`å’Œ`Product 4`æ·»åŠ åˆ°æ‚¨çš„è´­ç‰©è½¦(è®¢å•)ä¸­ã€‚ç°åœ¨æˆ‘ä»¬è¦è®¡ç®—è´­ç‰©è½¦çš„æ€»é‡‘é¢ã€‚

åœ¨å‘½ä»¤å¼æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å°†è¿­ä»£è®¢å•åˆ—è¡¨ï¼Œå¹¶å°†æ¯ä¸ªäº§å“çš„é‡‘é¢åŠ åˆ°æ€»é‡‘é¢ä¸­ã€‚

```
var orders = [
  { productTitle: "Product 1", amount: 10 },
  { productTitle: "Product 2", amount: 30 },
  { productTitle: "Product 3", amount: 20 },
  { productTitle: "Product 4", amount: 60 }
];

var totalAmount = 0;

for (var i = 0; i < orders.length; i++) {
  totalAmount += orders[i].amount;
}

console.log(totalAmount); // 120 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½¿ç”¨`reduce`ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªå‡½æ•°æ¥å¤„ç†`amount sum`ï¼Œå¹¶å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™`reduce`å‡½æ•°ã€‚

```
let shoppingCart = [
  { productTitle: "Product 1", amount: 10 },
  { productTitle: "Product 2", amount: 30 },
  { productTitle: "Product 3", amount: 20 },
  { productTitle: "Product 4", amount: 60 }
];

const sumAmount = (currentTotalAmount, order) => currentTotalAmount + order.amount;

function getTotalAmount(shoppingCart) {
  return shoppingCart.reduce(sumAmount, 0);
}

getTotalAmount(shoppingCart); // 120 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œæˆ‘ä»¬æœ‰`shoppingCart`ï¼Œæ¥æ”¶å½“å‰`currentTotalAmount`çš„å‡½æ•°`sumAmount`ï¼Œä»¥åŠ`order`å¯¹è±¡`sum`å®ƒä»¬ã€‚

`getTotalAmount`åŠŸèƒ½ç”¨äºä½¿ç”¨`sumAmount`ä»`0`å¼€å§‹`reduce`T2ã€‚

å¦ä¸€ç§å¾—åˆ°æ€»é‡çš„æ–¹æ³•æ˜¯å°†`map`å’Œ`reduce`åˆæˆã€‚æˆ‘è¿™ä¹ˆè¯´æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`map`å°†`shoppingCart`è½¬æ¢æˆ`amount`å€¼çš„é›†åˆï¼Œç„¶ååªéœ€å°†`reduce`å‡½æ•°ä¸`sumAmount`å‡½æ•°ä¸€èµ·ä½¿ç”¨ã€‚

```
const getAmount = (order) => order.amount;
const sumAmount = (acc, amount) => acc + amount;

function getTotalAmount(shoppingCart) {
  return shoppingCart
    .map(getAmount)
    .reduce(sumAmount, 0);
}

getTotalAmount(shoppingCart); // 120 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`getAmount`æ¥æ”¶äº§å“å¯¹è±¡å¹¶åªè¿”å›`amount`å€¼ã€‚æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæœ‰`[10, 30, 20, 60]`ã€‚ç„¶å`reduce`å°†æ‰€æœ‰é¡¹ç›®ç›¸åŠ ã€‚æ¼‚äº®ï¼

æˆ‘ä»¬çœ‹äº†ä¸€ä¸‹æ¯ä¸ªé«˜é˜¶å‡½æ•°æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚æˆ‘æƒ³å‘ä½ ä»¬å±•ç¤ºä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¦‚ä½•åœ¨ä¸€ä¸ªç®€å•çš„ä¾‹å­ä¸­ç»„åˆæ‰€æœ‰ä¸‰ä¸ªå‡½æ•°ã€‚

è°ˆåˆ°`shopping cart`ï¼Œå‡è®¾æˆ‘ä»¬çš„è®¢å•ä¸­æœ‰è¿™æ ·ä¸€ä¸ªäº§å“åˆ—è¡¨:

```
let shoppingCart = [
  { productTitle: "Functional Programming", type: "books", amount: 10 },
  { productTitle: "Kindle", type: "eletronics", amount: 30 },
  { productTitle: "Shoes", type: "fashion", amount: 20 },
  { productTitle: "Clean Code", type: "books", amount: 60 }
] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬éœ€è¦è´­ç‰©è½¦ä¸­æ‰€æœ‰ä¹¦ç±çš„æ€»æ•°ã€‚å°±è¿™ä¹ˆç®€å•ã€‚ç®—æ³•ï¼Ÿ

*   **æŒ‰å›¾ä¹¦ç±»å‹è¿‡æ»¤**

*   ä½¿ç”¨**æ˜ å°„**å°†è´­ç‰©è½¦è½¬æ¢ä¸ºé‡‘é¢é›†åˆ

*   ç”¨**å‡å°‘**
    å°†æ‰€æœ‰é¡¹ç›®ç›¸åŠ 

```
let shoppingCart = [
  { productTitle: "Functional Programming", type: "books", amount: 10 },
  { productTitle: "Kindle", type: "eletronics", amount: 30 },
  { productTitle: "Shoes", type: "fashion", amount: 20 },
  { productTitle: "Clean Code", type: "books", amount: 60 }
]

const byBooks = (order) => order.type == "books";
const getAmount = (order) => order.amount;
const sumAmount = (acc, amount) => acc + amount;

function getTotalAmount(shoppingCart) {
  return shoppingCart
    .filter(byBooks)
    .map(getAmount)
    .reduce(sumAmount, 0);
}

getTotalAmount(shoppingCart); // 70 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æå®šäº†ã€‚ğŸ‰

### [](#resources)èµ„æº

æˆ‘æ•´ç†äº†ä¸€äº›æˆ‘é˜…è¯»å’Œç ”ç©¶çš„èµ„æºã€‚æˆ‘æ­£åœ¨åˆ†äº«ä¸€äº›æˆ‘è§‰å¾—éå¸¸æœ‰è¶£çš„ç…§ç‰‡ã€‚æ›´å¤šèµ„æºï¼Œè¯·è®¿é—®æˆ‘çš„[å‡½æ•°å¼ç¼–ç¨‹ Github åº“](https://github.com/LeandroTk/learning-functional-programming)ã€‚

*   [Wes Bos çš„ EcmaScript 6 è¯¾ç¨‹](https://ES6.io/friend/LEANDRO)

*   [Ruby ç‰¹å®šèµ„æº](https://github.com/LeandroTk/learning-functional-programming/tree/master/ruby)

*   [Javascript ç‰¹å®šèµ„æº](https://github.com/LeandroTk/learning-functional-programming/tree/master/javascript)

*   [Clojure ç‰¹å®šèµ„æº](https://github.com/LeandroTk/learning-functional-programming/tree/master/clojure)

#### [](#intros)å¼•å­

*   [åœ¨ JS ä¸­å­¦ä¹  FP](https://www.youtube.com/watch?v=e-5obm1G_FY)

*   [ç”¨ Python ä»‹ç» do FP](https://codewords.recurse.com/issues/one/an-introduction-to-functional-programming)

*   [FP æ¦‚è¿°](https://blog.codeship.com/overview-of-functional-programming)

*   [åŠŸèƒ½ JS å¿«é€Ÿä»‹ç»](https://hackernoon.com/a-quick-introduction-to-functional-javascript-7e6fe520e7fa)

*   [ä»€ä¹ˆæ˜¯ FPï¼Ÿ](https://medium.com/javascript-scene/master-the-javascript-interview-what-is-functional-programming-7f218c68b3a0)

*   [å‡½æ•°å¼ç¼–ç¨‹è¡Œè¯](https://github.com/hemanth/functional-programming-jargon)

#### [](#pure-functions)çº¯å‡½æ•°

*   [ä»€ä¹ˆæ˜¯çº¯å‡½æ•°ï¼Ÿ](https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-pure-function-d1c076bec976)

*   [çº¯å‡½æ•°ç¼–ç¨‹ 1](https://www.fpcomplete.com/blog/2017/04/pure-functional-programming)

*   [çº¯å‡½æ•°ç¼–ç¨‹ 2](https://www.fpcomplete.com/blog/2017/05/pure-functional-programming-part-2)

#### [](#immutable-data)ä¸å¯å˜çš„æ•°æ®

*   [ç”¨äºå‡½æ•°å¼ç¼–ç¨‹çš„ä¸å¯å˜ DS](https://www.youtube.com/watch?v=Wo0qiGPSV-s)

*   [ä¸ºä»€ä¹ˆå…±äº«å¯å˜çŠ¶æ€æ˜¯ä¸‡æ¶ä¹‹æº](http://henrikeichenhardt.blogspot.com/2013/06/why-shared-mutable-state-is-root-of-all.html)

#### [](#higherorder-functions)é«˜é˜¶å‡½æ•°

*   [é›„è¾©çš„ JS:é«˜é˜¶å‡½æ•°](https://eloquentjavascript.net/05_higher_order.html)

*   [è¶£å‘³è¶£å‘³åŠŸèƒ½æ»¤é•œ](https://www.youtube.com/watch?v=BMUiFMZr7vk&t=0s&list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&index=2&ab_channel=FunFunFunction)

*   [å¥½ç©å¥½ç©çš„åŠŸèƒ½å›¾](https://www.youtube.com/watch?v=bCqtb-Z5YGQ&index=2&list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&ab_channel=FunFunFunction)

*   [è¶£å‘³è¶£å‘³åŠŸèƒ½åŸºæœ¬å‡å°‘](https://www.youtube.com/watch?v=Wl98eZpkp-c&list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&index=3&frags=wn&ab_channel=FunFunFunction)

*   [è¶£å‘³è¶£å‘³åŠŸèƒ½é«˜çº§å‡å°‘](https://www.youtube.com/watch?v=1DMolJ2FrNY&list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&index=4&ab_channel=FunFunFunction)

*   [Clojure é«˜é˜¶å‡½æ•°](https://clojure.org/guides/higher_order_functions)

*   [çº¯å‡½æ•°æ»¤æ³¢å™¨](https://purelyfunctional.tv/lesson/filter/)

*   [çº¯åŠŸèƒ½å›¾](https://purelyfunctional.tv/lesson/map/)

*   [çº¯åŠŸèƒ½è¿˜åŸ](https://purelyfunctional.tv/lesson/reduce/)

#### [](#declarative-programming)å£°æ˜å¼ç¼–ç¨‹

*   [å£°æ˜å¼ç¼–ç¨‹ vs å‘½ä»¤å¼ç¼–ç¨‹](https://tylermcginnis.com/imperative-vs-declarative-programming/)

### [](#thats-it)å°±æ˜¯è¿™æ ·ï¼

å˜¿ï¼Œæœ‹å‹ä»¬ï¼Œæˆ‘å¸Œæœ›ä½ ä»¬åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« çš„æ—¶å€™æœ‰ä¹è¶£ï¼Œå¹¶ä¸”æˆ‘å¸Œæœ›ä½ ä»¬åœ¨è¿™é‡Œå­¦åˆ°äº†å¾ˆå¤šï¼è¿™æ˜¯æˆ‘å°è¯•åˆ†äº«æˆ‘æ‰€å­¦åˆ°çš„ä¸œè¥¿ã€‚

è¿™é‡Œæ˜¯æœ¬æ–‡ä¸­æ‰€æœ‰ä»£ç çš„å­˜å‚¨åº“ã€‚

æ¥è·Ÿæˆ‘å­¦å§ã€‚æˆ‘åœ¨è¿™ä¸ª[å­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹åº“](https://github.com/LeandroTk/learning-functional-programming)ä¸­å…±äº«èµ„æºå’Œæˆ‘çš„ä»£ç ã€‚

æˆ‘ä¹Ÿå†™äº†ä¸€ç¯‡ FP å¸–å­ï¼Œä½†æ˜¯ä¸»è¦ä½¿ç”¨ Clojure â¤.

æˆ‘å¸Œæœ›ä½ åœ¨è¿™é‡Œçœ‹åˆ°äº†å¯¹ä½ æœ‰ç”¨çš„ä¸œè¥¿ã€‚ä¸‹æ¬¡å†è§ï¼:)

æˆ‘çš„[æ¨ç‰¹](https://twitter.com/LeandroTk_)ï¼Œ[ä¸­çš„](https://medium.com/@leandrotk_/) & [Github](https://github.com/LeandroTk) ã€‚â˜º

TKã€‚