# å¾®è½¯ Azure ç»™è¢«å® åçš„äºº 2:ä½¿ç”¨ Azure ç®¡é“éƒ¨ç½²ä½ çš„åº”ç”¨

> åŸæ–‡:[https://dev . to/azure/Microsoft-azure-for-flopped-people-2-deploy-your-app-using-azure-pipelines-27 F6](https://dev.to/azure/microsoft-azure-for-spoiled-people-2-deploy-your-app-using-azure-pipelines-27f6)

æˆ‘åœ¨[ä¸Šä¸€ç¯‡æ–‡ç« ](https://dev.to/jenlooper/microsoft-azure-for-spoiled-people-5bgh)ä¸­çš„ä¸€äº›å†…å®¹å¯¹æˆ‘å’Œä¹ æƒ¯äºå°† Vue.js åº”ç”¨éƒ¨ç½²åˆ°å…¶ä»–æœåŠ¡çš„äººæ¥è¯´éƒ½ä¸å¤ªåˆé€‚ã€‚è¿™å°±æ˜¯ä½ åº”è¯¥æŠŠä½ æ„å»ºçš„èµ„äº§ä¸Šä¼ åˆ°ä¸€ä¸ªæœåŠ¡å™¨ä¸Šçš„æƒ³æ³•ï¼Œåœ¨é‚£ä¹‹åå®ƒä»¬è¢«æå–å¹¶è½¬ç§»åˆ° prodã€‚

ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨å†…ç½®ç³»ç»Ÿï¼Œè¯¥ç³»ç»Ÿå°†ä» GitHub è·å–å¯¹æ‚¨ä»£ç çš„æ›´æ”¹ï¼Œæ ¹æ®æ‚¨çš„`package.json`æ–‡ä»¶ä¸­çš„è„šæœ¬æ„å»ºå®ƒä»¬ï¼Œå¹¶æ— ç¼åœ°éƒ¨ç½²å®ƒä»¬ï¼Œä»¥ä¾¿æ‚¨çš„ web ç«™ç‚¹è¢«åˆ·æ–°ï¼Œè€Œä¸éœ€è¦å¼„ä¹±æ‚¨çš„`.gitignore`æ–‡ä»¶ã€‚

æœ‰äº† [Azure Pipelines](https://azure.microsoft.com/services/devops/pipelines/?nav=min&WT.mc_id=devto-blog-jelooper) ï¼Œå°±å¯ä»¥ï¼ç®¡é“æä¾›äº†ä¸€ç§é€šè¿‡å¯å®šåˆ¶çš„æ­¥éª¤æ¥è‡ªåŠ¨åŒ–æ„å»ºå’Œå‘å¸ƒè¿‡ç¨‹çš„æ–¹æ³•ã€‚

[![Azure Pipelines](../Images/fc58148c07b2545987cd5daa47dc6e1b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--krc-wg0d--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vheb8x1uvfsbyhoewdo8.png)

ä¸‹é¢æ˜¯æˆ‘å¦‚ä½•ç¼–è¾‘éå¸¸åŸºæœ¬çš„ Vue.js åº”ç”¨ç¨‹åºï¼Œæˆ‘æ ¹æ®æˆ‘çš„ä¸Šä¸€ç¯‡å¸–å­æˆåŠŸéƒ¨ç½²äº†è¯¥åº”ç”¨ç¨‹åºã€‚

## [](#get-ready-for-your-first-pipeline)å‡†å¤‡å¥½æ‚¨çš„ç¬¬ä¸€æ¡ç®¡é“

åœ¨å‡†å¤‡è¿™é¡¹å·¥ä½œæ—¶ï¼Œä½ å¯ä»¥å–æ¶ˆæˆ‘ä¹‹å‰è®©ä½ åšçš„ä¸€äº›å¥‡æ€ªçš„äº‹æƒ…ã€‚

é¦–å…ˆï¼Œä»ä½ çš„`.gitignore`æ–‡ä»¶ä¸­åˆ é™¤`/dist`ï¼Œè¿™æ ·å®ƒå°±ä¸ä¼šè¢«å‘é€åˆ° GitHubã€‚å¤ªæ¶å¿ƒäº†ã€‚æäº¤è¿™äº›æ›´æ”¹ã€‚

[![nope](../Images/51529fe71f98e32d1cc259b613a3567f.png)T2ã€‘](https://i.giphy.com/media/6h4z4b3v6XWxO/giphy.gif)

æ¥ä¸‹æ¥ï¼Œåœ¨ä»£ç æ ¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º`azure-pipelines.yml`çš„æ–°æ–‡ä»¶ã€‚åœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç :

```
trigger:
- master

pool:
  vmImage: 'ubuntu-latest'

steps:
- task: NodeTool@0
  inputs:
    versionSpec: '10.x'
  displayName: 'Install Node.js'

- script: |
    npm install
    npm run build
  displayName: 'npm install and build'

- task: PublishBuildArtifacts@1
  inputs:
    artifactName: dist
    pathtoPublish: 'dist' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ ä¼šå‘ç°è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ YAML æ–‡ä»¶ï¼Œè¢«å¤§å¤šæ•°ä½¿ç”¨ Azure ç®¡é“çš„èŠ‚ç‚¹åº”ç”¨ç¨‹åºæ‰€ä½¿ç”¨ã€‚å®ƒæè¿°äº†æ„å»ºâ€œå·¥ä»¶â€æˆ–ä¸€ç»„å¯å‘å¸ƒæ–‡ä»¶çš„æ­¥éª¤ï¼Œç„¶åå®é™…å‘å¸ƒå®ƒä»¬ã€‚æŠŠè¿™ä¸ªæäº¤ç»™ä½ çš„ GitHub repoã€‚

## [](#get-set-up-to-build-on-azure-devops)å‡†å¤‡å¥½åœ¨ Azure DevOps ä¸Šæ„å»º

æ²¡æœ‰å¤šå°‘å‰ç«¯å¼€å‘äººå‘˜æ„¿æ„åš DevOpsã€‚å¯¹æˆ‘ä»¬è®¸å¤šäººæ¥è¯´ï¼Œå®ƒæ¯” Oracle å­˜å‚¨è¿‡ç¨‹æ›´å¯æ€•ï¼ç”¨è¿™ç§ä¸œè¥¿ä¹±æä¼šæŠŠäº‹æƒ…æå¾—ä¸€å›¢ç³Ÿã€‚å¹¸è¿çš„æ˜¯ï¼ŒAzure DevOps æä¾›äº†ä¸€ç§ç®€å•æ˜äº†çš„æ–¹æ³•ï¼Œè®©ä½ çš„å¤´è„‘ç»•è¿‡é‚£äº›ç–¯ç‹‚çš„ DevOps äººä¸€ç›´åœ¨åšçš„ä»»åŠ¡ã€‚

å› æ­¤ï¼Œç»§ç»­åœ¨ [Azure DevOps](https://azure.microsoft.com/services/devops/?nav=min&WT.mc_id=devto-blog-jelooper) ä¸Šä¸ºè‡ªå·±åˆ›å»ºä¸€ä¸ªå¸æˆ·å§ã€‚ä½ å¯ä»¥åœ¨å…è´¹å±‚åšå¾ˆå¤šäº‹æƒ…:æŸ¥çœ‹[å®šä»·é¡µé¢](https://azure.microsoft.com/pricing/details/devops/azure-devops-services/?nav=min&WT.mc_id=devto-blog-jelooper)äº†è§£æ›´å¤šä¿¡æ¯ã€‚

[![Azure DevOps](../Images/432e8271e9b5d7ba08b53b47a72a171b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--dXyvHlxB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/c02a3bgjxeq55qg8wexr.png)

ç™»å½•åï¼Œåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚åœ¨è¯¥é¡¹ç›®ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°å‡ ä¸ªé€‰é¡¹ã€‚Azure DevOps æœ‰ä¸€ä¸ªé¡¹ç›®ç®¡ç†åŒºï¼Œåœ¨å®ƒä¸‹é¢ï¼Œä½ ä¼šå‘ç°ç®¡é“åŒºã€‚

1.  åˆ›å»ºä¸€ä¸ªæ–°ç®¡é“ï¼Œå¹¶å°†å…¶è¿æ¥åˆ°æ‚¨ä¸º Vue é¡¹ç›®è®¾ç½®çš„ GitHub ä»£ç ã€‚

2.  ç®¡é“å‘å¯¼å°†æ‰¾åˆ°æ‚¨é¡¹ç›®çš„ã€‚æ‚¨ä¹‹å‰åˆ›å»ºçš„ yml æ–‡ä»¶ã€‚å¿«é€Ÿæ£€æŸ¥ä¸€ä¸‹ï¼Œç¡®ä¿å®ƒçœ‹èµ·æ¥æ²¡é—®é¢˜ã€‚

3.  ç‚¹å‡»â€œè¿è¡Œâ€-çœ‹ç€ä½ çš„æ„å»ºå¼€å§‹ï¼æ‚¨å¯ä»¥å®æ—¶è§‚å¯Ÿæµç¨‹çš„å¯åŠ¨ã€‚ç›‘æ§çš„é‡è¦æ­¥éª¤æ˜¯`npm install and build`è¿‡ç¨‹ã€‚åº”è¯¥åˆ›å»ºå¹¶å‘å¸ƒä¸€ä¸ª`dist`æ–‡ä»¶å¤¹ã€‚

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ‚¨å°†æ”¶åˆ°ä¸€å°ç”µå­é‚®ä»¶ï¼Œå‘ŠçŸ¥æ‚¨æ„å»ºæˆåŠŸï¼Œå¹¶ä¸”å®ƒå°†åœ¨æ„å»ºé¢æ¿ä¸­æ˜¾ç¤ºâ€œç»¿è‰²â€:

[![built!](../Images/27e23b8dcaae23795709a5a4bbed27b8.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--QZENxAx7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/fet1l1ts93m7wqcn9czf.png)

å¤ªå¥½äº†ï¼ä½ çš„ç½‘ç«™å·²ç»å»ºåœ¨äº‘ç«¯äº†ï¼â›…ï¸ä½ å¯ä»¥é€šè¿‡è®¿é—®æ„å»ºæ—¥å¿—å¹¶ç‚¹å‡»è“è‰²çš„`Artifacts`æŒ‰é’®æ¥éªŒè¯ä¸€åˆ‡æ­£å¸¸:å®ƒæ˜¾ç¤ºä¸€ä¸ª`dist`æ–‡ä»¶å¤¹å·²ç»æ„å»ºå¥½äº†ã€‚

## [](#last-step-release)æœ€åä¸€æ­¥:å‘å¸ƒï¼

ä½ å¯èƒ½è®¤ä¸ºä½ å·²ç»å®Œæˆäº†ï¼Œä½†æ˜¯ä½ é”™äº†ã€‚è¿˜æœ‰ä¸€ä»¶äº‹è¦åšï¼Œé‚£å°±æ˜¯é‡Šæ”¾ä½ åˆšåˆšæ„å»ºçš„èµ„äº§ã€‚ä»¥ä¸‹æ˜¯æ–¹æ³•ã€‚

1.  åœ¨å·¦ä¾§å¯¼èˆªä¸­ï¼Œå•å‡»â€œå‘å¸ƒâ€å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„å‘å¸ƒç®¡é“ã€‚

2.  åœ¨ä¸åŒç±»å‹çš„ç‰ˆæœ¬ä¸Šï¼Œä½ æœ‰å¾ˆå¤šé€‰æ‹©ã€‚é€‰æ‹©ç¬¬ä¸€ä¸ªï¼Œä»åº”ç”¨æœåŠ¡æ„å»º web åº”ç”¨ã€‚

[![release step 1](../Images/0a79b1805178fde8712009f6d971fbd6.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--cK5_eoax--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/mme7595eiw75mhbc2i1r.png)

ç„¶åï¼Œå•å‡»â€œæ·»åŠ å·¥ä»¶â€æŒ‰é’®ï¼Œæ·»åŠ æ‚¨ä¹‹å‰çš„è¿‡ç¨‹æ„å»ºçš„å·¥ä»¶:

[![release step 2](../Images/9e52997c9d68f775bb5f8e735d838ce7.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--s_SA3irq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/i8t51kcdu6hccqp2bdum.png)

æ¥ä¸‹æ¥ï¼Œè½¬åˆ° Stages åŒºåŸŸå¹¶å•å‡» Stage æŒ‰é’®ã€‚ä½ éœ€è¦åœ¨è¿™é‡Œåšä¸€äº›é‡è¦çš„ç¼–è¾‘ã€‚å•å‡»æ­¤åŒºåŸŸä¸­çš„â€œä»»åŠ¡â€é€‰é¡¹å¡ï¼Œå¹¶æ›´æ”¹å‘å¸ƒå‚æ•°ä»¥åŒ…æ‹¬æ‚¨çš„ Azure è®¢é˜…å’Œåº”ç”¨æœåŠ¡åç§°ã€‚**ç‚¹å‡»ä¿å­˜ï¼**

[![release step 3](../Images/356a3e1d8cc2d3cbc0a946b9a159123d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--iMb_5lkC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vf1uplqtyry03o1owfxb.png)

ç„¶åï¼Œå•å‡»è¯¥é¡µé¢ä¸Šçš„â€œéƒ¨ç½² Azure åº”ç”¨æœåŠ¡â€æŒ‰é’®ã€‚è¿™é‡Œæœ‰ä¸€äº›é‡è¦çš„è°ƒæ•´ã€‚è½¬åˆ°â€œåŒ…æˆ–æ–‡ä»¶å¤¹â€æ–‡æœ¬æ¡†ï¼Œå•å‡»å³è¾¹çš„å°æŒ‰é’®ï¼ŒæŒ‡å®šè¦é‡Šæ”¾çš„æ–‡ä»¶å¤¹ã€‚æ‚¨éœ€è¦æŒ‡å®š`dist`:

[![release step 4](../Images/c7d3a3dd0c0d59a5c215a019e632ac73.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--IBrUudWr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/mok4bdlp18d1r0dxkb4w.png)

**ç¡®ä¿ç‚¹å‡»ä¿å­˜ä»¥ä¿å­˜æ‚¨çš„å‘å¸ƒé¦–é€‰é¡¹ã€‚å•å‡»â€œåˆ›å»ºå‘å¸ƒâ€æ¥æµ‹è¯•æ‚¨çš„ç®¡é“ã€‚**

é€šè¿‡è¿”å›æ„å»ºåŒºåŸŸå¹¶å•å‡»â€œé˜Ÿåˆ—â€å°†æ„å»ºå’Œå‘å¸ƒæ’é˜Ÿæ¥æµ‹è¯•æ‚¨çš„å·¥ä½œã€‚

> å¦‚æœæ‚¨çš„ GitHub å˜æ›´è§¦å‘äº†ä¸€ä¸ªæ„å»ºï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‘å¸ƒï¼Œè¯·ç¡®ä¿åœ¨å‘å¸ƒæ—¶ç‚¹å‡»â€œé—ªç”µâ€å›¾æ ‡ï¼Œä»¥ç¡®ä¿æŒç»­é›†æˆ:
> 
> [![lightning arrow](../Images/d021c6b4c421ad6824ffffa154099207.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--y29kuM1i--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ddv24zoh1j6yr3n4km25.png)

å½“å¯¹ä»£ç è¿›è¡Œæ›´æ”¹æ—¶ï¼Œä¹Ÿåº”è¯¥è§¦å‘ç®¡é“ã€‚é€šè¿‡æäº¤å¯¹ GitHub çš„æ›´æ”¹æ¥æµ‹è¯•è¿™ä¸€ç‚¹ã€‚

å¤©è“è‰²çš„ç®¡é“å¾ˆç´¯ã€‚æˆ‘éœ€è¦å°ç¡ä¸€ä¸‹ã€‚ä½†æ˜¯ç°åœ¨æˆ‘ä»¬çš„æ„å»ºæˆåŠŸäº†ï¼Œæˆ‘ä»¬æœ‰äº†çœŸæ­£çš„è¿ç»­éƒ¨ç½²ï¼Œæ²¡æœ‰æ¬ºéª—ï¼Œæˆ‘ä»¬å¯ä»¥ä¼‘æ¯ä¸€ä¸‹ï¼Œç›´åˆ°æœ¬ç³»åˆ—çš„ä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œé‚£æ—¶æˆ‘ä»¬å°†å‘æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ·»åŠ ä¸€ä¸ªæ•°æ®åº“ï¼

[![nap time](../Images/5fe1c60e85d7f2cd3c6d9fe80c9c1d6c.png)T2ã€‘](https://i.giphy.com/media/ViUqU2JgM4eaY/giphy.gif)

> æœ‰ç”¨é“¾æ¥:
> ğŸ›  [è”šè“ç®¡é“](https://azure.microsoft.com/services/devops/pipelines/?nav=min&WT.mc_id=devto-blog-jelooper)
> ğŸ‘›[ç®¡é“å®šä»·æ˜ç»†](https://azure.microsoft.com/pricing/details/devops/azure-devops-services/?nav=min&WT.mc_id=devto-blog-jelooper)
> ğŸ“š[ç®¡é“æ–‡ä»¶](https://docs.microsoft.com/en-us/azure/devops/pipelines/?view=azure-devops&WT.mc_id=devto-blog-jelooper)