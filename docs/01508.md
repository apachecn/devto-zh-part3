# å˜¿ï¼Œçˆ±ä¸½ä¸ï¼ŒJavaScript çš„ä¸¥æ ¼æ¨¡å¼æœ‰ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Ÿ

> åŸæ–‡:[https://dev . to/ashubhadoria 7/hey-Alice-what-the-big-deal-about-the-JavaScript-s-strict-mode-24bb](https://dev.to/ashubhadoria7/hey-alice-what-s-the-big-deal-about-the-javascript-s-strict-mode-24bb)

åœ¨ Alice å¼€å§‹å›ç­” Bob çš„é—®é¢˜ä¹‹å‰ï¼Œè®©æˆ‘ä¸ºè¿™æ¬¡å¯¹è¯åšå¥½å‡†å¤‡ã€‚å› ä¸º JavaScript å¯ä»¥åœ¨æ²¡æœ‰å®Œå…¨æˆ–å……åˆ†ç†è§£çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œæ‰€ä»¥å¯¹è¯­è¨€çš„ç†è§£ä»¥åŠä¸ºä»€ä¹ˆæŸäº›ä¸œè¥¿ä¼šå·¥ä½œæˆ–ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒæ˜¯æˆ‘ä»¬æ— æ³•ç†è§£çš„ã€‚å‡è®¾ Bob æ˜¯ä¸€åå¼€å‘äººå‘˜ï¼Œä»–æƒ³å¤šåšä¸€ç‚¹å·¥ä½œæ¥ç†è§£ä»–æ¯å¤©éƒ½åœ¨ä½¿ç”¨çš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯æœ‰æ„è¯†åœ°æ€è€ƒã€‚Alice æ˜¯ä¸€åå–„è§£äººæ„çš„å¼€å‘äººå‘˜ï¼Œå¥¹æƒ³å¸®åŠ©å¥¹çš„åŒäº‹ã€‚

(ä¹Ÿè®¸åœ¨ä¸åŒçš„ç¯å¢ƒä¸­ï¼Œé²å‹ƒå¯èƒ½æ­£åœ¨ä¸ºä¸€ä»½å…¨èŒå·¥ä½œé¢è¯•çˆ±ä¸½ä¸ã€‚ğŸ˜‰)

#### [](#hey-alice-my-code-works-like-a-charm-but-i-am-being-told-to-use-the-raw-strict-mode-endraw-whats-the-big-idea)å˜¿ï¼Œçˆ±ä¸½ä¸ï¼Œæˆ‘çš„ä»£ç å·¥ä½œèµ·æ¥å¾ˆæœ‰é­…åŠ›ï¼Œä½†æ˜¯æˆ‘è¢«å‘ŠçŸ¥è¦ä½¿ç”¨`strict mode`ï¼Œæœ‰ä»€ä¹ˆå¥½ä¸»æ„å—ï¼Ÿ

JavaScript `strict`æ¨¡å¼åŸºæœ¬ä¸Šå…è®¸ä½ æŠŠä¸€ä¸ªç¨‹åºç”šè‡³ä¸€ä¸ªå‡½æ•°æ”¾åœ¨ä¸€ä¸ªä¸¥æ ¼çš„æ“ä½œä¸Šä¸‹æ–‡ä¸­ã€‚åœ¨ä½ é—®â€œè¿™å¯¹æˆ‘æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿâ€ï¼Œæˆ‘ä¹Ÿæ¥å›ç­”ä¸€ä¸‹ã€‚è¿™å°†ä½¿è°ƒè¯•å˜å¾—æ›´å®¹æ˜“ï¼Œå®ƒå°†ä½¿ä½ ä¸é‚£ä¹ˆå®¹æ˜“å—åˆ° JavaScript è¯­è¨€çš„å½±å“ã€‚å¦‚æœæ‚¨ä½¿ç”¨`strict`æ¨¡å¼ï¼Œè®¸å¤šåœ¨è¿è¡Œæ—¶(å¯èƒ½æ˜¯åœ¨ç”Ÿäº§ä¸­)è¢«å‘ç°çš„é”™è¯¯å°†ä¼šæ‚„æ‚„åœ°å¤±è´¥ã€‚

#### [](#so-how-do-i-use-the-fabled-raw-strict-endraw-mode)é‚£ä¹ˆæˆ‘å¦‚ä½•ä½¿ç”¨*ä¼ è¯´ä¸­çš„* `strict`æ¨¡å¼å‘¢ï¼Ÿ

å“¦ï¼åªéœ€å°†å­—ç¬¦ä¸²`"use strict";`æ”¾åœ¨ç¨‹åºæ–‡ä»¶çš„é¡¶éƒ¨ã€‚ç°åœ¨ä½ çš„ä»£ç ä½¿ç”¨çš„æ˜¯`strict`æ¨¡å¼ï¼Œè®¸å¤šåœ¨*éä¸¥æ ¼*æ¨¡å¼ä¸‹çœ‹èµ·æ¥å¾ˆå¥½çš„ä»£ç è¡Œå°†ä¸­æ–­ï¼Œè¿«ä½¿ä½ é‡æ„ä½ çš„ç¨‹åºï¼Œä½¿ä¹‹æ›´æ˜“äºè°ƒè¯•ã€‚æˆ‘ä»¬éƒ½è®©æˆ‘ä»¬çš„ç”Ÿæ´»å˜å¾—æ›´å®¹æ˜“ã€‚

#### [](#doesnt-that-mean-i-will-break-a-lot-of-grandpa-charless-legacy-code-by-using-the-raw-strict-endraw-mode-on-my-entire-program-file)è¿™éš¾é“ä¸æ„å‘³ç€æˆ‘å°†é€šè¿‡åœ¨æˆ‘çš„æ•´ä¸ªç¨‹åºæ–‡ä»¶ä¸Šä½¿ç”¨`strict`æ¨¡å¼æ¥ç ´è§£å¾ˆå¤šè€çˆ·çˆ·é—ç•™çš„ä»£ç å—ï¼Ÿ

è®°å¾—æˆ‘å‘Šè¯‰è¿‡ä½ ï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªåŠŸèƒ½ä¸Šè®¾ç½®`strict`æ¨¡å¼ã€‚æ‰€ä»¥å¦‚æœä½ ç°åœ¨ä¸æƒ³ä¼¤å®³çˆ·çˆ·çš„æ„Ÿæƒ…ï¼Œè€ƒè™‘å¼€å§‹åœ¨ä½ å†™çš„å‡½æ•°ä¸Šä½¿ç”¨`strict`æ¨¡å¼ã€‚

```
// non-strict mode

function doSomethingCool() {

    "use strict";

    // some cool `strict` stuff
}

// non-strict mode 
```

#### [](#why-does-raw-use-strict-endraw-have-to-be-a-string)ä¸ºä»€ä¹ˆ`"use strict"`ä¸€å®šæ˜¯å­—ç¬¦ä¸²ï¼Ÿ

å› ä¸ºå½“è¿™ä¸ª*åŠŸèƒ½*è¢«å¼€å‘çš„æ—¶å€™ï¼Œå¾ˆå¤šæ—§çš„æµè§ˆå™¨ä¸æ”¯æŒ`strict`æ¨¡å¼ã€‚å› æ­¤ï¼Œå¦‚æœè¿™æ ·ä¸€ä¸ªé—ç•™æµè§ˆå™¨é‡åˆ°äº†`"use strict"`ï¼Œå®ƒä¼šå°†å…¶è§†ä¸ºä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²æ–‡å­—ï¼Œä¸åšä»»ä½•äº‹æƒ…(åœ¨å½±å“ç¨‹åºçŠ¶æ€çš„ä¸Šä¸‹æ–‡ä¸­)ã€‚

#### [](#thats-really-cool-alice-could-you-please-demonstrate-how-raw-use-strict-endraw-benefits-me-through-code-examples)å¤ªæ£’äº†ï¼Œçˆ±ä¸½ä¸ï¼Œä½ èƒ½é€šè¿‡ä»£ç ç¤ºä¾‹æ¼”ç¤ºä¸€ä¸‹`"use strict"`å¦‚ä½•è®©æˆ‘å—ç›Šå—ï¼Ÿ

å•Šï¼æˆ‘ä»¥ä¸ºä½ ä¸ä¼šé—®ï¼Œè®©æˆ‘æƒ³å‡ ä¸ªåœºæ™¯ã€‚

*   **ä¸¥æ ¼æ¨¡å¼ä¸å…è®¸ä½ åœ¨å£°æ˜å˜é‡ä¹‹å‰ç»™å®ƒèµ‹å€¼**

```
"use strict";

myName = "Alice"; 
```

```
ReferenceError: assignment to undeclared variable myName script.js:3:1 
```

è¿™é˜²æ­¢æ±¡æŸ“å…¨çƒèŒƒå›´ã€‚
çœ‹è¿™ä¸ªä¾‹å­ï¼Œ

```
"use strict";

var doAwesomeStuff = false;

doawesomeStuff = true // OOPS messed up the camel casing!!!

if (doAwesomeStuff) {

    console.log("Beginning to do some awesome stuff");

    // Awesome stuff 
} 
```

```
ReferenceError: assignment to undeclared variable doawesomeStuff script.js:5:1 
```

å¦‚æœæ²¡æœ‰`strict`æ¨¡å¼ï¼Œä½ å°†æ°¸è¿œä¸ä¼šå¾—åˆ°ä¸€ä¸ªè¾“å…¥é”™è¯¯çš„é”™è¯¯(æ— å£°åœ°å¤±è´¥),ä½ ä¹Ÿæ°¸è¿œæ— æ³•å®Œæˆ*çš„æƒŠäººä¹‹ä½œ*ã€‚å¤šäºäº†`strict`æ¨¡å¼ï¼Œä½ ç°åœ¨å¯ä»¥ä¿®æ”¹ä½ çš„é”™åˆ«å­—ï¼Œç»§ç»­åšä½ æ³¨å®šè¦åšçš„*ç²¾å½©çš„äº‹æƒ…*ã€‚

*   **ä¸¥æ ¼æ¨¡å¼ç¦æ­¢ä½¿ç”¨ä¸ºå°†æ¥ä½¿ç”¨è€Œä¿ç•™çš„ JavaScript å…³é”®å­—**

```
// Non-strict mode
var let = 5;

console.log(let); 
```

```
5 
```

```
"use strict";

var let = 5;

console.log(let); 
```

```
SyntaxError: let is a reserved identifier script.js:3:4 
```

ç°åœ¨å·²ç»æ˜¯ 2019 å¹´äº†ï¼Œäººä»¬å¼€å§‹ä½¿ç”¨æœ€æ–°çš„ JavaScript ç‰¹æ€§ã€‚å…¶ä¸­ä¹‹ä¸€å°±æ˜¯`let`å…³é”®è¯ã€‚`let`å…³é”®å­—ç”¨äºåœ¨ [ES6 (ECMAScript 2015)](https://www.ecma-international.org/ecma-262/6.0/) ä¸­å£°æ˜å—èŒƒå›´çš„å˜é‡ã€‚å°†å®ƒç”¨ä½œæ ‡è¯†ç¬¦åç§°æ˜¯ä¸æ˜æ™ºçš„ã€‚æ‰€ä»¥`strict` mode ä¼šæ”¯æŒä½ çš„ã€‚

*   **ä¸¥æ ¼æ¨¡å¼è®©*å¯æ€•çš„* `eval()`æ›´å®‰å…¨çš„**

`eval()`æ˜¯ JavaScript ä¸­çš„ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œå°†æŒ‡å®šçš„å­—ç¬¦ä¸²ä½œä¸º JavaScript ä»£ç è¿›è¡Œæ±‚å€¼å¹¶æ‰§è¡Œã€‚ä¸é¼“åŠ±ä½¿ç”¨`eval`,ä¸»è¦æ˜¯å› ä¸ºå®ƒå¯èƒ½ä¼šåœ¨è¿è¡Œæ—¶æ”¹å˜è¯æ³•èŒƒå›´(å¦‚æœè¿™çœ‹èµ·æ¥åƒèƒ¡è¨€ä¹±è¯­ï¼Œç°åœ¨å°±å¿½ç•¥å®ƒğŸ˜„)

```
// Non-strict mode 

var b = 5;

eval("var b = 6");

console.log(b); 
```

```
6 
```

æ³¨æ„åˆ°`eval()`ç»§ç»­åœ¨å®ƒå­˜åœ¨çš„èŒƒå›´å†…é‡æ–°å£°æ˜å˜é‡ã€‚è½»ç‡åœ°ä½¿ç”¨`eval()`å¯èƒ½ä¼šå¯¼è‡´èŒƒå›´æ±¡æŸ“ï¼Œåœ¨æ›´å¤æ‚çš„åœºæ™¯ä¸­ä¼šå¯¼è‡´æ„æƒ³ä¸åˆ°çš„ç»“æœå’Œå¤æ‚çš„é€»è¾‘ã€‚

```
"use strict";

var b = 5;

eval("var b = 6");

console.log(b); 
```

```
5 
```

åœ¨`strict`æ¨¡å¼ä¸­ï¼Œå˜é‡å£°æ˜å‘ç”Ÿåœ¨ä¸€ä¸ªå•ç‹¬çš„`eval()`ä½œç”¨åŸŸä¸­(ç®€å•åœ°è¯´ï¼Œè¿™ä¸ªä½œç”¨åŸŸè·¨è¶Šäº†ä¼ é€’ç»™`eval()`çš„å‚æ•°)ï¼Œå› æ­¤ä¸ä¼šæ±¡æŸ“å½“å‰çš„ä½œç”¨åŸŸã€‚

*   **ä¸¥æ ¼æ¨¡å¼ä¸å…è®¸åˆ é™¤å˜é‡ã€å‡½æ•°å®šä¹‰å’Œå‡½æ•°å‚æ•°**

```
"use strict";

var a = 10;
delete a; 
```

```
SyntaxError: applying the 'delete' operator to an unqualified name is deprecated script.js:4:7 
```

```
"use strict";

function dontDelete() {
    // some stuff
}

delete dontDelete; 
```

```
SyntaxError: applying the 'delete' operator to an unqualified name is deprecated script.js:7:7 
```

```
"use strict";

function dontDelete(arg) {
    delete arg;
    // some stuff
} 
```

```
SyntaxError: applying the 'delete' operator to an unqualified name is deprecated script.js:4:11 
```

è¿™äº›é™åˆ¶ä¸»è¦æ˜¯ä¸ºäº†ç¡®ä¿æˆ‘ä»¬ä¸ä¼šè®© JavaScript å¼•æ“éš¾ä»¥ä¼˜åŒ–æˆ‘ä»¬çš„ä»£ç ï¼Œå¹¶ä½¿ä»£ç å—çš„è¯­ä¹‰æ›´å®¹æ˜“æè¿°ã€‚

#### [](#wraping-it-up)æ€»ç»“èµ·æ¥

JavaScript çš„`strict`æ¨¡å¼ç¡®ä¿æˆ‘ä»¬çš„ä»£ç æ›´å¹²å‡€ï¼Œå¹¶ä¸”åœ¨ä»£ç äº¤ä»˜ç”Ÿäº§ä¹‹å‰é¿å…ä¸€äº›éå¸¸å¸¸è§çš„è¯­æ³•é”™è¯¯ã€‚ç„¶è€Œ`strict`æ¨¡å¼å¹¶ä¸æ˜¯è§£å†³æ‰€æœ‰é—®é¢˜çš„çµä¸¹å¦™è¯ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦åšå¥½*çš„ç¼–ç¨‹*ğŸ˜…