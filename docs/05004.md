# Async Await Vs Promisesï¼Œå“ªä¸ªæ›´å¥½ï¼Ÿ*ææ…Œ*

> åŸæ–‡:[https://dev . to/veebuv/async-await-vs-promises-panic-4a8f](https://dev.to/veebuv/async-await-vs-promises-which-one-is-better-panic-4a8f)

é¦–å…ˆï¼Œå®ƒä»¬æ˜¯ä¸€æ ·çš„ğŸ˜€

å®ƒä»¬(å¼‚æ­¥ç­‰å¾…)æ˜¯ä½¿æ¯ä¸ªå¼‚æ­¥æ–‡ä»¶çœ‹èµ·æ¥æ¼‚äº®çš„ç§˜å¯†ã€‚ä»–ä»¬ç»™ä»»ä½•äººçš„çœ¼ç›å¸¦æ¥å–œæ‚¦ï¼Œå½“ä»–ä»¬ç¦»å¼€åœ°ç‹±æ—¶çœ‹åˆ°åŒæ ·çš„å–œæ‚¦ã€‚

[![](../Images/b1ca46506fc2d3383977075f3936a0b0.png)T2ã€‘](https://i.giphy.com/media/105oA1tkTBSy9a/giphy.gif)

ä½ çŒœå¯¹äº†ï¼Œè¿™æ˜¯å¦ä¸€ä¸ªå…³äºå¼‚æ­¥ç­‰å¾… vs æ‰¿è¯ºçš„åšå®¢ã€‚ä½†æ˜¯åˆ«æ‹…å¿ƒï¼Œæˆ‘ä¼šå†™å¾—å¾ˆçŸ­ï¼Œå¸Œæœ›è¿™æ˜¯ä½ éœ€è¦é˜…è¯»çš„æœ€åä¸€ç¯‡ã€‚

å¦‚æœæ‚¨å› ä¸ºå¯¹å‘ç”Ÿäº†ä»€ä¹ˆæˆ–è€… Async Await å¦‚ä½•å¦‚æ­¤ç¥å¥‡åœ°å·¥ä½œæ„Ÿåˆ°æœ‰ç‚¹å›°æƒ‘è€Œæ„Ÿåˆ°å›°æƒ‘ï¼Œè¿™ä¸ªæŠ½è±¡çš„è§£é‡Šå¯ä»¥æä¾›ä¸€ç‚¹å¸®åŠ©ã€‚

é¦–å…ˆè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ‰¿è¯º:

```
const getData = new Promise((resolve, reject) => {
  // crazy calculation that takes 10 seconds and spits out the      //number 55
  const data = 55;
  if (data) {
     resolve (55);
  } else {
     reject ("Error state");
  }
}) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å‡è®¾æˆ‘ä»¬æƒ³è¦è°ƒç”¨è¿™ä¸ªå‡½æ•°â€”â€”æˆ‘ä»¬ä¸å®ƒäº¤äº’çš„æ–¹å¼æ˜¯ä½¿ç”¨ resolve å›è°ƒè¾“å‡ºã€‚

ä¹Ÿè®¸æœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œå½“ç‚¹å‡»å®ƒæ—¶ä¼šè°ƒç”¨ä¸€ä¸ª`fetchInfo`å‡½æ•°â€”â€”å¦‚æœæˆ‘ä»¬ä½¿ç”¨`then`å±æ€§è§£ææˆ‘ä»¬çš„ä»£ç ï¼Œæˆ‘ä»¬æœ€ç»ˆä¼šåˆ°è¾¾:

```
const fetchInfo = getData().then((data) => {
    return fetchFromDB(id).then((dbData) => {
      return `This is the dbData: ${dbData}`
    })
}) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨çœ‹èµ·æ¥è¿˜ä¸ç®—å¤ªç³Ÿâ€¦â€¦ä½†æ˜¯ç”¨ Async Await çœ‹èµ·æ¥ä¼šæ›´å¥½â€”â€”è‡ªå·±çœ‹çœ‹å§ã€‚å¼‚æ­¥ç­‰å¾…ç­‰åŒäºä¸Šè¿°

```
const fetchInfo = async () => {
   const id = await getData();
   const dbData = await fetchFromDB(id);
   return `This is the dbData: ${dbData}`
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘æƒ³å°±æ˜¯è¿™æ ·â€”â€”ç®€å•æ˜äº†çš„å¯¹æ¯”ã€‚

Async-Await çš„æ ¸å¿ƒæ˜¯å°†ä»£ç å¯è¯»æ€§çº¿æ€§åŒ–ï¼Œå› ä¸ºæœ‰æ—¶è¿·å¤±åœ¨`thens`ä¸­ä¼šä½¿è·Ÿè¸ªä»£ç è·¯å¾„å˜å¾—å›°éš¾ã€‚

é€šè¿‡åœ¨ async ä¸­åŒ…è£…ä¸€ä¸ªå‡½æ•°ï¼ŒJS å°†å®ƒè¯»å–ä¸ºä¸€ä¸ªæ‰¿è¯ºï¼Œå‡½æ•°ä¸­çš„ await å……å½“ then çš„`equivalent`æ¥è§£æ`getData`æ‰¿è¯º

* * *

åœ¨ LinkedIn || [Twitter](https://twitter.com/veebuv) ä¸Šå…³æ³¨æˆ‘ï¼Œä¼šæœ‰æ›´å¤šæ–‡ç« 

å¦‚æœä½ æœ‰ä¸€ä¸ªä½ æƒ³è®©æˆ‘å†™çš„è¯é¢˜ï¼Œå‘å¾®åšç»™æˆ‘ğŸ˜€

æ­¤å¤–ï¼Œæˆ‘æ€»æ˜¯å–œæ¬¢åœ¨è¯„è®ºä¸­å¾—åˆ°åé¦ˆğŸ‘‡å¦‚æœè¿™å¯¹ä½ æœ‰å¸®åŠ©ï¼Œç‚¹å‡»â¤ï¸æ¥æ”¯æŒè¿™ç¯‡æ–‡ç« 