# ç”¨æ— æœåŠ¡å™¨å‡½æ•°å’Œ Postgres æ„å»ºæœ‰çŠ¶æ€åº”ç”¨

> åŸæ–‡:[https://dev . to/hasurahq/building-stateful-apps-with-server less-functions-and-postgres-2e4h](https://dev.to/hasurahq/building-stateful-apps-with-serverless-functions-and-postgres-2e4h)

<figure>[![](../Images/324f69ed74ff265281202dd77de33b7c.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--xNyFCmDA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://blog.hasura.io/content/images/2019/03/Screenshot-2019-03-03-at-11.55.03-PM.png) 

<figcaption>ä½ çš„æ— æœåŠ¡å™¨å‡½æ•°åº”è¯¥å¦‚ä½•ä¸æ•°æ®åº“æ¥å£æ¥ç®¡ç†åº”ç”¨ç¨‹åºçŠ¶æ€ï¼Ÿ</figcaption>

</figure>

è¿™ç¯‡æ–‡ç« æ¢è®¨äº†åœ¨æ— æœåŠ¡å™¨å‡½æ•°ä¸­ç¼–å†™ä¸šåŠ¡é€»è¾‘æ—¶å¤„ç†åº”ç”¨ç¨‹åºçŠ¶æ€çš„ä¸åŒæ–¹æ³•ã€‚åœ¨è®¨è®ºè¿™äº›ä¸åŒçš„æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å°†ä¸»è¦ä½¿ç”¨ Postgres ä½œä¸ºæ•°æ®åº“ï¼Œå¹¶ä¸”ç»å¸¸ä½¿ç”¨ [Hasura](https://hasura.io) ä½œä¸ºæ— æœåŠ¡å™¨å‡½æ•°å’Œ Postgres æ•°æ®åº“ä¹‹é—´çš„ç²˜åˆè§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚ç„¶è€Œï¼Œè¿™ç¯‡æ–‡ç« ä¸­çš„è§‚ç‚¹æ˜¯é€šç”¨çš„ï¼Œå¯ä»¥åº”ç”¨åˆ°ä½ æœ€å–œæ¬¢çš„æ•°æ®åº“è§£å†³æ–¹æ¡ˆä¸­ã€‚

***TLï¼›*åšå£«**

*   [æ–¹æ³•#1](#1) :ä»ä½ çš„æ— æœåŠ¡å™¨åŠŸèƒ½ç›´æ¥è¿æ¥åˆ° Postgres
*   [æ–¹æ³•#2](#2) :ä»æ‚¨çš„æ— æœåŠ¡å™¨åŠŸèƒ½ä¸­ä½¿ç”¨ BaaS APIs
*   [æ–¹æ³•#3](#3) :ç”¨ä¸°å¯Œçš„äº‹ä»¶è´Ÿè½½è§¦å‘ Postgres äº‹ä»¶ä¸Šçš„æ— æœåŠ¡å™¨åŠŸèƒ½
*   [æ–¹æ³•#4](#4) :ç»“åˆä¸Šé¢çš„æ–¹æ³•ï¼Œä½¿ç”¨ Postgres æ¥ç¼–æ’ä¸€ä¸ªå·¥ä½œæµï¼Œå…¶ä¸­æ— æœåŠ¡å™¨åŠŸèƒ½é©±åŠ¨çŠ¶æ€è½¬æ¢

## [](#introduction)ç®€ä»‹

æ— æœåŠ¡å™¨å¹³å°ä¸å…è®¸å¼€å‘äººå‘˜ç¼–å†™ä¿æŒä»»ä½•é•¿æœŸçŠ¶æ€çš„ä»£ç ã€‚è¿™æ˜¯å› ä¸ºæ— æœåŠ¡å™¨è¿è¡Œæ—¶æ˜¯æŒ‰éœ€å¯åŠ¨çš„ï¼Œå¹¶ä¸”æ˜¯çŸ­æš‚çš„ï¼Œå³åœ¨è¯·æ±‚å®Œæˆåæ‰€æœ‰çš„èµ„æºéƒ½è¢«é‡Šæ”¾ã€‚

ä»¥ä¸‹æ˜¯å‡ ä¸ªä¾‹å­ï¼Œè¯´æ˜å½“ä½ ç¼–å†™ä¸€ä¸ªæ™®é€šçš„ API æœåŠ¡å™¨æ—¶ï¼Œä½ ä¸èƒ½ä»¥åŒæ ·çš„æ–¹å¼æ¥å¤„ç†è¿™äº›äº‹æƒ…ï¼Œå¹¶ä¸”è¿™äº›äº‹æƒ…å¯èƒ½æ˜¯ç†æ‰€å½“ç„¶çš„:

1.  ç›´æ¥å†™å…¥ç£ç›˜ï¼Œå°±åƒå°†æ–‡ä»¶ä¿å­˜åˆ°æ–‡ä»¶å¤¹ä¸­ä¸€æ ·
2.  ä¸€ä¸ªä¿å­˜è·¨å¤šä¸ªè¯·æ±‚çš„ä¿¡æ¯çš„å…¨å±€å˜é‡ï¼Œæ¯”å¦‚ä¸€ä¸ª`counter`ï¼Œå®ƒè·Ÿè¸ªè¿™ä¸ª API æœåŠ¡å™¨å·²ç»çœ‹åˆ°äº†å¤šå°‘ä¸ªè¯·æ±‚ã€‚
3.  ä¸€ä¸ªæ•°æ®åº“è¿æ¥æ± ï¼Œå³ä½¿åœ¨æ²¡æœ‰è¯·æ±‚çš„æƒ…å†µä¸‹ï¼Œä¹Ÿç”± API æœåŠ¡å™¨ç»´æŠ¤

åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬æ¢ç´¢äº†ä¸€äº›çœŸå®ä¸–ç•Œç”¨ä¾‹çš„æ¨¡å¼ï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©ä½ æ„å»ºä¸‹ä¸€ä¸ªå…·æœ‰æ— æœåŠ¡å™¨åŠŸèƒ½çš„åº”ç”¨ã€‚è®©æˆ‘ä»¬é€ä¸€ä»‹ç»ï¼

## [](#1-connect-to-postgres-directly)1ã€‚ç›´æ¥è¿æ¥åˆ° Postgresã€‘

ä¸ºæœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºå­˜å‚¨åº”ç”¨ç¨‹åºçŠ¶æ€çš„æœ€å¸¸è§æ–¹å¼æ˜¯ä½¿ç”¨æ•°æ®åº“ã€‚ç„¶è€Œï¼Œå¤©çœŸåœ°ä»æ— æœåŠ¡å™¨å‡½æ•°*ç›´æ¥è¿æ¥åˆ°æ•°æ®åº“*å¹¶ä¸æ˜¯æœ€æ˜æ™ºçš„æƒ³æ³•ï¼Œå› ä¸ºè™½ç„¶æ‚¨å¯ä»¥çªç„¶è°ƒç”¨ 1000 ä¸ªæ— æœåŠ¡å™¨å‡½æ•°ï¼Œä½†æ•°æ®åº“ä¸èƒ½çªç„¶æ‰©å±•åˆ°åˆ›å»º 1000 ä¸ªæ•°æ®åº“è¿æ¥ã€‚

[![](../Images/42d1a285f8893263e4059ed3b24f5290.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--GlUW4nKV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://blog.hasura.io/content/images/2019/03/Screenshot-2019-03-04-at-12.00.19-AM.png)

ä»¥ä¸‹æ˜¯è¿æ¥åˆ° Postgres ä»¥ä»æ— æœåŠ¡å™¨åŠŸèƒ½ä¸­è¯»å–/å†™å…¥æ•°æ®æˆ–è¿è¡Œæ•°æ®åº“äº‹åŠ¡çš„ä¸€äº›æœ€ä½³å®è·µ:

1.  é€šè¿‡éµå¾ªäº‘ä¾›åº”å•†çš„æœ€ä½³å®è·µæ¥åˆ›å»ºåˆ°æ•°æ®åº“çš„è¿æ¥ï¼Œè¿™æœ‰åŠ©äºæ— æœåŠ¡å™¨åŠŸèƒ½è·¨è°ƒç”¨é‡ç”¨æ•°æ®åº“è¿æ¥(æœ‰ç‚¹åƒè¿æ¥æ± ):
    *   [AWSÎ»](https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html)
    *   [è°·æ­Œäº‘åŠŸèƒ½](https://cloud.google.com/functions/docs/sql#best_practices_for_cloud_sql_in_cloud_functions)
    *   [Azure åŠŸèƒ½](https://docs.microsoft.com/en-us/azure/azure-functions/manage-connections)
2.  åœ¨å‡½æ•°å¼€å§‹æ—¶åˆ›å»ºå®Œæ•´çš„çŠ¶æ€ã€‚
    *   è¿™æ˜¯ä¸ºäº†é¿å…å¯¹æ•°æ®åº“æ‰§è¡Œå¤šæ¬¡è°ƒç”¨ï¼Œè¿™ä¼šå¯¼è‡´æ€§èƒ½æˆæœ¬å’Œè¿è¡Œæˆæœ¬ã€‚æ ¼æ¸©Â·æ²™çš®æ‹‰åœ¨è¿™ç¯‡åšæ–‡ä¸­è°ˆåˆ°äº†æ›´å¤šå…³äºè¿™ç§æ•°æ®åº“è®¿é—®æ¨¡å¼çš„å†…å®¹:[https://thenewstack.io/managing-state-in-serverless/](https://thenewstack.io/managing-state-in-serverless/)
3.  å°½å¯èƒ½ä½¿ç”¨æ—  ORM çš„æ•°æ®å±‚ã€‚
    *   è¿™æ˜¯å› ä¸ºä½¿ç”¨ ORMï¼Œæ‚¨éœ€è¦é¦–å…ˆå®šä¹‰æ•°æ®æ¨¡å‹ï¼Œå¹¶ä¸”æ‚¨å¿…é¡»ä¸ºæ¯ä¸ªåŠŸèƒ½éƒ½è¿™æ ·åšã€‚è¿™å¯èƒ½æ„å‘³ç€ç¼–å†™å¤§é‡æ ·æ¿æ–‡ä»¶ï¼Œå¹¶ä½¿å®ƒä»¬ä¸åº•å±‚æ•°æ®åº“ä¿æŒåŒæ­¥ã€‚å½“ä½ è¿™æ ·åšçš„æ—¶å€™ï¼Œä½ ä¼šæ„è¯†åˆ°ä½ æœ€å¥½ç¼–å†™ä¸€ä¸ªæ•´ä½“çš„ API æœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯å½¼æ­¤ç‹¬ç«‹çš„æ— æœåŠ¡å™¨å‡½æ•°ï¼
    *   è€ƒè™‘ä½¿ç”¨å¥½çš„ SQL å®¢æˆ·ç«¯æˆ–è€…ä¸ä½¿ç”¨ ORM å®¢æˆ·ç«¯ï¼Œæ¯”å¦‚[massie js](https://massivejs.org/)ã€‚
4.  è€ƒè™‘ä¸ºæ‚¨çš„æ•°æ®åº“ä½¿ç”¨å¤–éƒ¨è¿æ¥æ± ä»£ç†ï¼Œå¦‚ pgBouncer
    *   å¦‚æœæ‚¨ä½¿ç”¨ DB äº‹åŠ¡ï¼Œé‚£ä¹ˆè¯·è®°ä½æ•°æ®åº“çš„å¹¶å‘é™åˆ¶ã€‚äº¤æ˜“æˆæœ¬é«˜ï¼Œä¸å®¹æ˜“æ‰©å±•ã€‚æ ¹æ®æ‚¨çš„è´Ÿè½½ï¼Œæ‚¨å¯èƒ½éœ€è¦åˆ©ç”¨ä¸€ä¸ªå¯é çš„å¤–éƒ¨è¿æ¥æ± ï¼Œæ¯”å¦‚ [pgBouncer](https://pgbouncer.github.io/) [ [0](https://medium.com/open-graphql/scaling-rdbms-for-graphql-backends-on-serverless-980ef24af171) ã€‚äº‹å®ä¸Šï¼ŒDigitalOcean ä¸ºå…¶æ‰˜ç®¡çš„ Postgres æ•°æ®åº“æä¾›äº†å†…ç½®çš„è¿æ¥æ± [ [1](https://www.digitalocean.com/docs/databases/how-to/postgresql/manage-connection-pools/) ]ã€‚

## [](#2-use-baas-apis)2ã€‚ä½¿ç”¨ BaaS API

ç®¡ç†çŠ¶æ€æœ€ç®€å•çš„æ–¹æ³•ä¹‹ä¸€æ˜¯é€šè¿‡*è€Œä¸æ˜¯*è‡ªå·±ç®¡ç†å®ƒğŸ˜‰ã€‚

åç«¯å³æœåŠ¡(BaaS)è§£å†³æ–¹æ¡ˆåœ¨å¤„ç†æŒä¹…çŠ¶æ€æ—¶æŠ½è±¡å‡ºä¸€äº›å¤æ‚çš„æ€§èƒ½å’Œå¹¶å‘æ€§é—®é¢˜ã€‚æ— æœåŠ¡å™¨å‡½æ•°ä¸­çš„ä»£ç ä½¿ç”¨[HTTP API(æ— çŠ¶æ€)](https://stackoverflow.com/questions/13200152/why-is-it-said-that-http-is-a-stateless-protocol)å¹¶å°† BaaS è§£å†³æ–¹æ¡ˆè§†ä¸ºé»‘ç›’ã€‚BaaS æœ¬èº«å®é™…å¤„ç†ç®¡ç†å’ŒæŒä¹…åŒ–çŠ¶æ€ï¼Œå³ä½¿æˆåƒä¸Šä¸‡çš„å¹¶å‘ä»£ç å¯èƒ½æ­£åœ¨è¯»å–ã€å†™å…¥æˆ–ä¿®æ”¹æ•°æ®ã€‚

ä»¥ä¸‹æ˜¯æ‚¨çš„æ— æœåŠ¡å™¨åŠŸèƒ½å¯èƒ½ä½¿ç”¨çš„ BaaS æœåŠ¡ç¤ºä¾‹:

*   è¯»å–/å†™å…¥å¯¹è±¡æˆ–æ–‡ä»¶ç±»å‹æ•°æ®çš„ S3 é£æ ¼ APIã€‚æ‰€æœ‰ä¸»è¦çš„äº‘ä¾›åº”å•†ç°åœ¨éƒ½æä¾› S3 APIã€‚
*   ä» Postgres è¯»å–/å†™å…¥æ•°æ®çš„ Hasura GraphQL APIs
*   è¯»å–/å†™å…¥æœç´¢ç´¢å¼•å’Œæ•°æ®åº“çš„ç®—æ³•

[![](../Images/40fa54d52bd2b919abe1fdd34c3f92b0.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--oZqChk5v--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://blog.hasura.io/content/images/2019/03/Screenshot-2019-03-04-at-12.01.56-AM.png)

ä½¿ç”¨ BaaS çš„ä¸€ä¸ªå¥½å¤„æ˜¯æ‚¨çš„å‡½æ•°*çœ‹èµ·æ¥*å®Œå…¨æ˜¯æ— çŠ¶æ€çš„ã€‚è€ƒè™‘ä¸‹é¢çš„[ä»£ç ](https://github.com/hasura/graphql-engine/tree/master/community/sample-apps/serverless-etl)ï¼Œå®ƒä½¿ç”¨ Algolia æ¥å¡«å……æœç´¢ç´¢å¼•:

```
const algoliasearch = require('algoliasearch');

exports.function = async (req, res) => {
  const data = req.body.book;

  var client = algoliasearch(process.env.ALGOLIA_ID, process.env.ALGOLIA_KEY); //from env vars
  var index = client.initIndex('book_index');

  index.addObjects([data], function(err, content) {
    if (err) {
      console.error(err);
      res.json({error: true, data: err});
      return;
    } else {
        res.json({error: false, data: content});
    }   
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œè¿™ä¸ªå‡½æ•°æœ¬è´¨ä¸Šæ˜¯å¯¹ BaaS è¿›è¡Œä¸€æ¬¡ API è°ƒç”¨ï¼ŒBaaS ä½¿ç”¨ state å®Œæˆç¹é‡çš„å·¥ä½œã€‚

## [](#3-trigger-serverless-functions-on-postgres-events-with-rich-event-payloads)3ã€‚ç”¨â€œä¸°å¯Œçš„â€äº‹ä»¶è´Ÿè½½è§¦å‘ Postgres äº‹ä»¶çš„æ— æœåŠ¡å™¨åŠŸèƒ½

äº‹ä»¶æ˜¯äº‘ä¾›åº”å•†ç”¨æ¥ä¸ºæ— æœåŠ¡å™¨åŠŸèƒ½æä¾›èµ„æºï¼Œç„¶åé€šè¿‡å°†å‚æ•°ä»äº‹ä»¶æœ‰æ•ˆè´Ÿè½½ä¼ é€’ç»™è¯¥åŠŸèƒ½æ¥è¿è¡Œè¯¥åŠŸèƒ½çš„åº•å±‚æœºåˆ¶ã€‚

å¦‚æœäº‹ä»¶æœ‰æ•ˆè´Ÿè½½åŒ…å«è¿è¡Œæ— æœåŠ¡å™¨åŠŸèƒ½æ‰€éœ€çš„æ‰€æœ‰æ•°æ®å’Œä¸Šä¸‹æ–‡ï¼Œé‚£ä¹ˆæ‚¨ä¸éœ€è¦ä»å¤–éƒ¨æºè¯»å–æ•°æ®ã€‚

è¿™å°±æŠŠæˆ‘ä»¬å¸¦åˆ°äº†ç¼–å†™éœ€è¦çŠ¶æ€çš„æ— æœåŠ¡å™¨å‡½æ•°çš„ç¬¬ä¸‰ç§æ–¹æ³•ã€‚æ‚¨å¯ä»¥ä»æ•°æ®åº“ä¸­æ•è·äº‹ä»¶ï¼Œå¦‚ Postgresï¼Œå¹¶ä½¿ç”¨å®ƒä»¬æ¥è§¦å‘æ‚¨çš„æ— æœåŠ¡å™¨åŠŸèƒ½ã€‚

[![](../Images/3ab333596feaa5d05e81f544fc40a47c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--QGyCtZjE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://blog.hasura.io/content/images/2019/03/Screenshot-2019-03-04-at-12.03.37-AM.png)

ç„¶è€Œï¼Œä¸ºäº†åœ¨ç°å®ç¯å¢ƒä¸­æœ‰ç”¨ï¼Œè¿™äº›äº‹ä»¶éœ€è¦åŒ…å«æ‰€æœ‰ç›¸å…³æ•°æ®å’Œç›¸å…³ç¯å¢ƒã€‚ä»…æœ‰`id`æˆ–`operation (insert/update/delete)`ç»†èŠ‚é€šå¸¸æ˜¯ä¸å¤Ÿçš„ã€‚

<figure>[![](../Images/c1a9c4ceabc20040e36a07237aafda85.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--sHWs2pMJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://blog.hasura.io/content/images/2019/03/Screenshot-2019-03-04-at-12.12.19-AM.png) 

<figcaption>è¯¦ç»†çš„äº‹ä»¶æœ‰æ•ˆè½½è·æ›´æœ‰ç”¨</figcaption>

</figure>

åœ¨æˆ‘ä»¬ä½¿ç”¨ Postgres çš„ä¾‹å­ä¸­ï¼Œäº‹ä»¶æœ‰æ•ˆè´Ÿè½½é€šå¸¸åº”è¯¥åŒ…å«:

1.  è¡Œæ•°æ®
2.  ä¸è¡Œç›¸å…³çš„æ•°æ®(é€šè¿‡å…¶ä»–è¡¨è¿æ¥)
3.  åº”ç”¨ç¨‹åºç”¨æˆ·ä¼šè¯ä¿¡æ¯(å¦‚æœé€‚ç”¨)

[Hasura åœ¨ Postgres ä¸Šæä¾›äº†ä¸€ä¸ªç°æˆçš„äº‹ä»¶ç³»ç»Ÿ](https://hasura.io/event-triggers),å¦‚ä¸Šæ‰€è¿°ï¼Œå®ƒå¯ä»¥é€šè¿‡æ›´å¤šä¸Šä¸‹æ–‡å’Œè¯¦ç»†çš„æœ‰æ•ˆè´Ÿè½½è½»æ¾è§¦å‘äº‹ä»¶ï¼

## [](#4-postgres-amp-serverless-functions-in-a-workflow-as-a-statemachine)4ã€‚Postgres &æ— æœåŠ¡å™¨åœ¨å·¥ä½œæµä¸­å……å½“çŠ¶æ€æœº

å¤§å¤šæ•°å¤æ‚çš„åº”ç”¨ç¨‹åºéƒ½æœ‰å·¥ä½œæµæˆ–é€šè¿‡åå°çŠ¶æ€æœºè½¬æ¢çš„è¿›ç¨‹ã€‚è€ƒè™‘ä¸€ä¸ªå…·æœ‰ä»¥ä¸‹æ•°æ®æ¨¡å‹çš„é£Ÿå“è®¢è´­åº”ç”¨ç¨‹åº:

<figure>[![](../Images/f22d116927feb61280ca9e7b8fbaabf6.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--FBw6eY33--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://blog.hasura.io/content/images/2019/03/order-table-1.png) 

<figcaption>è®¢å•è¡¨</figcaption>

</figure>

æ•´ä¸ªè®¢è´­å·¥ä½œæµç”±é‡è¦çš„ä¸šåŠ¡é€»è¾‘æ­¥éª¤ç»„æˆï¼Œå¦‚éªŒè¯ã€æ”¯ä»˜ã€æ‰¹å‡†ã€é…é€ä»£ç†åˆ†é…ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç³»åˆ—åˆ°`order`è¡¨çŠ¶æ€çš„è½¬æ¢ã€‚

<figure>[![](../Images/7d0eb53a37e28e08d71dd5e22a40b915.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--lv2xhP5L--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://blog.hasura.io/content/images/2019/03/orchestration.png) 

<figcaption>ä½¿ç”¨ Postgres å’Œæ— æœåŠ¡å™¨åŠŸèƒ½ç¼–æ’å·¥ä½œæµ</figcaption>

</figure>

è®¢å•æ¨¡å‹ä¸­çš„æ¯ä¸€åˆ—éƒ½å¯ä»¥è¢«è®¤ä¸ºæ˜¯ç”±ä¸€ä¸ªç‰¹å®šçš„æ— æœåŠ¡å™¨å‡½æ•°æ›´æ–°çš„ï¼Œè¯¥å‡½æ•°è¿è¡Œå¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œå®é™…ä¸Šé€‚å½“åœ°è¿›è¡Œè½¬æ¢ï¼Œå¹¶ç”¨æ›´å¤šçš„ä¿¡æ¯ä¿®æ”¹çŠ¶æ€ã€‚

è¿™ç§æ–¹æ³•äºæ˜¯å˜æˆäº†æ–¹æ³• 1/2 å’Œæ–¹æ³• 3 çš„æ··åˆ:

*   å¯¹æ•°æ®åº“äº‹ä»¶è§¦å‘æ— æœåŠ¡å™¨åŠŸèƒ½(å¯¹ç‰¹å®šåˆ—çš„æ›´æ–°è§¦å‘ç‰¹å®šçš„æ— æœåŠ¡å™¨åŠŸèƒ½)
*   æ— æœåŠ¡å™¨åŠŸèƒ½å¯ä»¥åœ¨é€šè¿‡æ–¹æ³•#1 å’Œ#2 è¿è¡Œå…¶ä¸šåŠ¡é€»è¾‘çš„åŒæ—¶æ›´æ–°æ•°æ®åº“ä¸­çš„çŠ¶æ€ï¼

è¿™ä¸ªæƒ³æ³•ä¹Ÿå’Œ [3factor](https://3factor.app) æ¶æ„æ¨¡å¼å¯†åˆ‡ç›¸å…³ã€‚

## [](#conclusion)ç»“è®º

å¯¹äºå¤§å¤šæ•°ç”¨ä¾‹æ¥è¯´ï¼Œæ„å»ºå…·æœ‰æ— æœåŠ¡å™¨åŠŸèƒ½çš„æœ‰çŠ¶æ€åº”ç”¨ç¨‹åºå¹¶ä¸éš¾ã€‚åŸºæœ¬æ€æƒ³æ˜¯å°†ç¹é‡çš„å·¥ä½œå§”æ‰˜ç»™ä¸“å®¶ç³»ç»Ÿã€‚ä½¿ç”¨è¿™é‡Œæè¿°çš„ä¸€äº›æ¨¡å¼ï¼Œå¼€å‘äººå‘˜å¯ä»¥åœ¨ç¼–å†™æ— æœåŠ¡å™¨åŠŸèƒ½çš„ä¸šåŠ¡é€»è¾‘æ—¶è·å–æœ€å¤§çš„ä»·å€¼ã€‚