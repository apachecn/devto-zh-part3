# å…·æœ‰ä¼šè¯çš„ Azure å‡½æ•°ä¸­çš„æœ‰åºé˜Ÿåˆ—å¤„ç†

> åŸæ–‡ï¼š<https://dev.to/azure/ordered-queue-processing-in-azure-functions-4h6c>

æˆ‘ä»¬èŠèŠç‚¹é¤å§ã€‚è¿™æ˜¯æˆ‘æœ€å–œæ¬¢çš„è¯é¢˜ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯æˆ‘åœ¨ä¹‹å‰å·²ç»åœ¨åšå®¢ä¸Šå¹¿æ³›è®¨è®ºè¿‡çš„äº‹æƒ…ã€‚ä»¥å‰ï¼ŒAzure å‡½æ•°ä¸­çš„æœ‰åºå¤„ç†åªé€‚ç”¨äºåƒ Azure Event Hubs è¿™æ ·çš„äº‹ä»¶æµï¼Œä½†ä»Šå¤©æˆ‘æƒ³å±•ç¤ºå¦‚ä½•ä¸ºæœåŠ¡æ€»çº¿é˜Ÿåˆ—å’Œä¸»é¢˜ä¿æŒæœ‰åºã€‚

ä»è¡¨é¢ä¸Šçœ‹ï¼Œè¿™ä¼¼ä¹å¾ˆç®€å•:æˆ‘å¸Œæœ›èƒ½å¤ŸæŒ‰ç…§æˆ‘æ”¶åˆ°æ¶ˆæ¯çš„é¡ºåºæ¥å¤„ç†é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ã€‚å¯¹äºä¸€ä¸ªè¿è¡Œåœ¨æœºå™¨ä¸Šçš„ç®€å•æœåŠ¡æ¥è¯´ï¼Œè¿™å¾ˆå®¹æ˜“å®ç°ã€‚ä½†æ˜¯ï¼Œå½“æˆ‘æƒ³è¦å¤§è§„æ¨¡å¤„ç†æ—¶ï¼Œå¦‚ä½•ä¿æŒé˜Ÿåˆ—æ¶ˆæ¯çš„é¡ºåºå‘¢ï¼Ÿæœ‰äº† Azure Functions è¿™æ ·çš„ä¸œè¥¿ï¼Œæˆ‘å¯èƒ½è¦è·¨å‡ åä¸ªæ´»åŠ¨å®ä¾‹å¤„ç†æ¶ˆæ¯ï¼Œæˆ‘è¯¥å¦‚ä½•ä¿æŒæœ‰åºå‘¢ï¼Ÿ

è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜ä¸€ä¸ªå¤„ç†åŒ»é™¢ç—…äººçš„æ¶ˆæ¯ç³»ç»Ÿã€‚å‡è®¾æˆ‘ä¸ºæ¯ä¸ªç—…äººå‡†å¤‡äº†å‡ ä¸ªäº‹ä»¶:

1.  ç—…äººæ¥äº†
2.  åˆ†é…ç»™ç—…äººä¸€ä¸ªæˆ¿é—´
3.  æ‚£è€…æ¥å—æ²»ç–—
4.  ç—…äººå‡ºé™¢äº†

æˆ‘æƒ³ç¡®ä¿æˆ‘ä¸ä¼šä¸æŒ‰é¡ºåºå¤„ç†æ¶ˆæ¯ï¼Œä¹Ÿä¸ä¼šåœ¨å¤„ç†å®Œç—…äººçš„æ²»ç–—ä¹‹å‰å°±è®©ä»–ä»¬å‡ºé™¢ï¼

è®©æˆ‘ä»¬åšä¸€äº›å¿«é€Ÿå®éªŒï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ä¸ºæ­¤ï¼Œæˆ‘å°†æ¨¡æ‹Ÿ 1000 åæ‚£è€…ï¼Œæ¯ä¸ªäººå‘é€è¿™ 4 æ¡æ¶ˆæ¯(æŒ‰é¡ºåº)å¹¶å¤„ç†å®ƒä»¬(æœ€å¥½ä¹ŸæŒ‰é¡ºåº)ã€‚

[![Service Bus logo](img/a117c2070fa1f8c92d462cabd57e7bd6.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--pBFCUEkL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/OiEKwxX.png)

## ç¼ºçœå’Œæ•…éšœ

è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„ Azure å‡½æ•°æ¥å°è¯•ä¸€ä¸‹ï¼Œè¿™ä¸ªå‡½æ•°åªåœ¨é˜Ÿåˆ—ä¸Šè§¦å‘ã€‚æˆ‘ä¸æ‰“ç®—åšä»»ä½•ç‰¹æ®Šçš„äº‹æƒ…ï¼Œåªæ˜¯åœ¨é˜Ÿåˆ—ä¸Šè§¦å‘å¹¶å°†å®ƒæ­£åœ¨å¤„ç†çš„æ“ä½œæ¨é€åˆ° Redis ç¼“å­˜ä¸Šçš„ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚

```
public async Task Run(
    [ServiceBusTrigger("queue", Connection = "ServiceBusConnectionString")]Message message, 
    ILogger log)
{
    log.LogInformation($"C# ServiceBus queue trigger function processed message: {Encoding.UTF8.GetString(message.Body)}");
    await _client.PushData((string)message.UserProperties["patientId"], Encoding.UTF8.GetString(message.Body));
} 
```

Enter fullscreen mode Exit fullscreen mode

å°† 1000 åæ‚£è€…çš„æ•°æ®(æ¯åæ‚£è€… 4 æ¡æ¶ˆæ¯)å‘é€åˆ°è¯¥é˜Ÿåˆ—åï¼ŒRedis ç¼“å­˜åœ¨å¤„ç†åä¼šæ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿä¸€äº›ç—…äººçœ‹èµ·æ¥å¾ˆå¥½ã€‚å½“æˆ‘æŸ¥æ‰¾æ‚£è€…#4 æ—¶ï¼Œæˆ‘çœ‹åˆ°:

```
>lrange Patient-$4 0 -1
1) "Message-0"
2) "Message-1"
3) "Message-2"
4) "Message-3" 
```

Enter fullscreen mode Exit fullscreen mode

å¤ªå¥½äº†ï¼ä¸ºæ‚£è€… 4 å‘é€äº†æ‰€æœ‰ 4 ä¸ªäº‹ä»¶ï¼Œå¹¶æŒ‰é¡ºåºè¿›è¡Œäº†å¤„ç†ã€‚ä½†æ˜¯å¦‚æœæˆ‘çœ‹ç—…äºº 2:

```
>lrange Patient-$2 0 -1
1) "Message-1"
2) "Message-2"
3) "Message-0"
4) "Message-3" 
```

Enter fullscreen mode Exit fullscreen mode

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒæ²¡æœ‰å®Œæˆå¤„ç†â€œæ‚£è€…åˆ°è¾¾â€æ¶ˆæ¯ï¼Œç›´åˆ°å·²ç»å¤„ç†äº†å¦å¤–ä¸¤ä¸ªæ¶ˆæ¯ã€‚è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼ŸAzure Service Bus ç¡®å®ä¿è¯äº†æœ‰åºï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆæˆ‘çš„æ¶ˆæ¯æ˜¯æ— åºçš„å‘¢ï¼Ÿ

é»˜è®¤æƒ…å†µä¸‹ï¼Œé˜Ÿåˆ—è§¦å‘å™¨ä¼šåšä¸€äº›äº‹æƒ…ã€‚é¦–å…ˆï¼Œå¯¹äºæ¯ä¸ªå¯åŠ¨çš„å®ä¾‹ï¼Œå®ƒå°†åŒæ—¶å¤„ç†ä¸€ç»„æ¶ˆæ¯ã€‚[é»˜è®¤æƒ…å†µä¸‹](https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-service-bus#hostjson-settings)ä¸€ä¸ªå®ä¾‹å¹¶å‘å¤„ç† 32 æ¡æ¶ˆæ¯ã€‚è¿™æ„å‘³ç€å®ƒå¯èƒ½ä¼šåŒæ—¶å¤„ç†ä¸€ä¸ªæ‚£è€…çš„æ‰€æœ‰ 4 æ¡æ¶ˆæ¯ï¼Œå¹¶ä¸”å®ƒä»¬çš„å®Œæˆé¡ºåºä¸å‘é€é¡ºåºä¸åŒã€‚è¿™ä¼¼ä¹å¾ˆå®¹æ˜“è§£å†³ï¼Œè®©æˆ‘ä»¬å°†å¹¶å‘é™åˆ¶ä¸º 1ã€‚

## åæ¨¡å¼:é™åˆ¶å‘å¤–æ‰©å±•å’Œå¹¶å‘

è¿™å¯èƒ½æ˜¯æˆ‘çœ‹åˆ°çš„è§£å†³ä¸Šè¿°é—®é¢˜çš„æœ€å¸¸è§çš„æ–¹æ³•ã€‚è®©æˆ‘ä»¬å°†å¹¶å‘é™åˆ¶ä¸ºä¸€æ¬¡åªå¤„ç† 1 æ¡æ¶ˆæ¯ï¼Œè€Œä¸æ˜¯ 32 æ¡ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä¿®æ”¹äº†æˆ‘çš„`host.json`æ–‡ä»¶å¹¶å°†`maxConcurrentCalls`è®¾ç½®ä¸º 1ã€‚ç°åœ¨ï¼Œæ¯ä¸ªå®ä¾‹ä¸€æ¬¡åªèƒ½å¤„ç†ä¸€æ¡æ¶ˆæ¯ã€‚æˆ‘åˆåšäº†åŒæ ·çš„æµ‹è¯•ã€‚

é¦–å…ˆï¼Œå®ƒæ˜¯è¶…çº§æ…¢çš„ã€‚æˆ‘èŠ±äº†å¾ˆé•¿æ—¶é—´æ¥ç ”ç©¶è¿™ 4000 æ¡é˜Ÿåˆ—æ¶ˆæ¯ï¼Œå› ä¸ºæ¯ä¸ªå®ä¾‹ä¸€æ¬¡åªå¤„ç† 1 æ¡ã€‚æ›´ç³Ÿçš„æ˜¯ã€‚äº‹åæˆ‘æŸ¥ç»“æœçš„æ—¶å€™ï¼Œæœ‰çš„ç—…äººè¿˜æ˜¯ä¹±å¥—äº†ï¼è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿå³ä½¿æˆ‘å°†**å®ä¾‹**å¹¶å‘é™åˆ¶ä¸º 1ï¼ŒAzure Functions è¿˜æ˜¯å°†æˆ‘æ‰©å±•åˆ°äº†å¤šä¸ªå®ä¾‹ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘æœ‰ 20 ä¸ªå·²æ‰©å±•çš„å‡½æ•°åº”ç”¨ç¨‹åºå®ä¾‹ï¼Œæˆ‘å°±æœ‰ 20 æ¡æ¶ˆæ¯è¢«å¹¶å‘å¤„ç†(æ¯ä¸ªå®ä¾‹ä¸€æ¡)ã€‚è¿™æ„å‘³ç€æˆ‘ä»ç„¶ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œæ¥è‡ªåŒä¸€ä¸ªç—…äººçš„æ¶ˆæ¯å¯ä»¥åœ¨åŒä¸€æ—¶é—´è¢«å¤„ç†â€”â€”åªæ˜¯åœ¨ä¸åŒçš„å®ä¾‹ä¸Šã€‚æˆ‘ä»ç„¶ä¸èƒ½ä¿è¯æœ‰åºå¤„ç†ã€‚

è¿™é‡Œçš„ä¿®å¤ï¼Ÿè®¸å¤šäººå¸Œæœ›é™åˆ¶ Azure åŠŸèƒ½çš„è§„æ¨¡ã€‚è™½ç„¶ä»æŠ€æœ¯ä¸Šæ¥è¯´æ˜¯å¯èƒ½çš„ï¼Œä½†è¿™ä¼šå¯¹æˆ‘çš„ååé‡é€ æˆæ›´å¤§çš„ä¼¤å®³ã€‚ç°åœ¨ï¼Œä¸€æ¬¡åªèƒ½å¤„ç†å…¨å±€çš„ä¸€æ¡æ¶ˆæ¯ï¼Œè¿™æ„å‘³ç€åœ¨é«˜æµé‡æœŸé—´ï¼Œæˆ‘å°†æœ‰å¤§é‡ç§¯å‹çš„æ‚£è€…äº‹ä»¶ï¼Œæˆ‘çš„åŠŸèƒ½å¯èƒ½æ— æ³•è·Ÿä¸Šã€‚

## åˆ˜å®‡å‡ºæ‰‹ç›¸æ•‘

å¦‚æœæˆ‘åœ¨è¿™é‡Œç»“æŸè¿™ç¯‡åšæ–‡ï¼Œå²‚ä¸æ˜¯å¾ˆæ‚²ä¼¤ï¼Ÿæœ‰æ›´å¥½çš„åŠæ³•ï¼ä»¥å‰æˆ‘è¯´è¿‡ï¼Œè¿™é‡Œä½ æœ€å¥½çš„é€‰æ‹©å¯èƒ½æ˜¯ä½¿ç”¨äº‹ä»¶ä¸­å¿ƒï¼Œå› ä¸ºåˆ†åŒºå’Œæ‰¹å¤„ç†ï¼Œ[ä½ å¯ä»¥ä¿è¯æ’åº](https://medium.com/@jeffhollan/in-order-event-processing-with-azure-functions-bb661eb55428)ã€‚ä½†æ˜¯è¿™é‡Œçš„æŒ‘æˆ˜æ˜¯ï¼Œè€ƒè™‘åˆ°é˜Ÿåˆ—çš„äº‹åŠ¡æ€§ï¼Œå¦‚é‡è¯•å’Œæ­»ä¿¡ï¼Œæœ‰æ—¶é˜Ÿåˆ—æ˜¯ä½œä¸šçš„æ­£ç¡®æ¶ˆæ¯ä»£ç†ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨é˜Ÿåˆ—*å’Œ*é€šè¿‡æœåŠ¡æ€»çº¿ä¼šè¯è¿›è¡Œæ’åºğŸ‰ã€‚

é‚£ä¹ˆä»€ä¹ˆæ˜¯ä¼šè¯å‘¢ï¼Ÿä¼šè¯ä½¿æ‚¨èƒ½å¤Ÿä¸ºä¸€ç»„æ¶ˆæ¯è®¾ç½®æ ‡è¯†ç¬¦ã€‚ä¸ºäº†å¤„ç†æ¥è‡ªä¼šè¯çš„æ¶ˆæ¯ï¼Œæ‚¨é¦–å…ˆå¿…é¡»â€œé”å®šâ€ä¼šè¯ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥å¼€å§‹å•ç‹¬å¤„ç†æ¥è‡ªä¼šè¯çš„æ¯æ¡æ¶ˆæ¯(ä½¿ç”¨ä¸å¸¸è§„é˜Ÿåˆ—ç›¸åŒçš„ lock / complete è¯­ä¹‰)ã€‚ä¼šè¯çš„å¥½å¤„æ˜¯**å³ä½¿åœ¨å¤šä¸ªå®ä¾‹ä¹‹é—´è¿›è¡Œå¤§è§„æ¨¡å¤„ç†æ—¶ï¼Œå®ƒä¹Ÿèƒ½è®©æ‚¨ä¿æŒæœ‰åºã€‚**æƒ³æƒ³ä»¥å‰ï¼Œæˆ‘ä»¬æœ‰å¤§çº¦ 20 ä¸ª Azure Function åº”ç”¨ç¨‹åºå®ä¾‹éƒ½åœ¨ç«äº‰åŒä¸€ä¸ªé˜Ÿåˆ—ã€‚ç°åœ¨ï¼Œæ‰€æœ‰ 20 ä¸ªå®ä¾‹éƒ½å°†â€œé”å®šâ€è‡ªå·±çš„å¯ç”¨ä¼šè¯ï¼Œå¹¶ä¸”åªå¤„ç†æ¥è‡ªè¯¥ä¼šè¯çš„äº‹ä»¶ï¼Œè€Œä¸æ˜¯ä¸æ‰©å±•åˆ° 20 ä¸ªã€‚ä¼šè¯è¿˜ç¡®ä¿æ¥è‡ªä¼šè¯çš„æ¶ˆæ¯æŒ‰é¡ºåºå¤„ç†ã€‚

å¯ä»¥éšæ—¶åŠ¨æ€åˆ›å»ºä¼šè¯ã€‚Azure Functions çš„ä¸€ä¸ªå®ä¾‹æ—‹è½¬èµ·æ¥ï¼Œé¦–å…ˆè¯¢é—®â€œæœ‰æ²¡æœ‰ä¼šè¯ ID æ²¡æœ‰è¢«é”å®šçš„æ¶ˆæ¯ï¼Ÿâ€å¦‚æœæ˜¯ï¼Œå®ƒé”å®šä¼šè¯å¹¶å¼€å§‹æŒ‰é¡ºåºå¤„ç†ã€‚å½“ä¸€ä¸ªä¼šè¯ä¸å†æœ‰ä»»ä½•å¯ç”¨çš„æ¶ˆæ¯æ—¶ï¼ŒAzure å‡½æ•°å°†é‡Šæ”¾é”ï¼Œå¹¶è½¬ç§»åˆ°ä¸‹ä¸€ä¸ªå¯ç”¨çš„ä¼šè¯ã€‚é™¤éé¦–å…ˆé”å®šæ¶ˆæ¯æ‰€å±çš„ä¼šè¯ï¼Œå¦åˆ™ä¸ä¼šå¤„ç†ä»»ä½•æ¶ˆæ¯ã€‚

å¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘å°†å‘é€åŒæ ·çš„ 4000 æ¡æ¶ˆæ¯(1000 åæ‚£è€…çš„ 4 ä¸ªæ‚£è€…äº‹ä»¶)ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘å°†æŠŠæ‚£è€… ID è®¾ç½®ä¸ºä¼šè¯ IDã€‚æ¯ä¸ª Azure Functions å®ä¾‹å°†è·å–ä¸€ä¸ªä¼šè¯(ç—…äºº)çš„é”ï¼Œå¤„ç†ä»»ä½•å¯ç”¨çš„æ¶ˆæ¯ï¼Œç„¶åè½¬ç§»åˆ°å¦ä¸€ä¸ªæœ‰å¯ç”¨æ¶ˆæ¯çš„ç—…äººã€‚

## åœ¨ Azure å‡½æ•°ä¸­ä½¿ç”¨ä¼šè¯

ä¼šè¯ç›®å‰åœ¨ä½¿ç”¨ç‰ˆæœ¬> = 3.1.0 çš„`Microsoft.Azure.WebJobs.Extensions.ServiceBus`æ‰©å±•ä¸­å¯ç”¨ï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œè¿™æ˜¯åœ¨é¢„è§ˆä¸­ã€‚æ‰€ä»¥é¦–å…ˆæˆ‘ä¼šæŠŠåˆ†æœºæ‹‰è¿›æ¥ã€‚

```
Install-Package  Microsoft.Azure.WebJobs.Extensions.ServiceBus  -Pre 
```

Enter fullscreen mode Exit fullscreen mode

ç„¶åå¯¹æˆ‘çš„å‡½æ•°ä»£ç åšæœ€å¾®å°çš„ä¿®æ”¹æ¥å¯ç”¨ä¼šè¯(`isSessionsEnabled = true` ):

```
public async Task Run(
    [ServiceBusTrigger("queue", Connection = "ServiceBusConnectionString", IsSessionsEnabled = true)]Message message, 
    ILogger log)
{
    log.LogInformation($"C# ServiceBus queue trigger function processed message: {Encoding.UTF8.GetString(message.Body)}");
    await _client.PushData(message.SessionId, Encoding.UTF8.GetString(message.Body));
} 
```

Enter fullscreen mode Exit fullscreen mode

æˆ‘è¿˜éœ€è¦ç¡®ä¿æˆ‘ä½¿ç”¨çš„æ˜¯æ”¯æŒä¼šè¯çš„é˜Ÿåˆ—æˆ–ä¸»é¢˜ã€‚

[![session enabled queue](img/05933ba0132c2de6becc30ccf01b6da0.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--jNJu6QPv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/jc4osnmq7q20obk8d5ir.png)

å½“æˆ‘å°†æ¶ˆæ¯æ¨å…¥é˜Ÿåˆ—æ—¶ï¼Œæˆ‘å°†ä¸ºæˆ‘å‘é€çš„æ¯æ¡æ‚£è€…æ¶ˆæ¯è®¾ç½®æ­£ç¡®çš„`sessionId`ã€‚

å‘å¸ƒåŠŸèƒ½åæˆ‘æ¨é€äº† 4000 æ¡æ¶ˆæ¯ã€‚é˜Ÿåˆ—å¾ˆå¿«å°±è¢«æ¸…ç©ºäº†ï¼Œå› ä¸ºæˆ‘èƒ½å¤Ÿè·¨æ‰©å±•å®ä¾‹åŒæ—¶å¤„ç†å¤šä¸ªä¼šè¯ã€‚è¿è¡Œæµ‹è¯•åï¼Œæˆ‘æ£€æŸ¥ Redis ç¼“å­˜ã€‚ä¸å‡ºæ‰€æ–™ï¼Œæˆ‘çœ‹åˆ°æ‰€æœ‰çš„æ¶ˆæ¯éƒ½å¾—åˆ°äº†å¤„ç†ï¼Œå¯¹äºæˆ‘çœ‹åˆ°çš„æ¯ä¸€ä¸ªç—…äººï¼Œå®ƒä»¬éƒ½æ˜¯æŒ‰é¡ºåºå¤„ç†çš„:

```
>lrange Patient-$10 0 -1
1) "Message-0"
2) "Message-1"
3) "Message-2"
4) "Message-3"

>lrange Patient-$872 0 -1
1) "Message-0"
2) "Message-1"
3) "Message-2"
4) "Message-3" 
```

Enter fullscreen mode Exit fullscreen mode

å› æ­¤ï¼Œæœ‰äº†æ–°çš„ Azure å‡½æ•°å¯¹ä¼šè¯çš„æ”¯æŒï¼Œæˆ‘å¯ä»¥æŒ‰é¡ºåºå¤„ç†æ¥è‡ªæœåŠ¡æ€»çº¿é˜Ÿåˆ—æˆ–ä¸»é¢˜çš„æ¶ˆæ¯ï¼Œè€Œä¸å¿…ç‰ºç‰²æ•´ä½“ååé‡ã€‚æˆ‘å¯ä»¥åŠ¨æ€åœ°å°†æ¶ˆæ¯æ·»åŠ åˆ°æ–°çš„æˆ–ç°æœ‰çš„ä¼šè¯ä¸­ï¼Œå¹¶ä¸”ç¡®ä¿¡ä¼šè¯ä¸­çš„æ¶ˆæ¯å°†æŒ‰ç…§æœåŠ¡æ€»çº¿æ¥æ”¶å®ƒä»¬çš„é¡ºåºè¿›è¡Œå¤„ç†ã€‚

ä½ å¯ä»¥åœ¨[æˆ‘çš„ GitHub repo](https://github.com/jeffhollan/functions-csharp-servicebus-sessions) ä¸­çœ‹åˆ°æˆ‘ç”¨äºæµ‹è¯•å’ŒåŠ è½½æ¶ˆæ¯çš„å®Œæ•´æ ·æœ¬ã€‚`master`åˆ†æ”¯å°†å…¨éƒ¨æœ‰åºï¼Œè€Œ`out-of-order`åˆ†æ”¯æ˜¯é»˜è®¤çš„æ— åºå®éªŒã€‚