# jQuery Ready çš„æ™®é€š JS ç­‰ä»·ç‰©

> åŸæ–‡:[https://dev . to/param Harrison/vanilla-js-equivalent-for-jquery-ready-1ia 8](https://dev.to/paramharrison/vanilla-js-equivalent-for-jquery-ready-1ia8)

> è¿‘åå¹´æ¥ï¼ŒjQuery å·²ç»è§£å†³äº†åœ¨ä¸åŒæµè§ˆå™¨ä¸Š JS æ¸²æŸ“çš„å‰¯ä½œç”¨é—®é¢˜ã€‚ç°åœ¨ç½‘ç»œæµè§ˆå™¨å’Œæ¸²æŸ“å¼•æ“æ›´åŠ æ™ºèƒ½ï¼Œè¶Šæ¥è¶Šæ”¯æŒæ ‡å‡†çš„ javascript APIã€‚

æ–‡æ¡£å°±ç»ªåŠŸèƒ½æ˜¯ jQuery ä¸­å¹¿æ³›ä½¿ç”¨çš„åŠŸèƒ½ã€‚éšç€ç°ä»£ web å¼€å‘çš„å‘å±•è¶‹åŠ¿å’Œæµè§ˆå™¨å¯¹æ™®é€š JS API çš„æ›´å¥½æ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°æ›¿æ¢æˆ–å‡å°‘ jQuery ä¾èµ–æ€§ã€‚

```
// Longer version in jQuery
$(document).ready(function() {
  // DOM events and DOM manipulations
});

// Shorter version in jQuery
$(function() {
  // DOM events and DOM manipulations
}); 
```

è®©æˆ‘ä»¬çœ‹çœ‹æ™®é€š JS ä¸­å°±ç»ªå‡½æ•°çš„ä¾‹å­

```
function ready(callbackFunc) {
  if (document.readyState !== 'loading') {
    // Document is already ready, call the callback directly
    callbackFunc();
  } else if (document.addEventListener) {
    // All modern browsers to register DOMContentLoaded
    document.addEventListener('DOMContentLoaded', callbackFunc);
  } else {
    // Old IE browsers
    document.attachEvent('onreadystatechange', function() {
      if (document.readyState === 'complete') {
        callbackFunc();
      }
    });
  }
}

ready(function() {
  // your code here
}); 
```

è¿™ä¸ªç‰‡æ®µåœ¨ç°ä»£æµè§ˆå™¨å’Œæ—§çš„ IE æµè§ˆå™¨ä¸Šéƒ½å—æ”¯æŒã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€æ±‚é™åˆ¶æ”¯æŒã€‚

ä»…ç­‰å¾… DOM å…ƒç´ åŠ è½½ï¼Œä¸ç­‰å¾…æ ·å¼è¡¨ã€å›¾åƒå’Œå…¶ä»–ç½‘ç»œè°ƒç”¨ã€‚ä¸‹ä¸€æ¬¡ï¼Œå¦‚æœæ‚¨åœ¨ç«™ç‚¹ä¸Šä½¿ç”¨ jqueryï¼Œè¯·ç¡®ä¿è¯„ä¼°æ‚¨æ˜¯å¦ä»…ä»…ä¸ºäº†åŸºæœ¬çš„ JS æ“ä½œå°±éœ€è¦é¢å¤–çš„ 30+ kb é¡µé¢è´Ÿè½½ğŸ˜

### [](#stay-in-touch)ä¿æŒè”ç³»ï¼

å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œä½ å¯ä»¥åœ¨ [Twitter](https://twitter.com/learnwithparam) ä¸Šæ‰¾åˆ°æˆ‘ï¼Œäº†è§£æ›´æ–°ã€å…¬å‘Šå’Œæ–°é—»ã€‚ğŸ¤