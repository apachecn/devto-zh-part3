# ç¬¬ 7 å¤©:ä¸ºè®¨åŒäº‘çš„äººåˆ¶ä½œä¸€ä¸ª swift macOS å¯†ç ç®¡ç†å™¨

> åŸæ–‡:[https://dev . to/swlkr/day-7-making-a-swift-MAC OS-password-manager-for-people-hate-the-cloud-32bn](https://dev.to/swlkr/day-7-making-a-swift-macos-password-manager-for-people-who-hate-the-cloud-32bn)

[< -ç¬¬ 6 å¤©ï¼Œè¯·ç‚¹å‡»æ­¤å¤„](https://dev.to/swlkr/day-6-making-a-swift-macos-password-manager-for-people-who-hate-the-cloud-1361)

è¿™æ ‡å¿—ç€æˆ‘åœ¨è¿™ä¸ªé¡¹ç›®ä¸Šå·¥ä½œçš„ç¬¬ä¸€å‘¨ğŸ‰å¦‚æœä½ åˆšåˆšæ”¶å¬ï¼Œæˆ‘æƒ³å‘Šè¯‰ä½ ä¸€äº›æˆ‘å¸Œæœ›åœ¨ 3 å‘¨å†…å®Œæˆçš„äº‹æƒ…:

*   æ”¶è´¹ 29 ç¾å…ƒ/ç»ˆèº«
*   æŠŠè¿™ä¸ªä¸œè¥¿æ”¾åˆ° macOS åº”ç”¨å•†åº—
*   å¼€æºä»£ç (ä½†å°è¯•å°†äººä»¬æ¨å‘ä»˜è´¹ç‰ˆæœ¬)
*   ç®—å‡ºæˆ‘å®é™…å·¥ä½œäº†å¤šå°‘å°æ—¶ï¼Œç„¶åç»™å‡ºä¸€ä¸ªå…³äºæ•´ä¸ªæœˆçš„å†·é™çš„æ€»ç»“

è¯´åˆ°åˆ å¸–ï¼Œæˆ‘åªæƒ³èŠ±ç‚¹æ—¶é—´å›æƒ³ä¸€ä¸‹è¿‡å»çš„ 6 å¤©ï¼Œå†™ä¸‹è¿™ä¸ªåº”ç”¨ç¨‹åºä»å“ªé‡Œæ¥(ä»€ä¹ˆéƒ½æ²¡æœ‰)ä»¥åŠç°åœ¨åœ¨å“ªé‡Œ(ä»€ä¹ˆéƒ½æ²¡æœ‰):

ç¬¬ä¸€å¤©:åšäº†ä¸€ä¸ªæ–°çš„ xcode é¡¹ç›®ï¼Œåœ¨é‡Œé¢æ”¾äº†ä¸€ä¸ªæœ‰ç‚¹å¤§çš„å±å¹•`NSSecureTextField`(1 å°æ—¶)
ç¬¬äºŒå¤©:å°è¯•ä½¿ç”¨ CoreData æ¥å­˜å‚¨æ‰€æœ‰å†…å®¹ï¼Œæ²¡æœ‰æˆåŠŸï¼Œå¼•å…¥ SQLite.swift å’Œ KeychainSwift æ¥å¤„ç†ç¹é‡çš„å·¥ä½œï¼Œè¿˜æ ¹æ®ä¸»å¯†ç è®¾ç½®ä¸å¦æ¥åˆ‡æ¢åˆå§‹è§†å›¾æ§åˆ¶å™¨ï¼Œ å°†è®¾ç½®çš„ä¸»å¯†ç ä¿å­˜åˆ°é’¥åŒ™ä¸²(2 å°æ—¶)
ç¬¬ä¸‰å¤©:è®©ä¸»å¯†ç è§£é”å±å¹•å·¥ä½œ(0.5 å°æ—¶)
ç¬¬å››å¤©:åœ¨å¯†ç è¡¨æ—è¾¹çš„å®¹å™¨è§†å›¾ä¸­æ˜¾ç¤ºæ–°å¯†ç å±å¹•è§†å›¾(1 å°æ—¶)
ç¬¬äº”å¤©:å»æ»‘é›ªï¼Œæ•´å¤©å’Œæœ‹å‹ä¸€èµ·ç©ã€‚ åœ¨æ–°å¯†ç å±å¹•ä¸­æ‹æ‰“æ ‡ç­¾å’Œæ–‡æœ¬å­—æ®µ(0.25 å°æ—¶)
ç¬¬å…­å¤©:å®é™…å°†æ–°ç™»å½•æ’å…¥ sqliteï¼Œå°†æ–°å¯†ç æ’å…¥ keychain (0.67 å°æ—¶)
ç¬¬ä¸ƒå¤©:è¿™ç¯‡å¸–å­ï¼

è¿„ä»Šæ€»æ—¶é—´:4.75 å°æ—¶

### [](#820-pm-mountain-time)å±±åœ°æ—¶é—´æ™šä¸Š 8 ç‚¹ 20 åˆ†

é™¤äº†è®¾è®¡å¸®åŠ©ï¼Œè¿™ä¸ªä¸œè¥¿è¿˜éœ€è¦ä»€ä¹ˆï¼Ÿå®ƒéœ€è¦åˆ—å‡ºå¯†ç ï¼Œè¿™å°±æ˜¯æˆ‘ä»Šæ™šè¦åšçš„ã€‚æˆ‘ä»¬å¼€å§‹å·¥ä½œå§ã€‚

### [](#830-pm-mountain-time)å±±åœ°æ—¶é—´æ™šä¸Š 8:30

çœ‹ä¸€ä¼š pewdiepie

### [](#834-pm-mountain-time)å±±åœ°æ—¶é—´æ™šä¸Š 8 ç‚¹ 34 åˆ†

çœŸæ­£å¼€å§‹å·¥ä½œã€‚

### [](#947-pm-mountain-time)å±±åœ°æ—¶é—´æ™šä¸Š 9 ç‚¹ 47 åˆ†

ç½‘é£çœ‹ç€çœ‹ç€ï¼Œç»ˆäºæƒ³é€šäº†ä¸€äº›ã€‚å¯†ç æ˜¾ç¤ºåœ¨åˆ—è¡¨è§†å›¾ä¸­ã€‚å®ƒå·¥ä½œçš„æ—¶å€™æˆ‘å‡ ä¹ä¸æ•¢ç›¸ä¿¡ï¼Œä¸å¾—ä¸æˆªå›¾

### [](#948-pm-mountain-time)å±±åœ°æ—¶é—´æ™šä¸Š 9 ç‚¹ 48 åˆ†

æˆªå›¾
[![](../Images/47a0a8714a7038eef8bbc568c9b58f8c.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--ehDdFm9G--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/3dx17xltzel0e8zvh3p5.png)

ä¸‹é¢æ˜¯ç›¸å…³ä»£ç 

```
class PasswordListViewController: NSViewController {
    @IBOutlet weak var containerView: NSView!
    @IBOutlet weak var tableView: NSTableView!
    var logins : [Row]?
    let login = Login()

    override func viewDidLoad() {
        super.viewDidLoad()

        tableView.delegate = self
        tableView.dataSource = self

        let db = Database.open()

        logins = Array(try! db.prepare(login.table))

        tableView.reloadData()
    }
} 
```

è¿™å°±æ˜¯ç”¨ swift åœ¨ macos ä¸­å¡«å…… tableview çš„å…¨éƒ¨å†…å®¹

```
extension PasswordListViewController: NSTableViewDataSource {
    func numberOfRows(in tableView: NSTableView) -> Int {
        return logins?.count ?? 0
    }
}

extension NSUserInterfaceItemIdentifier {
    static let NameCell = NSUserInterfaceItemIdentifier("NameCellID")
}

extension PasswordListViewController: NSTableViewDelegate {

    fileprivate enum CellIdentifiers {
        static let NameCell = "NameCellID"
    }

    func tableView(_ tableView: NSTableView, viewFor tableColumn: NSTableColumn?, row: Int) -> NSView? {
        var text: String = ""

        guard let item = logins?[row] else {
            return nil
        }

        text = item[login.email]!

        if let cell = tableView.makeView(withIdentifier: NSUserInterfaceItemIdentifier.NameCell, owner: self) as? NSTableCellView {
            cell.textField?.stringValue = text
            return cell
        }
        return nil
    }

} 
```

å“¦ï¼Œæˆ‘é—æ¼çš„äº‹æƒ…æ˜¯ï¼Œå½“æˆ‘çœŸæ­£éœ€è¦åœ¨ TableViewColumn ä¸­å¡«å……æ ‡è¯†ç¬¦æ—¶ï¼Œæˆ‘æ­£åœ¨å°† storyboard ä¸­çš„æ ‡è¯†ç¬¦æ·»åŠ åˆ° TableViewCell ä¸­ã€‚æˆ‘çœŸå‚»ã€‚

âŒšï¸6.25 å°æ—¶(æˆ‘ä¼šæŠŠçš®è’‚çš®å’Œç½‘é£ä¹Ÿæ”¾è¿›å»ï¼Œåªæ˜¯ä¸ºäº†å¥½ç©)ğŸ’°$0

ğŸ”¥æ˜å¤©ç¬¬å…«å¤©