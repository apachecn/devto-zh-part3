# ç­‰ç¦»å­ä½“ç”Ÿé”ˆ:å¦ä¸€ä¸ªç½‘ç»œç»„è£…å®éªŒ

> åŸæ–‡:[https://dev . to/jeremylikness/plasma-gets-rust-y-another-web assembly-experiment-10d 2](https://dev.to/jeremylikness/plasma-gets-rust-y-another-webassembly-experiment-10d2)

#### [](#building-a-plasma-canvas-effect-using-wasm-compiled-from-rust)ä½¿ç”¨ Rust ç¼–è¯‘çš„ Wasm æ„å»ºç­‰ç¦»å­ç”»å¸ƒæ•ˆæœã€‚

æˆ‘ä¸€ç›´åœ¨åšé¡¹ç›®ï¼Œä»¥ä¾¿æ›´å¥½åœ°å­¦ä¹ å’Œç†è§£ [WebAssembly](https://webassembly.org/) (ç®€ç§° Wasm)ã€‚ä½¿ç”¨ç­‰ç¦»å­æ•ˆæœçš„ [JavaScript å®ç°](https://jsfiddle.net/jeremylikness/1xfh3c25/)ä½œä¸ºâ€œé»„é‡‘æ ‡å‡†â€,æˆ‘å¼€å§‹åœ¨ Wasm ä¸­å¤åˆ¶è¿™ä¸ªæ•ˆæœã€‚æˆ‘ç¬¬ä¸€æ¬¡å°è¯•ç”¨çš„æ˜¯å›´æ£‹ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»ã€ŠT4ã€‹ã€‚åœ¨æˆ‘çš„ç ”ç©¶ä¸­ï¼Œæˆ‘å‘ç° [Rust](https://www.rust-lang.org/) æ˜¯ç†æƒ³çš„æµ‹è¯•è¯­è¨€ï¼Œå› ä¸ºå®ƒå·²ç»è¢«[ä¸“é—¨ä¼˜åŒ–](https://opensource.com/article/19/2/why-use-rust-webassembly)æ¥æ„å»º Wasm æ¨¡å—ã€‚

ğŸ‘€è§‚çœ‹ç°åœºæ¼”ç¤º[è¿™é‡Œ](https://blazorhealthapp.z5.web.core.windows.net/plasma-rust.html)T2ã€‘ğŸ”—çœ‹å®Œæ•´çš„æºä»£ç [è¿™é‡Œ](https://github.com/JeremyLikness/PlasmaWasmRust)

> å£°æ˜:æˆ‘ä¸æ˜¯ä¸€ä¸ªèµ„æ·±çš„ Rust ç¨‹åºå‘˜ï¼Œæ‰€ä»¥éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘å¯èƒ½ä¼šå‘ç°ä»£ç å¯ä»¥ä»¥æ›´å¥½çš„æ–¹å¼ç¼–å†™/é‡æ„ã€‚å¦‚æœæˆ‘é‡åˆ°è¿™ç§æƒ…å†µï¼Œæˆ‘ä¼šå‘å¸ƒæˆ‘çš„è°ƒæŸ¥ç»“æœçš„åç»­ã€‚å¦‚æœä½ æœ‰ç”Ÿé”ˆçš„ç»éªŒï¼Œæˆ‘æ¬¢è¿ä½ çš„åé¦ˆã€‚

å¸¦ç€æˆ‘å¯¹ C å’Œ C++çš„é¢„çŸ¥ï¼Œæˆ‘å¼€å§‹å­¦ä¹ è¿™é—¨è¯­è¨€ï¼Œå¹¶æŒæ¡äº†å¦ä¸€ä¸ªå®éªŒã€‚

<figure>[![Snippet of Rust source code](../Images/79784aaf01e04a92f8b9167e6eed1fc6.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--6h_xaqAG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/938/1%2AX4i538SaodsQx6XHlOhp5w.png) 

<figcaption>é”ˆç‰‡</figcaption>

</figure>

### [](#set-up-the-environment)è®¾ç½®ç¯å¢ƒ

æœ‰å‡ ä¸ªæ­¥éª¤æ¥è®¾ç½®æ‚¨çš„ç¯å¢ƒï¼Œä»¥æ„å»º Rust åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸“é—¨é’ˆå¯¹ WebAssemblyã€‚ä¸ºäº†å­¦ä¹ å¦‚ä½•åšï¼Œæˆ‘éµå¾ªäº†ä¼˜ç§€çš„åœ¨çº¿ä¹¦ç±/æ•™ç¨‹:

ğŸ”—[Rust å’Œ WebAssembly ç®€ä»‹](https://rustwasm.github.io/book/introduction.html#rust--and-webassembly-)

æˆ‘å»ºè®®æ‚¨ä»è¿™é‡Œå¼€å§‹ï¼Œè¿™æ ·ä¼šæ›´å®¹æ˜“ç†è§£æˆ‘çš„è§£å†³æ–¹æ¡ˆä¸­çš„æ´»åŠ¨éƒ¨åˆ†:

## ![GitHub logo](../Images/a73f630113876d78cff79f59c2125b24.png) [è€¶è·¯æ’’å†·](https://github.com/JeremyLikness) / [ç­‰ç¦»å­é£æš´](https://github.com/JeremyLikness/PlasmaWasmRust)

### ç”¨ Rust ç¼–è¯‘çš„ WebAssembly å®ç°ç­‰ç¦»å­ä½“æ•ˆæœã€‚

<article class="markdown-body entry-content container-lg" itemprop="text">

# ç­‰ç¦»å­ WASM é”ˆ

[![Build Status](../Images/b695ac2c65e5499be723dece2826ffc4.png)T2ã€‘](https://jeremylikness.visualstudio.com/PlasmaWasmRust/_build/latest?definitionId=12&branchName=master)

[![Deployment Status](../Images/0f0dad99b88b312015b25cc29e94ccbb.png)T2ã€‘](https://camo.githubusercontent.com/ca361489b3717096d563c3df0ece762d6685e900/68747470733a2f2f6a6572656d796c696b6e6573732e7673726d2e76697375616c73747564696f2e636f6d2f5f617069732f7075626c69632f52656c656173652f62616467652f30373631643665652d616332322d343862322d386138352d6433353762363266346133392f312f31)

è¿™æ˜¯æˆ‘çš„`Go`å®ç°çš„ä¸€ä¸ªç«¯å£ç­‰ç¦»å­é”ˆã€‚å®ƒç”¨çš„æ˜¯`wasm-pack-template`ã€‚æ£€æŸ¥ Azure ç®¡é“å®šä¹‰ä»¥äº†è§£æ„å»ºç»†èŠ‚ã€‚

<g-emoji class="g-emoji" alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png">ğŸ‘€</g-emoji> [ç°åœºè¯•ç©](https://jlikme.z13.web.core.windows.net/wasm/PlasmaWasmRust)

å¯¹äºå®Œæ•´çš„æ¼”ç»ƒï¼Œè¯·é˜…è¯»:[ç­‰ç¦»å­ä½“ç”Ÿé”ˆ:å¦ä¸€ä¸ª WebAssembly å®éªŒ](https://blog.jeremylikness.com/plasma-gets-rust-y-another-webassembly-experiment-bde6abf3061c)ã€‚

> è¿™ä¸ªåº“æ˜¯ä½¿ç”¨å…è´¹çš„ Azure ç®¡é“ä¸æ–­æ„å»ºå’Œéƒ¨ç½²çš„ã€‚å¦‚æœä½ å¯¹å®ƒæ˜¯å¦‚ä½•è®¾ç½®å’Œé…ç½®ä¸ºè‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²åˆ°ä½æˆæœ¬ Azure å­˜å‚¨é™æ€ç½‘ç«™æ„Ÿå…´è¶£ï¼Œè¯·é˜…è¯»[ä½¿ç”¨ Azure ç®¡é“ä» GitHub éƒ¨ç½² WebAssembly åˆ° Azure å­˜å‚¨é™æ€ç½‘ç«™](https://jlik.me/fzk)ã€‚

</article>

[View on GitHub](https://github.com/JeremyLikness/PlasmaWasmRust)

### [](#implement-the-rust-code)å®ç°é˜²é”ˆä»£ç 

åŸºäºæ—©æœŸçš„å®éªŒï¼Œæˆ‘é€‰æ‹©åœ¨ Rust ä¸­æ„å»ºç­‰ç¦»å­ä½“æ•ˆæœçš„æ•°æ®ï¼Œä½†åœ¨ JavaScript ä¸­è¿›è¡Œæ¸²æŸ“ã€‚å¹¸è¿çš„æ˜¯ï¼ŒRust æœ‰ä¸€ä¸ªéå¸¸æˆç†Ÿçš„ WebAssembly ç¯å¢ƒï¼Œå¯¹ä¸¤è€…ä¹‹é—´çš„äº’æ“ä½œæä¾›äº†å¤§é‡æ”¯æŒã€‚åœ¨è¿™é‡Œï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªç»“æ„æ¥ä¿å­˜é¢œè‰²ä¿¡æ¯å’Œç­‰ç¦»å­ä½“æ•ˆæœæ‰€éœ€çš„æ•°æ®ã€‚`#[wasm\_bindgen]`æ ‡ç­¾è‡ªåŠ¨åˆ›å»ºä» JavaScript è®¿é—®ç»“æ„æ‰€å¿…éœ€çš„èƒ¶æ°´ã€‚