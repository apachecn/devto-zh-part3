# ä½¿ç”¨ Bash è„šæœ¬è‡ªåŠ¨åˆ›å»ºæŒ‡å®šåç§°çš„æ–‡ä»¶å¤¹

> åŸæ–‡:[https://dev . to/ann Lin/automate-folder-creation-with-specified-name-using-bash-script-144 a](https://dev.to/annlin/automate-folder-creation-with-specified-name-using-bash-script-144a)

æˆ‘å·²ç»åœ¨ç»ˆç«¯ä¸­åˆ›å»ºäº†ä¸€ä¸ªå…·æœ‰ç‰¹å®šå‘½åæ¨¡å¼çš„æ–°æ–‡ä»¶å¤¹ã€‚
ä¸€ä¸ªåä¸º`/dayX-title`çš„æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª`README.md`æ–‡ä»¶ã€‚

ä¾‹å¦‚:`/codingclub/challenge/dayX-title/README.md`

```
linxea at tmo in ~/codingclub/challenge
$ ls day0-the-beginning-of-the-coding-club
day1-may-the-odds-be-in-your-favour
day2-so-far-so-good
day3-oh-man 
```

è¿™å°±æ˜¯æˆ‘å¦‚ä½•åœ¨ä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ã€‚æˆ‘æ‰‹åŠ¨æµè§ˆæ–‡ä»¶å¤¹åˆ—è¡¨ä»¥è·å¾—ä¸‹ä¸€ä¸ªè®¡æ•°ã€‚ç„¶åé”®å…¥å¸¦ç ´æŠ˜å·å’Œç ´æŠ˜å·çš„æ ‡é¢˜ã€‚

```
$ touch day4-time-to-automate/README.md 
```

æˆ‘è¶Šæ¥è¶Šæ‡’äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ª bash è„šæœ¬æ¥åšè¿™ä»¶äº‹ã€‚

æˆ‘æƒ³å†™ä¸€ä¸ªå‘½ä»¤`./new time to automate`æ¥åˆ›å»ºå¸¦æœ‰ README.md çš„`/day4-time-to-automate`ã€‚

### [](#steps)æ­¥éª¤:

1.  éå†æ‰€æœ‰æ–‡ä»¶å¤¹
2.  æ‰¾å‡ºæœ€å¤§çš„å¤©æ•°
3.  ç”¨ç»™å®šçš„è¾“å…¥æ–‡ä»¶ååˆ›å»ºä¸€ä¸ªåŒ…å« README.md æ–‡ä»¶çš„æ–°æ–‡ä»¶å¤¹

```
#!/bin/bash

# Take in all arguments in one variable
input="$*"
folderTitle=$input

# Check if there is input, otherwise exit script
if [[ -z "${folderTitle// }" ]]; then
  echo "Where is your awesome title yo?"
  exit 1
fi

# Replace space to -
folderTitle=${folderTitle// /-}

# Loop through the list of directories and find the biggest number
biggestNumber=-1
for dir in $(ls)
do
  number=`sed 's/[^0-9]//g' <<< $dir`
  if (( number > biggestNumber )); then
    biggestNumber=$number
  fi
done

# Increment the biggest number by 1
((biggestNumber=biggestNumber+1))

# Create a new folder and README.md file
newName=day$biggestNumber-$folderTitle
mkdir -p $newName
echo -e "TITLE: Day $biggestNumber $input\n" > $newName/README.md

# Print success message to make me feel good
echo Created $newName yo ğŸ¦„ 
```

Tadaï¼Œç°åœ¨ä½ åªéœ€è¦é€šè¿‡è¿è¡Œ`chmod -x`ä½¿è„šæœ¬å¯æ‰§è¡Œï¼Œç„¶åè¿è¡Œå¸¦æœ‰ title çš„å‘½ä»¤`./new.sh`ã€‚

```
$ chmod -x new.sh # make the script executable
$ ./new.sh as usual this task takes longer than i expected 
```

ä¸Šä¼ æˆ‘çš„è„šæœ¬åˆ° Repl.itï¼Œåœ¨[https://repl.it/@linxea/Create-New-Folder-and-File](https://repl.it/@linxea/Create-New-Folder-and-File)æŸ¥çœ‹ã€‚æ‚¨å¯èƒ½éœ€è¦ç™»å½•æ‰èƒ½ä½¿ç”¨å®ƒã€‚

### å€¼å¾—èŠ±æ—¶é—´æ‹¿èµ· BASH æ¥è‡ªåŠ¨åŒ–è¿™æ ·ä¸€ä»¶å°äº‹å—ï¼Ÿ

ä¸€ä¸ªå¾®å°çš„è‚¯å®šã€‚

### [](#another-problem-another-day-to-solve)å¦ä¸€ä¸ªé—®é¢˜æ”¹å¤©å†è§£å†³ï¼Œ

æˆ‘æƒ³ç”¨`sed`æå–å‡º`day123-title-that-may-contain-123`ä¹‹é—´çš„æ•°å­—`123`ï¼Œä½†æ˜¯ regex æ‰°ä¹±äº†æˆ‘çš„æ€ç»´ã€‚ğŸ¤¯æˆ‘è¯¥æ€ä¹ˆåšï¼Ÿå¦‚ä½•ç¼–å†™ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œåªè¿”å›åœ¨`day`å’Œ`-everything-else-after-dash`ä¹‹é—´çš„æ•°å­—ï¼Ÿè¯·åƒè§£é‡Šæˆ‘ 5 å²ä¸€æ ·è§£é‡Šæ­£åˆ™è¡¨è¾¾å¼ã€‚

### [](#end)ç»“æŸ