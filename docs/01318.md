# å¼•å¯¼ä¸€ä¸ª Elm é¡¹ç›®

> åŸæ–‡:[https://dev.to/kevgathuku/bootstrapping-an-elm-project-3b84](https://dev.to/kevgathuku/bootstrapping-an-elm-project-3b84)

Elm æ˜¯æ„å»ºå¯é çš„ web åº”ç”¨ç¨‹åºçš„ä»¤äººæ„‰å¿«çš„è¯­è¨€ã€‚å®ƒæ˜¯ä¸€ç§ç¼–è¯‘æˆ JavaScript çš„è¯­è¨€ï¼Œå› æ­¤è¢«ç”¨æ¥æ„å»ºåœ¨ web æµè§ˆå™¨ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢å¯åŠ¨ä¸€ä¸ª Elm é¡¹ç›®çš„ä¸åŒæ–¹æ³•ï¼Œä»æœ€ç®€å•çš„å¼€å§‹ï¼Œåˆ°å…·æœ‰æ›´é«˜çº§ç‰¹æ€§çš„è®¾ç½®ï¼Œæ¯”å¦‚å¼€å‘ä¸­çš„çƒ­é‡è½½ã€‚

æˆ‘ä»¬å¼€å§‹å§ï¼

### [](#prerequisites)å…ˆå†³æ¡ä»¶

åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿[å®‰è£… Elm](https://guide.elm-lang.org/install.html)

è¦ç¡®è®¤æ‚¨æ˜¯å¦å®‰è£…äº† Elmï¼Œæ‚¨å¯ä»¥å°è¯•ä½¿ç”¨`elm repl`å‘½ä»¤è¿è¡Œäº¤äº’å¼`repl`ã€‚å¦‚æœæ‚¨å¾—åˆ°å¦‚å›¾æ‰€ç¤ºçš„æç¤ºï¼Œå°±å¯ä»¥å¼€å§‹äº†ğŸ‘

[![Elm repl](../Images/109c7ec625debec09dc00391cfbdedbe.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--NvpoHLD3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kevgathuku.files.wordpress.com/2019/05/screen-shot-2019-05-29-at-10.15.12.png%3Fw%3D1024)

### [](#elm-cli)æ¦†æ ‘ CLI

è¿™æ˜¯å®˜æ–¹æ”¯æŒçš„åˆ›å»ºæ–° Elm é¡¹ç›®çš„æ–¹å¼ã€‚

1.  åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼Œæ‚¨çš„é¡¹ç›®å°†å­˜æ”¾åœ¨å…¶ä¸­

    `mkdir my-awesome-elm-project`

2.  å¯¼èˆªåˆ°æ–°åˆ›å»ºçš„ç›®å½•

    `cd my-awesome-elm-project`

3.  åœ¨è¿™ä¸ªç›®å½•ä¸­è¿è¡Œ`elm init`,æ‚¨åº”è¯¥ä¼šå¾—åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„æç¤º:

[![Elm init prompt](../Images/0efffb62175fecd9cb6a6af5ab6b443f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--8PFxjdMo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kevgathuku.files.wordpress.com/2019/05/screen-shot-2019-05-29-at-10.29.05.png)

1.  æŒ‰ä¸‹`Enter`é”®ï¼Œåº”è¯¥ä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª`elm.json`æ–‡ä»¶ã€‚è¿˜å°†åˆ›å»ºä¸€ä¸ª`src`ç›®å½•ã€‚

*é€šè¯»[é“¾æ¥èµ„æº](https://elm-lang.org/0.19.0/init)æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œå®ƒæ›´å¤šåœ°è®¨è®ºäº†å¦‚ä½•å¼€å§‹æ–°çš„æ¦†æ ‘é¡¹ç›®*

1.  è®©æˆ‘ä»¬ä»åœ¨`src`ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„`Main.elm`æ–‡ä»¶å¼€å§‹ã€‚ä¸€æ—¦æˆ‘ä»¬åˆ›å»ºäº†æ–‡ä»¶ï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€äº› Elm ä»£ç ï¼Œå‘æˆ‘ä»¬æ˜¾ç¤ºç»å…¸çš„â€œHello Worldï¼â€æ¶ˆæ¯ä¸€æ—¦æˆ‘ä»¬è¿è¡Œå®ƒã€‚

```
module Main exposing (main)

import Browser
import Html exposing (h1, text)

main =
  h1 [] [ text "Hello World!" ] 
```

1.  è¦è¿è¡Œä»£ç ï¼Œè®©æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„ç›®å½•ä¸­è¿è¡Œ`elm reactor`ï¼Œå®ƒåº”è¯¥åœ¨`http://localhost:8000`å¯åŠ¨ä¸€ä¸ªæ–°çš„æœ¬åœ°æœåŠ¡å™¨ã€‚`elm reactor`æ˜¯å¼€å§‹è¿è¡Œ Elm ä»£ç çš„æœ€ç®€å•çš„æ–¹æ³•ã€‚

2.  ä¸€æ—¦å¯¼èˆªåˆ°`http://localhost:8000`ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°å¦‚ä¸‹ç•Œé¢ã€‚

[![Elm Reactor](../Images/f7046e887b08765036d351cb8f118925.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--RK7r7R3R--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kevgathuku.files.wordpress.com/2019/05/screen-shot-2019-05-29-at-10.48.52.png)

ç‚¹å‡»`src`é“¾æ¥ï¼Œç„¶åç‚¹å‡»`Main.elm`ï¼Œä½ ä¼šçœ‹åˆ°æˆ‘ä»¬çš„â€œHello Worldï¼â€æ¶ˆæ¯ã€‚

å°±æ˜¯è¿™æ ·ï¼æˆ‘ä»¬å·²ç»æˆåŠŸåœ°ç”¨`elm init`å‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ªé¡¹ç›®ï¼Œå¹¶ä½¿ç”¨`elm reactor`è¿è¡Œå®ƒã€‚

#### [](#pros)ä¼˜ç‚¹:

*   æ˜“äºä¸Šæ‰‹
*   é™¤äº†`elm`æœ¬èº«æ²¡æœ‰å¤–éƒ¨ä¾èµ–

#### [](#cons)ç¼ºç‚¹:

*   ä¸€æ—¦æˆ‘ä»¬åšå‡ºæ›´æ”¹ï¼Œè¯·æ‰‹åŠ¨é‡æ–°åŠ è½½

### [](#elm-make)æ¦†æ ‘ä½¿

è¿™æ˜¯å¯¹`elm reactor`çš„æ‰©å±•ï¼ŒåŒ…æ‹¬å°†æˆ‘ä»¬çš„ Elm ä»£ç ç¼–è¯‘æˆé™æ€ HTML çš„èƒ½åŠ›ã€‚

ä½¿ç”¨ä¸Šä¸€èŠ‚ä¸­çš„åŒä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘è¯¥é¡¹ç›®:

`elm make src/Main.elm`

ä¸€æ—¦æˆ‘ä»¬è¿è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œå°±ä¼šåœ¨å½“å‰å·¥ä½œç›®å½•ä¸­ç”Ÿæˆä¸€ä¸ª`index.html`æ–‡ä»¶ï¼Œå¦‚æœæ‚¨åœ¨ web æµè§ˆå™¨ä¸­æ‰“å¼€å®ƒï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°åŒæ ·çš„â€œHello Worldâ€æ¶ˆæ¯ã€‚

æˆ‘æ²¡æœ‰å¤ªå¤šå…³äº`elm make`çš„ç»éªŒï¼Œæ‰€ä»¥æˆ‘å°±è¯´åˆ°è¿™é‡Œã€‚

### [](#parcel)åŒ…è£¹

[package](https://parceljs.org/)æ˜¯ä¸€ä¸ªâ€œè¶…å¿«çš„é›¶é…ç½® web åº”ç”¨æ†ç»‘å™¨â€,ä¹Ÿæ˜¯æˆ‘ä¸ªäººæœ€å–œæ¬¢çš„å¿«é€Ÿä¸Šæ‰‹ Elm åº”ç”¨çš„å·¥å…·ã€‚å®ƒå¤„ç†å°† Elm ä»£ç ç¼–è¯‘æˆ JavaScriptï¼Œå¹¶ä¸”éå¸¸å®¹æ˜“ä¸Šæ‰‹ã€‚

æ‚¨å¯ä»¥é€šè¿‡å‡ ä¸ªç®€å•çš„æ­¥éª¤åˆ›å»ºç”± Parcel ç¼–è¯‘çš„ Elm åº”ç”¨ç¨‹åº:

1.  å®‰è£…åŒ…è£¹

    `yarn global add parcel-bundler`æˆ–`npm install -g parcel-bundler`

2.  éµå¾ªåŒ…è£¹ç½‘ç«™ [Elm éƒ¨åˆ†](https://parceljs.org/elm.html)ä¸­çš„è¯´æ˜ï¼Œå…¶ä¸­åŒ…æ‹¬:

    *   åˆ›å»ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„`index.html`æ–‡ä»¶:

```
 <html>
  <body>
    <main></main>
    <script src="./index.js"></script>
  </body>
</html> 
```

*   åˆ›å»ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„`index.js`æ–‡ä»¶:

```
import { Elm } from './Main.elm'

Elm.Main.init({
  node: document.querySelector('main')
}) 
```

*   åˆ›å»ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„`Main.elm`æ–‡ä»¶:

```
module Main exposing (main)

import Browser
import Html exposing (h1, text)

main =
  h1 [] [ text "Hello, from Parcel!" ] 
```

1.  è¦è¿è¡Œåº”ç”¨ç¨‹åºï¼Œè¯·è¿è¡Œå‘½ä»¤:`parcel index.html`

æˆ‘éå¸¸å–œæ¬¢è¿™ä¸ªè®¾ç½®ï¼Œä»¥è‡³äºæˆ‘åˆ›å»ºäº†è‡ªå·±çš„åŸºäº Parcel çš„ starter é¡¹ç›®ã€‚è¯·åœ¨ [GitHub](https://github.com/kevgathuku/parcel-elm/) ä¸Šéšæ„æŸ¥çœ‹

#### [](#pros)ä¼˜ç‚¹:

*   æ˜“äºä¸Šæ‰‹
*   ä¸éœ€è¦æ‰‹åŠ¨é…ç½®ğŸ’ª
*   å¼€ç®±å³ç”¨çš„çƒ­é‡è£…
*   è½»æ¾å…¥é—¨ [JavaScript äº’æ“ä½œ](https://guide.elm-lang.org/interop/)

#### [](#cons)ç¼ºç‚¹:

ğŸ¤·â€â™€ï¸

### [](#notable-mentions)å€¼å¾—æ³¨æ„çš„æåŠ:

*   [create-elm-app](https://github.com/halfzebra/create-elm-app) -åŸºäº [create-react-app](https://github.com/facebook/create-react-app) ï¼ŒåŸºäº Webpack åˆ›å»ºé›¶é…ç½®åº”ç”¨
*   elm-live -ä¸€ä¸ªçµæ´»çš„ elm å¼€å‘æœåŠ¡å™¨ã€‚åŒ…æ‹¬å®æ—¶é‡æ–°åŠ è½½ã€‚

è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå…¨é¢çš„åˆ—è¡¨ï¼Œæ¬¢è¿åœ¨ä¸‹é¢çš„è¯„è®ºåŒºæå‡ºä»»ä½•å»ºè®®/è¡¥å……ã€‚

æˆ‘å¸Œæœ›è¿™äº›é€‰é¡¹åœ¨æ‚¨å¼€å§‹ä¸‹ä¸€ä¸ª Elm é¡¹ç›®æ—¶å¯¹æ‚¨æœ‰ç”¨ğŸš€