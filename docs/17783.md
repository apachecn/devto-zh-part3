# JavaScript æ•°ç»„ Map()æ–¹æ³•

> åŸæ–‡:[https://dev . to/èæ‹‰ _ é©¬é©°/the-JavaScript-array-map-method-44 m0](https://dev.to/sarah_chima/the-javascript-array-map-method-44m0)

æƒ³çŸ¥é“ JavaScript æ•°ç»„æ˜ å°„æ–¹æ³•æ˜¯ä»€ä¹ˆå—ï¼Ÿå®ƒèƒ½åšä»€ä¹ˆï¼Ÿæˆ–è€…åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Ÿè¿™ç¯‡æ–‡ç« æ˜¯ç»™ä½ çš„ã€‚åœ¨æˆ‘ä»¬è¿›ä¸€æ­¥è®¨è®ºä¹‹å‰ï¼Œè®©æˆ‘ä»¬å¾—åˆ° map æ–¹æ³•çš„æ­£å¼å®šä¹‰ã€‚

## ç¬¦åˆæ–¹æ³•

æ ¹æ® MDN æ–‡æ¡£:

> map()æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯å¯¹è°ƒç”¨æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€ä¸ªæä¾›çš„å‡½æ•°ã€‚

è®©æˆ‘ä»¬ç®€åŒ–ä¸€ä¸‹ã€‚

JavaScript map æ–¹æ³•è·å–ä¸€ä¸ªæ•°ç»„(æ•°ç»„ 1)ï¼Œå¹¶é€šè¿‡å¯¹ç»™å®šæ•°ç»„(æ•°ç»„ 1)ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„(æ•°ç»„ 2)ã€‚ä¸ºäº†è¿›ä¸€æ­¥è§£é‡Šè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªä¾‹å­æ¥çœ‹çœ‹ map æ–¹æ³•å®ç°äº†ä»€ä¹ˆã€‚

è®©æˆ‘ä»¬ç”¨å¸¸è§„çš„ for å¾ªç¯æ¥è¯´æ˜ map å‡½æ•°ç¡®å®å¦‚æ­¤ã€‚ä¸€ä¸ªç»å…¸çš„ä¾‹å­æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä¸€ä¸ªç»™å®šæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„å¹³æ–¹çš„æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ for å¾ªç¯æ¥å®ç°ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤º:

```
 const array = [2, 5, 9];
    let squares = [];

    for (let i = 0; i < array.length; i++) {
        squares.push(array[i] * array[i]));
    }

    console.log(squares); // [4, 25, 81]
    console.log(array); // [2, 5, 9] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä»¥ä¸Šå®ç°äº†ä»€ä¹ˆï¼Ÿå®ƒéå†ä¸€ä¸ªæ•°ç»„ï¼Œæ‰¾åˆ°æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¹³æ–¹ï¼Œå¹¶å°†å…¶æ¨é€åˆ°ä¹‹å‰å®šä¹‰çš„ squares æ•°ç»„ä¸­ã€‚

è¿™ç±»ä¼¼äº map å‡½æ•°æ‰€å®ç°çš„ï¼Œåªæ˜¯æ‚¨ä¸éœ€è¦å®šä¹‰å¦ä¸€ä¸ªç»“æœè¢«æ¨é€åˆ°çš„æ•°ç»„ã€‚åœ°å›¾åŠŸèƒ½ä¼šè‡ªåŠ¨å®Œæˆè¿™é¡¹å·¥ä½œã€‚æ‰€ä»¥è®©æˆ‘ä»¬ä½¿ç”¨ map å‡½æ•°æ¥å®Œæˆä¸Šé¢çš„å·¥ä½œã€‚

é¡µï¼ˆpage çš„ç¼©å†™ï¼‰s:ç¤ºä¾‹ä¸­ä½¿ç”¨äº†ç®­å¤´å‡½æ•°ã€‚å¦‚æœä½ ä¸å®Œå…¨ç†è§£å®ƒçš„è¯­æ³•ï¼Œè¯·å‚è€ƒ[è¿™ç¯‡æ–‡ç« ](https://dev.to/sarah_chima/arrow-functions-in-es6-24)ä¸Šçš„å†…å®¹ã€‚

```
 const array = [2, 5, 9];
    let squares = array.map((num) => num * num);

    console.log(squares); // [4, 25, 81]
    console.log(array); // [2, 5, 9] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¯·æ³¨æ„ï¼Œä½¿ç”¨ map æ–¹æ³•å¹¶å®ŒæˆåŒæ ·çš„äº‹æƒ…è¦å®¹æ˜“å¾—å¤šã€‚å¦å¤–ï¼Œæ³¨æ„åˆå§‹æ•°ç»„ä¿æŒä¸å˜ï¼Œè¿™åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚ç°åœ¨è®©æˆ‘ä»¬æ›´æ·±å…¥åœ°ç ”ç©¶ä¸€ä¸‹ map æ–¹æ³•ã€‚

## æ˜ å°„æ–¹æ³•åŠå…¶è¯­æ³•

map å‡½æ•°çš„è¯­æ³•å¦‚ä¸‹:

```
 let newArray = array.map((currentValue, index, array) => {
        // return element to new Array
    }); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

*   newArray -è¿”å›çš„æ•°ç»„
*   array -åœ¨å…¶ä¸Šè°ƒç”¨ map æ–¹æ³•çš„æ•°ç»„
*   currentValue -æ­£åœ¨å¤„ç†çš„å€¼
*   index -æ­£åœ¨å¤„ç†çš„å½“å‰å€¼çš„ç´¢å¼•

##### **ä¸‹é¢æ˜¯ä¸€äº›å…³äº map æ–¹æ³•çš„æ³¨æ„äº‹é¡¹:**

1.  å®ƒè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚
2.  å®ƒä¸ä¼šæ”¹å˜è°ƒç”¨å®ƒçš„åŸå§‹æ•°ç»„ï¼Œå³åŸå§‹æ•°ç»„ä¿æŒä¸å˜ã€‚
3.  map å‡½æ•°å¤„ç†çš„å…ƒç´ èŒƒå›´åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨ä¹‹å‰è®¾ç½®ã€‚å¦‚æœå…ƒç´ æ˜¯åœ¨æ˜ å°„å¼€å§‹åæ·»åŠ åˆ°æ•°ç»„ä¸­çš„ï¼Œå›è°ƒå°†ä¸ä¼šå¤„ç†å®ƒã€‚

## ä½•æ—¶ä½¿ç”¨åœ°å›¾æ–¹æ³•

å‡è®¾è¿˜æœ‰å…¶ä»–ç±»ä¼¼çš„æ•°ç»„æ–¹æ³•ï¼Œå¦‚ ForEach æ–¹æ³•ï¼Œæ‚¨å¯èƒ½ä¼šæƒ³ï¼Œâ€œæˆ‘åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨(æˆ–ä¸ä½¿ç”¨)map æ–¹æ³•ï¼Ÿâ€è¿™é‡Œæœ‰ä¸€äº›é—®é¢˜å¯ä»¥å¸®åŠ©ä½ åšå‡ºå†³å®š:

1.  æˆ‘éœ€è¦ä»æ–¹æ³•ä¸­è¿”å›ä¸€ä¸ªæ•°ç»„å—ï¼Ÿè¿”å›çš„æ•°ç»„ä¼šè¢«ä½¿ç”¨å—ï¼Ÿ
2.  æˆ‘æ˜¯ä»å›è°ƒå‡½æ•°ä¸­è¿”å›å€¼å—ï¼Ÿ

å¦‚æœä½ å¯¹è¿™äº›é—®é¢˜çš„ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œä½ åº”è¯¥ä½¿ç”¨åœ°å›¾åŠŸèƒ½ã€‚å¦‚æœä¸¤ç§æƒ…å†µä¸‹ä½ çš„ç­”æ¡ˆéƒ½æ˜¯å¦å®šçš„ï¼Œä½ åº”è¯¥ç”¨`forEach`æˆ–è€…`for..of`æ¥ä»£æ›¿ã€‚

## æ˜ å°„æ–¹æ³•çš„ç¤ºä¾‹

é™¤äº†å‰é¢ä½¿ç”¨çš„ä¾‹å­ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„ä¾‹å­ï¼Œä½ å¯ä»¥ç”¨ map æ–¹æ³•åšä¸€äº›äº‹æƒ…ã€‚

##### ç¤ºä¾‹ 1:ä»å¯¹è±¡æ•°ç»„ä¸­æå–å€¼

æˆ‘ä»¬å¸Œæœ›ä»ä¸€ç»„å¯¹è±¡ä¸­æå–æŸäº›å€¼ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªå¥³å­©æ•°ç»„ä¸­ï¼Œæˆ‘ä»¬æƒ³å¾—åˆ°å¥³å­©çš„å¹´é¾„ã€‚

```
 const girls = [
       {name: 'Sarah', age: 19},
       {name: 'Laura', age: 10},
       {name: 'Jessy', age: 29},
       {name: 'Amy', age: 23}];

    let girlsAges = girls.map((girl) => girl.age);

    console.log(girlsAges);  //[19, 10, 29, 23] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

##### ç¤ºä¾‹ 2:ä»…åœ¨æŸäº›å…ƒç´ ä¸Šåº”ç”¨å›è°ƒ

å¦‚æœæˆ‘ä»¬å¸Œæœ›å›è°ƒåªåº”ç”¨äºæ•°ç»„ä¸­çš„æŸäº›å…ƒç´ ï¼Œæ¯”å¦‚å¥‡æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ If è¯­å¥æ¥å®ç°ã€‚

```
 const numbers = [4, 9, 36, 49];

    let oddSquareRoots = numbers.map((num) => {
       if(num % 2 != 0) {
           return Math.sqrt(num)     
       }
       return num;
    })

    console.log(oddSquareRoots); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ–è€…ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦

```
 const numbers = [4, 9, 36, 49];

    let oddSquareRoots = numbers.map((num) => {
       return num % 2 !== 0 ? Math.sqrt(num) : num 
    })

    console.log(oddSquareRoots); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶è€Œï¼Œæ›´æœ‰æ•ˆçš„æ–¹æ³•æ˜¯ä½¿ç”¨ JavaScript æ•°ç»„è¿‡æ»¤æ–¹æ³•ã€‚è¿™å°†åœ¨æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è®¨è®ºã€‚

### ç»“è®º

å¦‚æœä½¿ç”¨æ­£ç¡®ï¼ŒJavaScript æ•°ç»„æ˜ å°„æ–¹æ³•æ˜¯ä¸€ç§å¯ä»¥ç”¨æ¥ç®€åŒ–ä»£ç çš„æ–¹æ³•ã€‚å¦‚æœä½ æœ‰å…¶ä»–çš„ä¾‹å­æ¥å±•ç¤ºä½ å¦‚ä½•ä½¿ç”¨ map æ–¹æ³•ï¼Œè¯·åœ¨è¯„è®ºåŒºåˆ†äº«ã€‚

æœ‰ä»€ä¹ˆé—®é¢˜æˆ–è¡¥å……å—ï¼Ÿè¯·ç•™è¨€è¯„è®ºã€‚

æ„Ÿè°¢æ‚¨çš„é˜…è¯»:)

#### æ— è€»çš„æ’å¤´ğŸ™ˆ

å¦‚æœä½ æƒ³äº†è§£æˆ‘æ›´å¤šï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªé“¾æ¥åˆ°æˆ‘çš„ç½‘ç«™ã€‚