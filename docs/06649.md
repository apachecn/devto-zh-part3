# å‡¤å‡°ä¼åº”ç”¨ç¨‹åºä¸­çš„è·¯ç”±

> åŸæ–‡ï¼š<https://dev.to/appsignal/routing-in-phoenix-umbrella-apps-3g0j>

ä¼çŠ¶åº”ç”¨ç¨‹åºæ˜¯æ„å»ºçµä¸¹å¦™è¯é¡¹ç›®çš„ç»ä½³æ–¹å¼ã€‚

åœ¨çª—å¸˜åé¢ï¼Œå®ƒä»¬æ˜¯ä¸€ä¸ªéå¸¸è–„çš„å±‚ï¼Œåªæ˜¯å°†æ‰€æœ‰ä¸œè¥¿ç¼–è¯‘æˆä¸€ä¸ªåŒ…ã€‚ä½ å¯ä»¥ç”¨å¤šä¸ªç‹¬ç«‹çš„ä¸Šä¸‹æ–‡æ¥æ„å»ºä½ çš„ä»£ç ï¼Œè€Œä¸æ˜¯æ„å»ºä¸€ä¸ªå•ä¸€çš„æ•´ä½“ã€‚å®ƒä»¬éƒ½åœ¨åŒä¸€ä¸ª BEAM å®ä¾‹ä¸‹ç¼–è¯‘å’Œè¿è¡Œï¼Œå› æ­¤å®ƒä»¬ä»ç„¶å¯ä»¥ç›¸äº’è®¿é—®ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ¦‚å¿µä¸Šçš„åˆ†ç¦»ç¡®ä¿äº†ä½ ä¸ºä½ çš„æ¯ä¸€ä¸ªä¿æŠ¤ä¼ä¸‹çš„å­©å­æ‹¥æœ‰ç‹¬ç«‹çš„ OTP åº”ç”¨ã€‚å®ƒå…è®¸ä½ åœ¨ä¸€å®šç¨‹åº¦çš„éš”ç¦»ä¸‹å¤„ç†æ¯ä¸€ä¸ªé—®é¢˜ã€‚

æŠŠè¿™ä¸ªå½“åšç©·äººçš„å¾®æœåŠ¡è§£å†³æ–¹æ¡ˆã€‚æ‚¨ä¸éœ€è¦åœ¨æ¯ä¸ªæœåŠ¡ä¹‹é—´æ·»åŠ æ¶ˆæ¯é˜Ÿåˆ—æˆ–å‘é€ HTTP è¯·æ±‚ï¼Œå› ä¸ºå®ƒä»¬å®é™…ä¸Šéƒ½è¿è¡Œåœ¨ç›¸åŒçš„è¿›ç¨‹ä¸‹ï¼Œä½†æ˜¯æ‚¨ä»ç„¶å¯ä»¥è·å¾—ä¸€äº›å¥½å¤„ã€‚

å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºä¼å¼åº”ç”¨çš„ä¿¡æ¯ï¼Œæˆ‘å»ºè®®ä»å®˜æ–¹æŒ‡å—å¼€å§‹ï¼Œå› ä¸ºå®ƒæ¸…æ¥šåœ°æ¦‚è¿°äº†ä¼å¼åº”ç”¨çš„ä¼˜ç‚¹å’Œæ³¨æ„äº‹é¡¹ã€‚

ç°åœ¨è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼Œæˆ‘å·²ç»å®ç°äº†ä¸€ä¸ªé›¨ä¼åº”ç”¨ç¨‹åºã€‚

## çœŸå®çš„ä¾‹å­

å‡è®¾æˆ‘æ­£åœ¨ä¸º[é­”æ³•:èšä¼š(MTG)](https://en.wikipedia.org/wiki/Magic:_The_Gathering) å¡ç‰‡å»ºç«‹ä¸€ä¸ªç½‘ç«™ã€‚å“ªä¸ªâ€¦â€¦å—¯ï¼Œ[æˆ‘æ˜¯](https://github.com/naps62/mse)ã€‚è¿™ä¸ªæƒ³æ³•æ˜¯åˆ›å»ºä¸€ä¸ªç”¨æˆ·å¯ä»¥æµè§ˆå’Œæœç´¢å¡ç‰‡æ•°æ®åº“çš„ç•Œé¢ã€‚è¿˜æœ‰ä¸€ä¸ªç®¡ç†é¢æ¿ï¼Œåœ¨é‚£é‡Œå¯ä»¥æ‰§è¡Œä¸€äº›ç®¡ç†ä»»åŠ¡ã€‚

æ˜¾ç„¶ï¼Œæ¯ä¸ªå‰ç«¯æ¥å£éƒ½æœ‰ä¸åŒçš„è¦æ±‚:

1.  ä¸»å‰ç«¯æ˜¯å…¬å…±çš„ï¼Œè€Œç®¡ç†æ–¹é¢åªæœ‰ç§äººè®¿é—®ã€‚
2.  ç®¡ç†é¢æ¿ç”šè‡³å¯èƒ½æœ‰è‡ªå·±çš„ç”¨æˆ·ç•Œé¢éœ€æ±‚ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä½¿ç”¨ [ex_admin](https://github.com/smpallen99/ex_admin) ã€‚è¿™æ„å‘³ç€ï¼Œç”šè‡³ UI èµ„äº§ä¹Ÿä¸å…±äº«ã€‚
3.  å®ƒä»¬å¤§å¤šä¹Ÿæœ‰å®Œå…¨ä¸åŒçš„åç«¯é€»è¾‘ã€‚ä¸¤è€…ä¹‹é—´åªèƒ½å…±äº«ä¸€å°éƒ¨åˆ†æŸ¥è¯¢å’Œæ“ä½œã€‚
4.  æˆ‘å¯èƒ½è¿˜æƒ³é€šè¿‡ä¸åŒçš„ç½‘å€è®¿é—®å®ƒä»¬(ä¾‹å¦‚ï¼Œä½¿ç”¨ä¸€ä¸ª`admin`å­åŸŸçš„ç®¡ç†å‰ç«¯)ã€‚

ä¸¤è€…ä¹‹é—´çš„è¯¸å¤šå·®å¼‚æ¸…æ¥šåœ°è¡¨æ˜ï¼Œè¿™ä¸¤ä¸ªåº”ç”¨ç¨‹åºæœ€å¥½æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ phoenix åº”ç”¨ç¨‹åºï¼Œæ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„è®¾ç½®ã€‚

å¤§æ¦‚æ˜¯è¿™æ ·:

```
apps/
  client/
  admin/
  shared/ 
```

## çœ‹èµ·æ¥å¾ˆå®¹æ˜“ã€‚æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ

å½“æ‚¨è¯•å›¾å¼„æ¸…æ¥šå¦‚ä½•å®é™…å®ç°è¿™ä¸€ç‚¹æ—¶ï¼Œé—®é¢˜å°±æ¥äº†ã€‚å¦‚ä½•å°†æ¥è‡ª`admin`å­åŸŸçš„è¯·æ±‚è·¯ç”±åˆ°å¦ä¸€ä¸ª Phoenix åº”ç”¨ç¨‹åºï¼ŒåŒæ—¶å°†å…¶ä»–è¯·æ±‚è·¯ç”±åˆ°ä¸» Phoenix åº”ç”¨ç¨‹åºï¼Ÿ

ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ä¸åŒçš„ç«¯å£ä¸Šè¿è¡Œè¿™äº›åº”ç”¨ç¨‹åºã€‚ä½†æ˜¯ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæ‚¨è¦ä¹ˆåªèƒ½è®¿é—®`admin.mydomain.com:4001`ï¼Œè¦ä¹ˆéœ€è¦å…¶ä»–ä¸­é—´å±‚ä»æµè§ˆå™¨ä¸­æŠ½è±¡å‡ºç«¯å£åŒºåˆ«ã€‚è™½ç„¶è¿™å¯¹äºåªæœ‰æ‚¨å¯ä»¥è®¿é—®çš„ç®¡ç†é¡µé¢æ¥è¯´å¯èƒ½æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¯¹äºä¸€èˆ¬çš„è§£å†³æ–¹æ¡ˆæ¥è¯´å°±ä¸å¤ªå¥½äº†ã€‚

ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´æ”¾ç½®ä¸€ä¸ªåå‘ä»£ç†ã€‚nginx å¾ˆå¥½åœ°å®Œæˆäº†è¿™é¡¹å·¥ä½œã€‚ä½†åœ¨ç°å®ä¸­ï¼Œä½ çŸ¥é“æ‰€æœ‰è¿™ä¸€åˆ‡éƒ½æ˜¯ä¸€ä¸ªå•ä¸€çš„è¯å‰‚åº”ç”¨ã€‚éœ€è¦ä¸€ä¸ªç¬¬ä¸‰æ–¹æœåŠ¡å™¨æ¥å°†è¯·æ±‚è·¯ç”±åˆ° It çš„ä¸åŒéƒ¨åˆ†ä¼¼ä¹å¾ˆå¥‡æ€ªã€‚

å®ƒä¹Ÿæ²¡æœ‰è§£å†³æœ¬åœ°å¼€å‘çš„é—®é¢˜ï¼Œé™¤éæ‚¨ä¹Ÿæƒ³åœ¨æœ¬åœ°è¿è¡Œ nginxï¼Œè¿™ä¸å¤ªç†æƒ³ã€‚

æ¯•ç«Ÿæˆ‘ä»¬æ˜¯é•¿ç”Ÿä¸è€è¯çš„å¼€å‘è€…ï¼Œè€Œä¸”æˆ‘ä»¬ç›¸å½“èªæ˜ã€‚æ‰€ä»¥è®©æˆ‘ä»¬ç”¨é•¿ç”Ÿä¸è€è¯çš„æ–¹å¼æ¥åš:

## ä»‹ç»ä»£ç† App

æˆ‘æƒ³åˆ°çš„è§£å†³æ–¹æ¡ˆ(ä¾‹å¦‚ï¼Œä»ç±»ä¼¼çš„å †æ ˆæº¢å‡ºç”¨ä¾‹ä¸­è¯»å–å»ºè®®)æ˜¯åˆ›å»ºä¸€ä¸ªé¢å¤–çš„ä¼å­ï¼Œè¿™å°†æ˜¯ä¸å¤–ç•Œçš„ä¸»è¦è”ç³»ç‚¹ã€‚

è¿™ä¸ªæˆ‘ä»¬ç§°ä¹‹ä¸º`proxy`çš„åº”ç”¨ç¨‹åºå°†æ¥æ”¶æ‰€æœ‰ä¼ å…¥çš„ HTTP è¯·æ±‚ï¼Œå¹¶æ ¹æ®ä¸€äº›ç®€å•çš„è§„åˆ™å°†å®ƒä»¬è½¬å‘ç»™é€‚å½“çš„ Phoenix åº”ç”¨ç¨‹åºã€‚åœ¨æˆ‘ä»¬çš„ç®€å•ç”¨ä¾‹ä¸­ï¼Œå¯¹`admin.mydomain.com`çš„è¯·æ±‚å°†è¢«è½¬å‘åˆ°`admin`åº”ç”¨ï¼Œæ‰€æœ‰å…¶ä»–è¯·æ±‚å°†è¢«è½¬å‘åˆ°`client`åº”ç”¨ã€‚

è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ phoenix åº”ç”¨ç¨‹åºï¼Œä½ å¯ä»¥åƒå…¶ä»–ç¨‹åºä¸€æ ·ç”¨`mix phx.new`æ¥ç”Ÿæˆå®ƒã€‚åœ¨è¿™é‡Œï¼Œä¾èµ–æ€§å°†ä¿æŒåœ¨æœ€ä½é™åº¦ã€‚æˆ‘ä»¬åªæœ‰å‡¤å‡°&ç‰›ä»”ä½œä¸ºå¤–éƒ¨ä¾èµ–(è®¾ç½®æˆ‘ä»¬çš„ web æœåŠ¡å™¨)ï¼Œä»¥åŠå®¢æˆ·ç«¯å’Œç®¡ç†åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å°†è½¬å‘è¯·æ±‚:

```
def deps do
  [
    {:client, in_umbrella: true},
    {:admin, in_umbrella: true},
    {:phoenix, "~> 1.3.2"},
    {:cowboy, "~> 1.0"}
  ]
end 
```

ç”±äºè¿™ä¸ªåº”ç”¨ç¨‹åºå°†æ˜¯å®é™…çš„ web æœåŠ¡å™¨ï¼Œæˆ‘ä»¬åº”è¯¥ç¦ç”¨å…¶ä»–ä¸¤ä¸ªä¸­çš„æœåŠ¡å™¨è®¾ç½®:

```
# apps/client/config/config.exs
config :client, Client.Web.Endpoint, server: false

# apps/admin/config/config.exs
config :admin, Admin.Web.Endpoint, server: false

# apps/proxy/config/config.exs
config :proxy, Proxy.Endpoint, server: true 
```

è¿™ç¡®ä¿äº†åªæœ‰ä»£ç†åº”ç”¨ç¨‹åºä¼šç›‘å¬ç«¯å£ã€‚è¿™ä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œä½†æ˜¯å®ƒä¸ºæ‚¨çœå»ä¸ºæ¯ä¸ªç«¯å£å®šä¹‰ä¸åŒç«¯å£çš„éº»çƒ¦(è®°ä½:æ¯ä¸ªç«¯å£åªå…è®¸ä¸€ä¸ªç›‘å¬å™¨),å¹¶ç¡®ä¿æ‰€æœ‰è¯·æ±‚å®é™…ä¸Šéƒ½é€šè¿‡ä»£ç†åº”ç”¨ç¨‹åºâ€”â€”è¿™ç¡®å®æ˜¯é¢„æœŸçš„è¡Œä¸ºã€‚

ç¦»å¼€`server: true`åœ¨å¼€å‘æˆ–æµ‹è¯•æ¨¡å¼ä¸‹å¯èƒ½æ˜¯æœ‰ç”¨çš„ï¼Œè¿™å–å†³äºæ‚¨æƒ³è¦å¦‚ä½•è®¾ç½®æ‚¨çš„ç¯å¢ƒã€‚

## è®¾ç½®ç«¯ç‚¹

å‡¤å‡° app çš„åˆ‡å…¥ç‚¹æ˜¯`Endpoint`æ¨¡å—ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†å®ƒè®¾ç½®ä¸º`Proxy.Endpoint`ã€‚å› ä¸ºè¿™ä¸ªåº”ç”¨ç¨‹åºçœŸçš„æ²¡æœ‰å…¶ä»–è´£ä»»ï¼Œæ‰€ä»¥æ²¡æœ‰å¿…è¦åƒå‡¤å‡°åŸçš„æƒ¯ä¾‹ä¸€æ ·ï¼ŒæŠŠå®ƒåµŒå¥—åœ¨`Web`æ¨¡å—ä¸‹ã€‚

ç„¶è€Œï¼Œæˆ‘ä»¬å¯ä»¥ä» Phoenix ç”Ÿæˆå™¨ä¸ºæˆ‘ä»¬åˆ›å»ºçš„ç«¯ç‚¹æ¨¡å—ä¸­å»æ‰å¤§éƒ¨åˆ†ä¸œè¥¿ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªéå¸¸ç®€å•çš„æ¨¡å—:

```
defmodule Proxy.Endpoint do
  use Phoenix.Endpoint, otp_app: :proxy

  @base_host_regex ~r|\.?mydomain.*$|
  @subdomains %{
    "admin" => Admin.Web.Endpoint,
    "client" => Client.Web.Endpoint
  }
  @default_host Client.Web.Endpoint

  def init(opts), do: opts

  def call(conn, _) do
    with subdomain <- String.replace(conn.host, @base_host_regex, ""),
         endpoint <- Map.get(@subdomains, subdomain, @default_host) do
      endpoint.call(conn, endpoint.init())
    end
  end
end 
```

è®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥çœ‹

```
@base_host_regex ~r|\.?mydomain.*$| 
```

è¿™ç”¨äºæå–æ¯ä¸ªè¯·æ±‚çš„ä¸»æœº URL çš„å­åŸŸéƒ¨åˆ†ã€‚æ‰€ä»¥å¯¹äº`admin.mydomain.com`ï¼Œæˆ‘ä»¬æƒ³è¦å¾—åˆ°å­—ç¬¦ä¸²`admin`ï¼Œå¯¹äº`mydomain.com`ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªç©ºå­—ç¬¦ä¸²(è¿™æ„å‘³ç€ï¼Œæˆ‘ä»¬å°†æŠŠå®ƒè½¬å‘åˆ°é»˜è®¤åº”ç”¨ç¨‹åºã€‚ç¨åå°†è¯¦ç»†ä»‹ç»)ã€‚

è¯·æ³¨æ„ï¼Œè¿™ä¸`.com`éƒ¨åˆ†å¹¶ä¸å®Œå…¨åŒ¹é…ã€‚è¿™æ˜¯æˆ‘ä¸ºäº†åœ°æ–¹å‘å±•è€Œåšçš„ä¸€ä¸ªæ–¹ä¾¿çš„æ”¹åŠ¨ã€‚åœ¨`mydomain.*`ä¸ŠåŒ¹é…å…è®¸æˆ‘åœ¨æœ¬åœ°æœºå™¨ä¸Šå·¥ä½œæ—¶ä½¿ç”¨`admin.mydomain.lvh.me`,å¹¶ä¸”ä»ç„¶è®©æ•´ä¸ªé€»è¾‘å·¥ä½œï¼Œè€Œä¸éœ€è¦è¿›è¡Œç‰¹å®šäºå¼€å‘çš„æ›´æ”¹ã€‚

å¦‚æœä½ ä¸çŸ¥é“`lvh.me`æ˜¯ä»€ä¹ˆï¼Œ[è¿™ç¯‡æ–‡ç« ](https://nickjanetakis.com/blog/ngrok-lvhme-nipio-a-trilogy-for-local-development-and-testing#lvh-me)å¯èƒ½ä¼šæœ‰å¸®åŠ©(TLï¼›DR:è¿™æ˜¯ä¸€ä¸ªå¼€å‘æœåŠ¡ï¼Œå®ƒå°†å…¶åç§°è§£æä¸º`localhost`ã€‚

è®°ä½ä¸Šé¢çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ¥ä¸‹æ¥çš„éƒ¨åˆ†åº”è¯¥å¾ˆå®¹æ˜“ç†è§£:

```
@subdomains %{
    "admin" => Admin.Web.Endpoint,
    "client" => Client.Web.Endpoint
}
@default_host Client.Web.Endpoint 
```

å¯¹äºæ¯ä¸ªå­åŸŸï¼Œæˆ‘ä»¬å¸Œæœ›åŒ¹é…ä¸€ä¸ªç‰¹å®šçš„ Phoenix ç«¯ç‚¹ï¼Œè¯¥ç«¯ç‚¹å±äºæˆ‘ä»¬å¸Œæœ›è½¬å‘è¯·æ±‚çš„åº”ç”¨ç¨‹åºã€‚`@default_host`æ˜¯æˆ‘ä»¬åœ¨å­åŸŸä¸¢å¤±çš„æƒ…å†µä¸‹ä½¿ç”¨çš„(æˆ‘ä»¬ä¸Šé¢è°ˆåˆ°çš„ç©ºå­—ç¬¦ä¸²åœºæ™¯)ã€‚

```
def call(conn, _) do
    with subdomain <- String.replace(host, @base_host_regex, ""),
         endpoint <- Map.get(@subdomains, subdomain, @default_host) do
      endpoint.call(conn, endpoint.init())
    end
end 
```

å½“è¿™ä¸ªç«¯ç‚¹â€”â€”å®é™…ä¸Šåªä¸è¿‡æ˜¯ä¸€ä¸ª[è¯å‰‚æ’ä»¶](https://hexdocs.pm/plug/readme.html)â€”â€”è¢«è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬åªéœ€ä»è¯·æ±‚ä¸»æœºè·å–å­åŸŸï¼Œç„¶åä»æ˜ å°„ä¸­æ‰¾åˆ°åŒ¹é…çš„ç«¯ç‚¹(é»˜è®¤ä¸º`@default_host`),å¹¶å¯¹å…¶è°ƒç”¨`endpoint.call/2`ã€‚è¿™å®é™…ä¸Šæ˜¯å°†å‘¼å«å§”æ‰˜ç»™é€‚å½“çš„åº”ç”¨ç¨‹åºã€‚

ç°åœ¨`client`å’Œ`admin`éƒ½åªéœ€è¦æ‹…å¿ƒå®ƒä»¬ç›¸åº”çš„è¯·æ±‚å’Œè®¤è¯ã€‚æ‰€æœ‰ä¸æˆ‘ä»¬å¯èƒ½éœ€è¦çš„å¤šä¸ªå­åŸŸ&å®¢æˆ·ç«¯ç›¸å…³çš„é€»è¾‘éƒ½åœ¨è¿™ä¸ªåº”ç”¨ç¨‹åºä¸­æŠ½è±¡å‡ºæ¥äº†ã€‚

æƒ³è¦ä¸€ä¸ªåŒä¼çš„æ–°å®¢æˆ·ï¼Ÿè¿™é‡Œè¡¥å……ä¸€ä¸‹ï¼æƒ³è¦åŒä¸€ä¸ªç«¯ç‚¹å“åº”å…¶ä»–å­åŸŸå—ï¼Ÿè¿™é‡Œè¡¥å……ä¸€ä¸‹ï¼

## èµ°å¾—æ›´è¿œ

é€šè¿‡å‘æˆ‘ä»¬çš„ä¿æŠ¤ä¼åº”ç”¨ç¨‹åºæ·»åŠ æ™ºèƒ½è·¯ç”±å™¨ï¼Œæˆ‘ä»¬ç°åœ¨èƒ½å¤Ÿåœ¨æˆ‘ä»¬çš„ä¿æŠ¤ä¼åº”ç”¨ç¨‹åºä¸­å‘ä¸åŒçš„åº”ç”¨ç¨‹åºæä¾›ä¸åŒå­åŸŸçš„è¯·æ±‚ã€‚æˆ‘ç¬¬ä¸€æ¬¡åœ¨æˆ‘çš„ä¸€ä¸ªå® ç‰©é¡¹ç›®ä¸Šå®ç°äº†è¿™ä¸ªæ¨¡å¼ï¼Œä½†æ˜¯åæ¥ä¹Ÿåœ¨ä¸€äº›ç”Ÿäº§é¡¹ç›®ä¸Šä½¿ç”¨å¹¶æ”¹è¿›äº†å®ƒã€‚

æˆ‘ä»¬å¯ä»¥æ›´è¿›ä¸€æ­¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ­£åœ¨å°†ç°æœ‰æœåŠ¡ä» Ruby è¿ç§»åˆ° Elixirã€‚æ‚¨å¯ä»¥è®©è¿™ä¸ªä»£ç†åº”ç”¨ç¨‹åºå°†æ‰€æœ‰å¯¹ Ruby ç‰ˆæœ¬æœåŠ¡çš„è¯·æ±‚é‡å®šå‘å› Ruby åº”ç”¨ç¨‹åºï¼Œä»è€Œç¡®ä¿å‘åå…¼å®¹æ€§ã€‚æˆ–è€…æ‚¨å¯èƒ½æƒ³è¦ç›¸åçš„åœºæ™¯ï¼Œå³æ‚¨æ­£åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„ API æœåŠ¡ï¼Œå¹¶ä¸”æƒ³è¦å°†åŒ¹é…çš„è¯·æ±‚è½¬å‘åˆ°ä¸åŒçš„å®¢æˆ·æœºï¼Œç”šè‡³æ˜¯ä¸åŒçš„ web æœåŠ¡å™¨ã€‚

æˆ‘ä»¬è¿˜å¯ä»¥å°†è·¯ç”±å¤æ‚æ€§æå‡åˆ°å¦ä¸€ä¸ªå±‚æ¬¡ã€‚è¿™é‡Œçš„è·¯ç”±å®Œå…¨åŸºäºè¯·æ±‚çš„å­åŸŸã€‚ä½†æ˜¯æ ¹æ®æ‚¨çš„éœ€è¦ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ HTTP å¤´æˆ–æŸ¥è¯¢å‚æ•°åˆ›å»ºæ›´å¤æ‚çš„è·¯ç”±è§„åˆ™ã€‚æ‰€æœ‰è¿™äº›éƒ½å¯ä»¥åœ¨å®é™…çš„ web æœåŠ¡å®Œå…¨ä¸çŸ¥é“çš„æƒ…å†µä¸‹å®Œæˆã€‚

æˆ‘ä»¬ç©å¾—å¾ˆå¼€å¿ƒğŸ’¥æ€è€ƒä¼å’Œè·¯ç”±çš„æ‰€æœ‰å¯èƒ½æ€§ã€‚æˆ‘ä»¬å¸Œæœ›å®ƒèƒ½è®©ä½ æ„è¯†åˆ°ğŸ”¥ç«ä¹Ÿæ˜¯ã€‚å¦‚æœä½ æƒ³è·å¾—å¸¸è§„å‰‚é‡çš„âš—ï¸Elixir ç‚¼é‡‘æœ¯ï¼Œè¯·[è®¢é˜…](https://appsignal.com/elixir-alchemy)è®©ä¸‹ä¸€é›†ç‚¼é‡‘æœ¯ç›´æ¥å‘é€åˆ°ä½ çš„æ”¶ä»¶ç®±ã€‚

*æœ¬æ–‡ç”±å®¢åº§ä½œè€…[ç±³ç›–å°”Â·å¸•å“ˆæ–¯](http://naps62.github.io/)æ’°å†™ã€‚ç±³ç›–å°”æ˜¯ä¸“ä¸šçš„æ€»å·¥ç¨‹å¸ˆ[@å­è§†è§‰](https://twitter.com/subvisual)ï¼Œç»„ç»‡ [@rubyconfpt](https://twitter.com/rubyconfpt) å’Œ [@MirrorConf](https://twitter.com/mirrorconf) ã€‚*