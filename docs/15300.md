# å†ç»™ä¸€æ¬¡æœºä¼š:ç®€å•çš„å‚æ•°è§£æ

> åŸæ–‡:[https://dev . to/de tunized/giving-go-another-chance-easy-parameter-parsing-1gl 1](https://dev.to/detunized/giving-go-another-chance-easy-parameter-parsing-1gl1)

ä»ç®€å•çš„å¼€å§‹æ˜¯å¥½çš„ã€‚æˆ‘å·²ç»æœ‰äº†ä¸€ä¸ªå‘½ä»¤`klk in`ï¼Œç°åœ¨æœ€å¥½ç»™å®ƒä¼ é€’ä¸€äº›å¼€å…³å’Œå‚æ•°ã€‚Cobra æœ‰ä¸€ä¸ªå·¨å¤§çš„ [readme](https://github.com/spf13/cobra/blob/master/README.md) ï¼Œä½†æ˜¯æˆ‘å‘ç°æŸ¥çœ‹ä»–ä»¬è‡ªå·±çš„å‘½ä»¤è¡Œå·¥å…·æºä»£ç æ›´å®¹æ˜“è·å¾—ä¾‹å­ã€‚

```
var  inCmd  =  &cobra.Command{  Use:  "in [comment]",  Aliases:  []string{"i"},  Short:  "Clock in an entry",  Run:  func(cmd  *cobra.Command,  args  []string)  {  comment  :=  strings.Join(args,  " ")  timestamp  :=  time.Now()  fmt.Println("Adding an entry:",  comment,  "at",  timestamp.Format(time.UnixDate))  },  } 
```

æˆ‘å¿…é¡»å¼„æ¸…æ¥šå¦‚ä½•è¿æ¥å­—ç¬¦ä¸²ä»¥åŠå¦‚ä½•è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼ã€‚é»˜è®¤çš„æ—¥æœŸæ ¼å¼æœ‰ç‚¹å¥‡æ€ªã€‚æˆ‘çŒœå®ƒéµå¾ª Go è·¯å¾„(Go pathï¼Ÿ)å¼€å§‹äº†å®ƒçš„æ€ªå¼‚ä¹‹æ—…ã€‚è°å¸Œæœ›æ—¥æœŸé»˜è®¤æ‰“å°æˆè¿™æ ·ï¼Ÿä»€ä¹ˆæ˜¯`m=+0.001801899`ï¼Ÿ

```
2019-01-23 12:04:12.760058 +0100 CET m=+0.001801899 
```

é™¤æ­¤ä¹‹å¤–ï¼Œä¸€åˆ‡éƒ½å¾ˆå®¹æ˜“ã€‚æ€»çš„æ¥è¯´ï¼ŒGo æ„Ÿè§‰åƒæ˜¯ C è¯­è¨€åŠ ä¸Šäº†ä¸€äº› Pythonã€‚é—®é¢˜æ˜¯ï¼Œä½ æ°¸è¿œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ä½ ä¸å¾—ä¸ä» Python è·³åˆ° Cï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å°½é‡ä¸è¦æ’åˆ°å¤´ã€‚

ç°åœ¨è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªå¼€å…³ã€‚æˆ‘èƒ½æƒ³åˆ°çš„æœ€ç®€å•çš„æ˜¯`--quiet/-q`ã€‚Cobra åªæœ‰ä¸€å¥å°è¯:

```
inCmd.Flags().BoolVarP(&quiet,  "quiet",  "q",  false,  "be quiet and don't print so much stuff") 
```

æœ€ç»ˆäº§å“ç°åœ¨æ˜¯è¿™æ ·å·¥ä½œçš„:

```
$ klk in some work
Adding an entry: some work at Wed Jan 23 12:16:20 CET 2019 
```

æˆ–è€…

```
$ klk in -q some work 
```

è£…è¿å®ƒï¼ğŸš¢

* * *

å®ç°è¿™ä¸€ç›®æ ‡çš„è°·æ­Œæœç´¢:

*   å»è¿æ¥å­—ç¬¦ä¸²
*   ç°åœ¨å¼€å§‹å§
*   å¼€å§‹æ ¼å¼åŒ–æ—¥æœŸ

* * *

è€—æ—¶:15 åˆ†é’Ÿ
æ€»è€—æ—¶:5:15 å°æ—¶