# ä½¿ç”¨å­˜å‚¨ Blobs

> åŸæ–‡:[https://dev.to/azure/working-with-azure-storage-blobs-2096](https://dev.to/azure/working-with-azure-storage-blobs-2096)

*æˆ‘ä»¬é€‰æ‹©äº†ç”±[è¿ˆå…‹å°”Â·å…‹ä¼¦æ™®](https://twitter.com/mbcrump)åˆ›é€ çš„æˆ‘ä»¬æœ€å–œæ¬¢çš„æŠ€å·§å’Œè¯€çªï¼Œå¹¶åœ¨æ•´ä¸ªå››æœˆåœ¨ Azure ä¸Šæä¾›æ–°çš„æŠ€æœ¯å†…å®¹ï¼é”™è¿‡ä¸€å¤©(æˆ–æ›´å¤š)ï¼Ÿ[èµ¶ä¸Šç³»åˆ—](https://dev.to/t/azureapril)ã€‚*

**æ²¡æœ‰å¤©è“è‰²ï¼Ÿ** [æŠ¢å…è´¹è®¢é˜…](https://azure.microsoft.com/en-us/free?&WT.mc_id=azureapril_devto-blog-cxa)ã€‚

* * *

Azure å­˜å‚¨è¢«æè¿°ä¸ºä¸€ç§æœåŠ¡ï¼Œå®ƒæä¾›å¯ç”¨ã€å®‰å…¨ã€æŒä¹…ã€å¯æ‰©å±•å’Œå†—ä½™çš„å­˜å‚¨ã€‚

Azure å­˜å‚¨æ˜¯ä¸€ä¸ªæ€»æ‹¬æœ¯è¯­ã€‚å®ƒåŒ…æ‹¬:

*   [æ–‘ç‚¹å­˜å‚¨](https://docs.microsoft.com/en-us/azure/storage/blobs/storage-blobs-overview?&WT.mc_id=azureapril_devto-blog-cxa)
*   [æ•°æ®æ¹–å­˜å‚¨](https://docs.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-introduction?&WT.mc_id=azureapril_devto-blog-cxa)
*   [æ–‡ä»¶å­˜å‚¨](https://docs.microsoft.com/en-us/azure/storage/files/storage-files-introduction?&WT.mc_id=azureapril_devto-blog-cxa)
*   [é˜Ÿåˆ—å­˜å‚¨](https://docs.microsoft.com/en-us/azure/storage/queues/storage-queues-introduction?&WT.mc_id=azureapril_devto-blog-cxa)
*   [è¡¨æ ¼å­˜å‚¨](https://docs.microsoft.com/en-us/azure/storage/tables/table-storage-overview?&WT.mc_id=azureapril_devto-blog-cxa)

æˆ‘ä»¬ç°åœ¨å°†é‡ç‚¹æ”¾åœ¨ Blob å­˜å‚¨ä¸Šã€‚

# [](#creating-blob-storage-in-the-azure-portal)åœ¨ Azure é—¨æˆ·ä¸­åˆ›å»º Blob å­˜å‚¨ğŸ“‚

æ‰“å¼€ [Azure é—¨æˆ·](https://azure.microsoft.com/en-us/features/azure-portal/?&WT.mc_id=azureapril_devto-blog-cxa)ï¼Œç‚¹å‡»`Create a Resource`ã€‚é€‰æ‹©`Azure Storage`ã€‚æˆ‘ä»¬å°†ä¿æŒå¦‚ä¸‹æ‰€ç¤ºçš„ç®€å•æ¥å¼€å§‹ã€‚

[![create](../Images/611a50edfdb29bb8ece421938de9167f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--nyotgVi7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d33wubrfki0l68.cloudfront.net/b7645052be9c63c3640e848daba977ddf4a46e9f/058ec/files/storageacct1.png)

ä¸€æ—¦å®Œæˆâ€”é—¨æˆ·ä¼šé€šçŸ¥æ‚¨â€”è¿›å…¥èµ„æºå¹¶åœ¨`Services`ä¸‹æŸ¥çœ‹ã€‚

[![find it](../Images/d5c6539994837d8579de0ac17c9dee6c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ZNKbgV57--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d33wubrfki0l68.cloudfront.net/9284e1b624ffe72451a8b7ae5eedc0417b02b396/5b3be/files/storageacct2.png)

ç»§ç»­ç‚¹å‡»`Blobs`ï¼Œåˆ›å»ºä¸€ä¸ª`Container`ï¼Œå¹¶å°†å…¶å‘½åä¸º`Images`ã€‚

> è®°ä½ï¼å®¹å™¨å¾ˆåƒæ–‡ä»¶å¤¹ã€‚`https://myblob/container/image1.jpg`

ç°åœ¨æ‚¨éœ€è¦ç‚¹å‡»`Upload`å¹¶é€‰æ‹©ç‰©ç†ç£ç›˜ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶ã€‚

[![upload](../Images/aecb9e090d8f450dd824f3879c722ca1.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--hwmJK939--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d33wubrfki0l68.cloudfront.net/6169cbd610f715c39319c0f24281f3c530711a68/53696/files/storageacct4.png)

ç°åœ¨æ‚¨çš„æ–‡ä»¶å·²ç»ä¸Šä¼ ï¼Œé€‰æ‹©å®ƒã€‚æ‚¨å¯ä»¥ç‚¹å‡»çœç•¥å·å¹¶é€‰æ‹©`Blob properties`æŸ¥çœ‹æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚

[![done](../Images/c9e1a7721864538985b6eaf8466f44cd.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--WwZ7d0ku--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d33wubrfki0l68.cloudfront.net/b386bbc78a81a72061126042d3deda8cf4942d62/c11bc/files/storageacct5.png)

è€¶ï¼æ‚¨å¯ä»¥ä¸‹è½½å®ƒæˆ–é€šè¿‡æä¾›çš„ URL è®¿é—®å®ƒã€‚å¾ˆç®€å•ï¼Œå¯¹å§ï¼Ÿ

è®©æˆ‘ä»¬åšåŒæ ·çš„äº‹æƒ…...ä¸ä¸€æ ·ã€‚

# [](#provisioning-an-azure-storage-blob-container-in-c)åœ¨ C# ğŸ—„ï¸ä¸­æä¾› Azure å­˜å‚¨ Blob å®¹å™¨

æ˜¯çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„ä»£ç æ˜¯ C#ï¼Œä½†æ˜¯å¦‚æœä½ ä¸çŸ¥é“ C#(æˆ‘ä¸çŸ¥é“ï¼)Michael Crump å†™äº†è¿™æ®µä»£ç ï¼Œæˆ‘è®¤ä¸ºä¸ç®¡ä½ é€‰æ‹©å“ªç§è¯­è¨€ï¼Œå‘ç”Ÿçš„äº‹æƒ…éƒ½å¾ˆæ¸…æ¥šã€‚

åœ¨é—¨æˆ·ä¸­å¯¼èˆªåˆ°æ‚¨çš„ Azure å­˜å‚¨å¸æˆ·ã€‚

åœ¨`Settings`ä¸‹æŸ¥æ‰¾ï¼Œç„¶å`Access Keys`å¹¶å¤åˆ¶è¿æ¥å­—ç¬¦ä¸²ã€‚

[![connection string](../Images/a4786ebeb27760500fdbf0496d8a3ff5.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--mbRZ0jcG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d33wubrfki0l68.cloudfront.net/748934007efa227bfcb9fbb6e8fe148be9211a3c/4d7d8/files/storagethroughcsharp1.png)

åˆ›å»ºä¸€ä¸ª C#æ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œå¹¶ä½¿ç”¨ NuGet è·å–å¯¹ä»¥ä¸‹å†…å®¹çš„å¼•ç”¨:

*   WindowsAzureã€‚å‚¨å­˜ï¼›å‚¨å¤‡
*   å¾®è½¯ã€‚windows azure . configuration manager

[![console application](../Images/e319efaee2cba94d0f1b7d226cad3bbf.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--dBACQCNF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d33wubrfki0l68.cloudfront.net/5f3c5e84c8a898d7633004c069b634042bba6c87/125ce/files/storagethroughcsharp3.png)

åœ¨æ‚¨çš„æ§åˆ¶å°åº”ç”¨ç¨‹åºä¸­ï¼Œæ‚¨ä¼šçœ‹åˆ°`App.config`ï¼Œç°åœ¨æ·»åŠ ä»¥ä¸‹éƒ¨åˆ†:

```
<appSettings>
  <add key="StorageConnection" value="YOUR-CONNECTION-STRING-COPIED-FROM-EARLIER"/>
</appSettings> 
```

å°†ä¸‹é¢çš„ä»£ç å¤åˆ¶åˆ°æ‚¨çš„ Main æ–¹æ³•ä¸­:

```
static void Main(string[] args)
{
    var storageAccount = CloudStorageAccount.Parse(CloudConfigurationManager.GetSetting("StorageConnection"));
    var myClient = storageAccount.CreateCloudBlobClient();
    var container = myClient.GetContainerReference("images-backup");

container.CreateIfNotExists(BlobContainerPublicAccessType.Blob);
    Console.ReadLine();
} 
```

è¿™æ®µä»£ç å°†ä»`App.config`è·å–æˆ‘ä»¬çš„è¿æ¥å­—ç¬¦ä¸²ï¼Œåˆ›å»ºæˆ‘ä»¬çš„å®¢æˆ·ç«¯å’Œä¸€ä¸ªåä¸º`images-backup`çš„å®¹å™¨(å¦‚æœå®ƒä¸å­˜åœ¨çš„è¯)ã€‚æˆ‘ä»¬å¯ä»¥å›åˆ°é—¨æˆ·å†…éƒ¨ï¼Œçœ‹çœ‹æ‰§è¡Œæ˜¯å¦æ­£ç¡®ã€‚

æˆåŠŸï¼æˆ‘ä»¬ç°åœ¨å·²ç»é€šè¿‡ Azure é—¨æˆ·å’Œ C#å®Œæˆäº†åŒæ ·çš„ä»»åŠ¡ã€‚

**æƒ³è¦æ›´å¤š Azure å­˜å‚¨ç©ºé—´ï¼Ÿ**æŸ¥çœ‹æˆ‘ä»¬çš„[å¿«é€Ÿå…¥é—¨å’Œæ•™ç¨‹](//%7B%7B%7BLINK%7D%7D%7D?WT.mc_id=azureapril_devto-blog-cxa)ï¼

* * *

æˆ‘ä»¬å°†åœ¨ 4 æœˆä»½æ¯å¤©å‘å¸ƒæ–‡ç« ï¼Œæ‰€ä»¥è¯·ç»§ç»­å…³æ³¨æˆ–æå‰æŸ¥çœ‹æ›´å¤šæç¤ºå’ŒæŠ€å·§[ç°åœ¨](http://azuredev.tips)ã€‚