# Kentico 12:è®¾è®¡æ¨¡å¼ç¬¬ 3 éƒ¨åˆ†-æç¤ºå’ŒæŠ€å·§ï¼Œåº”ç”¨ç¨‹åºç»“æ„

> åŸæ–‡:[https://dev . to/seang Wright/kentico-12-è®¾è®¡-æ¨¡å¼-ç¬¬ä¸‰éƒ¨åˆ†-æç¤ºå’ŒæŠ€å·§-åº”ç”¨ç¨‹åº-ç»“æ„-1l2o](https://dev.to/seangwright/kentico-12-design-patterns-part-3-tips-and-tricks-application-structure-1l2o)

<figure>[![](../Images/85789ba3c0948ee52c26094c05c3ba7d.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--vboLon5z--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/0%2AHxZnLS5msoiX8mxB) 

<figcaption>ç…§ç‰‡ç”±[é˜¿é½å…¹](https://unsplash.com/@acharki95?utm_source=medium&utm_medium=referral)ä¸Š [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)</figcaption>

</figure>

## [](#tips-and-tricks-application-structure)æç¤ºå’ŒæŠ€å·§:åº”ç”¨ç¨‹åºç»“æ„

è‡ª 2018 å¹´ 11 æœˆä»¥æ¥ï¼Œä¸¤ä¸ªä¸–ç•Œå‘ç”Ÿäº†å·¨å¤§çš„ç¢°æ’â€”â€”ASP.NET MVC å’Œè‚¯è’‚ç§‘ CMSã€‚

ç°åœ¨ï¼Œå½“åœ¨ Kentico CMS ä¸­å­˜å‚¨å’Œç»„ç»‡å†…å®¹æ—¶ï¼ŒKentico å¼€å‘äººå‘˜ç”šè‡³æœ‰æ›´å¤šçš„èƒ½åŠ›æ¥å®šåˆ¶å‘ç«™ç‚¹è®¿é—®è€…äº¤ä»˜å†…å®¹çš„æ–¹å¼ã€‚

æœ‰äº†è¿™ä¸ªæ–°çš„å®šåˆ¶ç©ºé—´ï¼Œå°±æœ‰æœºä¼šç¡®å®šæœ‰ç”¨çš„æ¨¡å¼å’Œæœ€ä½³å®è·µã€‚

ä¸‹é¢æˆ‘åˆ—å‡ºäº†äº”ä¸ªæŠ€å·§å’Œçªé—¨ï¼Œåœ¨ä¸ Kentico 12 é›†æˆæ—¶ï¼Œä½ å¯ä»¥ç”¨å®ƒä»¬æ¥å¸®åŠ©æ„å»ºå’Œç»„ç»‡ä½ çš„ MVC ä»£ç åº“ã€‚ğŸ‘ğŸ½

## [](#1%E2%80%8A%E2%80%8Atip-feature-folders)#1 â€”æç¤º:ç‰¹å¾æ–‡ä»¶å¤¹

åœ¨åˆ›å»ºæ–°çš„åº”ç”¨ç¨‹åºã€åº“æˆ–æµ‹è¯•é¡¹ç›®æ—¶ï¼Œæ‚¨å¯èƒ½å·²ç»å¤šæ¬¡ä½¿ç”¨ Visual Studio " ***"æ–‡ä»¶- >æ–°å»ºé¡¹ç›®*** "å‘å¯¼ã€‚

å‘å¯¼ç”Ÿæˆçš„ä»£ç å¾ˆæœ‰å¸®åŠ©ï¼Œå› ä¸ºå®ƒå¯ä»¥è®©æ‚¨ç«‹å³æŠ•å…¥å·¥ä½œã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™æ®µä»£ç åªæ˜¯ä¸ºäº†ä»‹ç»å¦‚ä½•é€‰æ‹©ã€‚NET é¡¹ç›®å·¥ç¨‹ã€‚

å½“å‘æ‚¨çš„è§£å†³æ–¹æ¡ˆæ·»åŠ æ–°çš„ç±»åº“é¡¹ç›®æ—¶ï¼Œæœ‰äººä¿ç•™å‘å¯¼ä¸ºæ‚¨åˆ›å»ºçš„`Class1.cs`æ–‡ä»¶å—ï¼Ÿæˆ‘è®¤ä¸ºä¸æ˜¯ã€‚ğŸ˜’

ç±»ä¼¼åœ°ï¼Œå½“æˆ‘ä»¬åˆ›å»ºæ–°çš„ ASP.NET MVC 5 é¡¹ç›®æ—¶ï¼Œå‘å¯¼ç»™äº†æˆ‘ä»¬ä¸€ä¸ªå¯é¢„æµ‹çš„æ–‡ä»¶å¤¹ç»“æ„ï¼Œæ—¨åœ¨å¼•å¯¼æˆ‘ä»¬è¿›å…¥ MVC èŒƒå¼ï¼ŒæŒ‡å‡ºä¸ä»¥å‰çš„ ASP.NET è§£å†³æ–¹æ¡ˆ(WebForms)ç›¸æ¯”æ‰€æœ‰æ–°çš„é‡è¦ç‰¹æ€§ã€‚

è¿™æ„å‘³ç€ï¼ŒåŸºäºç±»çš„ç»„ç»‡ï¼Œæœ€åˆçš„ç„¦ç‚¹æ˜¯æ¡†æ¶(ASP.NET MVC)è€Œä¸æ˜¯ä½ çš„åº”ç”¨ç¨‹åºçš„ç‰¹æ€§ã€‚ğŸ˜‘

ä¸‹é¢æ˜¯ Visual Studio çš„â€œ ***æ–‡ä»¶- >æ–°å»ºé¡¹ç›®*** â€å¯¹è¯æ¡†åˆ›å»ºçš„é»˜è®¤æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„ä¾‹å­:

<figure>[![](../Images/fb4767181d3c3efb264d95569e2ef960.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--xFejxGW---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/577/1%2AcFWjilWaeGrqPGVaExuGvg.png) 

<figcaption>è¿™äº›å°±æ˜¯æˆ‘ä»¬æœ€ç»ˆæ‹¥æœ‰çš„æ–‡ä»¶- >æ–°é¡¹ç›®- > MVC</figcaption>

</figure>

è¿™å¯¹äºä¸€ä¸ªæ¼”ç¤ºåº”ç”¨ç¨‹åºæ¥è¯´æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯å½“æˆ‘ä»¬å‘å®¢æˆ·é”€å”® Kentico CMS è§£å†³æ–¹æ¡ˆæ—¶ï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨æ„å»ºæ¼”ç¤ºâ€”â€”æˆ‘ä»¬æ˜¯åœ¨ç”¨*çš„*ä¸šåŠ¡è§„åˆ™å’Œå®šåˆ¶å†…å®¹æ„å»º*ä»–ä»¬çš„*ç«™ç‚¹ã€‚ğŸ’ªğŸ§ 

ç®€è€Œè¨€ä¹‹ï¼Œä¸è¦éµå¾ªé¡¹ç›®æ¨¡æ¿ä¸ºæ‚¨è®¾è®¡çš„æ¨¡å¼ï¼Œå› ä¸ºæœ‰æ›´å¥½çš„é€‰æ‹©â€”â€”ç‰¹åˆ«æ˜¯å½“æ‚¨çš„åº”ç”¨ç¨‹åºåœ¨èŒƒå›´å’Œå¤æ‚æ€§ä¸Šå¢é•¿æ—¶ã€‚

å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œé‡‡ç”¨ä¸€ç§â€œç‰¹æ€§æ–‡ä»¶å¤¹â€çš„ç»„ç»‡æ–¹æ³•ï¼Œå°†åº”ç”¨ç¨‹åºçš„ç‰¹æ€§æ”¾åœ¨å‰é¢å’Œä¸­å¿ƒï¼Œå¹¶å°†æ¡†æ¶å®ç°ç»†èŠ‚è§†ä¸ºå®ç°ç»†èŠ‚ã€‚ğŸ‘ğŸ½

> æˆ‘å·²ç»è°ˆåˆ°äº†â€œæ¡†æ¶ç‰¹æ€§åæ¨¡å¼â€ï¼Œæˆ‘è‚¯å®šä¸æ˜¯ç¬¬ä¸€ä¸ªè°ˆè®ºè¿™ä¸ªè¯é¢˜çš„å¼€å‘äººå‘˜ã€‚æŸ¥çœ‹[æˆ‘çš„æ¼”è®²](https://docs.google.com/presentation/d/1AXx8f5OuMYfQaqErqbsziRcKsWH9ojoYT6n358b34fY/edit?usp=sharing)ä¸­çš„å¹»ç¯ç‰‡ä½œä¸ºå‚è€ƒï¼Œæˆ–è€…æŸ¥çœ‹â€œ [MVC5 åŠŸèƒ½æ–‡ä»¶å¤¹](https://duckduckgo.com/?q=mvc5+feature+folders&t=ffab&atb=v144-1&ia=web)çš„æœç´¢ç»“æœã€‚

ä¸‹é¢çš„æˆªå›¾å±•ç¤ºäº†æˆ‘ä¸ºæ‚¨çš„æ–° Kentico 12 MVC åº”ç”¨ç¨‹åºæ¨èçš„ç»„ç»‡ã€‚

<figure>[![](../Images/9d0867ecc6dcda19ec9c18d2d6da9432.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--qzLSWZpx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/548/1%2A7Vb2kclKxLSzFLHFj1ITXQ.png) 

<figcaption>ä¸€ä¸ªåŸºäºâ€œç‰¹å¾æ–‡ä»¶å¤¹â€ç»„ç»‡çš„ç±»</figcaption>

</figure>

æˆ‘éå¸¸ç›¸ä¿¡è¿™ç§æ¨¡å¼ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ¨èå®ƒç”¨äºé€šç”¨ç±»åº“å’Œå•å…ƒæµ‹è¯•é¡¹ç›®ã€‚ğŸ‘Š

ä¸Šé¢çš„ä¾‹å­å¹¶æ²¡æœ‰å®Œå…¨â€œèšç„¦äºç‰¹æ€§â€,å› ä¸ºæ‰€æœ‰ Razor è§†å›¾æ–‡ä»¶ä»ç„¶åœ¨`\Views`æ–‡ä»¶å¤¹ä¸­ã€‚æˆ‘ç›¸ä¿¡è¿™äº›ä¹Ÿåº”è¯¥ä¸ç‰¹æ€§ç±»å‹å…±å­˜â€”ä¾‹å¦‚)`Kentico12WebMVC\Features\Products\Detail.cshtml`ï¼Œä½†æ˜¯ Kentico MVC é›†æˆåº“è¿˜ä¸æ”¯æŒè¿™ç§æ–¹æ³•ã€‚

> æˆ‘å¸Œæœ› [Kentico 12 MVC service pack](https://www.kentico.com/blog/kentico-12-service-pack-news) åŒ…å«å¯¹ MVC è§†å›¾å¼•æ“å®šåˆ¶çš„æ”¯æŒâ€”â€”ç‰¹åˆ«æ˜¯å¯¹è§†å›¾è·¯å¾„çº¦å®šçš„æ”¯æŒï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨é¡¹ç›®ä¸­çœŸæ­£å…³æ³¨â€œç‰¹æ€§â€ã€‚
> 
> ä½ å¯ä»¥åœ¨ Kentico çš„ UserVoice ç½‘ç«™ä¸Šä¸ºè¿™ä¸ªåŠŸèƒ½[æŠ•ç¥¨ã€‚è®©è‚¯å¸ç§‘çŸ¥é“æˆ‘ä»¬æƒ³è¦è¿™ä¸ªï¼](http://ideas.kentico.com/forums/239189-kentico-product-ideas/suggestions/36877402-official-support-for-feature-folders-pattern-in)

## [](#2%E2%80%8A%E2%80%8Atrick-page-builder-classes-as-features)#2 â€”æŠ€å·§:é¡µé¢ç”Ÿæˆå™¨ç±»ä½œä¸ºç‰¹æ€§

ä¸€æ—¦ä½ å¼€å§‹ç”¨â€œç‰¹æ€§æ–‡ä»¶å¤¹â€çš„æ–¹æ³•ç»„ç»‡ä½ çš„ MVC é¡¹ç›®ï¼Œä½ å¯èƒ½ä¼šæƒ³ï¼Œâ€œæˆ‘åº”è¯¥æŠŠæˆ‘çš„ Kentico å°éƒ¨ä»¶ã€InlineEditor å’Œ Section ç±»æ”¾åœ¨å“ªé‡Œï¼Ÿâ€ğŸ¤”

ç­”æ¡ˆå¾ˆç®€å•ã€‚æŠŠä»–ä»¬å½“ç‰¹è‰²ï¼

å¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ª`PageBuilders`ç‰¹å¾æ–‡ä»¶å¤¹ï¼Œå¹¶å°†æˆ‘æ‰€æœ‰çš„ç±»å‹æ”¾åœ¨é‚£é‡Œã€‚

è¾£é…±ï¼ğŸ”¥

<figure>[![](../Images/7d1494560c0ed0d07d6a1700e915394c.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--Zr3Y2KRq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/597/1%2AncoC5myLjAdk5pi84I1xIg.png) 

<figcaption>é¡µé¢ç”Ÿæˆå™¨ç±»å‹ä¸ºç‰¹å¾æ–‡ä»¶å¤¹</figcaption>

</figure>

## [](#3%E2%80%8A%E2%80%8Atip-plural-namespaces-and-singular-type-names)#3 â€”æç¤º:å¤æ•°åç§°ç©ºé—´å’Œå•æ•°ç±»å‹åç§°

æ‚¨å¯èƒ½å¶å°”ä¼šé‡åˆ°çš„ä¸€ä¸ªé—®é¢˜æ˜¯ C#ä¸­å‘½åç©ºé—´å’Œç±»å‹ä¹‹é—´çš„å†²çªã€‚å½“å¯¹æ‚¨çš„ç±»å‹ä½¿ç”¨åŸºäºâ€œç‰¹å¾æ–‡ä»¶å¤¹â€çš„ç»„ç»‡æ–¹æ³•æ—¶ï¼Œæ­¤é—®é¢˜å¯èƒ½ä¼šæ›´é¢‘ç¹åœ°å‡ºç°ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘æœ‰ä¸€ä¸ªåç§°ç©ºé—´`App.Product`ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªåç§°ç©ºé—´ä¸­æˆ‘æœ‰ä¸€ä¸ªç±»`Product.cs`ï¼Œé‚£ä¹ˆæ— è®ºæˆ‘åœ¨å“ªé‡Œå°è¯•ä½¿ç”¨è¿™ä¸ªç±»å‹ï¼Œæˆ‘éƒ½ä¼šæ”¶åˆ°ä¸€ä¸ªç¼–è¯‘å™¨é”™è¯¯ã€‚ğŸ˜©

`var product = new Product();`äº§ç”Ÿ`'Product' is a namespace but is used like a type.`

é¿å…è¿™ç§æƒ…å†µçš„æœ€ç®€å•æ–¹æ³•æ˜¯éµå¾ªä¸€ä¸ªç®€å•çš„çº¦å®š:

> #### [](#plural-namepaces-singular-type-names)*plural namespace, singular type name*

æ­£å¦‚ä½ åœ¨ä¸Šé¢çš„å±å¹•æˆªå›¾ä¸­çœ‹åˆ°çš„ï¼Œæˆ‘å·²ç»å°†æ‰€æœ‰çš„æ–‡ä»¶å¤¹åç§°å¤æ•°åŒ–ï¼Œå› ä¸º C#é¡¹ç›®ä¸­çš„æ–‡ä»¶å¤¹åç§°ä¼šä¸ºå…¶ä¸­åŒ…å«çš„ç±»å‹ç”Ÿæˆåç§°ç©ºé—´ã€‚

æœ‰æ—¶ä½ ä¼šä»¥ä¸€äº›ç¨å¾®å¥‡æ€ªçš„æ–‡ä»¶å¤¹åç»“æŸ(ä¾‹å¦‚ã€‚æŠŠä½ çš„`HomeController`æ”¾åˆ°ä¸€ä¸ªåä¸º`Homes`çš„æ–‡ä»¶å¤¹ä¸­ã€‚å¦‚æœä½ ä¸å–œæ¬¢è¿™æ ·ï¼Œè¯•ç€æƒ³ä¸€ä¸ªæ›´å…·æè¿°æ€§çš„æ–‡ä»¶å¤¹/åŠŸèƒ½åç§°ï¼Œæˆ–è€…è€ƒè™‘åˆ°ä¸Šè¿°é—®é¢˜çš„è­¦å‘Šï¼Œç ´ä¾‹ä½¿ç”¨ä¸€ä¸ªå•ä¸€çš„æ–‡ä»¶å¤¹åç§°ã€‚

> æˆ‘å»ºè®®ä½¿ç”¨è¿™ç§â€œå¤æ•°æ–‡ä»¶å¤¹ï¼Œå•æ•°ç±»å‹â€çš„çº¦å®šï¼Œå³ä½¿æ‚¨åœ¨ä»£ç åº“ä¸­æ²¡æœ‰éµå¾ªâ€œç‰¹æ€§æ–‡ä»¶å¤¹â€çš„ç»„ç»‡ã€‚

## [](#4%E2%80%8A%E2%80%8Atrick-distributed-route-configuration)#4 â€”æ‹›æ•°:åˆ†å¸ƒå¼è·¯ç”±é…ç½®

å…³äº ASP.NETÂ·MVC5ï¼Œæœ¬Â·ç¦æ–¯ç‰¹å†™äº†å¾ˆå¤šå¾ˆæ£’çš„æ–‡ç« ,å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€äº›è§£å†³æ–¹æ¡ˆæ¥å¸®åŠ©ä½ çš„ MVC ä»£ç åº“æ‰©å±•å¹¶åˆ©ç”¨ MVC 5 æä¾›çš„æ‰€æœ‰å¼ºå¤§åŠŸèƒ½ï¼Œæˆ‘æ¨èä»–çš„åšå®¢ä½œä¸ºä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚âœ¨ğŸŒŸ

ä»–æ¨èçš„ä¸€ä¸ªæˆ‘å¾ˆå–œæ¬¢çš„æ¨¡å¼æ˜¯[åˆ†å¸ƒå¼è·¯ç”±é…ç½®](https://benfoster.io/blog/improving-aspnet-mvc-routing-configuration)ã€‚æˆ‘è®¤ä¸ºå®ƒåœ¨â€œåŠŸèƒ½æ–‡ä»¶å¤¹â€ç»„ç»‡ä¸­éå¸¸æœ‰æ•ˆã€‚

æ‚¨å°†åœ¨ç½‘ä¸Šçœ‹åˆ°çš„æœ€å¸¸è§çš„è·¯ç”±é…ç½®æ¨¡å¼åŒ…æ‹¬åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­æ³¨å†Œæ‚¨çš„æ‰€æœ‰è·¯ç”±â€”é€šå¸¸æ˜¯`RouteConfig.cs`ã€‚