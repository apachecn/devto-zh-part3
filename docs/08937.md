# Kubernetes:åœ¨ Arch Linux ä¸Šè¿è¡Œ Minikube

> åŸæ–‡:# t0]https://dev . to/setevey/kublets-running-minikube-on-arch-Linux-ne 2

[![](img/aeabcee4dca385e2f6e442664978ca29.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--aVEESU68--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://rtfm.co.ua/wp-content/uploads/2017/06/kuber-e1553678024381.png)[mini kube](https://github.com/kubernetes/minikube)â€“åœ¨æ‚¨çš„ PC ä¸Šæœ¬åœ°è¿è¡Œ Kubernetes é›†ç¾¤çš„å®ç”¨ç¨‹åºã€‚

å®ƒå¯ä»¥ä½¿ç”¨ Virtualboxã€VMwareã€Hyper-V ç­‰è™šæ‹Ÿæœºç®¡ç†ç¨‹åºæ¥åˆ›å»ºå¸¦æœ‰ Kubernetes é›†ç¾¤çš„è™šæ‹Ÿæœºã€‚

Minikube æ˜¯å¼€å‘äººå‘˜æˆ–å¼€å‘å·¥ç¨‹å¸ˆæµ‹è¯•éƒ¨ç½²/æœåŠ¡ç­‰çš„ç»ä½³å·¥å…·ï¼Œæ— éœ€åˆ›å»ºå’Œé…ç½®çœŸæ­£çš„é›†ç¾¤ã€‚

åœ¨ä¸‹é¢çš„å¸–å­ä¸­â€”â€”å¦‚ä½•å¿«é€Ÿå®‰è£…å®ƒå¹¶ä½¿ç”¨ Minikube è¿è¡Œ Kubernetes podã€‚

åœ¨ Arch ä¸­ï¼ŒLinux å¯ä»¥ä» AUR å®‰è£…:

```
$ yaourt -S minikube 
```

å¦‚æœæ‚¨è¿˜æ²¡æœ‰å®‰è£… Virtualboxï¼Œè¿™é‡Œå°†ç”¨äº Minikube:

```
$ sudo pacman -S virtualbox 
```

`minikube`å°†é€šè¿‡ [`kubectl`](https://kubernetes.io/docs/reference/kubectl/overview/) ä¸ Kubernetes ååŒå·¥ä½œâ€“åŒæ—¶å®‰è£…:

```
$ yaourt -S kubectl 
```

ç°åœ¨æ£€æŸ¥ä¸€ä¸‹ã€‚

å¯åŠ¨ Minikube æœ¬èº«:

```
$ minikube start
 [ğŸ˜„] minikube v0.35.0 on linux (amd64)
 [ğŸ”¥] Creating virtualbox VM (CPUs=2, Memory=2048MB, Disk=20000MB) ...
 [ğŸ’¿] Downloading Minikube ISO ...
184.42 MB / 184.42 MB [============================================] 100.00% 0s
 [ğŸ“¶] "minikube" IP address is 192.168.99.100
 [ğŸ³] Configuring Docker as the container runtime ...
 [âœ¨] Preparing Kubernetes environment ...
 [ğŸ’¾] Downloading kubelet v1.13.4
 [ğŸ’¾] Downloading kubeadm v1.13.4
 [ğŸšœ] Pulling images required by Kubernetes v1.13.4 ...
 [ğŸš€] Launching Kubernetes v1.13.4 using kubeadm ...
 [âŒ›] Waiting for pods: apiserver proxy etcd scheduler controller addon-manager dns
 [ğŸ”‘] Configuring cluster permissions ...
 [ğŸ¤”] Verifying component health .....
 [ğŸ’—] kubectl is now configured to use "minikube"
 [ğŸ„] Done! Thank you for using minikube! 
```

æ£€æŸ¥æ­£åœ¨è¿è¡Œçš„ Virtualbox è™šæ‹Ÿæœº:

```
$ VBoxManage list runningvms
"minikube" {37da5f2d-c486-4419-a152-eb5dcedde6f3} 
```

åˆ›å»ºæ–°çš„çª—æ ¼:

```
$ kubectl run hello-minikube --image=gcr.io/google_containers/echoserver:1.4 --port=8080
kubectl run --generator=deployment/apps.v1 is DEPRECATED and will be removed in a future version. Use kubectl run --generator=run-pod/v1 or kubectl create instead.
deployment.apps/hello-minikube created 
```

è¿è¡ŒæœåŠ¡:

```
$ kubectl expose deployment hello-minikube --type=NodePort
service "hello-minikube" exposed 
```

åˆ—è¡¨çª—æ ¼:

```
$ kubectl get pod
NAME                              READY   STATUS    RESTARTS   AGE
hello-minikube-5857d96c67-x46nk   1/1     Running   0          74s 
```

å¹¶æ£€æŸ¥æœåŠ¡æœ¬èº«:

```
$ curl $(minikube service hello-minikube --url)
CLIENT VALUES:
client_address=172.17.0.1
command=GET
real path=/
query=nil
request_version=1.1
request_uri=http://192.168.99.100:8080/

SERVER VALUES:
server_version=nginx: 1.10.0 - lua: 10001

HEADERS RECEIVED:
accept=*/*
host=192.168.99.100:31345
user-agent=curl/7.64.0
BODY:
-no body in request- 
```

å®Œæˆåâ€“åœæ­¢å¹¶åˆ é™¤è™šæ‹Ÿæœºã€pod å’ŒæœåŠ¡:

```
$ minikube stop
 [âœ‹] Stopping "minikube" in virtualbox ...
 [ğŸ›‘] "minikube" stopped. 
```

å®Œæˆäº†ã€‚

### ç±»ä¼¼çš„å¸–å­

*   <small>02/27/2017</small>[Docker:Compose downâ€“network JM admin _ default æœ‰æ´»åŠ¨ç«¯ç‚¹](https://rtfm.co.ua/docker-compose-down-network-jmadmin_default-has-active-endpoints/) <small>(0)</small>
*   <small>2016 å¹´ 12 æœˆ 28 æ—¥</small>[ã€arch:Ğ¾Ğ°Ğ¾Ğ°Ğ·Ğ¾Ğ°Ğ·Ğ¾Ğ°Ğ·Ğ¾Ğ°Ğ·Ğ¾Ğ°Ğ·Ğ¾Ğ°Ğ·Ğ¾Ğ°Ğ·Ğ¾Ğ°Ğ·Ğ¾Ğ°Ğ·Ğ¾Ğ°Ğ·Ğ·Ğ¾ã€‘](https://rtfm.co.ua/arch-ustanovka-virtualbox-vagrant-i-docker/)
*   <small>02/15/2017</small>[Arch:Virtualboxâ€“æ— å†…æ ¸ 4 . 8 . 10-1-Arch headers](https://rtfm.co.ua/arch-virtualbox-no-kernel-4-8-10-1-arch-headers/)<small>(0)</small>
*   t04/21/2017 t1t2bashâ€”ä» Docker Swarm åˆ é™¤æ˜ åƒçš„è„šæœ¬