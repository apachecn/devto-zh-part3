# qrfn : QR ç å’Œ Azure åŠŸèƒ½

> åŸæ–‡:[https://dev . to/heya yush/qrfn-QR-codes-and-azure-functions-i6e](https://dev.to/heyayush/qrfn-qr-codes-and-azure-functions-i6e)

### [](#qrfn-qr-codes-and-azure-functions)**qrfn:äºŒç»´ç å’Œ Azure åŠŸèƒ½**

åªéœ€åœ¨ [*æŸ¥è¯¢å‚æ•°ä¸­ä¼ é€’ä¸€æ®µæ–‡å­—ï¼Œå³å¯ç”Ÿæˆ*](https://en.wikipedia.org/wiki/Query_string) *[**äºŒç»´ç **](https://en.wikipedia.org/wiki/QR_code) ã€‚*

[![](../Images/24adf6b0c704fcfe7749f91da628b9e4.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--0J8rXck---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/0%2A3EQRtUmQCcOvzkwG) 

<figcaption>ç…§ç‰‡ç”±[ç±³å¨…Â·ä¼Šä¸‡è¯ºå¤«](https://unsplash.com/@aka_opex?utm_source=medium&utm_medium=referral)äº [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)</figcaption>

åœ¨è¿™ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°æˆ‘åˆ°ç›®å‰ä¸ºæ­¢æ˜¯å¦‚ä½•ä½¿ç”¨äºŒç»´ç çš„ã€‚

*   äº†è§£ Azure Functions å¦‚ä½•æˆä¸ºä½ çš„å»ºç­‘å’Œä¸šåŠ¡ä¸­çš„ä¸€å—ä¹é«˜ç§¯æœ¨ã€‚
*   æ²¡æœ‰ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹å‰§é€ï¼Œæ”¾å¿ƒçœ‹æ¯ä¸€éƒ¨ï¼›p
*   è¯·å¯ç”¨å›¾åƒã€‚

### **TLï¼›åšå£«**

> 1.  QR code.js â€”å¿«é€Ÿå“åº”ä»£ç 
>     
>     
> 2.  å…‰æ …åŒ– HTML â€”å¯ä¸‹è½½å›¾åƒ
>     
>     
> 3.  ä»æŸ¥è¯¢å‚æ•°ä¸­è¯»å–æ–‡æœ¬ï¼Œå¹¶å‘é€ QR ç ä½œä¸ºå“åº”ã€‚
>     
>     
> 
> æ²¡å¬æ‡‚ï¼Ÿæµè§ˆåšå®¢ã€‚

### [](#qr-code)äºŒç»´ç ï¼Ÿ

æˆ‘è®¤ä¸ºäºŒç»´ç æ˜¯ä»â€œç°å®ä¸–ç•Œâ€åˆ°â€œäº’è”ç½‘â€çš„é—¨æˆ·ã€‚æˆ‘ä»¬çœ‹åˆ°äºŒç»´ç æ­£ä»¥å¤šç§æ–¹å¼ä½¿ç”¨ï¼Œå¦‚ç”µå½±ç¥¨ã€æ´»åŠ¨é—¨ç¥¨ã€æ”¯ä»˜ã€WIFI ç½‘ç»œç™»å½•ç­‰ã€‚

ä½†æ˜¯ QR ä¸Šæ²¡æœ‰å®Œæ•´å½¢å¼çš„åšå®¢ç®—ä»€ä¹ˆå‘¢ï¼Ÿ

è¢«ç§°ä¸ºå¿«é€Ÿååº”ç ã€‚

[![](../Images/fe13ed4208ebd24e092e9570fc407780.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--pVVJToD_--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AUsxWbnYbgMGtOFw9-Dvi4g.jpeg) 

<figcaption>QChain - QR å¯ç”¨é’¥åŒ™æ‰£</figcaption>

æˆ‘ä»¬åœ¨ä¸€ä¸ªå®éªŒä¸­åˆ¶ä½œäº† **QChain** ï¼Œè¿™ä¸ªå®éªŒæ˜¯**å¯åŠ¨ä¸€å‘¨**ã€‚æˆ‘ä»¬åœ¨ **12 å°æ—¶**æƒ³åˆ°ä¸€ä¸ªä¸»æ„ï¼Œå¹¶åœ¨æ•´ä¸ª**å‘¨**æ‰§è¡Œå®ƒã€‚

åªè¦æœ‰ä¸€ä¸ªå¸¦æœ‰å¤±ä¸»æœ‰ç”¨ä¿¡æ¯çš„ QRï¼ŒQchain å°±èƒ½ç»™ä½ æ‰¾åˆ°ä¸¢å¤±é’¥åŒ™çš„å¸Œæœ›ã€‚

ä¸ºäº†èšé›†é¡¾å®¢ï¼Œæˆ‘ä»¬é€šè¿‡**ä¼—ç­¹**ç­¹é›†èµ„é‡‘ï¼Œå¹¶åœ¨ä¸€å‘¨åå¼€å§‹äº¤ä»˜ä»–ä»¬çš„äº§å“ã€‚

æˆ‘ä»¬æ›¾ç»ç”¨ **3D æ‰“å°**è¡¨å£³ï¼ŒæŠŠäºŒç»´ç æ‰“å°åœ¨è´´çº¸é¡µä¸Šï¼Œå‰ªä¸‹æ¥è´´åœ¨è¡¨å£³ä¸Šã€‚æˆ‘ä»¬ä¸èƒ½è‡ªåŠ¨åŒ–ç¡¬ä»¶ï¼Œä½†æ˜¯è½¯ä»¶ï¼Œå½“ç„¶æˆ‘æœ‰ **Azure åŠŸèƒ½**ã€‚

åœ¨äººä»¬è¿‡å»å‘æˆ‘ä»¬ä»˜è´¹å¹¶æäº¤ä¿¡æ¯çš„è¡¨æ ¼ä¸­ï¼Œæˆ‘å°†æäº¤å†…å®¹å‘é€åˆ° QRFnï¼Œä»¥ç”Ÿæˆä»–ä»¬å¯¹æ´»åŠ¨çš„ QR(çœŸæ£’ r8)ã€‚

[![](../Images/c0c3d9828a549ea36154f8034bd97291.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--L-INnL9R--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/726/1%2A-kKYgluyWQkbFkOMs-lXLg.png)

æ­¤å¤–ï¼Œå½“æˆ‘æ„å»º[**Cliniq**](https://cliniq.ml)* * * *æ—¶ï¼Œæˆ‘åœ¨æ„å»ºæ‚£è€…é¢„çº¦æœåŠ¡æ—¶ä½¿ç”¨äº† QRfnã€‚Cliniq èƒŒåçš„æƒ³æ³•æ˜¯è·³è¿‡é•¿æ—¶é—´ç­‰å¾…çœ‹åŒ»ç”Ÿã€‚

æ‚£è€…é—¨æˆ·ç½‘ç«™å¯ä»¥ç”ŸæˆäºŒç»´ç ä¸æˆ‘ä»¬çš„æ•°æ®åº“ä¸­ä½¿ç”¨çš„ä¸»é”®ï¼Œå¹¶å¯ä»¥æœ‰ä¸€ä¸ªé¢„å®šæ—¶é—´çš„é¢„çº¦ç°¿ã€‚

åŒ»ç”Ÿå¯ä»¥æ‰«æ QR ç ï¼Œå¹¶åœ¨å­—æ®µä¸­å†™ä¸‹ç—‡çŠ¶ã€è¯´æ˜å’Œå¤„æ–¹ã€‚åŒ»ç”Ÿé—¨æˆ·åªæ˜¯åœ¨ QChain ä¸­ä½¿ç”¨ä¸»é”®æ’å…¥æ•°æ®ã€‚

ç±»ä¼¼åœ°ï¼ŒåŒ–å­¦å®¶å¯ä»¥æ‰«æ QRï¼Œä½¿ç”¨ä¸»å¯†é’¥æ£€ç´¢å¤„æ–¹å¹¶æä¾›è¯ç‰©ã€‚

QRfn è¢«è®¤ä¸ºæ˜¯å¿…ä¸å¯å°‘çš„ã€‚

### [](#azure-functions)**å¤©è“è‰²åŠŸèƒ½**

Azure Functions æ˜¯ä¸€ç§[æ— æœåŠ¡å™¨](https://azure.microsoft.com/solutions/serverless/)è®¡ç®—æœåŠ¡ï¼Œå®ƒä½¿æ‚¨èƒ½å¤ŸæŒ‰éœ€è¿è¡Œä»£ç ï¼Œè€Œä¸å¿…æ˜¾å¼åœ°ä¾›åº”æˆ–ç®¡ç†åŸºç¡€æ¶æ„ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Azure å‡½æ•°è¿è¡Œä¸€ä¸ªè„šæœ¬æˆ–ä¸€æ®µä»£ç æ¥å“åº”å„ç§äº‹ä»¶ã€‚

Azure function å¾ˆå®¹æ˜“è¢«æƒ³è±¡æˆä¸€ä¸ªä¹é«˜ç§¯æœ¨ï¼Œä¸€ä¸ªæœ‰åŠ©äºç”¨å¤§è±¡å»ºé€ å»ºç­‘ç‰©æˆ–èˆ¹åªçš„éƒ¨ä»¶ã€‚å½“ä¸å­˜åœ¨ä»»ä½•ç›¸åŒçš„ API æ—¶ï¼Œå®ƒå¯ä»¥ä½œä¸ºæ»¡è¶³æ‰€æœ‰å †æ ˆéœ€æ±‚çš„å…³é”® APIã€‚

æ­¤å¤–ï¼Œè¿™ä¸ªä¹é«˜ç§¯æœ¨å¯ä»¥æ˜¯ä¸€è‰˜èˆ¹ï¼Œè¡¨æ¼”æ€§çš„ï¼Œä½ ä¸éœ€è¦ä»˜è´¹ï¼Œç›´åˆ°ä½ ä½¿ç”¨å®ƒ(æŒ‰æ‰§è¡Œæ¨¡å¼ä»˜è´¹)ã€‚

### å¥½äº†ï¼Œè®©æˆ‘ä»¬å¼€å§‹å‡†å¤‡ QRfn å§

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¶å¤åˆ¶ç²˜è´´ github repo ä¸­çš„ä»£ç ï¼Œå› ä¸º images ä¸å…è®¸ä½ è¿™æ ·åšï¼›p[*https://github.com/heyayushh/qrfn*T3ã€‘](https://github.com/heyayushh/qrfn)

### [](#1-write-html-to-respond-with-a-template)1ã€‚ç¼–å†™ HTML ç”¨æ¨¡æ¿æ¥å“åº”

*éœ€è¦*ä¸­çš„ä¸œè¥¿

*   QRCode.js åˆ¶ä½œ QR ç 
*   æ …æ ¼åŒ– HTMLâ€”â€”ç”¨ HTML [åˆ¶ä½œå›¾åƒ https://medium . com/media/08638 F4 f 37 ed 6 e 9422 f 9 BC 72 B1 ed 61d 6/href](https://medium.com/media/08638f4f37ed6e9422f9bc72b1ed61d6/href)

**HTML çš„*çš„***

 *div å ä½ç¬¦ä¼šæ‹¿ç€ç‹åº§çš„å›½ç‹(æ­¤å¤„äºŒç»´ç )ã€‚å±å¹•åªæ˜¯å ä½ç¬¦çš„å®¹å™¨ã€‚æˆ‘è¿˜æ·»åŠ äº†ä¸€ä¸ªä¸‹è½½æŒ‰é’®ï¼Œå®ƒåœ¨å•å‡»æ—¶æ‰§è¡Œä¸€ä¸ªåä¸º download()çš„è„šæœ¬ï¼Œè¯¥è„šæœ¬å°†ä¸‹è½½æ–‡ä»¶ã€‚

[https://medium.com/media/d1dc26b9d223af040a1570ec8dad6b5e/href](https://medium.com/media/d1dc26b9d223af040a1570ec8dad6b5e/href)

#### [](#scripts)**å‰§æœ¬**

*   [**QR code . js**](https://davidshimjs.github.io/qrcodejs/)[https://medium . com/media/2833 fa 2 f 9 b5 d 064 f 32 D1 ee 210 b 47 D2 Fe/href](https://medium.com/media/2833fa2f9b5d064f32d1ee210b47d2fe/href)

è¿™ä¼šåœ¨ HTML æ ‡ç­¾ä¸­ç”Ÿæˆä¸€ä¸ª QR ç ã€‚

ç‚¹å‡» å¯ä»¥äº†è§£æ›´å¤š[äºŒç»´ç . js *ã€‚*](https://davidshimjs.github.io/qrcodejs/)

[![](../Images/2806b8b4592c5436bac59c1120a79f1e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--dmTk9AiO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/632/1%2A6scrQmwXQod3FLodbxHjLA.png)

#### [](#convert-html-to-a-js-string)*å°† HTML è½¬æ¢æˆ JS å­—ç¬¦ä¸²*

å½“æˆ‘ä»¬ä» JS å‘é€ä¸€ä¸ª HTML é¡µé¢ç»™å®¢æˆ·ç«¯æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥è½¬æ¢å®ƒã€‚ç”±äº html å†…å®¹åŒ…å«å¤§é‡çš„'ï¼Œ"ï¼Œ

æ­£ç¡®æåŠè·¯å¾„å’Œæ–‡ä»¶åã€‚

åœ¨ mac OS/ Linux ä¸­ï¼Œåœ¨ä¸ HTML é¡µé¢ç›¸åŒçš„ç›®å½•ä¸­è¿è¡Œå‘½ä»¤ã€‚æˆ–è€…æ‚¨ä¹Ÿå¯ä»¥å¤åˆ¶ç²˜è´´æ§åˆ¶å°è¾“å‡ºã€‚

```
node convertHtmlToString.js | cat >> var.txt 
```

ç°åœ¨ï¼Œä¿å­˜ var.txt/output çš„å†…å®¹ä¾›ä»¥åä½¿ç”¨ã€‚

### [](#azure-functions)Azure å‡½æ•°

***è¦æ±‚***

*   Azure é—¨æˆ·

#### [](#1-create-a-function-app)1ã€‚åˆ›å»ºåŠŸèƒ½åº”ç”¨ç¨‹åº

[![](../Images/e1749ca43fe7097bf0e8e2bc79ee1511.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--YPGj3YFY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2A1qkawESD4VCj3P_nvSQOlQ.png) 

<figcaption>1 æ­¥â€”â€”åˆ›å»ºä¸€ä¸ª Azure åŠŸèƒ½ App</figcaption>

#### [](#2-use-inportal-development)2ã€‚ä½¿ç”¨é—¨æˆ·å†…å¼€å‘

[![](../Images/e60f16c1bef134749fbf2fb52a0dee98.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--FsKKlW70--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AFQbtLsJ-Zadw02nzpCUGuQ.png) 

<figcaption>ç¬¬äºŒæ­¥ä½¿ç”¨é—¨æˆ·å†…å¼€å‘</figcaption>

#### [](#3-create-a-http-trigger-webhook-api-function)3ã€‚åˆ›å»ºä¸€ä¸ª HTTP è§¦å‘å™¨/ Webhook / API å‡½æ•°

[![](../Images/efbcee48df5fb81397c7bcd64b9aab0d.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--VVwUJpOE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2A5hrwum90TWnjlomJ7SR7Vg.png) 

<figcaption>ç¬¬ä¸‰æ­¥â€”â€”åˆ›å»ºå‡½æ•°</figcaption>

#### [](#4-its-the-showtime)4ã€‚è¡¨æ¼”æ—¶é—´åˆ°äº†ã€‚

[![](../Images/3859bcdd255f0400d2050829a7156a28.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--LaNvIE1J--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2ANwu9gBbOf7tWzjD53ocBJg.png) 

<figcaption>ç¬¬å››æ­¥â€”â€”å†™ä»£ç ã€‚</figcaption>

[![](../Images/6c98b65a6e913956ad36cf830231da95.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--6HjhCeo5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AAh12fSfztxEFj4G9dWbOdA.png) 

<figcaption>ä»£ç ğŸ˜</figcaption>

è¿™æ®µä»£ç è¦è¯´çš„ä¸œè¥¿å¤ªå¤šäº†ï¼Œåªæœ‰ 10 è¡Œã€‚

***qrSite*** æ˜¯æˆ‘ä»¬ä¹‹å‰ä¿å­˜çš„ html ä»£ç çš„å˜é‡ã€‚

***ã€genQr(text)***å‡½æ•°è¿”å›å‰é¢ä¼ é€’çš„æ–‡æœ¬çš„ä¸€ä¸ª Qr ä½œä¸ºå‚æ•°(å’Œæˆ‘å¥³æœ‹å‹ä¸€æ ·)ã€‚

***context.res*** æ˜¯ä¸€ä¸ªæˆåŠŸè¯·æ±‚çš„ azure å‡½æ•°çš„å“åº”ä½“(json)ã€‚

**ä¿å­˜**å’Œ**è¿è¡Œ**æµ‹è¯•æ®µä¸­çš„*ä»£ç *æˆ–**é‚®é€’å‘˜**æ·»åŠ å¦‚ä¸‹æ–‡æœ¬:

*ã€https://<****ã€ä½ çš„åŠŸèƒ½åº”ç”¨ç¨‹åºã€‘***>ã€‚azure sites . net/API/<***ä½ çš„åŠŸèƒ½åç§°* ***æ–‡å­—****= thanku 4 é˜…è¯» mylogloplclap***

å¹¶ä¸”å®ƒä¼šç”¨ä¸€ä¸ªå¸¦æœ‰*äºŒç»´ç ç”Ÿæˆå™¨*çš„ **HTML** ***ç½‘ç«™*** æ¥å“åº”ã€‚

[![](../Images/2f7a062e95d40d585a122e489c33bfbb.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--7aH1TGcp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2A3plRNv0lCBrX-nXezUSDow.png)

æˆ‘ä»¬å¼€å§‹å§ï¼Œæˆ‘ä»¬æœ‰ä¸ƒå›½ä¹‹ç‹ï¼ŒWiFi å¯†ç çš„ä¿æŠ¤è€…ï¼Œ **QRfn** ã€‚

äº†è§£æ›´å¤šä¿¡æ¯:

[https://functions.azure.com](https://functions.azure.com)/

[https://imaginecup.microsoft.com/en-us/Events?id=0](https://imaginecup.microsoft.com/en-us/Events?id=0)

è¿™æ˜¯ç»™ [QRfn](https://github.com/heyAyushh/qrfn) çš„æš—å·ï¼Œæ„¿ 4 å·ä¸ä½ åŒåœ¨ã€‚

[https://medium . com/media/D4 c80c 9 c56 F3 a 23 D8 d290 ce 9 C7 fc 71 B7/href](https://medium.com/media/d4c80c9c56f3a23d8d290ce9c7fc71b7/href)*