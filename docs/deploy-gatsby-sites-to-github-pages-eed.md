# å°† Gatsby ç«™ç‚¹éƒ¨ç½²åˆ° GitHub é¡µé¢

> åŸæ–‡ï¼š<https://dev.to/flexdinesh/deploy-gatsby-sites-to-github-pages-eed>

ç›–èŒ¨æ¯”ç°åœ¨é£é¡ä¸€æ—¶ï¼Œè¿™è¦å½’åŠŸäºè¿™ä¸ªèŠ±å“¨æ˜“ç”¨çš„æ¡†æ¶èƒŒåä»¤äººæƒŠå¹çš„å›¢é˜Ÿã€‚å¦‚æœä½ æ˜¯**åœ¨å»ºä¸€ä¸ªé™æ€ç½‘ç«™**ï¼Œæˆ‘å°±ä¸æ‰“ç®—ç»†è¯´ä¸ºä»€ä¹ˆä½ **åº”è¯¥ç”¨ç›–èŒ¨æ¯”**ã€‚æœ‰å¾ˆå¤šå¸–å­éƒ½æ˜¯è¿™ä¹ˆè¯´çš„ã€‚

è¿™é‡Œæœ‰ä¸€ç¯‡å…³äºä¸ºä»€ä¹ˆåº”è¯¥ä½¿ç”¨ GatsbyJS æ„å»ºé™æ€ç«™ç‚¹çš„ä¼˜ç§€æ–‡ç« 

è¿™äº›æ˜¯æˆ‘çš„é¦–è¦åŸå› 

*   æƒŠäººçš„å¼€å‘ä½“éªŒ
*   é¢„çƒ˜ç„™ä¼˜åŒ–
*   ç”Ÿæˆçš„ç½‘ç«™è¶…çº§å¿«
*   å¯¹ GraphQL çš„ç°æˆæ”¯æŒ

## åœ¨ä»»ä½•åœ°æ–¹éƒ¨ç½² Gatsby ç«™ç‚¹

å› ä¸º Gatsby ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œæ‰€ä»¥æ‚¨å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹éƒ¨ç½²å®ƒã€‚ä½†æ˜¯æœ€ç®€å•å¿«æ·çš„é€‰æ‹©æ˜¯å°†ä½ çš„ç½‘ç«™éƒ¨ç½²åˆ° [GitHub é¡µé¢](https://pages.github.com/)ã€‚

### GitHub é¡µ

ä½ å¯ä»¥ç”¨ GitHub é¡µé¢å…è´¹æ‰˜ç®¡é™æ€ç½‘ç«™ã€‚GitHub é¡µé¢ä¸­å¯ä»¥æ‰˜ç®¡ä¸¤ç§ç±»å‹çš„ç½‘ç«™ã€‚

1.  ä¸ªäººç½‘ç«™-å›è´­åç§°åº”ä¸º`username.github.io`ï¼Œå¯åœ¨`https://username.github.io`è®¿é—®è¯¥ç½‘ç«™
2.  é¡¹ç›®ç½‘ç«™-å›è´­åç§°å¯ä»¥æ˜¯ä»»ä½•åç§°ï¼Œç½‘ç«™å¯åœ¨`https://username.github.io/repo-name`è®¿é—®

ä½ æ‰€è¦åšçš„å°±æ˜¯å°†é™æ€ç«™ç‚¹æ¨é€åˆ°æ ¹ç›®å½•ä¸‹çš„ repoã€‚

æ›´å¤šä¿¡æ¯è¯·ç‚¹å‡»æ­¤å¤„- [GitHub é¡µé¢](https://pages.github.com/)

## å°† Gatsby ç«™ç‚¹éƒ¨ç½²åˆ° GitHub é¡µé¢

å½“æ‚¨è¿è¡Œå‘½ä»¤`gatsby build`æ—¶ï¼ŒGatsby ä¼šç”Ÿæˆæ‚¨çš„é™æ€ç«™ç‚¹ã€‚

è¿™é‡Œå”¯ä¸€çš„é—®é¢˜æ˜¯ GitHub é¡µé¢å¸Œæœ›ä½ çš„ç«™ç‚¹æ–‡ä»¶åœ¨æ ¹ç›®å½•ä¸‹ï¼Œä½†æ˜¯ Gatsby åœ¨ä¸€ä¸ªåä¸º`public`çš„ç›®å½•ä¸‹ç”Ÿæˆç«™ç‚¹æ–‡ä»¶ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½åœ¨åŒä¸€ä¸ª repo ä¸­æ‰˜ç®¡æºä»£ç å’Œå…¬å…±æ–‡ä»¶ã€‚

gh-pages æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„åŒ…ï¼Œå¯ä»¥å¸®åŠ©ä½ ä»ä»»ä½•åœ°æ–¹å°†é™æ€ç«™ç‚¹æ¨é€åˆ° GitHub repoã€‚

### æ­¥éª¤

*   `yarn add gh-pages --dev`
*   åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•`scripts`ï¼Œå¹¶åœ¨`scripts`ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶`deploy-github.js`
*   å°†æ­¤ä»£ç æ·»åŠ åˆ°`deploy-github.js`

```
const ghpages = require('gh-pages')

// replace with your repo url
ghpages.publish(
  'public',
  {
    branch: 'master',
    repo: 'https://github.com/flexdinesh/flexdinesh.github.io.git',
  },
  () => {
    console.log('Deploy Complete!')
  }
) 
```

Enter fullscreen mode Exit fullscreen mode

*   åœ¨`package.json`ä¸­æ·»åŠ æ–°çš„ npm è„šæœ¬`deploy:github`

```
"deploy:github":  "npm run build && node ./scripts/deploy-github" 
```

Enter fullscreen mode Exit fullscreen mode

*   è¿è¡Œè„šæœ¬ï¼Œæ‚¨çš„é™æ€ç«™ç‚¹å°†åœ¨å‡ ç§’é’Ÿå†…å¯åŠ¨å¹¶è¿è¡Œ

*æ³¨æ„:å½“æ‚¨è¿è¡Œè¯¥å‘½ä»¤æ—¶ï¼Œåœ¨å‘å¸ƒä¹‹å‰ï¼Œæ‚¨å°†è¢«è¦æ±‚åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥æ‚¨çš„ GitHub å‡­è¯ã€‚*

å¦‚æœä½ éœ€è¦è¿›ä¸€æ­¥çš„èµ„æ–™ï¼Œä½ å¯ä»¥çœ‹çœ‹æˆ‘çš„ä¸ªäººç½‘ç«™ [Dinesh Pandiyan - Portfolio](https://github.com/flexdinesh/portfolio) çš„æºä»£ç ã€‚å®ƒè¢«éƒ¨ç½²åˆ° Netlify å’Œ Github é¡µé¢ã€‚

å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªå¥½çš„ Gatsby starter æ¨¡æ¿ï¼Œæˆ‘åœ¨æˆ‘çš„é¢„çƒ¤ web è®¾ç½®ä¸­ç»´æŠ¤äº†ä¸€ä¸ªæ ·æ¿- [Gatsby æ ·æ¿](https://github.com/flexdinesh/gatsby-boilerplate)ã€‚å¦‚æœæˆ‘æƒ³å¼€å§‹ä¸€ä¸ªæ–°çš„ç›–èŒ¨æ¯”ç½‘ç«™ï¼Œæˆ‘é€šå¸¸ä¼šå‰è¿™ä¸ªå›è´­ã€‚

å¿«ä¹çš„ç›–èŒ¨æ¯”ï¼ğŸ”¥