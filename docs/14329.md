# JS ä¸­çš„å•å…ƒæµ‹è¯•ç®€ä»‹

> åŸæ–‡ï¼š<https://dev.to/areknawo/introduction-to-unit-testing-in-js-2bmk>

**è¿™ç¯‡æ–‡ç« æ‘˜è‡ª[æˆ‘çš„åšå®¢](https://areknawo.com)ï¼Œæ‰€ä»¥è¯·åŠ¡å¿…æŸ¥çœ‹æ›´å¤šæœ€æ–°å†…å®¹ğŸ˜‰**

å¦‚æœä½ æ˜¯ç¼–ç¨‹æ–°æ‰‹ï¼Œæˆ–è€…ä½ åªæ˜¯ä¸€ä¸ªä¸šä½™çˆ±å¥½çš„ç¨‹åºå‘˜ï¼Œä»æ¥æ²¡æœ‰åšè¿‡ä»»ä½•ç±»å‹çš„å¼€æºé¡¹ç›®ï¼Œé‚£ä¹ˆä½ å¯èƒ½ä¼šå¯¹æµ‹è¯•ä½ çš„ä»£ç çš„æƒ³æ³•æ„Ÿåˆ°æœ‰ç‚¹æ€€ç–‘ã€‚å¦‚æœä½ ç¡®å®æ˜¯ï¼Œé‚£ä¹ˆåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œè®©æˆ‘è¯´æœä½ ä¸ºä½ çš„ä»£ç åš**å•å…ƒæµ‹è¯•**ï¼Œå¹¶ä¸”æµ‹è¯•å®ƒï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªå¥½çš„å®è·µã€‚ç„¶åæˆ‘ä»¬å°†å­¦ä¹ /ä¿®æ”¹ä¸€äº›å…³äºä»£ç æµ‹è¯•çš„çŸ¥è¯†ï¼Œæœ€åæ¢ç´¢è¿›è¡Œå•å…ƒæµ‹è¯•çš„æœ€ä½³å·¥å…·ã€‚å°½æƒ…äº«å—å§ï¼ğŸ˜‰

# ä¸ºä»€ä¹ˆè¦æ£€æµ‹ï¼Ÿ

é¦–å…ˆï¼Œè®©æˆ‘ä»¬è°ˆè°ˆä¸ºä»€ä¹ˆæµ‹è¯•å¾ˆé‡è¦ã€‚å½“ä½ å¼€å‘ä»»ä½•ç§ç±»çš„åº”ç”¨æˆ–å·¥å…·(å°¤å…¶æ˜¯å¼€æºçš„)æ—¶ï¼Œæµ‹è¯•åº”è¯¥æ˜¯ä½ çš„ç›Ÿå‹ã€‚æƒ³æƒ³ä»–ä»¬å¸¦æ¥çš„**è´¨é‡**ã€‚å½“æ‚¨çš„æµ‹è¯•è¦†ç›–äº†ä»£ç ä¸­æ‰€æœ‰å¯èƒ½çš„å¼‚å¸¸å’Œæƒ…å†µæ—¶ï¼Œæ‚¨å¯ä»¥ç¡®ä¿¡å®ƒåœ¨å°†æ¥ä¸ä¼šè®©æ‚¨å¤±æœ›ã€‚è¿™æ˜¯æµ‹è¯•çš„å¦ä¸€ä¸ªåŸå› - **ä¿è¯**ã€‚è¦†ç›–æ‚¨æ•´ä¸ªä»£ç åº“çš„æµ‹è¯•ä¿æŒæœ€æ–°ï¼Œå…è®¸æ‚¨ä¸æ–­åœ°æ£€æŸ¥å®ƒæ˜¯å¦æœ‰ä»»ä½•é”™è¯¯ã€‚å®ƒè®©ä½ ç¡®ä¿¡ä¸€åˆ‡éƒ½å¾ˆå¥½ã€‚å¦‚æœä½ æ²¡æœ‰åšè¿‡ä»»ä½•éœ€è¦ç”±è®¸å¤šäººç®¡ç†æˆ–éœ€è¦ä¸ºä»–äººæœåŠ¡çš„é¡¹ç›®(OSS ),é‚£ä¹ˆä½ å¯èƒ½ä¸ä¼šçœŸçš„æŠŠè¿™æ•´ä¸ªä¿è¯å½“æˆä¸€ä»¶äº‹ã€‚ä½†æ˜¯ç›¸ä¿¡æˆ‘ï¼Œè¿™çœŸçš„å¾ˆé‡è¦ã€‚æ²¡æœ‰ä»»ä½•**ä¿è¯**ï¼Œä½ æ°¸è¿œæ— æ³•ç¡®å®šä½ çš„ä»£ç æ˜¯å¦**å¥åº·**ã€‚ğŸ˜•æœ€åä½†åŒæ ·é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬æœ‰**æ–‡æ¡£**çš„ä¼˜åŠ¿ã€‚ä¿¡ä¸ä¿¡ç”±ä½ ï¼Œä¸æ•´é¡µæ–‡å­—ç›¸æ¯”ï¼Œæ­£ç¡®å®Œæˆçš„æµ‹è¯•æœ‰æ—¶å¯ä»¥æ›´å¥½åœ°ç†è§£å¦‚ä½•ä½¿ç”¨ä¸€æ®µç‰¹å®šçš„ä»£ç ã€‚æƒ³æƒ³å§ã€‚æ‚¨çš„ä»£ç é€šè¿‡äº†æµ‹è¯•ã€‚è¿™æ ·ï¼Œæ‚¨å°±æœ‰äº†å¦‚ä½•ä½¿ç”¨ç»™å®šä»£ç åŠå…¶ç»“æœçš„ä¿¡æ¯ã€‚å› æ­¤ï¼Œæ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæœ‰å¾ˆå¤šç†ç”±å¼€å§‹æµ‹è¯•ä½ çš„ä»£ç ï¼Œå› æ­¤ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰ï¼Œæ˜¯æ—¶å€™åšä¸€äº›æµ‹è¯•äº†ï¼

# æµ‹è¯•ç§ç±»

å¦‚æœæˆ‘æˆåŠŸè¯´æœä½ å»åšæµ‹è¯•ï¼Œé‚£æˆ‘çœŸçš„å¾ˆå¼€å¿ƒã€‚ğŸ‰ä½†æ˜¯ä»£ç æµ‹è¯•ä¸–ç•Œçš„è§„æ¨¡åœ¨å¼€å§‹çš„æ—¶å€™å¯èƒ½ä¼šè®©äººæ„Ÿåˆ°æœ‰äº›ä¸çŸ¥æ‰€æªã€‚æœ‰å¦‚æ­¤å¤šçš„æœ¯è¯­ã€æ¦‚å¿µã€æ„è¯†å½¢æ€å’Œå·¥å…·ä»¥åŠåº“éœ€è¦äº†è§£ã€‚è®©æˆ‘ä»¬ç»™å®ƒä¸€äº›ç»“æ„ã€‚é¦–å…ˆï¼Œä½ å¿…é¡»çŸ¥é“ä½ åœ¨åšä»€ä¹ˆæ ·çš„æµ‹è¯•ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä¸ºè¿™é¡¹å·¥ä½œé€‰æ‹©åˆé€‚çš„å·¥å…·ã€‚æ ¹æ®å­˜åœ¨çš„åŸå› ï¼Œæœ‰ 3 ç§ä¸»è¦çš„**ç±»å‹**çš„æµ‹è¯•ã€‚

*   **å•å…ƒæµ‹è¯•** -å•å…ƒæµ‹è¯•å…è®¸ä½ æµ‹è¯•ä½ çš„ä»£ç çš„ä¸€ä¸ªçœŸæ­£**ç‰¹å®šçš„æ–¹é¢**ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªé’ˆå¯¹é¢„æœŸç»“æœçš„åŠŸèƒ½ã€‚å¯¹äºä½ çš„æµ‹è¯•æ¥è¯´ï¼Œè¦†ç›–ä½ æ‰€æœ‰çš„ä»£ç ï¼Œä¸€ä¸ªç‰¹æ€§æ¥ä¸€ä¸ªç‰¹æ€§ï¼Œè¿™çœŸçš„å¾ˆé‡è¦ã€‚è¿™äº›æ˜¯è¿™ç¯‡æ–‡ç« çš„ä¸»è¦ç„¦ç‚¹ã€‚
*   **é›†æˆæµ‹è¯•** -æµ‹è¯•ä½ çš„ä»£ç çš„ä¸åŒéƒ¨åˆ†ï¼Œä¾‹å¦‚ç»„ä»¶æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ä½ è¿˜åº”è¯¥æ£€æŸ¥å®ƒä»¬ä¸€èµ·å·¥ä½œçš„æ–¹å¼ï¼Œå³**ç»“æ„å®Œæ•´æ€§**ã€‚æ£€æŸ¥å‰¯ä½œç”¨ä¹Ÿå¾ˆé‡è¦ã€‚ä½ å¿…é¡»çŸ¥é“æ˜¯å¦æœ‰å‡½æ•°è°ƒç”¨ç­‰ç­‰ã€‚ä½ æ²¡æœ‰è®¡åˆ’ã€‚
*   **åŠŸèƒ½æµ‹è¯•**â€”â€”æˆ‘è®¤ä¸º **UI æµ‹è¯•**è¿™ä¸ªåå­—æ›´å¥½åœ°è§£é‡Šäº†è¿™äº›æµ‹è¯•çš„ç›®çš„ã€‚é€šè¿‡åŠŸèƒ½æµ‹è¯•ï¼Œä½ å¯ä»¥åœ¨ç‰¹å®šçš„**ç¯å¢ƒ**ä¸­æ£€æŸ¥ä½ çš„æœ€ç»ˆäº§å“ï¼Œæ¯”å¦‚ç½‘ç»œåº”ç”¨ï¼Œé€šå¸¸æ˜¯æµè§ˆå™¨ã€‚è¿™é‡Œå‡ºç°äº†æ— å¤´æµè§ˆå™¨çš„æ¦‚å¿µï¼Œé€šè¿‡ä½¿ç”¨ä¸åŒçš„ API è°ƒç”¨æ¥æ§åˆ¶å®ƒï¼Œåœ¨æ²¡æœ‰å¯è§† UI çš„æµè§ˆå™¨ä¸­æ‰§è¡Œæµ‹è¯•ã€‚ä¹ä¸€çœ‹ï¼Œè¿™ä¼¼ä¹æœ‰ç‚¹ç¬¨æ‹™ï¼Œä½†è¿™æ˜¯ä¸€ç§éå¸¸æœ‰ç”¨çš„æŠ€æœ¯ï¼Œå°¤å…¶æ˜¯èŠ‚çœäº† UI å’Œå…¶ä»–è¿›ç¨‹æ‰€éœ€çš„ä¸€äº›æ—¶é—´ï¼Œè¿™åœ¨æ— å¤´æ¨¡å¼ä¸­æ˜¯ä¸å­˜åœ¨çš„ã€‚

# æœ¯è¯­

ç°åœ¨ï¼Œä½ å¯¹ä¸åŒç±»å‹çš„æµ‹è¯•å’Œå•å…ƒæµ‹è¯•æœ‰äº†æ›´å¤šçš„äº†è§£ï¼Œæˆ‘è®¤ä¸ºåœ¨æµ‹è¯•çš„æ—¶å€™è°ˆè®ºä¸€äº›åŸºæœ¬çš„æ¦‚å¿µå’Œæœ¯è¯­æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚

æˆ‘æƒ³å…ˆè§£é‡Šä¸€ä¸‹ **TDD** å’Œ **BDD** è¿™ä¸¤ä¸ªå¿«æ·æ–¹å¼ï¼Œä½ ä»¬å¯èƒ½ä¹‹å‰å·²ç»åœ¨æŸä¸ªåœ°æ–¹çœ‹åˆ°è¿‡ï¼Œä½†æ˜¯æ²¡æœ‰å¤ªæ³¨æ„ã€‚å› ä¸ºè¿™äº›å¯ä»¥è¢«çœ‹ä½œæ˜¯**æ„å»º**å’Œç¼–å†™æµ‹è¯•çš„åŸºæœ¬æŒ‡å¯¼æ–¹é’ˆã€‚

æµ‹è¯•é©±åŠ¨å¼€å‘(Test-Driven-Development)æ˜¯åŸºäºæµ‹è¯•å¼€å‘è½¯ä»¶çš„è¿‡ç¨‹ã€‚è¿™å°±åƒä¸€ä¸ªå‘¨æœŸï¼Œä¸€ä¸ªå¾ªç¯â€”â€”æ¯æ¬¡ä½ æƒ³è¦æ·»åŠ ä¸€ä¸ªç‰¹æ€§ï¼Œä½ é¦–å…ˆè¦å†™ä½ çš„æµ‹è¯•(å¾ˆæ˜æ˜¾è¿™ä¼šå¤±è´¥),ç„¶åä½ å†™å®é™…çš„ä»£ç ï¼Œå®Œæˆè¿™äº›æµ‹è¯•ï¼Œç„¶åä½ å†æ¬¡æµ‹è¯•æ¥æ£€æŸ¥å®ƒã€‚**ä½ çš„å‘å±•åŸºäºæµ‹è¯•**ã€‚å¾ˆæœ‰è¶£çš„æƒ³æ³•ï¼Œä½ åŒæ„å—ï¼Ÿ

è‡³äº**è¡Œä¸ºé©±åŠ¨å¼€å‘** (BDD)ï¼Œè¿™æ˜¯å¦ä¸€ç§æ„è¯†å½¢æ€ï¼Œäº‹å®ä¸Šæ˜¯åŸºäº TDD çš„ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªåç§°å¯èƒ½ä¸åƒç¬¬ä¸€ä¸ªé‚£æ ·ä¸€ç›®äº†ç„¶ã€‚å®ƒå¯ä»¥è¢«çœ‹ä½œæ˜¯å¸¦æœ‰ä¸€äº›æ›´å¥½çš„é™„åŠ æŒ‡å¯¼æ–¹é’ˆçš„ TDDã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çš„å¼€å‘ä¸æ˜¯ç”±æµ‹è¯•é©±åŠ¨çš„ï¼Œè€Œæ˜¯ç”±è¡Œä¸ºã€è§„èŒƒé©±åŠ¨çš„ï¼Œäº‹å®ä¸Šæ— è®ºå¦‚ä½•éƒ½æ˜¯æµ‹è¯•ã€‚ğŸ˜‚ä»–ä»¬åªæ˜¯æ›´å¥½çš„æè¿°ï¼Œç”¨**çº¯æ­£è‹±è¯­**ã€‚è¿™å…è®¸ä½ çš„æµ‹è¯•è¢«æ›´å¥½åœ°è®°å½•ï¼Œä»è€Œæ›´å…·**å¯è¯»æ€§**ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå›¾ä¹¦é¦†æ¯” TDD æ›´ç»å¸¸é‡‡ç”¨è¿™ç§æ–¹å¼è¿›è¡Œæµ‹è¯•ã€‚

äº†è§£äº†è¿™ä¸¤ä¸ªå¯¹æµ‹è¯•å¦‚æ­¤é‡è¦çš„è¶‹åŠ¿åï¼Œæ˜¯æ—¶å€™æ¢ç´¢ä¸€äº›æœ¯è¯­äº†ï¼Œå°±åƒ BDD å»ºè®®çš„é‚£æ ·ï¼Œç”¨è‹±è¯­è§£é‡Šã€‚ğŸ˜‰

*   **æ–­è¨€å‡½æ•°**â€”â€”æˆ‘ä»¬ç”¨æ¥**æµ‹è¯•**æˆ‘ä»¬çš„ä»£ç ä¸é¢„æœŸè¾“å‡ºçš„å‡½æ•°ã€‚åœ¨ Jest å’Œè®¸å¤šå…¶ä»–å•å…ƒæµ‹è¯•åº“ä¸­ï¼Œå®ƒä»¬çœ‹èµ·æ¥åƒè¿™æ ·:

```
expect(value).toBeTruthy() 
```

Enter fullscreen mode Exit fullscreen mode

*   ä»£ç è¦†ç›–ç‡ -æŒ‡å‡ºæµ‹è¯•è¦†ç›–äº†æˆ‘ä»¬ä»£ç çš„å¤šå¤§éƒ¨åˆ†ã€‚è¿™äº›æ˜¯éå¸¸æœ‰ç”¨çš„ç»Ÿè®¡æ•°æ®ï¼Œå½“æ‚¨é€‰æ‹©ä¸‹ä¸€ä¸ªæµ‹è¯•åº“æ—¶ï¼Œå¯ä»¥è€ƒè™‘è¿™äº›é¢å¤–çš„ç‰¹æ€§ã€‚å½“ç„¶ï¼Œæœ‰[ç‹¬ç«‹å·¥å…·](https://gotwarlost.github.io/istanbul)å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½æ”¾åœ¨ä¸€ä¸ªåŒ…é‡Œä¼šèˆ’æœå¾—å¤šã€‚
*   **ç¯å¢ƒ**â€”â€”ä¸€èˆ¬æ˜¯ä¸€ä¸ª(**æ— å¤´** ) [æµè§ˆå™¨](https://pptr.dev/)æˆ–è€…[ç±»ä¼¼](http://nightwatchjs.org/)çš„ä¸œè¥¿æ¥è¿›è¡Œä½ çš„åŠŸèƒ½æµ‹è¯•ã€‚æˆ‘ä»¬ä¸æ‰“ç®—æ·±ç©¶è¿™ä¸€ç‚¹ï¼Œä½†è¿™é‡Œä¹Ÿæœ‰ä¸€äº›ä¸é”™çš„é€‰æ‹©ã€‚ğŸ˜„
*   [**æ¨¡æ‹Ÿ**](https://sinonjs.org)â€”â€”ä¹Ÿç§°ä¸º**æ¨¡æ‹Ÿ**ï¼Œç”¨äºæ¨¡æ‹ŸæŸäº›è¡Œä¸ºï¼Œä»¥ä¾¿ç¨ååœ¨æµ‹è¯•ä¸­ä½¿ç”¨ï¼Œå³ä½¿æ²¡æœ‰ä»¥ç°å®æ–¹å¼å®ç°çš„ä¸åŒåŠŸèƒ½ï¼Œä¹Ÿèƒ½æä¾›å¯é çš„è¾“å…¥/è¾“å‡ºæ£€æŸ¥ã€‚
*   [**é—´è°**](https://sinonjs.org)â€”â€”æä¾›**ä¿¡æ¯**æœ‰å…³åŠŸèƒ½ã€‚é€šè¿‡ä½¿ç”¨å®ƒä»¬ï¼Œä½ å¯ä»¥çŸ¥é“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨çš„æ¬¡æ•°ã€æ—¶é—´å’Œå‚æ•°ã€‚å®ƒä»¬å¯èƒ½æ˜¯æ£€æŸ¥å‰¯ä½œç”¨çš„æœ€å¥½æ–¹æ³•ã€‚
*   [**å­˜æ ¹**](https://sinonjs.org)â€”â€”ä¹Ÿç§°ä¸º**é…éŸ³**ï¼Œç»™ä½ ç”¨ä¸åŒçš„ä¸œè¥¿æ›¿æ¢æ‰€é€‰åŠŸèƒ½çš„èƒ½åŠ›ï¼Œä»¥æµ‹è¯•é¢„æœŸçš„åŠŸèƒ½å’Œè¡Œä¸ºã€‚
*   **å¿«ç…§æµ‹è¯•** -ä¸€ç§æµ‹è¯•æ–¹å¼ï¼ŒåŸºäºå°†è¾“å‡ºæ•°æ®ä¸å·²ä¿å­˜çš„å‰¯æœ¬(å¿«ç…§)è¿›è¡Œæ¯”è¾ƒã€‚

è‡³æ­¤ï¼Œæ‚¨åº”è¯¥å¯¹æµ‹è¯•æ–¹æ³•å’Œæ‚¨æœŸæœ›ä»æ‚¨é€‰æ‹©çš„åº“è·å¾—çš„åŠŸèƒ½æœ‰äº†åŸºæœ¬çš„äº†è§£ã€‚å› ä¸ºè¿™é‡Œæˆ‘åªå…³æ³¨å•å…ƒæµ‹è¯•ï¼Œæ‰€ä»¥ä¸€å®šè¦æŸ¥çœ‹ä¸Šé¢åˆ—å‡ºçš„ä¸€äº›é“¾æ¥ï¼Œçœ‹çœ‹åœ¨ä¸€ä¸ªç‹¬ç«‹çš„åŒ…ä¸­æä¾›ç»™å®šåŠŸèƒ½çš„å·¥å…·ã€‚

# å•å…ƒæµ‹è¯•

ç†è®ºå·²ç»è¿‡æ—¶äº†ï¼Œæ˜¯æ—¶å€™åšä¸€äº›æµ‹è¯•äº†â€”â€”å•å…ƒæµ‹è¯•ï¼ä½†æ˜¯é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä¸ºè¿™é¡¹å·¥ä½œé€‰æ‹©æœ€å¥½çš„å·¥å…·ã€‚ä¸‹é¢æ˜¯ä¸€äº›æœ€å¥½çš„å•å…ƒæµ‹è¯•åº“å’Œå·¥å…·çš„åˆ—è¡¨&æ›´å¤šã€‚ğŸ”¥

[![img](img/2e79b425d2d5a7ee6fd208e9bbb949d7.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--ARJgGdp6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://areknawo.com/conteimg/2019/02/Screenshot-from-2019-02-01-16-31-43.png)

# [t1](#jest)[æ˜¯](https://jestjs.io/)

```
test('adds 1 + 2 to equal 3', () => {
  expect(1 + 2).toBe(3);
}); 
```

Enter fullscreen mode Exit fullscreen mode

è°ˆåˆ°å•å…ƒæµ‹è¯•ï¼ŒJest æ˜¯æˆ‘ä¸ªäººçš„é¦–é€‰ã€‚ç”±æ¥è‡ªè„¸ä¹¦çš„å®¶ä¼™å¼€å§‹ï¼Œå®ƒå·²ç»åœ¨è®¸å¤šæµè¡Œçš„åº“ä¸Šç»è¿‡äº†å……åˆ†çš„æµ‹è¯•ï¼Œä¾‹å¦‚ **React** æœ¬èº«ã€‚å®ƒæä¾›äº†é«˜è´¨é‡å•å…ƒæµ‹è¯•æ‰€éœ€çš„å‡ ä¹æ‰€æœ‰ç‰¹æ€§ã€‚å¯è¯»çš„æ–­è¨€å‡½æ•°ã€å‡ºè‰²çš„**è¦†ç›–ç‡**æŠ¥å‘Šã€**æ¨¡æ‹Ÿ API** ã€**å¹¶è¡Œæµ‹è¯•è¿è¡Œå™¨**ä»¥åŠæ€»ä½“æ˜“ç”¨æ€§ä½¿å¾—è¿™ä¸ªåº“æˆä¸ºç›®å‰å¸‚åœºä¸Šçš„æœ€ä½³é€‰æ‹©ä¹‹ä¸€ï¼Œå°¤å…¶æ˜¯å¯¹äº BDD è€Œè¨€ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¸€ä¸ªä¼Ÿå¤§çš„ç¤¾åŒºå’Œæ”¯æŒä»¥åŠç²¾å¿ƒç¼–å†™çš„æ–‡æ¡£æ˜¯éå¸¸å¼•äººæ³¨ç›®çš„ã€‚

[![img](img/db4b3f6a241277859715b04828d0dec5.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--Uu1l1ZHm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://areknawo.com/conteimg/2019/02/Screenshot-from-2019-02-01-20-43-34.png)

# [æ‘©å¡](https://mochajs.org/)

```
var assert = require('assert');
describe('Array', function() {
  describe('#indexOf()', function() {
    it('should return -1 when the value is not present', function() {
      assert.equal([1,2,3].indexOf(4), -1);
    });
  });
}); 
```

Enter fullscreen mode Exit fullscreen mode

Mocha æ˜¯å¦ä¸€ä¸ªåº“ï¼Œç›®æ ‡æ˜¯è®©æµ‹è¯•å˜å¾—æœ‰è¶£å’Œç®€å•ã€‚éµå¾ª BDD æ€æƒ³ï¼Œå®ƒæœ‰è®¾è®¡è‰¯å¥½çš„æè¿°æ€§ APIã€‚æ­¤å¤–ï¼Œå½“è°ˆåˆ°å®ƒçš„æ¶æ„æ—¶ï¼Œæ‘©å¡æ˜¯ä¸åŒçš„ã€‚å®ƒä¸ºå¼€å‘è€…æä¾›äº†**æœ€å°**ã€**çµæ´»**çš„è®¾ç½®ï¼Œå…è®¸ä»–ä»¬ç”¨å…¶ä»–å®šåˆ¶åº“æ¥æ‰©å±•å®ƒï¼Œè´Ÿè´£ä¸åŒçš„ä»»åŠ¡ã€‚æœ‰äº† Mochaï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ä½ æƒ³è¦çš„æ–­è¨€åº“(å®ƒæ²¡æœ‰è‡ªå·±çš„)ï¼ŒåŒ…æ‹¬ NodeJS å†…ç½®çš„é‚£ä¸ªæˆ–è€… [**æŸ´**](https://www.chaijs.com) ã€‚å®ƒçš„ API å¯èƒ½æ„Ÿè§‰æœ‰ç‚¹ç±»ä¼¼äº Jestï¼Œåªæ˜¯æœ‰ä¸€äº›å°çš„ä¸åŒã€‚ç”±äºå…¶æ¶æ„ï¼ŒMocha ç¼ºå°‘ Jest å†…ç½®çš„ç‰¹æ€§ã€‚æˆ‘ä»¬æ­£åœ¨è®¨è®ºä»£ç è¦†ç›–ç‡ï¼Œæ›´é‡è¦çš„æ˜¯å¹¶è¡Œæµ‹è¯•è¿è¡Œå™¨(Mocha åªåœ¨ä¸€ä¸ªè¿›ç¨‹ä¸Šè¿è¡Œæµ‹è¯•)ã€‚å¥½å§ï¼Œåœ¨å®ƒç¼ºä¹åŠŸèƒ½çš„åœ°æ–¹ï¼ŒMocha ç”¨å¤§é‡çš„æµ‹è¯•é€‰æ‹©å¼¥è¡¥äº†è§†è§‰ä¸Šçš„ä¸è¶³**progress reporters**(Jest ä¹Ÿæ”¯æŒè¿™ä¸ªç‰¹æ€§)ã€‚ä½†æ˜¯ï¼Œæ­£å¦‚æˆ‘æ‰€è¯´çš„ï¼ŒMocha æ˜¯ä¸ºé‚£äº›å–œæ¬¢æ‹¥æœ‰è‡ªå·±çš„**å¯é…ç½®**è®¾ç½®çš„äººå‡†å¤‡çš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒçš„æ–‡ä»¶å¯èƒ½ä¼šè§‰å¾—ä¸å¦‚ Jest çš„ç²¾ç¾ï¼Œä½†ä»–ä»¬å…¬ç„¶ç”¨å°½è¿™ä¸ªè¯é¢˜ã€‚

[![img](img/f2d0555db9dedf3c5d86743c273d01e2.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--M2mNKZXu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://areknawo.com/conteimg/2019/02/Screenshot-from-2019-02-01-20-43-56.png)

# [èŒ‰è‰](https://jasmine.github.io/)

```
describe("A suite is just a function", function() {
  var a;
  it("and so is a spec", function() {
    a = true;
    expect(a).toBe(true);
  });
}); 
```

Enter fullscreen mode Exit fullscreen mode

Jasmine å¯èƒ½æ¯”è¿™ä»½åå•ä¸Šçš„ä¸€äº›ç«äº‰å¯¹æ‰‹è¦è€ä¸€äº›ã€‚å®ƒè¢«å®£ä¼ ä¸ºå†…ç½®**ç”µæ± çš„**ï¼Œè¯•å›¾æä¾›å¼€å‘è€…å¯èƒ½éœ€è¦çš„æ‰€æœ‰åŠŸèƒ½ã€‚å› æ­¤ï¼ŒJasmine å…·æœ‰å†…ç½®äº expect é£æ ¼å®ç°ä¸­çš„æ–­è¨€åŠŸèƒ½ã€‚éšä¹‹è€Œæ¥çš„æ˜¯å…¶ä»–å†…ç½®åŠŸèƒ½ï¼Œå¦‚é—´è°ï¼Œæ¨¡ä»¿ï¼Œè®°è€…ç­‰ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ æ­£åœ¨ç”¨ **Ruby** æˆ– **Python** åšä¸€äº›å¼€å‘ï¼Œä½ å¯èƒ½ä¼šå‘ç°ä½¿ç”¨åŒä¸€ä¸ªåº“å¾ˆèˆ’æœï¼Œå› ä¸º Jasmine å¯¹è¿™ä¸¤ä¸ªåº“æœ‰å®˜æ–¹æ”¯æŒã€‚è‡³äºæ–‡æ¡£ï¼Œå®ƒä»¬å¾ˆå¥½åœ°æ¶µç›–äº†æ‰€æœ‰çš„ä¸»é¢˜ï¼Œä½†æ˜¯å®ƒä»¬çš„ç»“æ„å¹¶æ²¡æœ‰ç»™æˆ‘ç•™ä¸‹æ·±åˆ»çš„å°è±¡ã€‚

[![img](img/1527f67be469300b310391906a7a030d.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--jb-V4wS5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://areknawo.com/conteimg/2019/02/Screenshot-from-2019-02-01-20-45-08.png)

# [èƒ¶å¸¦](https://github.com/substack/tape)

```
var test = require('tape');

test('timing test', function (t) {
    t.plan(1);
    var start = Date.now();

    setTimeout(function () {
        t.equal(Date.now() - start, 100);
    }, 100);
}); 
```

Enter fullscreen mode Exit fullscreen mode

**Tape** ä¹Ÿæ˜¯ç”¨äºæµ‹è¯• NodeJS å’Œ browser çš„æœ€å°ä¸”çµæ´»çš„åº“ã€‚å®ƒçš„ API ä¸å…¶ä»–çš„ç¨æœ‰ä¸åŒï¼Œä½†ä»ç„¶å¯è¯»ï¼Œä½†æ€æƒ³æ˜¯ä¸€æ ·çš„ã€‚ä½ éœ€è¦çŸ¥é“çš„ä¸€åˆ‡éƒ½åœ¨**çš„è‡ªè¿°æ–‡ä»¶**ä¸­ã€‚å’Œ...å®ƒæ‹¥æœ‰å¤§é‡çš„ **[TAP](https://en.wikipedia.org/wiki/Test_Anything_Protocol) è®°è€…**çš„æ”¯æŒï¼Œè¿™æ€»æ˜¯ä¸€ä¸ªä¼˜åŠ¿ã€‚

[![img](img/821e91f96182b62620dd86709d17499d.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--w0B29LFe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://areknawo.com/conteimg/2019/02/1549050504248.png)

# [AVA](https://github.com/avajs/ava)

```
import test from 'ava';

test('foo', t => {
    t.pass();
});

test('bar', async t => {
    const bar = Promise.resolve('bar');
    t.is(await bar, 'bar');
}); 
```

Enter fullscreen mode Exit fullscreen mode

AVA æ˜¯ä¸€ä¸ªæµ‹è¯•åº“ï¼Œå†…ç½®æ–­è¨€å‡½æ•°ï¼Œéå¸¸å…³æ³¨å¼‚æ­¥æµ‹è¯•ã€‚å®ƒæœ‰ç®€å•çš„ API(å°±åƒå…¶ä»– BDD å·¥å…·ä¸€æ ·)å’Œå¹¶è¡Œè¿è¡Œæµ‹è¯•çš„èƒ½åŠ›ã€‚å°±åƒç£å¸¦(å®ƒçš„çµæ„Ÿæ¥è‡ªäºç£å¸¦)ï¼Œå®ƒæ²¡æœ‰**æ²¡æœ‰éšå«çš„å…¨å±€**ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜å†…ç½®äº†**Babel V7**ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨ ES-Next ä¸­ç¼–å†™ä½ çš„æµ‹è¯•ï¼Œè€Œä¸éœ€è¦ä»»ä½•é¢å¤–çš„é…ç½®ã€‚å®ƒçš„æ‰€æœ‰æ–‡æ¡£éƒ½å¯ä»¥åœ¨å®ƒçš„ GitHub repo ä¸Šæ‰¾åˆ°ã€‚

[![img](img/c541c16a3b1eb7c06a2e2d39da13357f.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--sY9D0swo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://areknawo.com/conteimg/2019/02/1549050582959.png)

# [t1](#intern)[å†…éƒ¨](https://theintern.io/)

Intern æ˜¯ä¸€ä¸ª TDD/BDD æµ‹è¯•æ¡†æ¶ï¼Œæµ‹è¯• JavaScript çš„ runnerï¼Œä»¥åŠ TypeScriptã€‚å®ƒå…è®¸æ‚¨æ‰§è¡Œå•å…ƒæµ‹è¯•å’ŒåŠŸèƒ½æµ‹è¯•ã€‚å®ƒä½¿ç”¨ [**æŸ´**](https://www.chaijs.com) ä½œä¸ºæ–­è¨€åº“ï¼Œä½¿ç”¨ [**ä¼Šæ–¯å¦å¸ƒå°”**](https://gotwarlost.github.io/istanbul) æ¥ç”Ÿæˆæ‚¨çš„ä»£ç è¦†ç›–ç‡ç»Ÿè®¡æ•°æ®ã€‚å®ƒè¿˜å¯ä»¥åŒæ—¶è¿è¡Œæ‚¨çš„æµ‹è¯•**å’Œ**ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯æ‰©å±•çš„æµ‹è¯•æ¡†æ¶ã€‚æˆ‘æåˆ°è¿‡å®ƒæœ‰éå¸¸å¥½çš„ã€**å…¨é¢çš„æ–‡æ¡£è®°å½•**å—ï¼Ÿ

[![img](img/01fa5a8a0cf87e2136d8e8974c6534f4.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--879JT1UW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://areknawo.com/conteimg/2019/02/1549050656023.png)

# [cumber . js](https://github.com/cucumber/cucumber-js)

```
Feature: Simple maths
  In order to do maths
  As a developer
  I want to increment variables

  Scenario: easy maths
    Given a variable set to 1
    When I increment the variable by 1
    Then the variable should contain 2

  Scenario Outline: much more complex stuff
    Given a variable set to <var>
    When I increment the variable by <increment>
    Then the variable should contain <result>

    Examples:
      | var | increment | result |
      | 100 |         5 |    105 |
      |  99 |      1234 |   1333 |
      |  12 |         5 |     18 | 
```

Enter fullscreen mode Exit fullscreen mode

**Cucumber.js** æ˜¯å¦ä¸€ä¸ªå•å…ƒæµ‹è¯•å·¥å…·ï¼Œä½†æ˜¯è¿™æ¬¡æœ‰ç‚¹ä¸åŒ...å®ƒå…è®¸ä½ ç”¨**ç®€å•çš„è¯­è¨€**ç¼–å†™ä½ çš„æµ‹è¯•ã€‚åŸºæœ¬ä¸Šï¼Œä½ æ‰€åšçš„å°±æ˜¯ä½¿ç”¨ä¸€äº›**å…³é”®å­—**ä»¥ç»“æ„åŒ–çš„æ–‡æœ¬æ ¼å¼ç¼–å†™ä½ çš„æµ‹è¯•ï¼Œæ¯”å¦‚*åœºæ™¯*ã€*ç»™å®š*ã€*å½“*æ—¶ç­‰ç­‰ã€‚ç„¶ååœ¨ä»£ç ä¸­å®šä¹‰ç”¨ç®€å•è¯­è¨€ç¼–å†™çš„æ¯ä¸€æ­¥åº”è¯¥åšä»€ä¹ˆæ¥è¿è¡Œé¢„æœŸçš„æµ‹è¯•ã€‚æˆ‘ä»æ¥æ²¡æœ‰ç”¨è¿‡è¿™æ ·çš„åšæ³•ï¼Œæ‰€ä»¥æˆ‘ä¸ä¼šå‘Šè¯‰ä½ å®ƒåœ¨å®é™…ä½¿ç”¨ä¸­æœ‰å¤šèˆ’æœã€‚ä½†æ˜¯ï¼Œè‡³å°‘çœ‹èµ·æ¥å¾ˆæœ‰è¶£ã€‚ğŸ˜…

# æµ‹è¯•ï¼Œæ£€æµ‹...

è¿™å°±æ˜¯æˆ‘åˆ—å‡ºçš„è¿›è¡Œå•å…ƒæµ‹è¯•çš„æœ€ä½³å·¥å…·ã€‚å½“ç„¶ï¼Œå¦‚æœæˆ‘é”™è¿‡äº†å€¼å¾—åˆ—å…¥è¿™ä¸ªåˆ—è¡¨çš„æ¡ç›®ï¼Œè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚è¯·è®°ä½ï¼Œæˆ‘åªåœ¨è¿™ä¸ªåˆ—è¡¨ä¸­ä»‹ç»äº†å•å…ƒæµ‹è¯•ï¼Œæ‰€ä»¥è¿™é‡Œæ²¡æœ‰ç”¨äºé›†æˆã€åŠŸèƒ½æˆ–ç«¯åˆ°ç«¯(åŒ…æ‹¬æ¯ç§ç±»å‹çš„æµ‹è¯•)æµ‹è¯•çš„å·¥å…·ã€‚æˆ‘è®¤ä¸ºè¿™å¯¹äºä¸€ç¯‡æ–‡ç« æ¥è¯´å¤ªå¤šäº†ã€‚è¿˜ä¸å¦‚ä¸€ä¸ªä¸€ä¸ªçš„æ¢è®¨æ›´å°çš„è¯é¢˜ IMHOã€‚äº‹å®ä¸Šï¼Œé€šè¿‡å†™é‚£ç¯‡æ–‡ç« ï¼Œæˆ‘ä¹Ÿå­¦åˆ°äº†å¾ˆå¤šã€‚æˆ‘è‚¯å®šä¸æ˜¯æµ‹è¯•ä¸“å®¶ï¼Œä½†è‡³å°‘ç°åœ¨æˆ‘å­¦åˆ°äº†ä¸€äº›æ–°çŸ¥è¯†ã€‚æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ çš„ä»£ç æµ‹è¯•ä¹‹æ—…æœ‰æ‰€å¸®åŠ©ã€‚ç›®å‰å°±è¿™äº›ã€‚å¦‚æœä½ å–œæ¬¢é‚£ç¯‡æ–‡ç« ï¼Œä¸€å®šè¦ä¸æ—¶æŸ¥çœ‹æˆ‘çš„åšå®¢[ï¼Œåœ¨ Twitter ä¸Šå…³æ³¨æˆ‘çš„](https://areknawo.com)**å’Œåœ¨æˆ‘çš„è„¸ä¹¦é¡µé¢[ã€‚âœŒ](https://www.facebook.com/Areknawos-Blog-770620059945105)**