# ç¦æ­¢å·å·¥å‡æ–™å·å·¥å‡æ–™

> åŸæ–‡:[https://dev . to/pull Josh/no-cut-corners-cut-corners-1i3c](https://dev.to/pulljosh/no-cutting-corners-cutting-corners-1i3c)

ç¼–ç¨‹æœ€å›°éš¾çš„æ–¹é¢ä¹‹ä¸€æ˜¯é¢„æµ‹ä¸€ä¸ªç‰¹å®šçš„ä»»åŠ¡éœ€è¦å¤šé•¿æ—¶é—´ã€‚æœ‰æ—¶å€™ï¼Œä½ è®¤ä¸ºéœ€è¦å‡ å‘¨æ—¶é—´çš„äº‹æƒ…å´éœ€è¦å‡ ä¸ªå°æ—¶:

> ![Ben Halpern ğŸ¤— profile image](../Images/3814cc9cbc453345725bf2b5e578e8a0.png)æœ¬Â·å“ˆå°”å½­ğŸ¤—@ bendhalpen![twitter logo](../Images/4c8a2313941dda016bf4d78d103264aa.png)æ˜¨å¤©æˆ‘å®£å¸ƒæ–‡ç« æµè§ˆé‡å°†åœ¨ä¸€ä¸¤å‘¨å†…å¯¹æ‰€æœ‰äººå¼€æ”¾ã€‚å‡ ä¸ªæœˆæ¥ï¼Œå®ƒä¸€ç›´ç”Ÿæ´»åœ¨è„†å¼±çš„æµ‹è¯•ç‰ˆç‚¼ç‹±ä¸­ï¼Œæ‰€ä»¥ä¸€ä¸¤ä¸ªæ˜ŸæœŸä¼¼ä¹æ˜¯é›„å¿ƒå‹ƒå‹ƒçš„ã€‚ç»“æœåªèŠ±äº†å‡ ä¸ªå°æ—¶ã€‚
> 
> [ã€dev.to/devteam/changeâ€¦ã€‘](https://t.co/VwJ57Tg27l)2018 å¹´ 11 æœˆ 14 æ—¥ä¸‹åˆ 16:21[![Twitter reply action](../Images/44d8b042100e231770330321e5b63d65.png)](https://twitter.com/intent/tweet?in_reply_to=1062742360382230531)[![Twitter retweet action](../Images/93d9c70ccc54851d2e8e881b53c21dae.png)](https://twitter.com/intent/retweet?tweet_id=1062742360382230531)[![Twitter like action](../Images/2e93f7775eadefab8bcd34a4542cc5a7.png)](https://twitter.com/intent/like?tweet_id=1062742360382230531)

ä½†æ˜¯æœ‰æ—¶å€™...å“¦ï¼Œæœ‰æ—¶å€™ï¼Œä¼°è®¡ä¼šå˜å¾—éå¸¸éå¸¸é»‘æš—ã€‚è¿™æ˜¯ä¸€ä¸ªæ‚²æƒ¨æ•…äº‹ã€‚

## [](#the-problem)é—®é¢˜

åœ¨æ•´åˆæˆ‘çš„ä¸€ä¸ªç‰¹æ®Šçš„â€œç§˜å¯†â€é¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°è‡ªå·±åˆ›å»ºäº†ä¸€ä¸ª CodeMirror ä¸»é¢˜ã€‚å¯¹äºé‚£äº›ä¸çŸ¥é“çš„äººæ¥è¯´ï¼Œ [CodeMirror](https://codemirror.net/) æ˜¯ä¸€ä¸ªç”¨äºåœ¨ç½‘ç»œä¸Šåˆ›å»ºä»£ç è¾“å…¥çš„ Javascript åº“ã€‚å®ƒè¢«éå¸¸å¥½åœ°ç»„åˆåœ¨ä¸€èµ·ï¼Œå¹¶è¢« Githubã€Codepenã€Glitch å’Œ[ä»¥åŠæ›´å¤šçš„](https://codemirror.net/doc/realworld.html)æ‰€ä½¿ç”¨ã€‚

åœ¨èŠ±äº†å¾ˆé•¿æ—¶é—´æ‰¾åˆ°ä¸€äº›æ¼‚äº®çš„æ–‡æœ¬é¢œè‰²(å¾ˆéš¾ä¼°è®¡)åï¼Œæˆ‘å¼€å§‹è®¾è®¡æ–‡æœ¬é€‰æ‹©ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ–‡æœ¬é€‰æ‹©æ ·å¼ä¸º...å¥½å§ã€‚ä¸è¿‡ï¼Œå®ƒéå¸¸æ–¹æ–¹æ­£æ­£ï¼Œä¸€ç‚¹ä¹Ÿä¸ä¼˜é›…ã€‚

å¦‚æœè¯´æˆ‘ä½œä¸ºä¸€åå¼€å‘äººå‘˜åœ¨åšè®¾è®¡æ—¶å­¦åˆ°äº†ä»€ä¹ˆï¼Œé‚£å°±æ˜¯å¢åŠ ä¸€ç‚¹è¾¹æ¡†åŠå¾„å¯ä»¥æ”¹å–„ä»»ä½•çŸ©å½¢ã€‚å› æ­¤ï¼Œå°±åƒæˆ‘æ˜¯ä¸€ä¸ªä¼˜ç§€çš„ã€æ³¨é‡ç»†èŠ‚çš„è®¾è®¡å¸ˆä¸€æ ·ï¼Œæˆ‘å¼€å§‹å®ç°ä¸€ä¸ªç®€å•å¾—å¯ç¬‘çš„ç›®æ ‡:**åœ¨ CodeMirror ä¸­ä¸ºæ–‡æœ¬é€‰æ‹©æ·»åŠ ä¸€ä¸ªå°çš„è¾¹æ¡†åŠå¾„ã€‚**

å¤šå¹´æ¥ï¼Œæˆ‘ä¸€ç›´åœ¨ç”»çŸ©å½¢ï¼Œæˆ‘çŸ¥é“è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ä»»åŠ¡ã€‚30 ç§’ã€‚æœ€å¤šäº†ã€‚ <sup id="fnref1">[1](#fn1)</sup>

## [](#the-solution)è§£

```
/* This code is infallible. */
.CodeMirror-selected {
  border-radius: 3px;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘å†™äº†ä»£ç ï¼Œç”¨æ·±æ·±æ»¡è¶³çš„æœºæ¢°ç‚¹å‡»ç ¸äº† ctrl-sï¼Œçœ‹ç€ webpack ç¼–è¯‘( *frontend ç–¯äº†ï¼Œå—¯ï¼Ÿ*)ï¼Œå¹¶ç­‰å¾…ä¸€äº›çƒ­é‡è£…çš„å®Œç¾ã€‚

[![This radius isn't quite right.](../Images/fa54cb1c0ec3fd2038bbf50e0f9d0617.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--J1ZfDXWS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/nfr7vamz0acp33ea0to4.png)

å“å‘€ã€‚å¦‚æœä½ æ²¡çœ‹åˆ°ï¼Œè¯·å…è®¸æˆ‘è§£é‡Šæ¸…æ¥š:

[![The most upsetting border radius on the face of the earth.](../Images/a6a632cc42cf5757a28cc26b8d6b4b22.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--wFfBQMgF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/zh6wq37wtflvctjdv5mu.png)

çœ‹ç€å®ƒï¼ ***å“¦ï¼Œææ€–ä¸­çš„ææ€–ï¼*** è¿™ä¸ªé€‰åŒºä¸ä»…ä»…æ˜¯ä¸€ä¸ªçŸ©å½¢...æ˜¯*ä¸‰*ï¼

æˆ‘ä¸èƒ½å¿å—è¿™æ ·ä»¤äººåŒæ¶çš„åŠå¾„ï¼Œæ‰€ä»¥æˆ‘å¼€å§‹å¯»æ‰¾è§£å†³åŠæ³•ã€‚

## [](#the-solution)è§£

å‡ åˆ†é’Ÿåï¼Œæˆ‘æ˜ç™½äº†è¿™ä¸ªé—®é¢˜å…¶å®å¹¶ä¸éš¾ã€‚æœ‰ä¸‰ä¸ªç‹¬ç«‹çš„çŸ©å½¢ï¼Œæ‰€ä»¥å¯ä»¥æœ‰ä¸‰ç»„ç‹¬ç«‹çš„æ ·å¼ã€‚

å¯¹äºç¬¬ä¸€ä¸ªçŸ©å½¢ï¼Œé¡¶è§’æœ‰åŠå¾„ï¼Œä½†åº•è§’æ²¡æœ‰:

```
.CodeMirror-selected:nth-of-type(1) {
  border-top-left-radius: 3px;
  border-top-right-radius: 3px;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åæ˜¯ä¸­é—´çš„çŸ©å½¢ã€‚åŸæ¥åœ¨æ ‡è®°ä¸­ï¼Œä¸­é—´çš„æ˜¯ç¬¬ä¸‰ï¼Œæ‰€ä»¥ä¼šæ˜¯`:nth-of-type(3)` :

```
.CodeMirror-selected:nth-of-type(3) {
  border-top-left-radius: 3px;
  border-bottom-right-radius: 3px;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æ˜¯åº•éƒ¨çš„çŸ©å½¢ï¼Œåº•éƒ¨çš„è§’åº”è¯¥æ˜¯åœ†å½¢çš„:

```
.CodeMirror-selected:nth-of-type(2) {
  border-bottom-left-radius: 3px;
  border-bottom-right-radius: 3px;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è€Œä¸”ï¼Œç§ï¼Œå®ƒæ˜¯å®Œç¾çš„ï¼

[![Look at that beauty.](../Images/56d83b20943502d6cc5d72568f94c2d6.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Ug9ShAuU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/irnedoveue3b4o4d40zk.png)

...å¼€ç©ç¬‘çš„ã€‚

[![](../Images/6a2a2f141aa9f3bb364965624e537a5e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--hPnoPe3A--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vrmvz05oudg33xl4s1eh.png)

å¦‚æœæ‚¨é€‰æ‹©ä»»ä½•å…¶ä»–å½¢çŠ¶ï¼Œè¿™ç§æ–¹æ³•å°±ä¸èµ·ä½œç”¨ï¼Œå¹¶ä¸”æ²¡æœ‰åŠæ³•æ£€æµ‹é€‰æ‹©çš„å½¢çŠ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆå›åˆ°äº†èµ·ç‚¹ã€‚

ä½†æ˜¯æˆ‘ä¸ä¼šæ”¾å¼ƒçš„ï¼æ¯•ç«Ÿï¼Œæˆ‘æ²¡æœ‰(æ°å½“åœ°)æŠ„è¿‘è·¯ã€‚

## [](#the-solution)è§£

ä¸»è¦çš„é—®é¢˜æ˜¯ï¼Œæˆ‘çš„è§£å†³æ–¹æ¡ˆæ²¡æœ‰å¾ˆå¥½çš„ç¯å¢ƒæ„è¯†ã€‚æˆ‘ç›²ç›®åœ°åº”ç”¨äº†è¾¹ç•ŒåŠå¾„ <sup id="fnref2">[2](#fn2)</sup> ï¼Œè€Œæˆ‘çœŸæ­£æƒ³è¦çš„æ˜¯ä¸€ç»„è‡ªé€‚åº”çš„çŸ©å½¢ï¼Œå®ƒä»¬å¯ä»¥å¹³æ»‘åœ°èåˆåœ¨ä¸€èµ·ã€‚

ä½œä¸ºä¸€å 17 å²çš„ç—¤ç–®æ‚£è€…ï¼Œæˆ‘å·²ç»çœ‹å¤Ÿäº†ä¸€äº›ç›¸å½“æ˜æ™ºçš„ç¼–ç¨‹æ™ºæ…§ã€‚è¿™é‡Œæœ‰ä¸€æ¡äº‹åçœ‹æ¥æ€»æ˜¯æ˜¾è€Œæ˜“è§çš„ä¿®å¤ bug çš„å»ºè®®:**ç¼–å†™æè¿°ä½ æƒ³è¦åšçš„äº‹æƒ…çš„ä»£ç ã€‚**

å†™ä¸€äº›ä¸ä½ çš„ç›®æ ‡æ— å…³çš„ä»£ç æ˜¯å¾ˆè¯±äººçš„ï¼›ä½œä¸ºæ‰€å†™å†…å®¹çš„å‰¯ä½œç”¨è€Œè¾¾åˆ°ç›®çš„çš„ä»£ç ã€‚ä½†æ˜¯å¹²å‡€çš„ä»£ç æ˜¯æ¸…æ™°å’Œç›´æ¥çš„ã€‚

é‚£ä¹ˆè¿™é‡Œçš„ç›´æ¥è§£å†³æ–¹æ¡ˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¥½å§ï¼Œä¸å…¶è®¾ç½®å•ç‹¬çš„è¾¹æ¡†åŠå¾„ï¼Œä¸å¦‚å†™ä¸€äº› CSS ç›´æ¥è¯´ï¼Œâ€œè®©ç›’å­äº’ç›¸ç²˜åˆã€‚â€

ä½ çŸ¥é“ä»€ä¹ˆæ˜¯ç–¯ç‹‚å—ï¼Ÿè§£å†³æ–¹æ¡ˆæ˜¯å­˜åœ¨çš„ã€‚

å¦‚æœæˆ‘ä»¬å‘é¡µé¢æ·»åŠ ä¸€ä¸ª SVG è¿‡æ»¤å™¨å®šä¹‰:

```
<!-- https://css-tricks.com/gooey-effect/ -->
<svg style="display: none;">
  <defs>
    <filter id="selection-goo">
      <feGaussianBlur in="SourceGraphic" stdDeviation="1" result="blur"></feGaussianBlur>
      <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9" result="goo"></feColorMatrix>
      <feComposite in="SourceGraphic" in2="goo" operator="atop"></feComposite>
    </filter>
  </defs>
</svg> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬å¯ä»¥åœ¨é€‰æ‹©`div` s çš„çˆ¶å¯¹è±¡ä¸Šä½¿ç”¨å®ƒ(ä¸`filter: url(#selection-goo)`),å®ƒå°†å¯¼è‡´ä¸‰ä¸ªç‹¬ç«‹çš„æ¡†ä»¥æˆ‘ä»¬æƒ³è¦çš„æ–¹å¼å½¼æ­¤é è¿‘:

[![Finally, a working solution! For real this time.](../Images/0645d794afc69e5b62d84966227e8a06.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--O9uiy13U--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/786vdczxg7rtjwlqlv78.png)

çœ‹çœ‹å§ï¼å³ä½¿æ˜¯å¤šé€‰ï¼Œä¹Ÿå¾ˆå¥½ç”¨ã€‚å®ƒä¹Ÿä¸ºæˆ‘ä»¬åœ¨å†…è§’åšäº†ä¸€ç‚¹åæ•ˆæœï¼Œçœ‹èµ·æ¥å¾ˆæ•´æ´ï¼(å†™ä»£ç è¯´æ˜æˆ‘ä»¬æƒ³è¦å®ç°ä»€ä¹ˆâ€”â€”é»ç³Šç³Šçš„ç›’å­â€”â€”è€Œä¸æ˜¯å…³äºå¦‚ä½•å®ç°å®ƒçš„æ— å…³ç´§è¦çš„ç»†èŠ‚ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯å¥½çš„å‰¯ä½œç”¨ã€‚)

## [](#the-conclusion)ç»“è®º

æˆ‘ä»¬æœ‰è§£å†³åŠæ³•ã€‚å®ƒå·¥ä½œäº†ã€‚çœŸçš„ã€‚æ²¡æŠ“åˆ°ä½ ã€‚ä¸å·å·¥å‡æ–™(é™¤äº†æˆ‘ä»¬æƒ³è¦çš„)ã€‚è¿™å¯èƒ½æ˜¯äººç”Ÿçš„ä¸€è¯¾ï¼Œå°½ç®¡æˆ‘ä¸ç¡®å®šåˆ°åº•æ˜¯ä»€ä¹ˆã€‚

è¿™ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯ä¸ªå¥½ä¸»æ„å—ï¼Ÿç»å¯¹ä¸è¡Œã€‚å¯¹äºä¸€ä¸ªä¸éœ€è¦è§£å†³çš„é—®é¢˜ï¼Œè¿™ç§è§£å†³æ–¹æ¡ˆçš„æ•ˆç‡ä½å¾—æƒŠäººã€‚åº”ç”¨ CSS æ»¤é•œå ç”¨äº†ç›¸å½“å¤§ä¸€å— CPU (GPUï¼Ÿ)æœ¬å¯ä»¥èŠ±åœ¨æ›´å¥½çš„äº‹æƒ…ä¸Šçš„æ—¶é—´ã€‚

æˆ‘åˆ°åº•è¦ä¸è¦ç”¨å®ƒï¼Ÿå½“ç„¶å•¦ï¼æˆ‘æ˜¯ä¸€åç½‘é¡µå¼€å‘äººå‘˜ï¼Œç°åœ¨æ˜¯ 2018 å¹´ï¼ <sup id="fnref3">[3](#fn3)</sup>

* * *

1.  æˆ‘å‘é‚£äº›ç»å†äº† html è¡¨æ ¼æ—¶ä»£å¹¶ä½¿ç”¨å›¾åƒåˆ›å»ºè¾¹ç•Œçš„äººè‡´ä»¥æœ€è¯šæŒšçš„æ…°é—®ï¼Ÿ).è¿˜æœ‰ï¼Œä½ ç°åœ¨è€äº†ã€‚ [â†©](#fnref1)

2.  â€œåŠå¾„â€æ— è®ºæˆ‘é€‰å“ªä¸ªå¤æ•°ï¼Œ100%çš„è¯„è®ºéƒ½ä¼šä¸çˆ½ã€‚äº’è”ç½‘çš„è¿‚è…æ²¡æœ‰ç•Œé™ã€‚ [â†©](#fnref2)

3.  è¯·æ´¾äººæ¥å¸®å¿™ã€‚ [â†©](#fnref3)