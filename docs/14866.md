# ä»è®¾ç½®åˆ°éƒ¨ç½²ï¼Œé€æ­¥å¯¹é…ç½®åšå‡ºååº”

> åŸæ–‡:[https://dev . to/nsebhastian/step-by-step-react-configuration-2 nma](https://dev.to/nsebhastian/step-by-step-react-configuration-2nma)

*ä½ å¯ä»¥ä¸‹è½½ PDF æ ¼å¼çš„æŒ‡å—[ç‚¹å‡»](https://sebhastian.com/subscribe)è¿™é‡Œ*

ä½ å·²ç»ä½¿ç”¨åˆ›å»º-ååº”-åº”ç”¨ç¨‹åº(åˆå CRA)æœ‰ä¸€æ®µæ—¶é—´äº†ã€‚è¿™å¾ˆæ£’ï¼Œä½ å¯ä»¥ç›´æ¥ç¼–ç ã€‚ä½†æ˜¯ä»€ä¹ˆæ—¶å€™éœ€è¦ä» create-react-app ä¸­å¼¹å‡ºï¼Œå¼€å§‹é…ç½®è‡ªå·±çš„ react åº”ç”¨å‘¢ï¼Ÿæ€»æœ‰ä¸€å¤©ï¼Œæˆ‘ä»¬ä¸å¾—ä¸æ”¾ä¸‹å®‰å…¨æ£€æŸ¥ï¼Œå¼€å§‹ç‹¬è‡ªå†’é™©å¤–å‡ºã€‚

æœ¬æŒ‡å—å°†æ¶µç›–æˆ‘ä¸ªäººåœ¨å‡ ä¹æ‰€æœ‰ React é¡¹ç›®ä¸­ä½¿ç”¨çš„æœ€ç®€å•çš„ React é…ç½®ã€‚åœ¨æœ¬æ•™ç¨‹ç»“æŸæ—¶ï¼Œæˆ‘ä»¬å°†æœ‰è‡ªå·±çš„ä¸ªäººæ ·æ¿æ–‡ä»¶ï¼Œå¹¶ä»ä¸­å­¦ä¹ ä¸€äº›é…ç½®ã€‚

**ç›®å½•**

*   ä¸ºä»€ä¹ˆè¦åˆ›å»ºè‡ªå·±çš„é…ç½®ï¼Ÿ
*   [é…ç½® webpack 4](#configuring-webpack-4)
*   [é…ç½®å·´åˆ«å¡” 7](#configuring-babel-7)
*   [æ·»åŠ æ›´æ¼‚äº®çš„](#adding-prettier)
*   [æ·»åŠ æºæ˜ å°„ä»¥è·å¾—æ›´å¥½çš„é”™è¯¯æ—¥å¿—](#adding-source-map-for-better-error-logs)
*   [è®¾ç½® ESLint](#setting-up-eslint)
*   æˆ‘å‘ç°äº†é”™è¯¯ï¼æˆ‘è¯¥æ€ä¹ˆåŠï¼Ÿ
*   [æ·»åŠ  CSS LESS å¤„ç†å™¨](#adding-css-less-processor)
*   [å°† React åº”ç”¨éƒ¨ç½²åˆ° Netlify](#deploying-react-app-to-netlify)
*   [ç»“è®º](#conclusion)

## [](#why-create-your-own-configuration)ä¸ºä»€ä¹ˆè¦åˆ›å»ºè‡ªå·±çš„é…ç½®ï¼Ÿ

åˆ›å»ºè‡ªå·±çš„ React é…ç½®æœ‰ä¸€å®šçš„é“ç†ã€‚æ˜¾ç„¶ï¼Œä½ å¾ˆæ“…é•¿ Reactï¼Œä½ æƒ³å­¦ä¹ å¦‚ä½•è‡ªå·±ä½¿ç”¨ webpack å’Œ Babel ä¹‹ç±»çš„å·¥å…·ã€‚è¿™äº›æ„å»ºå·¥å…·éå¸¸å¼ºå¤§ï¼Œå¦‚æœæ‚¨æœ‰å¤šä½™çš„æ—¶é—´ï¼Œäº†è§£ä¸€ä¸‹å®ƒä»¬æ€»æ˜¯æœ‰å¥½å¤„çš„ã€‚å¼€å‘äººå‘˜å¤©ç”Ÿå¥½å¥‡ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³çŸ¥é“äº‹æƒ…æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå“ªä¸ªéƒ¨åˆ†åšä»€ä¹ˆï¼Œé‚£ä¹ˆè®©æˆ‘æ¥å¸®ä½ ã€‚

æ­¤å¤–ï¼Œé€šè¿‡ create-react-app éšè— react é…ç½®æ„å‘³ç€å¼€å‘è€…å¼€å§‹å­¦ä¹  Reactï¼Œå› ä¸º[é…ç½®ä¸åº”è¯¥æˆä¸ºå…¥é—¨](https://youtu.be/G39lKaONAlA?t=880)çš„éšœç¢ã€‚ä½†æ˜¯å½“äº‹æƒ…å˜å¾—ä¸¥é‡æ—¶ï¼Œä½ å½“ç„¶éœ€è¦æ›´å¤šçš„å·¥å…·æ¥é›†æˆåˆ°ä½ çš„é¡¹ç›®ä¸­ã€‚æ€è€ƒä¸€ä¸‹:

*   ä¸º lessï¼Œsass æ·»åŠ  webpack åŠ è½½ç¨‹åº
*   è¿›è¡ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“
*   ä½¿ç”¨æ–°çš„ ES ç‰ˆæœ¬
*   æ·»åŠ  MobX å’Œ Redux
*   ä»…ä»…ä¸ºäº†å­¦ä¹ è€Œè¿›è¡Œè‡ªå·±çš„é…ç½®

å¦‚æœä½ çœ‹çœ‹äº’è”ç½‘ï¼Œæœ‰ä¸€äº›é»‘å®¢å¯ä»¥ç»•è¿‡ CRA çš„é™åˆ¶ï¼Œå¦‚åˆ›å»º-ååº”-åº”ç”¨ç¨‹åºé‡æ–°å¸ƒçº¿ã€‚ä½†æ˜¯è¯´çœŸçš„ï¼Œä¸ºä»€ä¹ˆä¸è‡ªå·±å­¦ä¹  React é…ç½®å‘¢ï¼Ÿæˆ‘ä¼šå¸®åŠ©ä½ åˆ°è¾¾é‚£é‡Œã€‚å¾ªåºæ¸è¿›ã€‚

æ—¢ç„¶æ‚¨å·²ç»ç¡®ä¿¡è¦å­¦ä¹ ä¸€äº›é…ç½®ï¼Œé‚£ä¹ˆè®©æˆ‘ä»¬ä»å¤´å¼€å§‹åˆå§‹åŒ–ä¸€ä¸ª React é¡¹ç›®ã€‚

æ‰“å¼€å‘½ä»¤è¡Œæˆ– Git bash å¹¶åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•

```
mkdir react-config-tutorial && cd react-config-tutorial 
```

é€šè¿‡è¿è¡Œ
åˆå§‹åŒ– NPM é¡¹ç›®

```
npm init -y 
```

ç°åœ¨å®‰è£… react

```
npm install react react-dom 
```

å¦å¤–ï¼Œä½ å¯ä»¥åœ¨ GitHub ä¸ŠæŸ¥çœ‹[æºä»£ç ](https://github.com/nsebhastian/my-react-boilerplate)ï¼ŒåŒæ—¶é˜…è¯»æœ¬æ•™ç¨‹äº†è§£å…³äºè®¾ç½®çš„è§£é‡Šã€‚

## [](#configuring-webpack-4)é…ç½®ç½‘ç»œåŒ… 4

æˆ‘ä»¬çš„ç¬¬ä¸€ç«™æ˜¯ç½‘ç»œåŒ…ã€‚å®ƒæ˜¯ä¸€ä¸ªéå¸¸æµè¡Œå’Œå¼ºå¤§çš„å·¥å…·ï¼Œä¸ä»…ç”¨äºé…ç½® Reactï¼Œè€Œä¸”ç”¨äºå‡ ä¹æ‰€æœ‰çš„å‰ç«¯é¡¹ç›®ã€‚webpack çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯è·å–æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ç¼–å†™çš„ä¸€å † JavaScript æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢æˆä¸€ä¸ªå•ä¸€çš„ã€ç¼©å°çš„æ–‡ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥å¿«é€Ÿæä¾›æœåŠ¡ã€‚ä» webpack 4 å¼€å§‹ï¼Œæˆ‘ä»¬æ ¹æœ¬ä¸éœ€è¦ç¼–å†™é…ç½®æ–‡ä»¶æ¥ä½¿ç”¨å®ƒï¼Œä½†æ˜¯åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å®ƒã€‚

é¦–å…ˆï¼Œè®©æˆ‘ä»¬åšä¸€äº›å®‰è£…

```
npm install --save-dev webpack webpack-dev-server webpack-cli 
```

è¿™å°†å®‰è£…:

*   **webpack æ¨¡å—** â€”åŒ…æ‹¬æ‰€æœ‰æ ¸å¿ƒ webpack åŠŸèƒ½
*   **webpack-dev-server** â€”å½“æˆ‘ä»¬çš„æ–‡ä»¶è¢«æ›´æ”¹æ—¶ï¼Œè¿™ä¸ªå¼€å‘æœåŠ¡å™¨è‡ªåŠ¨é‡æ–°è¿è¡Œ webpack
*   **webpack-cli** â€”ä»å‘½ä»¤è¡Œå¯ç”¨è¿è¡Œ webpack

è®©æˆ‘ä»¬é€šè¿‡å‘`package.json`
æ·»åŠ ä»¥ä¸‹è„šæœ¬æ¥è¿è¡Œ webpack

```
"scripts": {
  "start": "webpack-dev-server --mode development",
}, 
```

ç°åœ¨åœ¨æ ¹é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ª`index.html`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹:

```
<!DOCTYPE html>
<html>
  <head>
    <title>My React Configuration Setup</title>
  </head>
  <body>
    <div id="app"></div>
    <script src="./dist/bundle.js"></script>
  </body>
</html> 
```

åˆ›å»ºä¸€ä¸ªåä¸º`src`çš„æ–°ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ index.js æ–‡ä»¶

```
mkdir src && cd src && touch index.js 
```

ç„¶åå°†ä¸€ä¸ª React ç»„ä»¶å†™å…¥æ–‡ä»¶:

```
import React from "react";
import ReactDOM from "react-dom";

class Welcome extends React.Component {
  render() {
    return <h1>Hello World from React boilerplate</h1>;
  }
}

ReactDOM.render(<Welcome />, document.getElementById('root')); 
```

ä½¿ç”¨`npm run start`è¿è¡Œç½‘ç»œåŒ…...å¹¶ä¸”å°†è§¦å‘ä¸€ä¸ªé”™è¯¯ã€‚

```
You may need an appropriate loader to handle this file type 
```

## [](#configuring-babel-7)é…ç½®é€šå¤©å¡” 7

æˆ‘ä»¬ä¸Šé¢å†™çš„ React ç»„ä»¶ä½¿ç”¨äº†`class`è¯­æ³•ï¼Œè¿™æ˜¯ ES6 çš„ä¸€ä¸ªç‰¹æ€§ã€‚Webpack éœ€è¦ Babel å°† ES6 å¤„ç†æˆ ES5 è¯­æ³•ï¼Œè¿™æ ·è¿™ä¸ªç±»æ‰èƒ½å·¥ä½œã€‚

è®©æˆ‘ä»¬æŠŠå·´åˆ«å¡”å®‰è£…åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­

```
npm install --save-dev @babel/core @babel/preset-env \
@babel/preset-react babel-loader 
```

ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è¿™äº›åŒ…ï¼Ÿ

*   **@babel/core** æ˜¯åŒ…å« babel è½¬æ¢è„šæœ¬çš„ä¸»è¦ä¾èµ–é¡¹
*   **@babel/preset-env** æ˜¯é»˜è®¤çš„ babel é¢„è®¾ï¼Œç”¨äºå°† ES6+è½¬æ¢ä¸ºæœ‰æ•ˆçš„ ES5 ä»£ç ã€‚å¯ä»¥é€‰æ‹©è‡ªåŠ¨é…ç½®æµè§ˆå™¨èšåˆå¡«å……
*   **@babel/preset-react** ç”¨äºå°† JSX å’Œ react ç±»è¯­æ³•è½¬æ¢æˆæœ‰æ•ˆçš„ JavaScript ä»£ç 
*   babel-loader æ˜¯ä¸€ä¸ª webpack åŠ è½½å™¨ï¼Œå®ƒå°† babel ä¸ webpack æŒ‚é’©ã€‚æˆ‘ä»¬å°†ä½¿ç”¨è¿™ä¸ªåŒ…ä» webpack è¿è¡Œ Babel

ä¸ºäº†å°† Babel ä¸æˆ‘ä»¬çš„ webpack æŒ‚é’©ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª webpack é…ç½®æ–‡ä»¶ã€‚æˆ‘ä»¬æ¥å†™ä¸€ä¸ª`webpack.config.js`æ–‡ä»¶:

```
module.exports = {
  entry: './src/index.js',
  output: {
    path: __dirname + '/dist',
    publicPath: '/',
    filename: 'bundle.js'
  },
  devServer: {
    contentBase: './',
    publicPath: '/dist/'
  },
  module: {
    rules: [
      {
        test: /\.(js|jsx)$/,
        exclude: /node_modules/,
        use: ['babel-loader']
      }
    ]
  },
}; 
```

è¿™ä¸ª webpack é…ç½®åŸºæœ¬ä¸Šæ˜¯è¯´æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„`entry`ç‚¹æ¥è‡ª index.jsï¼Œæ‰€ä»¥æå–è¯¥æ–‡ä»¶éœ€è¦çš„æ‰€æœ‰å†…å®¹ï¼Œç„¶åå°†ç»‘å®šè¿‡ç¨‹çš„`output`æ”¾å…¥ *dist* ç›®å½•ï¼Œå‘½åä¸º *bundle.js* ã€‚å“¦ï¼Œå¦‚æœæˆ‘ä»¬è¿è¡Œåœ¨`webpack-dev-server`ä¸Šï¼Œé‚£ä¹ˆå‘Šè¯‰æœåŠ¡å™¨æä¾›æ¥è‡ª`contentBase`é…ç½®çš„å†…å®¹ï¼Œè¿™æ˜¯è¿™ä¸ªé…ç½®æ‰€åœ¨çš„åŒä¸€ä¸ªç›®å½•ã€‚è¯·å°†`bundle.js`æ”¾åœ¨`dist/`ç›®å½•ä¸­ã€‚ä¸ºäº†æ‰€æœ‰äººã€‚js æˆ–è€…ã€‚jsx æ–‡ä»¶ï¼Œç”¨`babel-loader`æŠŠå®ƒä»¬å…¨éƒ¨è½¬å­˜ã€‚

ä¸ºäº†ä½¿ç”¨å·´åˆ«å¡”é¢„è®¾ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„`.babelrc`æ–‡ä»¶

```
touch .babelrc 
```

å†™ä¸‹ä»¥ä¸‹å†…å®¹:

```
{
  "presets": [
    "@babel/preset-env",
    "@babel/preset-react"
  ]
} 
```

ç°åœ¨å†æ¬¡è¿è¡Œ`npm run start`ã€‚è¿™æ¬¡ä¼šæˆåŠŸçš„ã€‚

## [](#adding-prettier)å¢æ·»å§¿è‰²

ä¸ºäº†è¿›ä¸€æ­¥åŠ é€Ÿå¼€å‘ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨æ›´æ¼‚äº®çš„ä»£ç æ ¼å¼åŒ–ç¨‹åºã€‚æœ¬åœ°å®‰è£…ä¾èµ–é¡¹å¹¶ä½¿ç”¨- save-exact å‚æ•°ï¼Œå› ä¸º exact åœ¨è¡¥ä¸å‘å¸ƒä¸­å¼•å…¥äº†é£æ ¼ä¸Šçš„å˜åŒ–ã€‚

```
npm install --save-dev --save-exact prettier 
```

ç°åœ¨æˆ‘ä»¬éœ€è¦ç¼–å†™`.prettierrc`é…ç½®æ–‡ä»¶:

```
{
  "semi": true,
  "singleQuote": true,
  "trailingComma": "es5"
} 
```

è¿™äº›è§„åˆ™æ„å‘³ç€æˆ‘ä»¬è¦åœ¨æ¯æ¡è¯­å¥çš„æœ«å°¾æ·»åŠ åˆ†å·ï¼Œåœ¨é€‚å½“çš„æ—¶å€™ä½¿ç”¨å•å¼•å·ï¼Œå¹¶åœ¨å¤šè¡Œ ES5 ä»£ç (å¦‚ object æˆ– array)åé¢åŠ ä¸Šé€—å·ã€‚

æ‚¨å¯ä»¥ä»å‘½ä»¤è¡Œè¿è¡Œæ›´æ¼‚äº®çš„å‘½ä»¤:

```
npx prettier --write "src/**/*.js" 
```

æˆ–è€…ç»™æˆ‘ä»¬çš„`package.json`æ–‡ä»¶æ·»åŠ ä¸€ä¸ªæ–°çš„è„šæœ¬:

```
"scripts": {
  "test": "echo \"Error: no test specified\" && exit 1",
  "start": "webpack-dev-server --open --mode development",
  "format": "prettier --write \"src/**/*.js\""
}, 
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`npm run format`è¿è¡Œå¾—æ›´æ¼‚äº®

æ­¤å¤–ï¼Œå¦‚æœæ‚¨ä½¿ç”¨ VSCode è¿›è¡Œå¼€å‘ï¼Œæ‚¨å¯ä»¥å®‰è£…[æ›´æ¼‚äº®çš„æ‰©å±•](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode)ï¼Œå¹¶é€šè¿‡æ·»åŠ ä»¥ä¸‹è®¾ç½®åœ¨æ¯æ¬¡ä¿å­˜æ›´æ”¹æ—¶è¿è¡Œå®ƒ:

```
"editor.formatOnSave":  false 
```

## [](#adding-source-map-for-better-error-logs)æ·»åŠ æºæ˜ å°„ä»¥è·å¾—æ›´å¥½çš„é”™è¯¯æ—¥å¿—

å› ä¸º webpack æ†ç»‘äº†ä»£ç ï¼Œæ‰€ä»¥æºä»£ç æ˜ å°„æ˜¯å¿…éœ€çš„ï¼Œä»¥ä¾¿è·å¾—å¯¹å¼•å‘é”™è¯¯çš„åŸå§‹æ–‡ä»¶çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å°†ä¸‰ä¸ªæºæ–‡ä»¶(`a.js`ã€`b.js`å’Œ`c.js`)æ†ç»‘æˆä¸€ä¸ªåŒ…(`bundle.js`ï¼Œå¹¶ä¸”å…¶ä¸­ä¸€ä¸ªæºæ–‡ä»¶åŒ…å«é”™è¯¯ï¼Œé‚£ä¹ˆå †æ ˆè·Ÿè¸ªå°†ç®€å•åœ°æŒ‡å‘`bundle.js`ã€‚è¿™æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºæ‚¨å¯èƒ½æƒ³ç¡®åˆ‡åœ°çŸ¥é“æ˜¯ aã€b è¿˜æ˜¯ c æ–‡ä»¶å¯¼è‡´äº†é”™è¯¯ã€‚

æ‚¨å¯ä»¥å‘Šè¯‰ webpack ä½¿ç”¨é…ç½®çš„ devtool å±æ€§æ¥ç”Ÿæˆæºæ˜ å°„:

```
module.exports = {
  devtool: 'inline-source-map',
  // ... the rest of the config

}; 
```

è™½ç„¶è¿™ä¼šå¯¼è‡´æ„å»ºå˜æ…¢ï¼Œä½†å¯¹ç”Ÿäº§æ²¡æœ‰å½±å“ã€‚åªæœ‰å½“ä½ æ‰“å¼€æµè§ˆå™¨ DevTools æ—¶ï¼Œæºåœ°å›¾æ‰ä¼šè¢«ä¸‹è½½[ã€‚](https://stackoverflow.com/a/44316255)

## [](#setting-up-eslint)è®¾ç½® ESLint

Linter æ˜¯ä¸€ä¸ªç¨‹åºï¼Œå®ƒæ£€æŸ¥æˆ‘ä»¬çš„ä»£ç æ˜¯å¦æœ‰ä»»ä½•å¯èƒ½å¯¼è‡´ bug çš„é”™è¯¯æˆ–è­¦å‘Šã€‚JavaScript çš„ linterï¼ŒESLintï¼Œæ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„æ—æŒºç¨‹åºï¼Œå¯ä»¥é€šè¿‡å¤šç§æ–¹å¼è¿›è¡Œé…ç½®ã€‚

ä½†æ˜¯åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å°† ESLint å®‰è£…åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­

```
npm --save-dev install eslint eslint-loader babel-eslint eslint-config-react eslint-plugin-react 
```

eslint æ˜¯æ‰€æœ‰åŠŸèƒ½çš„æ ¸å¿ƒä¾èµ–ï¼Œè€Œ eslint-loader ä½¿æˆ‘ä»¬èƒ½å¤Ÿå°† eslint ä¸ webpack æŒ‚é’©ã€‚ç°åœ¨ï¼Œç”±äº React ä½¿ç”¨äº† ES6+è¯­æ³•ï¼Œæˆ‘ä»¬å°†æ·»åŠ **babel-eslint**â€”â€”ä¸€ä¸ªè§£æå™¨ï¼Œä½¿ eslint èƒ½å¤Ÿè¿‡æ»¤æ‰€æœ‰æœ‰æ•ˆçš„ ES6+ä»£ç ã€‚

**eslint-config-react** å’Œ **eslint-plugin-react** éƒ½æ˜¯ç”¨æ¥è®© eslint ä½¿ç”¨é¢„å…ˆåˆ¶å®šçš„è§„åˆ™ã€‚

å› ä¸ºæˆ‘ä»¬å·²ç»æœ‰äº† webpackï¼Œæˆ‘ä»¬åªéœ€è¦ç¨å¾®ä¿®æ”¹ä¸€ä¸‹é…ç½®:

```
module.exports = {

  // modify the module
  module: {
    rules: [
      {
        test: /\.(js|jsx)$/,
        exclude: /node_modules/,
        use: ['babel-loader', 'eslint-loader'] // include eslint-loader
      }
    ]
  },
}; 
```

ç„¶ååˆ›å»ºä¸€ä¸ªåä¸º`.eslintrc`çš„ eslint é…ç½®æ–‡ä»¶ï¼Œå†…å®¹ä¸º:

```
{
  "parser": "babel-eslint",
  "extends": "react",
  "env": {
    "browser": true,
    "node": true
  },
  "settings": {
    "react": {
      "version": "detect"
    }
  }
} 
```

é…ç½®åŸºæœ¬ä¸Šæ˜¯è¯´ï¼Œâ€œå˜¿ï¼ŒESLintï¼Œåœ¨ä½ æ£€æŸ¥ä»£ç ä¹‹å‰ï¼Œè¯·ä½¿ç”¨`babel-eslint`è§£æä»£ç ï¼Œå½“ä½ æ£€æŸ¥å®ƒæ—¶ï¼Œè¯·æ£€æŸ¥æˆ‘ä»¬çš„ React è§„åˆ™é…ç½®ä¸­çš„æ‰€æœ‰è§„åˆ™æ˜¯å¦éƒ½é€šè¿‡äº†ã€‚ä»æµè§ˆå™¨å’ŒèŠ‚ç‚¹çš„ç¯å¢ƒä¸­è·å–å…¨å±€å˜é‡ã€‚å“¦ï¼Œå¦‚æœæ˜¯ React ä»£ç ï¼Œä»æ¨¡å—æœ¬èº«è·å–ç‰ˆæœ¬ã€‚è¿™æ ·ï¼Œç”¨æˆ·å°±ä¸å¿…æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬ã€‚â€

æˆ‘ä»¬æ²¡æœ‰æ‰‹åŠ¨æŒ‡å®šè‡ªå·±çš„è§„åˆ™ï¼Œè€Œæ˜¯ç®€å•åœ°æ‰©å±•äº†`eslint-config-react` `eslint-plugin-react`æä¾›çš„`react`è§„åˆ™

## [](#i-found-errors-what-do-i-do)æˆ‘å‘ç°é”™è¯¯ï¼æˆ‘è¯¥æ€ä¹ˆåŠï¼Ÿ

ä¸å¹¸çš„æ˜¯ï¼ŒçœŸæ­£æ‰¾å‡ºå¦‚ä½•ä¿®å¤ ESLint é”™è¯¯çš„å”¯ä¸€æ–¹æ³•æ˜¯æŸ¥çœ‹å…³äº[è§„åˆ™](https://eslint.org/docs/rules/)çš„æ–‡æ¡£ã€‚ä½¿ç”¨`eslint --fix`æœ‰ä¸€ç§å¿«é€Ÿä¿®å¤ ESLint é”™è¯¯çš„æ–¹æ³•ï¼Œå®é™…ä¸Šè¿™æ˜¯ä¸€ç§å¿«é€Ÿä¿®å¤çš„å¥½æ–¹æ³•ã€‚è®©æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„`package.json`æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªè„šæœ¬:

```
"scripts":  {  "test":  "echo \"Error: no test specified\" && exit 1",  "start":  "webpack-dev-server --mode development",  "format":  "prettier --write \"src/**/*.js\"",  "eslint-fix":  "eslint --fix \"src/**/*.js\"",  //  the  eslint  script  "build":  "webpack --mode production"  }, 
```

ç„¶åç”¨`npm run eslint-fix`è¿è¡Œã€‚å¦‚æœä½ ç°åœ¨å¯¹ ESLint è¿˜ä¸æ¸…æ¥šï¼Œä¸è¦æ‹…å¿ƒã€‚åœ¨ä½¿ç”¨ ESLint çš„è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šå­¦åˆ°æ›´å¤šçš„ä¸œè¥¿ã€‚

## [](#adding-css-less-processor)æ·»åŠ  CSS å°‘å¤„ç†å™¨

ä¸ºäº†åœ¨ React åº”ç”¨ç¨‹åºä¸­æ·»åŠ æ›´å°‘çš„å¤„ç†å™¨ï¼Œæˆ‘ä»¬å°†éœ€è¦æ¥è‡ª webpack
çš„ LESS å’Œ loader åŒ…

```
npm install --save-dev less less-loader css-loader style-loader 
```

`less-loader`å°†æŠŠæˆ‘ä»¬çš„ less æ–‡ä»¶ç¼–è¯‘æˆ cssï¼Œè€Œ`css-loader`å°†åƒ`import`æˆ–`url()`ä¸€æ ·è§£æ css è¯­æ³•ã€‚`style-loader`å°†è·å–æˆ‘ä»¬ç¼–è¯‘çš„ cssï¼Œå¹¶å°†å…¶åŠ è½½åˆ°æˆ‘ä»¬åŒ…ä¸­çš„`<style>`æ ‡ç­¾ä¸­ã€‚è¿™å¯¹äºå¼€å‘æ¥è¯´éå¸¸å¥½ï¼Œå› ä¸ºå®ƒè®©æˆ‘ä»¬å¯ä»¥åŠ¨æ€åœ°æ›´æ–°æˆ‘ä»¬çš„æ ·å¼ï¼Œè€Œä¸éœ€è¦åˆ·æ–°æµè§ˆå™¨ã€‚

ç°åœ¨è®©æˆ‘ä»¬æ·»åŠ ä¸€äº› css æ–‡ä»¶åœ¨`src/style`
ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ ·å¼ç›®å½•

```
cd src && mkdir style && touch header.less && touch main.less 
```

`header.less`å†…å®¹:

```
.header {
  background-color: #3d3d;
} 
```

`main.less`å†…å®¹:

```
@import "header.less";

@color: #f5adad;

body {
  background-color: @color;
} 
```

ç°åœ¨ä»`index.js` :
å¯¼å…¥æˆ‘ä»¬çš„`main.less`æ–‡ä»¶

```
import "./style/main.less"; 
```

ç„¶åæ›´æ–°æˆ‘ä»¬çš„ webpack é…ç½®`module`å±æ€§:

```
module: {
    rules: [
      {
        test: /\.(js|jsx)$/,
        exclude: /node_modules/,
        use: ['babel-loader', 'eslint-loader']
      },
      { 
        test: /\.less$/,
        use: [ 
          'style-loader',
          'css-loader', 
          'less-loader',
        ],
      },
    ]
  }, 
```

è¿è¡Œå¯åŠ¨è„šæœ¬ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹äº†ï¼

## [](#deploying-react-app-to-netlify)å°† React åº”ç”¨éƒ¨ç½²åˆ° Netlify

æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦ä¸ºå®ƒçš„æœ€åä¸€æ­¥è¿›è¡Œéƒ¨ç½²ï¼Œå¯¹äº React åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œéƒ¨ç½²éå¸¸å®¹æ˜“ã€‚

é¦–å…ˆï¼Œè®©æˆ‘ä»¬åœ¨ Webpack é…ç½®ä¸­å°†æ„å»ºè¾“å‡ºå’Œå¼€å‘`contentBase`ä»`dist`æ›´æ”¹ä¸º`build`ã€‚

```
module.exports = {
  entry: './src/index.js',
  output: {
    path: path.resolve(__dirname, 'build'), // change this
    publicPath: '/',
    filename: 'bundle.js'
  },
  devServer: {
    contentBase: "./build",
  },
  //... 
```

ç°åœ¨è®©æˆ‘ä»¬å®‰è£…ä¸€ä¸ªåä¸º HtmlWebpackPlugin
çš„æ–° Webpack æ’ä»¶

```
npm install html-webpack-plugin -D 
```

è¿™ä¸ªæ’ä»¶å°†åœ¨ Webpack åˆ›å»ºæˆ‘ä»¬çš„`bundle.js`çš„åŒä¸€ä¸ªç›®å½•ä¸‹ç”Ÿæˆ`index.html`æ–‡ä»¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`build`ç›®å½•ã€‚

ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è¿™ä¸ªæ’ä»¶ï¼Ÿå› ä¸º Netlify è¦æ±‚å°†å•ä¸ªç›®å½•ä½œä¸ºæ ¹ç›®å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½åœ¨ä½¿ç”¨ Netlify çš„æ ¹ç›®å½•ä¸­ä½¿ç”¨`index.html`ã€‚æ‚¨éœ€è¦æ›´æ–°æ‚¨çš„ webpack é…ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  entry: //... 
  output: {
    //...
  },
  devServer: {
    contentBase: "./build",
  },
  module: {
    //...
  },
  plugins: [
    new HtmlWebpackPlugin({
      template:  path.resolve('./index.html'),
    }),
  ]
}; 
```

è¯·å»æ‰ä½ çš„`index.html` :
ä¸Šçš„`script`æ ‡ç­¾

```
<!DOCTYPE html>
<html>
  <head>
    <title>My React Configuration Setup</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html> 
```

ç°åœ¨ä½ å¯ä»¥ç”¨`npm run build`å‘½ä»¤æµ‹è¯•é…ç½®ã€‚å®Œæˆåï¼Œå°†æ ·æ¿æ–‡ä»¶æ”¾å…¥ GitHub repoã€‚æ˜¯æ—¶å€™éƒ¨ç½²æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºäº†ï¼

è®©æˆ‘ä»¬æ³¨å†Œä¸€ä¸ªç½‘ç»œè´¦æˆ·ã€‚

å¦‚æœä½ ä»¥å‰æ²¡æœ‰å¬è¯´è¿‡ Netlifyï¼Œå®ƒæ˜¯ä¸€ä¸ªéå¸¸æ£’çš„é™æ€ç½‘ç«™æ‰˜ç®¡ï¼Œå…è´¹æä¾›ä½ éƒ¨ç½²é™æ€ç½‘ç«™æ‰€éœ€çš„æ‰€æœ‰å·¥å…·ã€‚ä»€ä¹ˆæ˜¯é™æ€ç«™ç‚¹ï¼Ÿè¿™æ˜¯ä¸€ä¸ªç”±é™æ€ HTML é¡µé¢é›†åˆåˆ›å»ºçš„ç½‘ç«™ï¼Œæ²¡æœ‰ä»»ä½•åå°ã€‚æˆ‘ä»¬çš„ React æ ·æ¿æ–‡ä»¶ç°åœ¨ç®—ä½œä¸€ä¸ªé™æ€ç«™ç‚¹ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰é…ç½®åç«¯ï¼Œå®ƒåªæœ‰ HTML å’Œ JavaScriptã€‚

æ³¨å†Œåï¼Œä» Git ä¸­é€‰æ‹©æ–°ç«™ç‚¹ï¼Œå¹¶é€‰æ‹© GitHub ä½œä¸ºæ‚¨çš„ Git æä¾›å•†

[![Netlify provider](../Images/0683b935496c751491a6f4fa63f9c29c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--M7UvmwXX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/wxyabs5gv2aju1xly6jw.png)

æ‚¨éœ€è¦æˆäºˆ Netlify æƒé™ï¼Œç„¶åé€‰æ‹©æ‚¨çš„ React æ ·æ¿ repoã€‚

[![Netlify select boilerplate](../Images/64274fc8127e3085dcac984cc44c0d6c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--pCbktsbj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/b53htl9b7cv7fuy1r1wa.png)

ç°åœ¨æ‚¨éœ€è¦è¾“å…¥æ„å»ºå‘½ä»¤å’Œå‘å¸ƒç›®å½•ã€‚å¦‚æ‚¨æ‰€è§ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦ HtmlWebpackPlugin çš„åŸå› ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦ä»ä¸€ä¸ªç›®å½•ä¸­æä¾›æ‰€æœ‰çš„æœåŠ¡ã€‚æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨æ›´æ–°æˆ‘ä»¬çš„æ ¹æ–‡ä»¶`index.html`,è€Œæ˜¯ä½¿ç”¨æ’ä»¶ç”Ÿæˆå®ƒã€‚

[![Netlify select boilerplate](../Images/0d17d970fe5889d9da6fb24d9c51d9e7.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Rw5J1oZm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/hdm8h0uhbhwynr3i1i8b.png)

è¯·ç¡®ä¿æ‚¨çš„å‘½ä»¤ä¸ä¸Šé¢çš„æˆªå›¾ç›¸åŒï¼Œå¦åˆ™æ‚¨çš„åº”ç”¨ç¨‹åºå¯èƒ½æ— æ³•è¿è¡Œã€‚

[![Netlify select boilerplate](../Images/da8766c86027e2530948fc83cde2ffbb.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--6r6mWc5N--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/lw1sgsz7lamq80wufh6o.png)

ä¸€æ—¦éƒ¨ç½²çŠ¶æ€å˜ä¸º`published`(ä¸Šé¢çš„ 2 å·)ï¼Œæ‚¨å°±å¯ä»¥è½¬åˆ° Netlify ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºåˆ†é…çš„éšæœºç«™ç‚¹åç§°(1 å·)ã€‚

React åº”ç”¨ç¨‹åºå·²ç»éƒ¨ç½²ã€‚å‰å®³ï¼

## [](#conclusion)ç»“è®º

æ‚¨åˆšåˆšåˆ›å»ºäº†è‡ªå·±çš„ React é¡¹ç›®æ ·æ¿æ–‡ä»¶ï¼Œå¹¶å°†å…¶éƒ¨ç½²åˆ° Netlify ä¸­ã€‚æ­å–œä½ ï¼å½“ç„¶ï¼Œæˆ‘æ²¡æœ‰æ·±å…¥ç ”ç©¶ webpack çš„é…ç½®ï¼Œå› ä¸ºè¿™ä¸ªæ ·æ¿æ–‡ä»¶æ˜¯ä¸€ä¸ªé€šç”¨çš„å…¥é—¨ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åƒæœåŠ¡å™¨ç«¯æ¸²æŸ“è¿™æ ·çš„é«˜çº§åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦å†æ¬¡è°ƒæ•´é…ç½®ã€‚ä½†æ˜¯ä¸ç”¨æ‹…å¿ƒï¼ä½ å·²ç»èµ°åˆ°è¿™ä¸€æ­¥äº†ï¼Œè¿™æ„å‘³ç€ä½ å·²ç»æ˜ç™½äº† webpackï¼ŒBabelï¼ŒPrettier å’Œ ESLint æ˜¯åšä»€ä¹ˆçš„ã€‚Webpack æœ‰è®¸å¤šåŠŸèƒ½å¼ºå¤§çš„åŠ è½½å™¨ï¼Œå¯ä»¥å¸®åŠ©æ‚¨å¤„ç†åœ¨æ„å»º web åº”ç”¨ç¨‹åºæ—¶ç»å¸¸é‡åˆ°çš„è®¸å¤šæƒ…å†µã€‚å¦‚æœæ‚¨ä»ç„¶å¯¹é…ç½®ä¸æ»¡æ„ï¼Œè¯·ä¸è¦æ‹…å¿ƒã€‚ä½ ç»ƒä¹ å¤šäº†å°±ä¼šä¹ æƒ¯çš„ã€‚

å°†æ¥æˆ‘ä¼šåˆ¶ä½œæ›´å¤šå…³äº React çš„æ•™ç¨‹ï¼Œæ¯”å¦‚ä½¿ç”¨ React è·¯ç”±å™¨å’Œ React å¤´ç›”..å› æ­¤ï¼Œå¦‚æœä½ å¯¹æ­¤æ„Ÿå…´è¶£ï¼Œä½ å¯ä»¥**åœ¨ DEV ä¸Šå…³æ³¨æˆ‘**æˆ–è€…[è®¢é˜…æˆ‘çš„æ—¶äº‹é€šè®¯](https://sebhastian.com/subscribe)ï¼Œä»¥ä¾¿åœ¨æ–°æŒ‡å—å‘å¸ƒæ—¶å¾—åˆ°é€šçŸ¥ã€‚æ‚¨è¿˜å¯ä»¥å…è´¹è·å¾— PDF æ ¼å¼çš„é…ç½®ï¼ğŸ

æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼å¸Œæœ›ä½ å­¦åˆ°äº†æ–°ä¸œè¥¿:)

[![](../Images/27c0dd9139ec1fb55a3ccb386c187c8b.png)T2ã€‘](https://sebhastian.com/subscribe)