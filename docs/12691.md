# CSS è‡ªå®šä¹‰å±æ€§-å¤‡å¿˜å•

> åŸæ–‡:[https://dev.to/vinceumo/css-customs-properties-å¤‡å¿˜å•-4iec](https://dev.to/vinceumo/css-customs-properties---cheatsheet-4iec)

è¿™ç¯‡ç¬”è®°æœ€åˆå‘å¸ƒåœ¨æˆ‘çš„ [DevNotes](https://vinceumo.github.io/devNotes/css/2019/02/20/css-customs-properties.html) ä¸Š

* * *

CSS è‡ªå®šä¹‰å±æ€§ï¼Œä¹Ÿç§°ä¸º CSS å˜é‡ã€‚è¡¨ç¤ºå¯ä»¥åœ¨ CSS ä¸­å£°æ˜å’Œè°ƒç”¨çš„è‡ªå®šä¹‰å±æ€§ã€‚

## [](#declare-a-custom-property-in-css)åœ¨ CSS ä¸­å£°æ˜ä¸€ä¸ªè‡ªå®šä¹‰å±æ€§

è¦åœ¨ä½ çš„ CSS ä¸­å£°æ˜ä¸€ä¸ªè‡ªå®šä¹‰å±æ€§ï¼Œä½ éœ€è¦ä½¿ç”¨`--`è¯­æ³•:

```
:root {
  --colorPrimary: hsla(360, 100%, 74%, 0.6);
} 
```

æ³¨æ„`:root`ä¼ªç±»é€‰æ‹©å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒå…¨å±€å£°æ˜æˆ‘ä»¬çš„å˜é‡ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–é€‰æ‹©å™¨æ¥å£°æ˜å®ƒä»¬ï¼Œå®ƒä»¬å°†åœ¨è¿™äº›é€‰æ‹©å™¨ä¸­è¢«é™å®šèŒƒå›´ã€‚

```
.theme-dark {
  --colorPrimary: hsla(360, 100%, 24%, 0.6);
} 
```

## [](#use-a-custom-property-in-css)åœ¨ CSS ä¸­ä½¿ç”¨è‡ªå®šä¹‰å±æ€§

è¦åœ¨ä½ çš„ CSS ä¸­ä½¿ç”¨ CSS è‡ªå®šä¹‰å±æ€§ï¼Œä½ å¯ä»¥ä½¿ç”¨`var()`å‡½æ•°

```
:root {
  --colorPrimary: tomato;
}

.theme-dark {
  --colorPrimary: lime;
}

body {
  background-color: var(--colorPrimary);
} 
```

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`body`çš„èƒŒæ™¯é¢œè‰²ä¸º`tomato`ã€‚è€Œæ˜¯`lime`çš„`body.theme-dark`ã€‚

## [](#use-custom-properties-without-units)ä½¿ç”¨ä¸å¸¦å•ä½çš„è‡ªå®šä¹‰å±æ€§

å¦‚æœ CSS è‡ªå®šä¹‰å±æ€§ä¸`calc()`å‡½æ•°ä¸€èµ·ä½¿ç”¨ï¼Œå®ƒä»¬å¯ä»¥ä¸å¸¦å•ä½å£°æ˜ã€‚

```
:root {
  --spacing: 2;
}

.container {
  padding: var(--spacing) px; /*Doesn't Work ğŸ˜«*/
  padding: calc(var(--spacing) * 1rem); /*Will output 2rem ğŸ˜ƒ*/
} 
```

## [](#use-custom-properties-with-javascript)ç”¨ JavaScript ä½¿ç”¨è‡ªå®šä¹‰å±æ€§

è¦è·å¾—ä¸€ä¸ªè‡ªå®šä¹‰å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„:

```
getComputedStyle(element).getPropertyValue("--my-var");

// Or if inline
element.style.getPropertyValue("--my-var"); 
```

è¦æ›´æ–°è‡ªå®šä¹‰å±æ€§å€¼:

```
element.style.setProperty("--my-var", newVal); 
```

### [](#example-of-getting-and-replacing-values)è·å–å’Œæ›¿æ¢å€¼çš„ä¾‹å­:

åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ [dat.gui æ§åˆ¶å™¨åº“](https://workshop.chromeexperiments.com/examples/gui/)æ¥æ”¹å˜`--scenePerspective`ã€`--cubeRotateY`ã€`--cubeRotateX`è‡ªå®šä¹‰å±æ€§çš„å€¼ã€‚è¿™ç§æ–¹æ³•ä½¿å¾—åº”ç”¨æ–°çš„æ ·å¼æ›´åŠ å®¹æ˜“ï¼Œå› ä¸ºä¸å¿…å¯¹æ¯ä¸ª Dom å…ƒç´ åº”ç”¨å†…è”æ ·å¼ã€‚

[https://codepen.io/vinceumo/embed/jdJLge?height=600&default-tab=result&embed-version=2](https://codepen.io/vinceumo/embed/jdJLge?height=600&default-tab=result&embed-version=2)

## [](#resources)èµ„æº

*   [å®šä¹‰è‡ªå®šä¹‰å±æ€§:- *ç³»åˆ—å±æ€§](https://drafts.csswg.org/css-variables/#defining-variables)
*   [è‡ªå®šä¹‰å±æ€§:CSS å˜é‡- MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/--*)
*   [var() - MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/var)
*   [ä½¿ç”¨ CSS è‡ªå®šä¹‰å±æ€§(å˜é‡)- MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables)

* * *

*   [Vincent-humau . com](http://vincent-humeau.com/)