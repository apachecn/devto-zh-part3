# ä¸€æ—¦ä½ çš„ç½‘ç«™å…¬å¼€ï¼Œä½ å¯èƒ½ä¼šåœ¨æ—¥å¿—ä¸­çœ‹åˆ° 3 ä»¶äº‹

> åŸæ–‡:[https://dev . to/intrincetic cloud/3-things-you-could-once-your-site-public-4 lbd](https://dev.to/intricatecloud/3-things-you-might-see-in-your-logs-once-your-site-is-public-4lbd)

æ‚¨å·²å®Œæˆå°†ç½‘ç«™éƒ¨ç½²åˆ°æ–°åŸŸã€‚æ‚¨å¼€å§‹çœ‹åˆ°æ‚¨çš„æ­£å¸¸ç”¨æˆ·æµé‡ï¼Œä½†éšåæ‚¨ä¹Ÿæ³¨æ„åˆ°æ‚¨çš„è®¿é—®æ—¥å¿—ä¸­çš„æœ‰è¶£æ¨¡å¼ã€‚è¿™é‡Œæœ‰å‡ ä¸ªä¾‹å­ï¼Œå½“ä½ çš„ç«™ç‚¹æˆ– API åœ¨ç”Ÿäº§ä¸­å…¬å¼€åï¼Œä½ å¯èƒ½ä¼šåœ¨ä½ çš„è®¿é—®æ—¥å¿—ä¸­çœ‹åˆ°ã€‚

1.  æ¥è‡ªä¸–ç•Œå„åœ°çš„è‡ªåŠ¨åŒ–æ¼æ´æ‰«æå™¨
2.  ç«¥è£¤
3.  SQL æ³¨å…¥å°è¯•

## [](#scanners)æ‰«æä»ª

ä½ çŸ¥é“é€šå¸¸ä¼šå‡ºç°ä»€ä¹ˆå—ï¼Ÿæ‰«æä»ªã€‚[å¾ˆå¤šå¾ˆå¤šçš„å¼€æºæ‰«æå™¨](https://geekflare.com/open-source-web-security-scanner/)ã€‚IP æ¥è‡ªä¸–ç•Œå„åœ°ä¸­å›½ï¼Œä¹Œå…‹å…°ï¼Œä¿„ç½—æ–¯ã€‚ä¸€å‘¨å†…ï¼Œæˆ‘ä»¬ä¼šéšæœºçœ‹åˆ°æ‰«æä»ªæµé‡ã€‚æ‰«æä»ªæµé‡æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ

æœ‰å‡ ä¸ªè¿¹è±¡å¯ä»¥å‘Šè¯‰ä½ :

*   åœ¨å¤§çº¦ 30 åˆ†é’Ÿçš„æŒç»­æ—¶é—´å†…ï¼Œæ‚¨çš„é”™è¯¯ç‡ç•¥æœ‰ä¸Šå‡ï¼Œç„¶åçªç„¶æ¶ˆå¤±ã€‚4xx å’Œ 5xx çš„ç»„åˆã€‚![elevated error rates](../Images/f0eecfb79548774b7cd76ca5a157c3d7.png "Elevated error rates")
*   å®ƒæ­£åœ¨è¯·æ±‚æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ä¸å­˜åœ¨çš„è·¯å¾„ã€‚
*   ä¸€äº›æ‰«æç¨‹åºä½¿ç”¨ç‰¹å®šçš„ç”¨æˆ·ä»£ç†æ ‡å¤´ï¼Œå°†è‡ªå·±æ ‡è¯†ä¸ºæ‰«æç¨‹åº

æ‚¨å¯èƒ½ä¼šçœ‹åˆ°è¿™æ ·çš„è¯·æ±‚...

```
x.x.x.x - - [07/Apr/2018:02:50:27 +0000] "GET /wp-json/oembed/1.0/embed?url=..%2F..%2F..%2F..%2F..%2F..%2F..%2FWindows%2FSystem32%2Fdrivers%2Fetc%2Fhosts%00&format=xml HTTP/1.0" 404 132 "http://www.zzzz.yyy/xxxx" "Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_8; en-us) AppleWebKit/534.57.2 (KHTML, like Gecko) Version/5.1.6 Safari/534.57.2" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨ä¸­æœ‰ä¸€ä¸ªç¼–ç çš„ URL: `../../../../../../../Windows/System32/drivers/etc/hosts&`ã€‚è¿™ç§ç±»å‹çš„è¯·æ±‚çœ‹èµ·æ¥ä¸»è¦åƒæ˜¯ä¸€ç§ä¾¦å¯Ÿå°è¯•ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦èƒ½å¤Ÿè®¿é—®è¯¥ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚

å¦‚æœä½ æ­£åœ¨è¿è¡Œä¸€ä¸ª wordpress ç«™ç‚¹ï¼Œéšæ—¶å‡†å¤‡å¥½æ¥æ”¶å¤§é‡å·²çŸ¥çš„å¯¹ä½ ç«™ç‚¹çš„æ”»å‡»ã€‚æˆ‘ä»¬ç”šè‡³æ²¡æœ‰è¿è¡Œä¸€ä¸ª wordpress ç½‘ç«™ï¼Œæˆ‘ä»¬çš„è®¿é—®æ—¥å¿—ä¸­ä¼šæœ‰è¿™ç§ç±»å‹çš„ä¸œè¥¿ã€‚åŒ…æ‹¬æœ‰ä¸€ä¸ª [revslider_show_image æ¼æ´ï¼Œçªƒå– 2014](https://blog.sucuri.net/2014/09/slider-revolution-plugin-critical-vulnerability-being-exploited.html) çš„ wp-config æ–‡ä»¶ã€‚

```
| count | uri                                                                           |
|-------|-------------------------------------------------------------------------------|
| 12    | /wp-admin/admin-ajax.php                                                      |
| 6     | /wp-admin/admin-ajax.php?action=revslider_show_image&img=../wp-config.php     |
| 6     | /wp-admin/tools.php?page=backup_manager&download_backup_file=../wp-config.php |
| 3     | /wp-admin/wp-login.php?action=register                                        |
| 2     | /help/wp/wp-admin/setup-config.php                                            |
| 1     | /help/new/wp-admin/setup-config.php                                           |
| 1     | /help/wp-admin/setup-config.php                                               |
| 1     | /wp-admin/js/password-strength-meter.min.js?ver=4.9.1                         |
| 1     | /wp-admin/js/password-strength-meter.min.js?ver=4.9.2                         | 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ ¹æ®æ‚¨çš„åº”ç”¨ç¨‹åºçš„æ‰˜ç®¡æ–¹å¼ï¼Œæ‚¨ç”šè‡³å¯èƒ½åœ¨æ‰«ææœŸé—´çœ‹åˆ°å»¶è¿Ÿå¢åŠ :
[![increased latency graph](../Images/c2bd5d96d7d2f2c8eec2136e26fe6e75.png "increased latency graph")](https://res.cloudinary.com/practicaldev/image/fetch/s--kczFbSRa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://s3.amazonaws.com/intricatecloud-content/wp-content/uploads/2018/11/04065335/Screen-Shot-2018-11-04-at-1.53.20-AM.png)

## [](#crawlers)çˆ¬è™«

è¿™äº›æ— ä¼¤å¤§é›…ã€‚åªæ˜¯è°·æ­Œå’Œå¿…åº”ç´¢å¼•å†…å®¹ã€‚å…¸å‹çš„äº’è”ç½‘å°±æ˜¯äº’è”ç½‘ã€‚è¿™ä¸ªç‰¹åˆ«çš„çˆ¬è™«éå¸¸å¥½ï¼ŒåŒ…æ‹¬ä¸€ä¸ªç”¨æˆ·ä»£ç†å¤´ï¼Œå®ƒæŠŠä½ å‘é€åˆ°ä¸€ä¸ªç«™ç‚¹ï¼Œè¿™ä¸ªç«™ç‚¹ç¡®åˆ‡åœ°å‘Šè¯‰ä½ ä»–ä»¬å¯¹æ”¶é›†çš„æ‰€æœ‰æ•°æ®åšäº†ä»€ä¹ˆã€‚çœ‹çœ‹å§-[http://www.exensa.com/crawl](http://www.exensa.com/crawl)T2ã€‘

```
x.x.x.x [30/Mar/2018:04:39:15 +0000] "GET /robots.txt HTTP/1.1" 404 136 "-" "Barkrowler/0.7 (+http://www.exensa.com/crawl)" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#sql-injection-attacks)SQL æ³¨å…¥è¢­å‡»

æ‚¨å¯èƒ½ä¼šçœ‹åˆ°è¿™äº›ä¾¦å¯Ÿæ”»å‡»â€”â€”æ‚¨å¯ä»¥è·å–ä¸€ä¸ªå·²çŸ¥çš„å…¬å…± URLï¼Œå¹¶æ·»åŠ ä¸€ä¸ª URL ç¼–ç çš„ SELECT è¯­å¥ï¼Œä»¥æŸ¥çœ‹å“åº”ä¸­æ˜¯å¦æœ‰ä»»ä½•æœ‰è¶£çš„å†…å®¹ã€‚åƒè¿™æ ·:

```
x.x.x.x [11/Apr/2018:16:09:37 +0000] "GET /REDACTED&response_mode=%28SELECT%20%28CHR%28113%29%7C%7CCHR%28107%29%7C%7CCHR%28120%29%7C%7CCHR%28107%29%7C%7CCHR%28113%29%29%7C%7C%28SELECT%20%28CASE%20WHEN%20%285423%3D5423%29%20THEN%201%20ELSE%200%20END%29%29%3A%3Atext%7C%7C%28CHR%28113%29%7C%7CCHR%28122%29%7C%7CCHR%28112%29%7C%7CCHR%2898%29%7C%7CCHR%28113%29%29%29&response_type=code&scope=openid HTTP/1.1" 302 0 "-" "Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US) AppleWebKit/532.0 (KHTML, like Gecko) Chrome/4.0.202.0 Safari/532.0" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œæœ‰ä¸€ä¸ª URL ç¼–ç çš„ SQL æ³¨å…¥å­—ç¬¦ä¸²ã€‚å¦‚æœä½ è§£ç ï¼Œä½ ä¼šå¾—åˆ°è¿™ä¸ª

```
(SELECT (CHR(113)||CHR(107)||CHR(120)||CHR(107)||CHR(113))||(SELECT (CASE WHEN (5423=5423) THEN 1 ELSE 0 END))::text||(CHR(113)||CHR(122)||CHR(112)||CHR(98)||CHR(113))) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™äº›æ˜¯æ³¨å°„æµ‹è¯•ã€‚å¦‚æœå›åº”åŒ…å«ä¸€äº›ä¸å¯»å¸¸çš„ä¸œè¥¿ï¼Œä»–ä»¬çŸ¥é“ä»–ä»¬èƒ½åšåˆ°ã€‚è™½ç„¶ä¸å®Œå…¨ç¡®å®šè¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆã€‚

## [](#defend-against-it)æŠµå¾¡å®ƒ

è¿™é‡Œæœ‰ä¸€äº›ä½ å¯ä»¥ç”¨æ¥è¿œç¦»è¿™äº›äººçš„ä¸œè¥¿ã€‚

*   ä½¿ç”¨å®‰å…¨ç»„(åœ¨ AWS ä¸­)/ iptables å°†å…¥ç«™æµé‡é™åˆ¶åˆ°æ‚¨éœ€è¦çš„ç«¯å£ã€‚å¦‚æœåªæœ‰å’Œ 80/443 æ˜¯å¼€æ”¾çš„ï¼Œé‚£ä¹ˆæ‚¨æœ€å®¹æ˜“å—åˆ° web åº”ç”¨ç¨‹åºæ”»å‡»ï¼Œè€Œä¸æ˜¯ SSH/FTP/DNS ä¹‹ç±»çš„ã€‚è¿™æ˜¯ä¸€ä»½å…³äºå®‰å…¨æœ€ä½³å®è·µçš„ AWS ç™½çš®ä¹¦

*   å®šæœŸæ£€æŸ¥ä½ çš„æ—¥å¿—ï¼Œçœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆã€‚å¦‚æœæ‚¨çœ‹åˆ° SQL æ³¨å…¥å°è¯•ï¼Œçœ‹çœ‹å“ªäº›è°ƒç”¨è¿”å›äº† 200/500 -è¿™æ„å‘³ç€ä¸€äº›æ½œåœ¨çš„æœ‰ç”¨çš„ä¸œè¥¿å·²ç»ç»™æ”»å‡»è€…ã€‚

*   å½»åº•æ‹’ç»ä»»ä½•ä¸ä½ çš„åº”ç”¨ç¨‹åº URL ä¸€ç‚¹ä¹Ÿä¸æ¥è¿‘çš„ä¸œè¥¿â€”â€”ä¾‹å¦‚ï¼Œå½“ä½ çš„åº”ç”¨ç¨‹åºæ‰˜ç®¡åœ¨ Linux ä¸Šæ—¶ï¼Œä½ ä¼šæƒ³è¦é˜»æ­¢ Windows è·¯å¾„ï¼Œæ¯”å¦‚åœ¨ä½ çš„è®¿é—®æ—¥å¿—ä¸­åŒ…å«`System32`ã€`cmd.exe`ã€`C:\\`çš„è·¯å¾„ã€‚

*   åœ¨æœ¬åœ°å¯¹æ‚¨çš„åº”ç”¨ç¨‹åºè¿›è¡Œæ‰«æï¼Œé¢†å…ˆé»‘å®¢ä¸€æ­¥ã€‚å…ˆçŸ¥é“è‡ªå·±æ¥è§¦çš„æ˜¯ä»€ä¹ˆã€‚çœ‹çœ‹è¿™äº›[å¼€æºæ‰«æä»ª](https://geekflare.com/open-source-web-security-scanner/)

*   å¦‚æœä½ æŠŠä½ çš„é™æ€ç½‘ç«™æ”¾åœ¨ AWS S3 ç½‘ç«™ä¸Šï¼Œè¿™äº›é—®é¢˜éƒ½ä¼šæ¶ˆå¤±â€”â€”å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡è¿™ä¹ˆåšï¼Œè¿™æ˜¯æˆ‘å†™çš„ä¸€ä¸ªæŒ‡å—

*   å¦‚æœä½ åœ¨å¯»æ‰¾ Wordpress çš„æ›¿ä»£å“ï¼Ÿå‚è§æœ¬æŒ‡å—[ç”¨ gatsby.js å»ºç«‹åšå®¢](https://www.intricatecloud.io/2018/06/part-1-build-test-deploy-and-monitor-a-static-website-building-a-blog-with-gatsby/)

å¦‚æœä½ è§‰å¾—è¿™å¾ˆæœ‰å¸®åŠ©ï¼Œä½ å¯ä»¥æŠŠå®ƒâ¤ï¸åŒ–ï¼Œç„¶ååœ¨ dev.to ä¸Šå…³æ³¨æˆ‘ğŸ˜„