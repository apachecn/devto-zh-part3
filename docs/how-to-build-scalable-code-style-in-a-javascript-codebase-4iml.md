# å¦‚ä½•åœ¨ JavaScript ä»£ç åº“ä¸­æ„å»ºå¯ä¼¸ç¼©çš„ä»£ç é£æ ¼

> åŸæ–‡ï¼š<https://dev.to/pamepeixinho/how-to-build-scalable-code-style-in-a-javascript-codebase-4iml>

> ä»æ··ä¹±çš„ä»£ç åº“åˆ°å…¨å…¬å¸ä¸€è‡´è´¨é‡çš„æ–°æ—¶ä»£

<figure>[![](img/304382e5bbd35345f3a8c147874b93cc.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--ZSzgJ8tz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2ABUfObv8SXNtYtWT-QejxMA.gif) 

<figcaption>â€œæˆ‘ä¸ä¼šå†™ä¹±ä¸ƒå…«ç³Ÿçš„ä»£ç ã€‚â€([å‚è€ƒ](https://www.thecuriousdev.org/code-style/) )</figcaption>

</figure>

ä½ æ›¾ç»éœ€è¦åœ¨æ··ä¹±çš„ä»£ç åº“ä¸­è¿›è¡Œå¼€å‘å—ï¼Ÿä½ æœ‰æ²¡æœ‰å› ä¸ºæ ‡å‡†çš„ä¸åŒè€Œè½¬æ¢è¿‡é¡¹ç›®è€Œæ„Ÿåˆ°å¤±è½ï¼Ÿ

æ¯ä¸ªäººå¯èƒ½éƒ½ç»å†è¿‡è¿™æ ·çš„åœºæ™¯ã€‚æˆ‘ä»¬ä¹Ÿæ˜¯ï¼Œä½†æ˜¯æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†æé«˜æ•´ä¸ªå…¬å¸ä»£ç é£æ ¼ä¸€è‡´æ€§çš„æ–¹æ³•ã€‚

è¿™äº›æ˜¯å¯¼è‡´æˆ‘ä»¬ä¸å¾—ä¸åº”å¯¹çš„ä¸ä¸€è‡´ä»£ç åº“çš„ä¸»è¦æŒ‘æˆ˜:

*   è®¸å¤šå¼€å‘äººå‘˜åœ¨ä¸€ä¸ªç‹¬ç‰¹çš„é¡¹ç›®ä¸­
*   è®¸å¤šé¡¹ç›®ä¸­çš„è®¸å¤šå¼€å‘è€…
*   å…·ä½“çš„å…¬å¸éœ€æ±‚(å¦‚è¦éµå¾ªçš„å®šåˆ¶è§„åˆ™)

*é¦–å…ˆï¼Œè®©æˆ‘ä»ä¸€ä¸ªæ•…äº‹å¼€å§‹â€¦â€¦*

2017 å¹´ 9 æœˆï¼Œæˆ‘ä»¬å‘å¸ƒäº†ç¬¬ä¸€æ¬¾[quinto andar](http://www.quintoandar.com.br)PWA(Progressive Web App)ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬åŸºæœ¬ä¸Šé‡å†™äº†ä»¥å‰å­˜åœ¨çš„æ•´ä¸ªå‰ç«¯åº”ç”¨ç¨‹åºã€‚

æˆ‘æ˜¯é‚£ä¸ªå›¢é˜Ÿçš„ä¸€å‘˜ï¼Œè¿™æ˜¯ä¸€æ¬¡å¥‡å¦™çš„ç»å†ï¼æ€»æœ‰ä¸€å¤©æˆ‘ä¼šåœ¨å¦ä¸€ä¸ªå¸–å­é‡Œå‘Šè¯‰ä½ )

å‘å¸ƒä¸€å¹´åï¼Œæˆ‘ä»¬ç°åœ¨æœ‰å¤§çº¦ 10 ä¸ª pwaã€‚å®ƒä»¬éƒ½ä½¿ç”¨ç›¸åŒçš„å †æ ˆ:React + Reduxï¼Œå¹¶åœ¨é¡¹ç›®ä¹‹é—´é‡ç”¨ä»£ç ã€‚

æˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œå¦‚æœäº‹æƒ…æ²¡æœ‰å¾—åˆ°æ§åˆ¶ï¼Œæˆ‘ä»¬çš„é—ç•™ç½‘ç«™ä¼šå˜å¾—å¤šä¹ˆç³Ÿç³•ï¼Œæˆ‘ä»¬ç»å¯¹ä¸å¸Œæœ›æˆ‘ä»¬é—ªäº®çš„æ–°é¡¹ç›®èµ°ä¸ŠåŒæ ·çš„é“è·¯ã€‚

ä¼—æ‰€å‘¨çŸ¥ï¼ŒJavaScript æ˜¯ä¸€ç§ä»¤äººæƒŠå¹çš„ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨ä¸–ç•Œå„åœ°æœ‰æˆåƒä¸Šä¸‡çš„åº“å’Œä¸åŒçš„é¡¹ç›®ã€‚ä½†æ˜¯ï¼ŒJS ä¸–ç•Œå¹¶ä¸æ˜¯çœŸçš„å®Œç¾ï¼ä½†å¦‚æœè¦æˆ‘æ€»ç»“äº‰è®ºçš„è¦ç‚¹:

> â€œjavascript æœ€å¥½å’Œæœ€å·®çš„åœ°æ–¹æ˜¯ç¼ºä¹çº¦æŸï¼Œè®©æˆ‘ä»¬å¯ä»¥åšä»»ä½•æˆ‘ä»¬æƒ³åšçš„äº‹æƒ…â€

[![](img/f91eaba44103f842bd819e1f1e398107.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--dyCWpqXt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/494/0%2A8OCHayyeziDTsZ7A)

æˆ‘ä»¬åœ¨ JS ä¸Šæœ‰è¿™ä¹ˆå¤šçš„â€œè‡ªç”±â€ï¼Œè¿™å¾ˆç¥å¥‡ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥åˆ›é€ å¾ˆå¤šä¸œè¥¿ã€‚ç„¶è€Œï¼Œè¿™ä¹Ÿå¾ˆå±é™©ï¼æƒ³è±¡ä¸€ä¸‹ï¼Œè®¸å¤šå¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨æ²¡æœ‰ä»»ä½•æ ‡å‡†/ä¸€è‡´æ€§çš„æƒ…å†µä¸‹ï¼Œåœ¨å•ä¸ªé¡¹ç›®ä¸­ä¸ºæ‰€æ¬²ä¸ºã€‚

è¿™å¯èƒ½ä¼šå˜å¾—ä¸€å›¢ç³Ÿï¼Œå› ä¸ºè¿™æ˜¯æˆ‘ä»¬ä»¥å‰çš„é¡¹ç›®ã€‚æ‚ä¹±çš„ä»£ç éš¾ä»¥é˜…è¯»ã€æµ‹è¯•å’Œç»´æŠ¤ã€‚è¿™ä½¿å¾—é¡¹ç›®æ›´åŠ â€œæ¼æ´ç™¾å‡ºâ€,æ–°å¼€å‘äººå‘˜ä¹Ÿæ›´éš¾å‚ä¸è¿›æ¥ã€‚

ä½œä¸ºä¸€åå¼€å‘äººå‘˜ï¼Œ**æˆ‘ä¸å¸Œæœ›ç»™äºˆé‚£ç§â€œè‡ªç”±â€**ï¼Œå› ä¸ºæˆ‘ä»¬ä¼šæœ‰ä¸€ç‚¹**å¤ªå¤šçš„åˆ›é€ æ€§**ï¼

[![](img/cd152b0078c2547d3612741932c7becb.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--qL9L4UAk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2ABdFgPbF4luZ0QIVIzPUqRQ.png)

<figure>[![](img/9c1f289dd8a45625ff32555e55a3cdd3.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--BIDagRCu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/740/1%2AIzLUWyl8SU30hLNwQ41z7w.png) 

<figcaption>ä»…ä¸ºè¯´æ˜ç›®çš„</figcaption>

</figure>

**æ‰€ä»¥...æˆ‘ä»¬å¦‚ä½•é¿å…åœ¨æ–°é¡¹ç›®ä¸­çŠ¯æ—§é¡¹ç›®çš„åŒæ ·é”™è¯¯ï¼Ÿæˆ‘ä»¬å¦‚ä½•é˜²æ­¢æ··ä¹±çš„ä»£ç ï¼Ÿ**

æˆ‘ä»¬ç»™è‡ªå·±çš„â€œè‡ªç”±â€è®¾å®šäº†ç•Œé™ï¼æˆ‘ä»¬å¯¹é¡¹ç›®è¿›è¡Œäº†çº¦æŸï¼Œä»¥ä½¿ä»£ç æ¸…æ™°ä¸€è‡´ã€‚å®ƒå¸®åŠ©å¼€å‘äººå‘˜åœ¨é’ˆå¯¹é—®é¢˜çš„**è§£å†³æ–¹æ¡ˆ**ä¸­**æœ‰åˆ›é€ åŠ›****è€Œä¸æ˜¯é’ˆå¯¹**ä»£ç é£æ ¼**çš„**ã€‚

æˆ‘ä»¬æ˜¯å¦‚ä½•è®¾å®šç•Œé™çš„ï¼Ÿ

é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨æ¯ä¸ªæ‹‰è¯·æ±‚ä¸­è‡³å°‘å¼ºåˆ¶ä¸€ä¸ªä»£ç å®¡æŸ¥è€…ï¼ä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸æ˜¯è‡ªåŠ¨åŒ–çš„ï¼Œå› ä¸ºå®ƒä¾èµ–äºäººï¼Œæ‰€ä»¥å®ƒä¸èƒ½æ‰©å±•ï¼Œä¸€äº›é”™è¯¯å’Œä¸ä¸€è‡´å°†ä¼šè¿‡å»ï¼

å¯¹äºè‡ªåŠ¨åŒ–çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬ä½¿ç”¨**ä»£ç æ£‰æ¡**æ¥æ£€æŸ¥ä»£ç é£æ ¼å’Œæœ€ä½³å®è·µã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿**ä¸€ä¸ªé¡¹ç›®ä¸­çš„æ‰€æœ‰ JS æ–‡ä»¶**éƒ½å°†**ä¸€è‡´**ã€‚

è¿™æé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚è¿™ä¹Ÿæœ‰åŠ©äºå‘ç°è¯­æ³•é”™è¯¯å¹¶å‡å°‘é”™è¯¯ã€‚ä½¿è¿™ä¸ªè¿‡ç¨‹æˆä¸º CI çš„ä¸€éƒ¨åˆ†æ˜¯ç¡®ä¿åœ¨æ•´ä¸ªå¼€å‘å‘¨æœŸä¸­ä¿æŒæ ‡å‡†çš„å…³é”®ã€‚

å‡ ä¹ä»»ä½•ç¼–ç¨‹è¯­è¨€éƒ½æœ‰ä»£ç  lintersï¼Œåœ¨ JS ä¸­ï¼Œæœ€æµè¡Œçš„æ˜¯ [Eslint](https://eslint.org/) *ã€‚

**å¦‚æœä½ æƒ³çŸ¥é“å®ƒåœ¨å†…éƒ¨æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°***ï¼Œè¿˜æœ‰å¾ˆå¤šå…³äº eslint çš„æ–‡ç« ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°*[_ T8ã€‘([ã€https://github.com/dustinspecker/awesome-eslint](https://github.com/dustinspecker/awesome-eslint))*ã€‚_**

 *ç°åœ¨ä½ å¯èƒ½ä¼šæƒ³:

> å¥½äº†ï¼Œæ—ç‰¹..å¤§å®¶éƒ½çŸ¥é“..æˆ‘ä¸ºä»€ä¹ˆè¦çœ‹è¿™ç¯‡æ–‡ç« ï¼Ÿ

æˆ‘ä»¬ä¸å¾—ä¸å°†è¿™ä¸ªè§£å†³æ–¹æ¡ˆæ‰©å±•åˆ°å‡ ä¸ªé¡¹ç›®å’Œå­˜å‚¨åº“ï¼Œè¿™å¯èƒ½ä¼šæˆä¸ºä¸€ä¸ªè¶Šæ¥è¶Šå¤§çš„éš¾é¢˜ã€‚éšç€å…¬å¸çš„æˆé•¿ï¼ŒJS ä¸­çš„é¡¹ç›®æ•°é‡ä¹Ÿåœ¨å¢åŠ ï¼ŒåŒ…æ‹¬ NodeJS ä¸­çš„åç«¯ã€‚

**é‚£ä¹ˆï¼Œå¦‚ä½•ä¸ºæ•´ä¸ªä»£ç åº“ä¿æŒç›¸åŒçš„ä»£ç é£æ ¼å’Œä»£ç è´¨é‡å‘¢ï¼Ÿ**

æ­£å¦‚æˆ‘ä¹‹å‰æ‰€è¯´ï¼Œæˆ‘ä»¬æœ‰ 10 ä¸ª pwa å’Œä¸€ä¸ª T2 å†…éƒ¨ç»„ä»¶åº“ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨ NodeJS ä¸­æœ‰å‡ ä¸ªå¾®æœåŠ¡ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨ä¸‹å›¾ä¸­çœ‹åˆ°çš„:

[![](img/ccffbcb5c8d1c95a08f8529edcf5b86c.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--RvzV9yT4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2Asfr15bsvI4BRE1RLSAf8Uw.png)

å› æ­¤ï¼Œæˆ‘ä»¬çœŸæ­£ç†è§£è¯•å›¾åœ¨æ•´ä¸ªä»£ç åº“ä¸­ä¿æŒç›¸åŒçš„ä»£ç é£æ ¼å’Œä»£ç è´¨é‡çš„ç—›è‹¦ã€‚

å°½ç®¡å¦‚æ­¤ï¼Œä½ å¯èƒ½ä¼šè®¤ä¸ºè¿™ä¸æ˜¯ä¸€ä¸ªå·¨å¤§çš„ç—›è‹¦ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬æ‰€æœ‰çš„é¡¹ç›®**ä¸­**å¤åˆ¶å’Œç²˜è´´**eslint é…ç½®å’Œè§„åˆ™ã€‚**

è¿™æ˜¯ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œä½†å¾ˆæ˜æ˜¾ï¼Œ**è¿™ä¸æ˜¯æœ€å¥½çš„æ–¹æ¡ˆï¼**

æ¯ä¸€ä¸ªæ–°çš„é…ç½®æˆ–è€…æ–°çš„è§„åˆ™ï¼Œä½ éƒ½åº”è¯¥é‡å¤æ‰€æœ‰çš„é¡¹ç›®ã€‚

è¿™é‡ŒçœŸæ­£çš„å±é™©æ˜¯ï¼Œä½ å¯èƒ½ä¼šå¿˜è®°åœ¨å…¶ä¸­ä¸€ä¸ªä¸­åº”ç”¨ä¸€äº›æ›´æ”¹ï¼Œå½“ä½ çœ‹åˆ°å®ƒæ—¶ï¼Œæˆ‘ä»¬ä¸å†éµå¾ªç›¸åŒçš„ä»£ç é£æ ¼= >ä¸ä¸€è‡´çš„ä»£ç åº“ğŸ˜‘

å¯¹äºè¿™ä¸€ç‚¹ï¼Œæœ€å¥½çš„è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨ Eslint çš„ä¸€ä¸ªå¾ˆé…·çš„åŠŸèƒ½ï¼Œå«åš**å¯å…±äº«é…ç½®**ã€‚

### å¯å…±äº«é…ç½®

é¡¹ç›®çš„æ‰€æœ‰ eslint é…ç½®éƒ½åœ¨ä¸€ä¸ªåä¸º. eslintrc çš„æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯é¡¹ç›®çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œæœ‰æ—¶æ‚¨å¯èƒ½å¸Œæœ›ä¸å…¶ä»–é¡¹ç›®æˆ–äººå‘˜å…±äº«å®ƒã€‚

#### æ€ä¹ˆæ‰èƒ½åˆ†äº«å‘¢ï¼Ÿ

å¯å…±äº«é…ç½®å…è®¸æ‚¨åœ¨ [npm ä¸Šå‘å¸ƒæ‚¨çš„é…ç½®è®¾ç½®ã€‚å…è®¸å…¶ä»–äººä¸‹è½½å¹¶åœ¨ä»–ä»¬çš„ ESLint é¡¹ç›®ä¸­ä½¿ç”¨å®ƒã€‚](https://www.npmjs.com/)

æ‚¨éœ€è¦åšçš„å°±æ˜¯å°†å®ƒä½œä¸º dev-dependency æ·»åŠ åˆ°æ‚¨çš„é¡¹ç›®ä¸­ï¼Œå¹¶åœ¨ eslint èµ„æºæ–‡ä»¶ä¸­æ‰©å±•å®ƒã€‚

æ­£å¦‚æˆ‘ä»¬åœ¨è¿™é‡Œçœ‹åˆ°çš„ï¼Œnpm ä¸­ç°åœ¨æœ‰è®¸å¤šå¯å…±äº«çš„é…ç½®ã€‚ç”¨çš„æœ€å¤šçš„ä¸€ä¸ªæ˜¯ Airbnb çš„ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨ QuintoAndar ä½¿ç”¨çš„ï¼Œä½†æ˜¯æˆ‘ä»¬è§‰å¾—æœ‰å¿…è¦æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„è®¾ç½®ã€‚

[![](img/c06a1e6a091743fd493d1871795748c7.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--SkqHm9DM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/601/0%2AHhqq5UTOTiBDaTUx.png)

å› æ­¤ï¼Œæˆ‘ä»¬åˆ›å»ºäº†å¯å…±äº«çš„é…ç½®åŒ…[*eslint-config-quinto andar*](https://github.com/quintoandar/eslint-config-quintoandar)ã€‚ä½†æ˜¯æ­£å¦‚ä½ æ‰€çŸ¥é“çš„ï¼Œæˆ‘ä»¬æœ‰ä¸“é—¨çš„ PWA(å‰ç«¯)å’Œä¸€äº›å¾®æœåŠ¡(åç«¯)ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åˆ›é€ äº†:

*   [**eslint-config-quinto andar-base**](https://www.npmjs.com/package/eslint-config-quintoandar-base)æ˜¯ JS ä¸­æ‰€æœ‰ä¸œè¥¿é€šç”¨çš„ npm åŒ…ï¼Œä½¿ç”¨ NodeJS ( [è§ GitHub](https://github.com/quintoandar/eslint-config-quintoandar/tree/master/eslint-config-quintoandar-base) )ã€‚
*   [**eslint-config-quinto andar-pwa**](https://www.npmjs.com/package/eslint-config-quintoandar-pwa)æ˜¯å¦ä¸€ä¸ª npm åŒ…ï¼Œå®ƒå…·æœ‰å¯¹åº”ç”¨ç¨‹åºåšå‡ºååº”çš„ç‰¹å®šé…ç½®ã€‚å®ƒ**æ‰©å±•äº†**quinto andar åŸºç¡€åŒ…(*eslint-config-quinto andar-base)*å¹¶æ·»åŠ äº†ç‰¹å®šçš„ä¸œè¥¿([å‚è§ GitHub](https://github.com/quintoandar/eslint-config-quintoandar/tree/master/eslint-config-quintoandar-pwa) )ã€‚

è¯·éšæ„ä½¿ç”¨æˆ‘ä»¬çš„è½¯ä»¶åŒ…ï¼Œæˆ‘ä»¬ä¹Ÿæ¬¢è¿æŠ•ç¨¿ã€‚ä¸€åˆ‡éƒ½æœ‰è®°å½•ã€‚å¦‚æœæ‚¨æƒ³åˆ›å»ºè‡ªå·±çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä½œä¸ºå‚è€ƒã€‚

[![](img/54def0f20353785f1d3ebf17883cea28.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--G0Agmco_--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AxTDPQR_YAT7GNOR8tI23cA.png)

åœ¨ QuintoAndarï¼Œæˆ‘ä»¬ä»åœ¨ç ”ç©¶è¿™äº›åŒ…å’Œå®ƒä»¬çš„ç”¨æ³•ã€‚ä½†æ˜¯**ç»“æœæ˜¯å¯è§çš„**ï¼Œæœ‰äº†è¿™ä¸ªå·¥å…·ï¼Œä½ å¯ä»¥ä¿æŒåŒæ ·çš„ä»£ç è´¨é‡å’Œåº”ç”¨ç¨‹åºè´¨é‡ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è§„åˆ™æ¥å¸®åŠ©å‘ç°é”™è¯¯å’Œæé«˜æ€§èƒ½ã€‚

ä¾‹å¦‚ï¼Œä¸€ä¸ªç®€å•çš„è§„åˆ™å¯ä»¥å¸®åŠ©æˆ‘ä»¬é¿å…ä¸å¿…è¦çš„æ€§èƒ½æŸå¤±ï¼Œå¼ºåˆ¶ä¸è¦åœ¨ React ç»„ä»¶çš„æ¸²æŸ“ä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°æˆ–ç»‘å®šï¼Œå°±åƒè¿™æ ·(ç¬¬ 8 è¡Œ):*