# å¦‚ä½•åœ¨ä¸€è¡Œ js ä¸­å¯¼èˆªå¤æ‚å¯¹è±¡

> åŸæ–‡:[https://dev . to/lucagez/how-to-navigate-complex-objects-in-1-line-of-js-4b 63](https://dev.to/lucagez/how-to-navigate-complex-objects-in-1-line-of-js-4b63)

ä»Šå¤©æˆ‘æƒ³åˆ†äº«ä¸€ä¸ªéå¸¸é…·çš„ä¸€è¡Œç¨‹åºï¼Œå®ƒè®©ä½ åœ¨å¤æ‚çš„å¯¹è±¡ä¸­å¯¼èˆªå˜å¾—è½»è€Œæ˜“ä¸¾..ä¸€åˆ†é’ŸåğŸ¤¯è®©æˆ‘ä»¬å¼€é—¨è§å±±å§ã€‚

```
 const navigator = (obj, path) => path.reduce((a, b) => a && a[b], obj); 
```

ç»™å®šä¸€ä¸ªå¯¹è±¡å’Œä¸€ä¸ªè¡¨ç¤ºä»çˆ¶å±æ€§åˆ°ç›®æ ‡å±æ€§çš„æ‰€æœ‰å±æ€§(é™åº)çš„æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥å¯¼èˆªåˆ°æˆ‘ä»¬çš„ç›®æ ‡å€¼ã€‚

åŸç”Ÿçš„`Array.prototype.reduce`æ–¹æ³•æ­£åœ¨å¸®åŠ©æˆ‘ä»¬å®ç°è¿™ä¸€ç‚¹ã€‚

*ä½ å¯ä»¥åœ¨è¿™é‡Œç†Ÿæ‚‰`reduce`:*
[https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Reference/Global _ Objects/Array/Reduce](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce)

æˆ‘ä»¬å°†å¤æ‚å¯¹è±¡ä½œä¸ºåˆå§‹å€¼æä¾›ç»™æˆ‘ä»¬çš„`reduce`æ–¹æ³•ã€‚æˆ‘ä»¬è¿˜æä¾›äº†ä¸€ä¸ªå¤„ç†åˆå§‹å€¼å‡å°‘çš„å‡½æ•°ã€‚

ç„¶åæˆ‘ä»¬å¯ä»¥åƒè¿™æ ·ä½¿ç”¨`navigator`å‡½æ•°:

```
// Test object
const test = {
  a: {
    b: {
      c: 'test',
    },
  },
};

navigator(test, ['a', 'b', 'c']); // 'test' 
```

## [](#the-basic-flow)åŸºæœ¬æµç¨‹

è®©æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆ:

ç´¯åŠ å™¨â¡åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œ`a`æ—¶å°†å…·æœ‰å€¼`obj`ã€‚
â¡å¦‚æœ`a[b]`å­˜åœ¨ï¼Œåœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œ`a`å°†ç­‰äº`a[b]`ã€‚
â¡å¦‚æœ`a[b]`æœªå®šä¹‰ï¼Œé‚£ä¹ˆ`a`å°±æ˜¯æˆ‘ä»¬çš„ç›®æ ‡å€¼ã€‚

**æ³¨æ„:**ä½¿ç”¨é€»è¾‘ AND è¿ç®—ç¬¦(& &)ï¼Œå¦‚æœä¸¤ä¸ªå€¼éƒ½ä¸ºçœŸï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªå€¼ã€‚

## [](#looking-for-a-more-convenient-syntax)å¯»æ‰¾æ›´æ–¹ä¾¿çš„è¯­æ³•

æè¿°åµŒå¥—è·¯å¾„çš„æ•°ç»„ç¬¦å·å¹¶ä¸æ–¹ä¾¿ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†å®ƒå‡çº§ä¸ºæ›´æ–¹ä¾¿çš„ç‚¹ç¬¦å·è¯­æ³•ã€‚

```
// Splitting dot notation path => resulting in the array we need.
const navigator = (obj, path) => path.split('.').reduce((a, b) => a && a[b], obj); 
```

é‚£ä¹ˆæˆ‘ä»¬æœ€ç»ˆå¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒ:

```
 const test = {
  a: {
    b: {
      c: 'test',
    },
  },
};

// ğŸ‰ğŸ‰ğŸ‰ğŸ‰
navigator(test, 'a.b.c'); // 'test' 
```

æˆ‘ä»¬ç°åœ¨å¯ä»¥åªç”¨ä¸€è¡Œ js æ¥å¯¼èˆªåµŒå¥—éå¸¸æ·±çš„å±æ€§ğŸ‰ğŸ‰