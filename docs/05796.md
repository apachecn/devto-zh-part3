# æ‰©å±•*ngIf è¯­æ³•ä»¥åˆ›å»ºè‡ªå®šä¹‰æƒé™æŒ‡ä»¤

> åŸæ–‡:[https://dev . to/angular/extend-the-ngif-syntax-to-create-a-custom-permission-directive-3ic 4](https://dev.to/angular/extend-the-ngif-syntax-to-create-a-custom-permission-directive-3ic4)

*æ‰€ä»¥æˆ‘ä»¬çš„ç”¨ä¾‹æ˜¯åˆ›å»ºä¸€ä¸ªæŒ‡ä»¤ï¼Œå®ƒæ ¹æ®æˆ‘ä»¬å½“å‰è®¤è¯ç”¨æˆ·çš„æƒé™æ˜¾ç¤º/éšè—é¡µé¢ä¸Šçš„å…ƒç´ ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä¸€ä¸ªéå¸¸ç®€å•çš„ç”¨ä¾‹ï¼Œä½†å®ƒå¯ä»¥å¾ˆå®¹æ˜“åœ°æ‰©å±•å¹¶ç”¨äºå®é™…çš„ç”Ÿäº§åº”ç”¨ç¨‹åºä¸­ã€‚é€šè¿‡åˆ›å»ºè¿™æ ·çš„æŒ‡ä»¤ï¼Œæˆ‘ä»¬è¿˜å°†æ·±å…¥äº†è§£ Angular çš„`ngIf`å’Œ`ngFor`æŒ‡ä»¤ä½¿ç”¨çš„è¯­æ³•ã€‚*

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤ºçš„ç”¨æˆ·å¯¹è±¡ç»“æ„:

```
const aUser = {
    username: 'juristr',
    permissions: [
        'permission1',
        'permission2',
        'permission3'
    ]
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™æ˜¯æˆ‘ä»¬åœ¨ç”¨æˆ·è®¤è¯æ—¶å¾—åˆ°çš„ç»“æœã€‚æˆ‘ä»¬ç°åœ¨æƒ³è¦å®ç°çš„æ˜¯æœ‰ä¸€ä¸ªæ›´åŠ **é«˜çº§çš„`*ngIf`æŒ‡ä»¤**ï¼Œå®ƒè‡ªåŠ¨æ£€ç´¢å…³äºè®¤è¯ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¹¶æ ¹æ®æˆ‘ä»¬å®šä¹‰çš„æƒé™éšè—/æ˜¾ç¤ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå—ã€‚

ä¾‹å¦‚ï¼Œè¿™æ ·ä¸€ä¸ªå®šåˆ¶çš„`*hasPermission`æŒ‡ä»¤å¯ä»¥è¿™æ ·å·¥ä½œ:

```
<div *hasPermission="['can_write', 'can_read']">
    Only users with "can_write AND "can_read" permissions can see this.
</div> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é€šè¿‡åœ¨æˆ‘ä»¬çš„ç»„ä»¶æ¨¡æ¿ä¸­å®šä¹‰è¿™æ ·çš„å—ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰æƒé™`can_write`å’Œ`can_read`ï¼Œå®ƒå°†è‡ªåŠ¨éšè—ã€‚

å¾ˆæ•´æ´ï¼Œä¸æ˜¯å—ğŸ˜ƒã€‚é˜…è¯»å®Œæ•´çš„åšå®¢æ–‡ç« &å¦‚ä½•åˆ›å»ºè¿™æ ·çš„è‡ªå®šä¹‰æŒ‡ä»¤[è¿™é‡Œ](https://juristr.com/blog/2018/02/angular-permission-directive/?utm_source=devto&utm_medium=crosspost)