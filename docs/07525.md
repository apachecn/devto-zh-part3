# ä½¿ç”¨ Web ç»„ä»¶åµŒå…¥å¼€å‘äººå‘˜åˆ°ç”¨æˆ·çš„æè¦

> åŸæ–‡:[https://dev . to/benny powers/embed-a-dev-to-user-feed-with web-components-15e 8](https://dev.to/bennypowers/embed-a-dev-to-user-feed-with-web-components-15e8)

Dev.to ç”¨æˆ· [@healeycodes](https://dev.to/healeycodes) ä¸Šå‘¨å‘è¡¨äº†ä¸€ç¯‡å¯çˆ±çš„æ–‡ç« ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ dev.to API åœ¨é¡µé¢ä¸­åµŒå…¥æ–‡ç« ã€‚

[![healeycodes](../Images/1388c283a86bc3f3eda94e5e89b8daac.png)](/healeycodes) [## å°†æ‚¨çš„æœ€æ–°å¼€å‘å¸–å­åµŒå…¥åˆ°ä»»ä½•åœ°æ–¹ğŸ’Œ

### å®‰å¾·é²å¸Œåˆ© 1919 å¹´ 4 æœˆ 6 æ—¥ 4 åˆ†é’Ÿé˜…è¯»

#javascript #beginners #webdev #showdev](/healeycodes/embed-your-latest-dev-posts-anywhere-lj9)

ä»–çš„ä½œå“å¯å‘æˆ‘å»ºç«‹äº†ä¸€ä¸ª(æƒŠå–œï¼)web ç»„ä»¶ï¼Œè¿™å°†ä½¿äº‹æƒ…å˜å¾—æ›´åŠ ç®€å•ã€‚è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªå¼€å‘åˆ° web ç»„ä»¶ï¼

## [](#overview)æ¦‚è¿°

æˆ‘ä»¬çš„ç»„ä»¶å°†æœ‰ä¸¤ä¸ªéƒ¨åˆ†:

1.  `<dev-feed>`ï¼Œä¸€ä¸ªåˆ—è¡¨ç»„ä»¶
2.  `<dev-article>`ã€ä¸€ç¯‡æ–‡ç« ç»„ä»¶

ä¸»ç»„ä»¶ï¼Œ`<dev-feed>`å°†è´Ÿè´£è·å–å’Œæ•´ç†æ–‡ç« ï¼Œ`<dev-article>`å°†è´Ÿè´£æ˜¾ç¤ºæ¯ä¸ªå¸–å­ã€‚

æˆ‘ä»¬å°†ä»æ„å»ºå®¹å™¨å¼€å§‹ï¼Œå¹¶é€æ­¥æ·±å…¥åˆ°æ–‡ç« æ˜¾ç¤ºçš„ç»†èŠ‚ã€‚

## [](#step-1-scaffolding)ç¬¬ä¸€æ­¥:æ­å»ºè„šæ‰‹æ¶

è®©æˆ‘ä»¬ä½¿ç”¨ [open-wc](https://open-wc.org) çš„å·¥å…·æ¥å¼€å§‹æˆ‘ä»¬çš„ç»„ä»¶:

1.  è¿è¡Œ`npm init @open-wc`
2.  é€‰æ‹©`Scaffold a new project`
3.  é€‰æ‹©`Lit Element Web Component`
4.  è¾“å…¥åç§°`dev-feed`
5.  æ‰“å¼€ä½ çš„ç¼–è¾‘å™¨`atom -a dev-feed`

æ‚¨å°†ä¼šåœ¨`src` :
ä¸‹çœ‹åˆ°ä¸¤ä¸ªæ–‡ä»¶

```
- dev-feed.js
- DevFeed.js 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç¬¬ä¸€ä¸ªï¼Œåœ¨ dash-case ä¸­ï¼Œæ˜¯ç”¨æˆ·ä¸ºäº†å°†å®šåˆ¶å…ƒç´ æ³¨å†Œåˆ°ä»–ä»¬çš„é¡µé¢è€Œå¯¼å…¥çš„æ–‡ä»¶ã€‚ç¬¬äºŒä¸ªåœ¨ PascalCase ä¸­ï¼ŒåŒ…å«å…ƒç´ ç±»ï¼Œä»`LitElement`æ‰©å±•è€Œæ¥ã€‚å¦‚æœä½ ä¸å®Œå…¨æ¸…æ¥šæˆ‘è¯´çš„è¿™äº›ä¸œè¥¿æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘åœ¨ [lit-element](https://dev.to/bennypowers/lets-build-web-components-part-5-litelement-906) ä¸Šçš„å¸–å­ã€‚æ²¡å…³ç³»ï¼Œæˆ‘ä¼šç­‰çš„ã€‚ä½ è¿˜å¥½å—ï¼Ÿæ²¡é—®é¢˜çš„...

ä½ è¿˜ä¼šçœ‹åˆ°ä¸€ä¸ªæ¼”ç¤ºæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª index.htmlã€‚å½“æˆ‘ä»¬ç¼–å†™ç»„ä»¶æ—¶ï¼Œæ‚¨å¯ä»¥åœ¨è¯¥æ–‡ä»¶ä¸Šè¿è¡Œ owc-dev-server æ¥æŸ¥çœ‹æ‚¨çš„ç»„ä»¶çš„å¤–è§‚ã€‚Open WC çš„ç”Ÿæˆå™¨å·²ç»ä¸ºæˆ‘ä»¬è®¾ç½®å¥½äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥è¿è¡Œã€‚

```
npm start 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬å°†å®è·µä¸€ç‚¹è‡ªè¿°é©±åŠ¨çš„å¼€å‘ï¼Œæˆ–è€…æ¼”ç¤ºé©±åŠ¨çš„å¼€å‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å°†é¦–å…ˆå†³å®šå…ƒç´ çš„å¤–éƒ¨ APIï¼Œå¹¶å°†å…¶å†™å…¥æˆ‘ä»¬çš„æ¼”ç¤ºä¸­ï¼›ç„¶åæˆ‘ä»¬å°†åŠªåŠ›ä½¿ä»£ç ç¬¦åˆæˆ‘ä»¬çš„æ ‡å‡†ã€‚è®©æˆ‘ä»¬ä½¿ç”¨å†…ç½®çš„ [Proxy](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy) æ„é€ å‡½æ•°å’Œ lit-html ä¸€èµ·ä¸ºæˆ‘ä»¬çš„æ¼”ç¤ºç¼–å†™ä¸€ä¸ªç®€å•çš„ä¸“é—¨æ„å»ºçš„ååº”å¼æ¸²æŸ“å™¨ï¼Œå°±åƒä¸€ç§èµ¤å£æ•…äº‹ä¹¦ã€‚

```
const properties = new Proxy({
  // initial values
  showDescriptions: false,
  sort: 'popularity',
  username: 'bennypowers'
}, {
  /** Render the demo when a value is set */
  set(obj, prop, value) {
    obj[prop] = value
    update();
    return true
  }
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä¸ªä»£ç†æ‹¥æœ‰æˆ‘ä»¬å…ƒç´ å±æ€§çš„æ¨¡å‹ï¼Œå¹¶ä¸”å®ƒå°†åœ¨æˆ‘ä»¬çš„æŸä¸ªå€¼è¢«è®¾ç½®æ—¶è°ƒç”¨ä¸€ä¸ª`update`å‡½æ•°ã€‚è¿™ä¸ª`update`å‡½æ•°å°†ä¾æ¬¡è°ƒç”¨ lit-html çš„`render`å‡½æ•°æ¥æœ‰æ•ˆåœ°æ›´æ–° DOMã€‚

```
const update = ({ showDescriptions, sort, username } = properties) => render(html`
  <dev-feed id="component"
      username="${username}"
      sort="${sort}"
      ?show-descriptions="${showDescriptions}"
  ></dev-feed>

  <input id="username"
      @change="${onUsernameChange}"
      value="${username}"/>
  <input id="show-descriptions" type="checkbox"
      @change="${onShowDescriptionsChange}"
      ?checked="${showDescriptions}"/>
  <select id="sort" @change="${onSortByChange}" value="${sort}">
    <option value="popularity">Popularity</option>
    <option value="date">Date, Descending</option>
    <option value="date-asc">Date, Ascending</option>
  </select>
`, document.body); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œæˆ‘ä»¬æä¾›äº†ä¸€äº›æ§ä»¶æ¥è®¾ç½®ç»„ä»¶çš„å±æ€§ã€‚äº‹ä»¶å¤„ç†ç¨‹åº([å‚è§ repo ä»¥è·å¾—æ¥æº](https://github.com/bennypowers/dev-feed/blob/ee96d3e3cb2e1ed52baa5e33eba8ac2da4fd34b2/demo/index.html#L96))æ¯ä¸ªéƒ½è·å–ç›¸å…³çš„å€¼å¹¶å°†å…¶è®¾ç½®åœ¨`properties`ä¸Šï¼Œè¿™é€šè¿‡ä»£ç†è§¦å‘å‘ˆç°ã€‚å°¼æ–¯ï¼ˆæ³•å›½åŸå¸‚åï¼‰ğŸ˜ã€‚

## [](#implementing-our-feed-element)å®ç°æˆ‘ä»¬çš„ Feed å…ƒç´ 

æ—¢ç„¶æˆ‘ä»¬çš„æ¼”ç¤ºå·²ç»å®Œæˆï¼Œæ˜¯æ—¶å€™è®¾ç½®æˆ‘ä»¬çš„ feed å…ƒç´ çš„å†…éƒ¨é€»è¾‘å’Œæ¨¡æ¿äº†ã€‚æˆ‘ä»¬å°†ä»ä¸€ä¸ªç®€å•çš„å®ç°å¼€å§‹ï¼Œé€æ­¥å‘å±•åˆ°æœ€ç»ˆäº§å“ï¼Œå¹¶åœ¨å‘å±•è¿‡ç¨‹ä¸­ä¸æ–­åˆ·æ–°æˆ‘ä»¬çš„æ¼”ç¤ºåº”ç”¨ç¨‹åºã€‚

ç¬¬ä¸€æ­¥ä¹Ÿæ˜¯æœ€å®¹æ˜“çš„ä¸€æ­¥æ˜¯å®šä¹‰æˆ‘ä»¬è§‚å¯Ÿåˆ°çš„å±æ€§ã€‚

```
static get properties() {
  return {
    loading: { type: Boolean },
    posts: { type: Array },
    showDescriptions: { type: Boolean, attribute: 'show-descriptions' },
    sort: { type: String, reflect: true },
    username: { type: String },
  }
}

constructor() {
 super();
 this.posts = [];
 this.sort = 'popularity';
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ³¨æ„ä¸º`showDescriptions`æŒ‡å®šçš„`attribute`ï¼Œè¿™æ˜¯å› ä¸º HTML å±æ€§æ€»æ˜¯å°å†™ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬æ˜¾å¼åœ°å°†ç ´æŠ˜å·å±æ€§ä¸ camelCase å±æ€§é“¾æ¥èµ·æ¥ã€‚æˆ‘ä»¬è¿˜åœ¨æ„é€ å‡½æ•°ä¸­è®¾ç½®äº†ä¸€äº›é»˜è®¤å€¼ï¼Œç‰¹åˆ«æ˜¯å¯¹äº`posts`å±æ€§ï¼Œè¿™å°†æ˜¯æˆ‘ä»¬ä» dev.to è·å–çš„æ–‡ç« çš„ç§æœ‰åˆ—è¡¨

æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬è®¾ç½®æè¦ç»„ä»¶çš„æ¨¡æ¿ã€‚ä¸æ–‡ç« ç›¸æ¯”ï¼Œå®ƒæœ‰ç›¸å½“ç®€å•çš„æ ‡è®°:

```
render() {
  const { loading, posts, postTemplate, sort } = this;
  const parseAsTimestamp = s => new Date(s).getTime();
  const sorter = (
      sort === 'popularity' ? propGt('positive_reactions_count')
    : sort === 'date' ? mapPropGt(parseAsTimestamp, 'published_at')
    : sort === 'date-asc' ? mapPropLt(parseAsTimestamp, 'published_at')
    : identity
  );

  return html`
    <div ?hidden="${!loading}">${loadingTemplate}</div>
    <ul id="posts" ?hidden="${loading}"> ${posts
        .sort(sorter)
        .map(postTemplate)} </ul>
  `;
}

postTemplate(post) {
  return html`
    <li>
      <dev-article
          .article="${post}"
          ?show-description="${this.showDescriptions}"
      ></dev-article>
    </li>`;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`sorter`å‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿå—¯ï¼Œæ—©æœŸçš„ dev.to API è¿˜æ²¡æœ‰å¯¹`GET /api/articles`çš„é«˜çº§æ§åˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬æ­£åœ¨åšä¸€äº›å®¢æˆ·ç«¯æ’åºã€‚å¯¹äºè¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘å†³å®šç”¨ä¸€äº›åŠŸèƒ½æ€§çš„ JavaScript å®ç°æ–‡ç« æ’åºã€‚`mapPropGt`å’Œ`mapPropLt`éƒ½æ„æˆäº†ä¸€ä¸ªåä¸º`mapPropCompare`çš„å‡½æ•°ï¼Œå¯¹äºä¸¤ä¸ªè¾“å…¥å€¼ï¼Œ

1.  ä»æ¯ä¸ªè¾“å…¥ä¸­è·å–å±æ€§
2.  åœ¨è¯¥å€¼ä¸Šæ˜ å°„ä¸€äº›å‡½æ•°
3.  å¯¹è¿™ä¸¤ä¸ªæœ¯è¯­åº”ç”¨ä¸€äº›æ¯”è¾ƒå‡½æ•°

è¿™ä¸¤ä¸ªç‰ˆæœ¬ä¹‹é—´çš„å”¯ä¸€åŒºåˆ«æ˜¯å°äºå˜é‡åœ¨åº”ç”¨ä¹‹å‰å°†å‰ä¸¤ä¸ªå‚æ•°è½¬æ¢ä¸ºæ¯”è¾ƒå‡½æ•°ã€‚

```
const identity = x => x;

const sub = (x, y) => x - y;

const flip = f => (y, x, ...rest) => f(x, y, ...rest);

const mapPropCompare = curry((f, g, prop, x, y) => f(g(y[prop]), g(x[prop])));

const mapPropGt = mapPropCompare(sub);

const mapPropLt = mapPropCompare(flip(sub));

const propGt = mapPropGt(identity); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å…³äºè¿™ç§ç¼–ç¨‹é£æ ¼çš„ç®€çŸ­ä»‹ç»ï¼Œè¯·æŸ¥çœ‹æˆ‘çš„å¹»ç¯ç‰‡[å¼€å§‹åŠŸèƒ½ JavaScript](https://bennypowers.dev/starting-functional-javascript) ã€‚

### [](#fetching-posts)æŠ“å–å¸–å­

ç°åœ¨æˆ‘ä»¬å·²ç»å»ºç«‹äº†åŸºæœ¬çš„æ¨¡æ¿ï¼Œè®©æˆ‘ä»¬ç¼–å†™å®é™…ä» dev.to è·å–å¸–å­çš„ä»£ç ã€‚æˆ‘ä»¬å°†ç¼–å†™å››ä¸ªæ–¹æ³•æ¥å¤„ç†è¿™ä¸ªé—®é¢˜:ä¸€ä¸ªç”Ÿæˆ urlï¼Œä¸€ä¸ªè·å–å¸–å­ï¼Œä¸€ä¸ªå°†ç»“æœåˆ†é…ç»™ç»„ä»¶ã€‚

```
get apiEndpoint() {
  const { username } = this;
  if (!username) return null;
  const search = new URLSearchParams({ username });
  const API_ENDPOINT = new URL('api/articles', 'https://dev.to');
        API_ENDPOINT.search = search;
  return API_ENDPOINT;
}

async updated(changed) {
  if (changed.has('username')) this.fetchPosts();
}

assignPosts(posts) {
  this.posts = posts || [];
  this.loading = false;
}

async fetchPosts() {
  const handleAsJson = response => response.json();
  const { apiEndpoint, assignPosts } = this;
  if (!apiEndpoint) return;
  this.loading = true;
  return fetch(apiEndpoint)
    .then(handleAsJson)
    .then(assignPosts);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬è¿˜éœ€è¦åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®š`assignPosts`å’Œ`postTemplate`ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ææ„å®ƒä»¬å¹¶ä¸”[åœ¨ä¸€çº§](https://developer.mozilla.org/en-US/docs/Glossary/First-class_Function)ä¹‹é—´ä¼ é€’å®ƒä»¬ã€‚å¦‚æœæˆ‘ä»¬ä¸è¿™æ ·åšï¼Œ`postTemplate`å°†æŠŠå®ƒçš„`this`å¼•ç”¨ç»‘å®šåˆ° posts æ•°ç»„ï¼Œ`assignPosts`å°†ç»‘å®šåˆ° fetch æ‰¿è¯ºï¼›é‚£å°±å¤ªæ„šè ¢äº†ã€‚

```
this.postTemplate = this.postTemplate.bind(this);
this.assignPosts = this.assignPosts.bind(this); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¹äº URLï¼Œæˆ‘å†³å®šä½¿ç”¨å†…ç½®çš„`URL`å’Œ`URLSearchParams`æ„é€ å‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨å­—ç¬¦ä¸²æ’å€¼ï¼Œå³`https://dev.to/api/articles?username=${username}`ï¼Œä½†æ˜¯è¿™æ ·åšå¯ä»¥è®©æˆ‘ä»¬åœ¨éœ€è¦çš„æ—¶å€™å¾ˆå®¹æ˜“åœ°æ·»åŠ æ›´å¤šçš„å‚æ•°ã€‚ä¹Ÿè®©æˆ‘è§‰å¾—æˆ‘çš„é’±èŠ±å¾—å€¼ğŸ˜‰

### [](#debouncing-fetch-requests)å»æŠ–å–è¯·æ±‚

æˆ‘ä»¬åœ¨ feed ç»„ä»¶ä¸­è¦åšçš„æœ€åä¸€ä»¶äº‹æ˜¯å‘æœåŠ¡å™¨å‘å‡ºå»æŠ–è¯·æ±‚ã€‚å»æŠ–æ„å‘³ç€æ¨è¿Ÿæ‰§è¡Œï¼Œç›´åˆ°ä»æœ€åä¸€æ¬¡è°ƒç”¨å¼€å§‹è¿‡äº†ä¸€æ®µæ—¶é—´ã€‚å½“æ‚¨æœ‰ä¸€ä¸ªåŸºäºç”¨æˆ·è¾“å…¥(å¦‚é”®å…¥æˆ–æ»šåŠ¨)è§¦å‘çš„å¼€é”€å¾ˆå¤§çš„æ“ä½œ(å¦‚é€šè¿‡ç½‘ç»œè·å–æ•°æ®ï¼Œæˆ–æŸäº›éœ€è¦å¤§é‡ç»˜å›¾çš„ DOM æ›´æ–°)æ—¶ï¼Œè¿™æ˜¯ä¸€ç§æœ‰ç”¨çš„æŠ€æœ¯ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬å‘Šè¯‰æˆ‘ä»¬çš„ç»„ä»¶:â€œå½“ç”¨æˆ·é”®å…¥ç”¨æˆ·åæ—¶è·å–æ–‡ç« ï¼Œä½†åœ¨æäº¤å‘é€è¯·æ±‚ä¹‹å‰ï¼Œç­‰å¾…åŠç§’é’Ÿä»¥ç¡®ä¿ä»–ä»¬å®Œæˆäº†é”®å…¥ã€‚â€

```
import { debounce } from './debounce.js';
/* ... */

constructor() {
  super();
  /* ... */
  this.fetchPosts = debounce(this.fetchPosts.bind(this), 500);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœæˆ‘ä»¬ç°åœ¨é‡æ–°åŠ è½½æˆ‘ä»¬çš„æ¼”ç¤ºé¡µé¢ï¼Œæˆ‘ä»¬å°†çœ‹ä¸åˆ°ä»»ä½•ä¸œè¥¿ï¼Œå› ä¸ºè¿˜æ²¡æœ‰å®šä¹‰`<dev-article>`ç»„ä»¶ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æ£€æŸ¥å…ƒç´ çš„å½±å­æ ¹ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°å‡ ä¸ª`<dev-article>`å…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ‰è‡ªå·±çš„`article` DOM å±æ€§ã€‚

[![Screenshot from Firefox Dev Tools Showing the article DOM property of a dev-article element](../Images/10c690f7b1a03f4f1942e3cd1dc23b96.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ywRGS4sJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/nl0kwkys80m61dtebmfr.png)

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å¼€å§‹æ ¹æ® dev.to ä¸Šçš„è®¾è®¡å¸ƒå±€æ¯ç¯‡æ–‡ç« ã€‚

## [](#implementing-our-article-element)å®ç°æˆ‘ä»¬çš„æ–‡ç« å…ƒç´ 

å°½ç®¡ feed å…ƒç´ åœ¨é€»è¾‘ä¸Šå¾ˆé•¿ï¼Œåœ¨è¡¨ç¤ºä¸Šå¾ˆçŸ­ï¼Œä½†æ˜¯ article å…ƒç´ æ˜¯æˆ‘ä»¬ç£¨ç»ƒè¯­ä¹‰ HTML å’Œ CSS-fu çš„åœ°æ–¹ã€‚

æ¯ä¸ª`<dev-article>`å…ƒç´ å°†åœ¨å†…éƒ¨å‘ˆç°ä¸€ä¸ª`<article>`å…ƒç´ ï¼Œè¿˜æœ‰ä¸€äº›è¯­ä¹‰ HTML å…ƒç´ ä½œä¸ºå…„å¼Ÿã€‚æˆ‘ä»¬å°†ä½¿ç”¨ CSS ç½‘æ ¼æ¥å¸ƒå±€ä¸€åˆ‡ï¼Œè€Œä¸æ·»åŠ é¢å¤–çš„`<div>`å’Œ

```
render() {
  const {
    cover_image: coverImage,
    description,
    positive_reactions_count: positiveReactionsCount,
    published_at: publishedAt,
    tag_list: tagList,
    title,
    type_of: typeOf,
    url,
    user: {
      name,
      profile_image_90: avatar,
      username,
    },
  } = this.article;

  return html`
    <article aria-labelledby="title">
      <figure>
        <a id="cover" ?hidden="${!coverImage}" href="${url}" rel="norefer noopener nofollow">
          <img src="${coverImage}" role="presentation"/>
        </a>

        <figcaption>
          <a id="title" href="${url}" rel="noopener norefer">
            <h3>${title}</h3>
          </a>
        </figcaption>
      </figure>

      <a id="avatar" href="https://dev.to/${username}" rel="norefer noopener nofollow">
        <img src="${avatar}" alt="${name || username}'s Avatar"/>
      </a>

      <section id="metadata">
        <a href="https://dev.to/${username}" rel="norefer noopener nofollow">
          <span>${name || username} â€¢ <time>${formatDate(publishedAt)}</time></span>
          <span id="relative-time">(${formatHuman(publishedAt)})</span>
        </a>
        <ul id="tags">${tagList.map(tagTemplate)}</ul>

        <details ?open="${this.showDescription}">
          <summary hidden></summary> ${description} </details>
      </section>

      <span id="positive-reactions">
        <img
            src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/reactions-stack-4bb9c1e4b3e71b7aa135d6f9a5ef29a6494141da882edd4fa971a77abe13dbe7.png"
            alt="Circled heart on a stack of similar circles"
            title="Number of Positive Reactions"/> ${positiveReactionsCount} </span>

      <section id="actions">
        <button @click="${this.toggleDescription}" title="Show Description">ğŸ’¬</button>
      </section>
    </article>
  `;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‰€ä»¥è¿™æ˜¯éå¸¸ç®€å•çš„è¯­ä¹‰ HTMLï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›å¥½ä¸œè¥¿:

*   è®©æˆ‘ä»¬ä½¿ç”¨ lit-element å°† DOM ä¸­å…¶ä»–åœ°æ–¹çš„æŒ‰é’®ç»‘å®šåˆ°æˆ‘ä»¬çš„`<details>`å…ƒç´ çš„`open`çŠ¶æ€ã€‚
*   æˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ªéšè—çš„`<summary>`å…ƒç´ ï¼Œè¿™æ · UA å°±ä¸ä¼šå‘æˆ‘ä»¬æ˜¾ç¤ºé»˜è®¤çš„ disclosure å°éƒ¨ä»¶ã€‚
*   æˆ‘ä»¬å°†ä½¿ç”¨ [`<time>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/time) å…ƒç´ (å¦‚æœä½ å·²ç»çŸ¥é“è¿™ä¸ªå…ƒç´ çš„å­˜åœ¨ï¼Œç»™ä½  10 åˆ†)æ¥æ˜¾ç¤ºå‘å¸ƒæ—¥æœŸã€‚
*   æˆ‘ä»¬å°†ä½¿ç”¨å‘½åçš„ç½‘æ ¼åŒºåŸŸæ¥å®šä¹‰ CSS ä¸­çš„å¤§å—å¸ƒå±€ã€‚æ›´å¤šä¿¡æ¯è¯·å‚è§æœ€ç»ˆä»£ç ã€‚

## [](#final-code)æœ€ç»ˆä»£ç 

è¿™æ˜¯æˆ‘ä»¬çš„ç»„ä»¶ï¼Œè¿è¡Œåœ¨ glitch ä¸Šã€‚

[https://glitch.com/embed/#!/embed/dev-feed-element?previewSize=100&path=index.html](https://glitch.com/embed/#!/embed/dev-feed-element?previewSize=100&path=index.html)

ä»Šå¤©ä½ å°±å¯ä»¥åœ¨ä½ çš„é¡µé¢ä¸Šä½¿ç”¨`<dev-feed>`ï¼

```
<script src="https://unpkg.com/dev-feed/dev-feed.js?module"></script>
<dev-feed username="bennypowers"></dev-feed> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ–è€…ç”¨ npm å®‰è£…ï¼Œç”¨@pika/web æ„å»º

```
npm i -S dev-feed
npx @pika/web 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
<script src="/web_modules/dev-feed.js"></script>
<dev-feed username="bennypowers"></dev-feed> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#ideas-for-the-future)å¯¹æœªæ¥çš„è®¾æƒ³

è¿™ä¸ªå¾ˆå¿«å°±ç»„è£…å¥½äº†ï¼Œæ‰€ä»¥è¿˜æœ‰å¾ˆå¤§çš„å‘å±•ç©ºé—´ã€‚è¯¥å…ƒç´ çš„ API è¡¨é¢å¯ä»¥ä½¿ç”¨ä¸€äº›æ³¢å…°(ä¹Ÿè®¸æ˜¯å…³äºæ˜¾ç¤ºæè¿°æˆ–å…¶ä»–å…ƒæ•°æ®ï¼Œå¦‚ç”¨æˆ·ç¤¾äº¤é“¾æ¥)ï¼Œæ‰€ä»¥å¦‚æœä½ æœ‰ä»»ä½•æƒ³æ³•ï¼Œè¯·è¯„è®ºï¼Œæˆ–æ‰“å¼€é—®é¢˜æˆ– PRsã€‚

å¦ä¸€ä¸ªéœ€è¦é‡æ–°è€ƒè™‘çš„é—®é¢˜æ˜¯è¿™ä¸ªå…ƒç´ æ˜¯å¦‚ä½•è·å–æ•°æ®çš„ã€‚æ²¡æœ‰ç†ç”±å°†ä» API è·å–å¸–å­çš„å·¥ä½œä½œä¸º element ç±»çš„ä¸€éƒ¨åˆ†ã€‚å®ƒåº”è¯¥æ˜¯è‡ªå·±çš„å›¾ä¹¦é¦†ã€‚å˜¿ [@healeycodes](https://dev.to/healeycodes) ï¼Œä½ è§‰å¾—è”åˆä¸€äº›ç°ä»£ devto.js åº“æŠ½è±¡è¶…è¿‡`fetch`å¹¶è¿”å›å¸–å­æ‰¿è¯ºæ€ä¹ˆæ ·ï¼Ÿ

## [](#thanks-for-reading)æ„Ÿè°¢é˜…è¯»

æ„Ÿè°¢ [@westbrook](https://dev.to/westbrook) åœ¨è¿™ç¯‡æ–‡ç« ä¸­çš„æŠ•å…¥ï¼Œæ„Ÿè°¢ [@healeycodes](https://dev.to/healeycodes) çš„å¼€çƒã€‚
å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·åœ¨ä½ çš„ç½‘ç«™ä¸Šä½¿ç”¨`<dev-feed>`ï¼