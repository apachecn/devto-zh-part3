# å°ç»†èŠ‚å†³å®šå¤§ä¸åŒ

> åŸæ–‡:[https://dev . to/lost design/small-details-make-a-difference-1k4a](https://dev.to/lostdesign/small-details-make-a-difference-1k4a)

æœ€è¿‘ï¼Œæˆ‘å’Œæˆ‘çš„ web å¼€å‘åŒäº‹æœ‹å‹èŠå¤©ï¼Œè®¨è®ºè¡¨å•ï¼Œä»¥åŠå¦‚æœå¿…å¡«å­—æ®µä¸¢å¤±ï¼Œä»–ä»¬ä¸åº”è¯¥è®©ç”¨æˆ·æäº¤è¯·æ±‚ã€‚æˆ‘è¯•å›¾æ»¡è¶³æˆ‘ä»Šå¹´åœ£è¯å‡æœŸçš„è¦æ±‚ï¼Œä½†æ˜¯ä»–ä»¬æ²¡æœ‰ä»»ä½•ç¡®è®¤ã€‚æˆ‘æœ€ååˆæ·»åŠ äº†åŒæ ·çš„æ•°æ®ğŸ˜”..

# [](#so-why-does-it-matter)é‚£ä¹ˆè¿™æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ

#### [](#form-validation-is-important)è¡¨å•éªŒè¯å¾ˆé‡è¦ï¼

æ‚¨æœ‰å¤šç»å¸¸é‡åˆ°è¿™æ ·çš„é—®é¢˜:å¡«å†™æ²¡æœ‰ä»»ä½•å‰ç«¯éªŒè¯çš„è¡¨å•ï¼Œç”šè‡³å¯èƒ½ä¸æ˜¾ç¤ºé”™è¯¯æ‰€åœ¨æˆ–æ ¹æœ¬ä¸èµ·ä½œç”¨ï¼Ÿæˆ‘çŒœä½ å¾ˆäº†è§£è¿™ç§æ„Ÿè§‰ï¼

è¿™é‡Œçš„é—®é¢˜æ˜¯ï¼Œç”¨æˆ·é€šå¸¸è®¤ä¸ºä¸€æ—¦ä»–ä»¬å¡«å†™å®Œè¡¨å•ï¼Œä¸€åˆ‡éƒ½ä¼šå¥½çš„ï¼Œä½†æ˜¯ç„¶åä¸€åˆ‡éƒ½æ¶ˆå¤±äº†ã€‚ä½ ç°åœ¨æœ‰ä¸€ä¸ªå¤±æœ›ç”šè‡³æ„¤æ€’çš„é¡¾å®¢ã€‚è‡³å°‘é‚£ä¸ªç½‘ç«™è®©è¿™åªå¯æ€œçš„çŒ«å“­äº†ã€‚

[![really sad cat](../Images/33aae010b73b7312cce2c0d1cc9959da.png)T2ã€‘](https://i.giphy.com/media/71PLYtZUiPRg4/giphy.gif)

# ä½ å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ

è®©æˆ‘ä»¬åœ¨è¾“å…¥ä¸Šä½¿ç”¨`required`!

è€¶ -äº‹å®ä¸Šæ²¡æœ‰..

ä½ *èƒ½*åšåˆ°ï¼Œä½†è¿˜æ˜¯æ²¡æœ‰åœ¨åˆé€‚çš„æ—¶é—´ç»™ç”¨æˆ·åé¦ˆï¼æˆ‘ä»¬ç°åœ¨åœ¨åŒä¸€ç‚¹ä¸Šï¼Œç”¨æˆ·å‡è®¾ä»–å¡«å†™çš„æ•°æ®æ˜¯æ­£ç¡®çš„ã€‚

é‚£ä½ è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿä½ å¯ä»¥å®‰è£…æ‰€æœ‰æ¼‚äº®çš„ js åº“æ¥è®©å®ƒå·¥ä½œ*æˆ–è€…*ç®€å•åœ°ä½¿ç”¨æ™®é€šçš„`JS`å’Œ`CSS`ã€‚æœ‰æ—¶å€™ä½ å¯èƒ½ä¸éœ€è¦æ¯”ä½ åœ¨ä¸‹é¢çš„ä»£ç æ ä¸­çœ‹åˆ°çš„æ›´å¤šçš„ä¸œè¥¿ï¼

æˆ‘åšäº†è¿™ä¸ªä»£ç ç¬”ä½œä¸ºæ¦‚å¿µçš„è¯æ˜ï¼Œè¯•ç€ä¸è¾“å…¥ä»»ä½•å€¼å°±ç‚¹å‡»æŒ‰é’®ã€‚ç„¶åç‚¹å‡»è¾“å…¥ï¼Œæ·»åŠ ä¸€äº›ä¸œè¥¿å¹¶ç‚¹å‡»æäº¤ã€‚

[https://codepen.io/lost-design/embed/BGeyEr/?height=600&default-tab=result&embed-version=2](https://codepen.io/lost-design/embed/BGeyEr/?height=600&default-tab=result&embed-version=2)

#### [](#how-the-pen-works)é’¢ç¬”çš„å·¥ä½œåŸç†

æˆ‘åœ¨`mouseenter`çš„æŒ‰é’®ä¸Šæ·»åŠ äº†ä¸€ä¸ª`addEventListener`ï¼Œå®ƒå°†è§¦å‘ä¸€ä¸ªå«åš`validateNote()`çš„åŠŸèƒ½ã€‚

```
btn.addEventListener('mouseenter', validateNote) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`mouseenter`å¯èƒ½æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œå› ä¸ºä¸€æ—¦é¼ æ ‡è¿›å…¥æŒ‰é’®ï¼Œå®ƒå°±ä¼šè¢«è§¦å‘(ç‚¹å‡»é˜…è¯»æ›´å¤šå…³äºäº‹ä»¶è§¦å‘å™¨çš„ä¿¡æ¯)

`validateNote()`ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦æ£€æŸ¥è¾“å…¥å€¼æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸²ã€‚æ ¹æ®æ˜¯å¦æœ‰ä»»ä½•å€¼ï¼Œå®ƒå°†ç¦ç”¨æˆ–å¯ç”¨æŒ‰é’®ã€‚

```
input.value === "" ? disableButton() : enableButton() 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`disableButton()`å°†`.err` css ç±»æ·»åŠ åˆ°æŒ‰é’®ã€è¾“å…¥å’Œæ ‡ç­¾ä¸­ï¼Œä»¥æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚

```
function disableButton() {
    btn.classList.add('err');
    input.classList.add('err');
    errMsg.classList.add('err');

    // this kicks the cursor from the input which still has focus
    document.activeElement.blur();

    // the button here will be disabled
    btn.removeEventListener('click', submitNote, false);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`enableButton()`æ˜æ˜¾ä¼šåå…¶é“è€Œè¡Œä¹‹ï¼å®ƒä»æŒ‰é’®ã€è¾“å…¥å’Œæ ‡ç­¾ä¸­ç§»é™¤äº†`.err` css ç±»æ¥éšè—é”™è¯¯æ¶ˆæ¯ã€‚

```
function enableButton() {
    btn.classList.remove('err');
    input.classList.remove('err');
    errMsg.classList.remove('err');

    btn.addEventListener('click', submitNote, true);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸“ä¸šæç¤º:åœ¨è¾“å…¥ä¸Šä½¿ç”¨ä¸€ä¸ªå†…é˜´å½±æ¥é˜²æ­¢å®ƒæ”¹å˜å¤§å°ï¼Œå› ä¸ºæ·»åŠ ä¸€ä¸ªè¾¹æ¡†ä¼šä½¿è¾“å…¥å˜å¾—æ›´å¤§ï¼Œä½ çš„å¸ƒå±€ä¼šå¼€å§‹ç§»åŠ¨ã€‚

```
input.err {
    -webkit-box-shadow:inset 0px 0px 0px 2px #f00;
    -moz-box-shadow:inset 0px 0px 0px 2px #f00;
    box-shadow:inset 0px 0px 0px 2px #f00;
    transition: all .3s ease-in-out;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦ä¸€ä¸ªæç¤º:å› ä¸ºæˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨åŠ¨ç”»ï¼Œä½¿ç”¨ä»»ä½•ä½ å–œæ¬¢çš„æ”¾æ¾æ–¹æ³•â€”â€”è‡³å°‘ä½¿ç”¨ä»»ä½•ä¸€ç§ã€‚æ‰¾åˆ°ä¸€äº›ç¼“å’Œå±æ€§[åœ¨è¿™é‡Œ](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions#Defining_transitions)

é¡ºä¾¿è¯´ä¸€å¥ï¼Œä½ åº”è¯¥ä¸ºä½ çš„è¾“å…¥æ·»åŠ éšæ—¶å¯è§çš„æ ‡ç­¾â€”â€”åœ¨è¿™ä¸ªä¾‹å­ä¸­æˆ‘æ²¡æœ‰è¿™æ ·åšã€‚ä½†è¿™æ˜¯ä¸€ä¸ªä¸åŒçš„è¯é¢˜ï¼Œæˆ‘å°†åœ¨å…¶ä»–æ—¶é—´è®¨è®ºã€‚

# Tlï¼›åšå£«ï¼›åŒ»ç”Ÿ

åªéœ€åœ¨ä¹‹å‰éªŒè¯æ‰€æœ‰å¿…éœ€çš„è¾“å…¥**ï¼Œç”¨æˆ·å¯ä»¥åœ¨å‰ç«¯æäº¤å®ƒä»¬ï¼Œä½†ä¹Ÿå¯ä»¥åœ¨ç”¨æˆ·å®Œæˆå¡«å……æ•°æ®åæäº¤ï¼Œä»¥é˜²æ­¢ä»»ä½•ä¸­æ–­ã€‚**

å®ƒæœ‰åŠ©äºç”¨æˆ·çš„ä½“éªŒï¼Œä»¥é˜²æ­¢ä»»ä½•é”™è¯¯çš„æœŸæœ›ï¼Œç„¶åå¯¼è‡´æŒ«æŠ˜ã€‚å…³é”®æ˜¯åœ¨æ­£ç¡®çš„æ—¶é—´å‘Šè¯‰ç”¨æˆ·å“ªé‡Œå‡ºäº†é—®é¢˜ï¼Œè€Œä¸è¦æ‰°ä¹±ä»–ä»¬çš„æµç¨‹ï¼

é”™è¯¯æ¶ˆæ¯

*   åº”è¯¥åœ¨æ­£ç¡®çš„æ—¶é—´å’Œåœ°ç‚¹æ˜¾ç¤ºã€‚
*   åº”è¯¥ä¸»è¦é¿å…æ··æ·†ã€‚
*   åº”è¯¥ä¼ è¾¾æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚
*   åº”è¯¥æè¿°ç”¨æˆ·å¦‚ä½•ä¿®å¤å®ƒã€‚
*   åº”è¯¥ç®€çŸ­ï¼Œä½†æœ‰æ„ä¹‰ã€‚
*   ä¿¡æ¯åº”è¯¥æœ‰æ­£ç¡®çš„é¢œè‰²ã€‚

*æ‘˜è‡ª [UX è¯åˆ¸äº¤æ˜“æ‰€](https://ux.stackexchange.com/questions/120939/inline-validation-on-smaller-forms)T3ã€‘*

è¿™æ˜¯æˆ‘è¯•å›¾æ‰¾å‡ºå¦‚ä½•ç”¨å°ç»†èŠ‚åšå‡ºå¤§æ”¹è¿›çš„å¼€å§‹ï¼Œæ•¬è¯·å…³æ³¨ï¼

æˆ‘æ€»æ˜¯ä¹äºæé«˜è‡ªå·±ï¼Œæ‰€ä»¥è¯·éšæ„å¸®å¿™ï¼æ„Ÿè°¢å·²ç»å¸®åŠ©æˆ‘æ”¹è¿›è¿™ç¯‡æ–‡ç« çš„ä¸å’Œè°çš„äººä»¬