# nuxt . js cheat sheet å·¥ä½œè¡¨

> åŸæ–‡:# t0]https://dev . to/Christopher de/nuxt-js-cheat-sheet-4533

Nuxt.js è®©ä½ çš„ç”Ÿæ´»å˜å¾—ç®€å•ï¼Œä¹Ÿè®© Vue.js çš„å¼€å‘è¿‡ç¨‹å˜å¾—æ›´å¥½ã€‚ä½†å°½ç®¡å®ƒæœ‰å¾ˆå¤šå¥½çš„æ–¹é¢ï¼Œå®ƒä¹Ÿæœ‰ä¸€äº›æ€ªç™–ï¼Œä¼šè®©ä½ ç‚¹å‡»è°·æ­Œä¸Šçš„æ¯ä¸€ä¸ªé“¾æ¥ã€‚

æœ¬æ–‡æ—¨åœ¨é¿å…è¿™äº›æƒ…å†µï¼Œå®ƒå°†æ¶µç›–ä¸€äº›æ­£å¸¸çš„ç”¨ä¾‹ä»¥åŠä¸€äº›å¸¦æœ‰å¿«é€Ÿç®€å•ä»£ç ç‰‡æ®µçš„è¾¹ç¼˜æƒ…å†µã€‚å®ƒä¸ä¼šå¯¹è¿™äº›äº‹æƒ…è¿›è¡Œæç«¯è¯¦ç»†çš„æè¿°ï¼Œä½†æ˜¯å¦‚æœä½ æƒ³çš„è¯ï¼Œå®ƒä¼šç»™ä½ å¿…è¦çš„æ–‡æ¡£ã€‚

> æ³¨æ„:æ‚¨éœ€è¦å¾ˆå¥½åœ°æŒæ¡ Vue.js æ¦‚å¿µæ‰èƒ½å……åˆ†åˆ©ç”¨è¿™ç¯‡æ–‡ç« ï¼

åœ¨æˆ‘ä»¬è¿›å…¥ä»»ä½•å…·ä½“å†…å®¹ä¹‹å‰ï¼Œè®©æˆ‘è§£é‡Šä¸€ä¸‹ Nuxt.js æ˜¯ä»€ä¹ˆã€‚

## nuxt . js æ˜¯ä»€ä¹ˆï¼Ÿ

Nuxt.js æ˜¯ä¸€ä¸ªåŸºäº [Vue.js](https://vuejs.org/) çš„æ¡†æ¶ï¼Œå…è®¸ä½ æ„å»ºå®Œå…¨æˆç†Ÿçš„ [**æœåŠ¡å™¨æ¸²æŸ“çš„**](https://youtu.be/GQzn7XRdzxY?t=46) åº”ç”¨ã€‚

å®ƒå¼€ç®±æ—¶å¸¦æœ‰**è´Ÿè½½**æœ‰ç”¨çš„è½¯ä»¶åŒ…:

*   ğŸ’»æŸè§†é¢‘å‰ªè¾‘è½¯ä»¶
*   â†©ï¸ Vue è·¯ç”±å™¨(ä¾¿äºè·¯ç”±)
*   ğŸ’¾Vuex(ä¾¿äºçŠ¶æ€ç®¡ç†)
*   ğŸVue æœåŠ¡å™¨æ¸²æŸ“å™¨(ç”¨äºç°æˆçš„æœåŠ¡å™¨ç«¯æ¸²æŸ“)
*   ğŸ•µï¸â€â™‚ï¸ Vue å…ƒ(æœç´¢å¼•æ“ä¼˜åŒ–)

ä»¥ä¸‹æ˜¯æˆ‘ä»¬å°†æ¶µç›–çš„å†…å®¹åˆ—è¡¨(å¦‚æœæ‚¨æ­£åœ¨æœç´¢ç‰¹å®šçš„å†…å®¹ï¼Œè¯·éšæ—¶è¿”å›è¿™é‡Œ):

### [](#general)é€šç”¨

*   [åˆ›å»ºä¸€ä¸ª Nuxt.js é¡¹ç›®](#new-project)
*   [ä½¿ç”¨ Nuxt.js è¿›è¡Œæµ‹è¯•](#testing)

### [](#routing)è·¯ç”±

*   [åˆ›å»ºæ–°è·¯çº¿](#new-route)
*   [åˆ›å»ºåŠ¨æ€è·¯çº¿](#dynamic-route)
*   [å¯¼èˆªåˆ°ç»„ä»¶æ¨¡æ¿ä¸­çš„è·¯çº¿](#navigating-route)
*   [é€šè¿‡ç¨‹åºå¯¼èˆªåˆ°ä¸€æ¡è·¯çº¿](#navigating-route-prog)

### [](#state-management)çŠ¶æ€ç®¡ç†

*   [åˆ›å»ºæ–°çš„å•†åº—æ¨¡å—](#new-store)
*   [æ¸²æŸ“ç»„ä»¶å‰æ›´æ–°å•†åº—](#store-update)

### [](#seo)SEO

*   [åŠ¨æ€æ”¹å˜é¡µé¢çš„å¤´éƒ¨å±æ€§](#seo-head)
*   [åŠ¨æ€è·¯ç”±çš„ SSR](#seo-route-ssr)

### [](#miscellaneous)æ‚é¡¹

*   [åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­æ˜¾ç¤ºå›ºå®šç»„ä»¶](#layout)
*   [æ”¹å˜é¡¹ç›®çš„è·¯ç”±å™¨åŸºç¡€](#router-base)
*   [å¤„ç†å›½é™…åŒ–(i18n)](#i18n)
*   [å°†å­—ä½“å¯¼å…¥é¡¹ç›®](#font)

> å¦‚æœä½ æœ‰ä»»ä½•å…¶ä»–è¦æ±‚æˆ–æƒ³æ·»åŠ ä»»ä½•æ–°çš„ä¸œè¥¿ï¼Œè¯·éšæ—¶åœ¨ Twitter ä¸Šæ‰“ç”µè¯ç»™æˆ‘ [@christo_kade](https://twitter.com/christo_kadehttps://twitter.com/christo_kade) ï¼

## [](#creating-a-nuxtjs-project)åˆ›å»º Nuxt.js é¡¹ç›®

```
yarn create nuxt-app <project-name> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å°†æç¤ºæ‚¨å›ç­”ä¸€äº›é—®é¢˜ï¼ŒåŒ…æ‹¬:

*   åœ¨é›†æˆçš„æœåŠ¡å™¨ç«¯æ¡†æ¶ä¹‹é—´é€‰æ‹©(é»˜è®¤ä¸º Noneï¼ŒExpressï¼ŒKoa ç­‰ã€‚)
*   é€‰æ‹©è¦å®‰è£…çš„åŠŸèƒ½(PWA æ”¯æŒã€Linter / Formatterã€æ›´æ¼‚äº®ã€Axios)
*   é€‰æ‹©ä½ æœ€å–œæ¬¢çš„ UI æ¡†æ¶(é»˜è®¤æ— ï¼ŒBootstrapï¼ŒVuetifyï¼Œå¸ƒå°”ç›ç­‰)ã€‚)
*   é€‰æ‹©ä½ æœ€å–œæ¬¢çš„æµ‹è¯•æ¡†æ¶(Noneï¼ŒJestï¼ŒAVA)
*   æ‚¨æƒ³è¦çš„ Nuxt æ¨¡å¼(é€šç”¨æˆ– SPAï¼Œ[æ›´å¤šä¿¡æ¯](https://nuxtjs.org/guide#server-rendered-universal-ssr-)

ä¸€æ—¦å®Œæˆå¹¶å®‰è£…äº†ä¾èµ–é¡¹:

```
$ cd <project-name>
$ yarn dev 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[æ–‡æ¡£](https://nuxtjs.org/guide/installation)

## [](#testing-with-nuxtjs)ç”¨ Nuxt.js æµ‹è¯•

æ‚¨çš„å¤§å¤šæ•°æµ‹è¯•è¯­æ³•å°†å–å†³äºé¡¹ç›®åˆ›å»ºæœŸé—´æ‰€é€‰æ‹©çš„æµ‹è¯•æ¡†æ¶ã€‚

å¼€ç®±å³ç”¨ï¼ŒNuxt ä½¿ç”¨`@vue/test-utils`åŒ…æ¥æ¸²æŸ“ä½ çš„ç»„ä»¶ï¼Œæ„Ÿè°¢å¤šç§æ–¹æ³•ï¼Œå¦‚`mount()`ã€`shallowMount()`å’Œ`render()`ã€‚ç„¶åï¼Œæ‚¨å°†èƒ½å¤Ÿæµ‹è¯•æ˜¯å¦æ˜¾ç¤ºäº†ç‰¹å®šçš„å€¼ï¼Œæ˜¯å¦è°ƒç”¨äº†ç‰¹å®šçš„æ–¹æ³•ç­‰ç­‰ã€‚

Nuxt è¿˜ä¼šç¡®ä¿ä¸ºä½ è®¾ç½®å¥½ä¸€åˆ‡ï¼Œä½ æ‰€è¦åšçš„å°±æ˜¯åˆ›å»ºä½ çš„`*.spec.js`æˆ–`*.test.js`æ–‡ä»¶å¹¶è¿è¡Œ`yarn test`å‘½ä»¤ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ª Nuxt é¡¹ç›®ä¸­ Vue ç»„ä»¶å•å…ƒæµ‹è¯•çš„ç»å…¸(ç®€å•)ä¾‹å­:

```
import { shallowMount } from "@vue/test-utils"
import cmp from "~/components/navbar/navbar"

// Mocking an icon displayed in my navbar
jest.mock("~/static/icons/svg/icon-menu.svg", () => "")

describe("Navbar component", () => {

  // We shallow mount the component while mocking some internal elements
  // Most of the time, you'll have to mock context objects such as $store or $route in order to render your component whithout any errors
  const wrapper = shallowMount(cmp, {
    // Stubbing nuxt-links in the navbar
    stubs: ["nuxt-link"],
    mocks: {
      "nuxt-Link": true,
      // Mocking the $store context object
      $store: {
        state: {
          locale: "en",
        },
      },
      // Mocking the $route context object
      $route: {
        path: "mockedPath",
      },
    },    
  })

  it("Snapshot testing", () => {
    expect(wrapper.html()).toMatchSnapshot()
  })

  describe("Components validation", () => {
    it("should return a valid component", () => {
      expect(wrapper.is(cmp)).toBe(true)
    })
  })

  describe("Content validation", () => {
    it("should render the link's name", () => {
      expect(wrapper.html()).toContain("About")
    })

    // ...
  })
}) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[æ–‡æ¡£](https://vue-test-utils.vuejs.org/)

## [](#creating-a-new-route)åˆ›å»ºæ–°è·¯çº¿

åœ¨`/pages`æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå…¶åç§°å°†æ˜¯è·¯çº¿çš„åç§°ã€‚

æ‰€ä»¥æ¯”å¦‚:

```
// /pages/about.vue

<template>
  <main>
    <h1>About page</h1>
  <main/>
</template>

<script>
export default {}
</script>

<style></style> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¼èˆªåˆ°`localhost:3000/about`å°†æ˜¾ç¤ºè¯¥ç»„ä»¶çš„å†…å®¹

[æ–‡æ¡£](https://nuxtjs.org/guide/views#pages)

## [](#creating-dynamic-routes)åˆ›å»ºåŠ¨æ€è·¯çº¿

åœ¨`/pages`æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªç›®å½•å’Œä¸€ä¸ªä»¥ä¸‹åˆ’çº¿ä¸ºå‰ç¼€çš„æ–‡ä»¶ã€‚

ä¾‹å¦‚ï¼Œä¸‹é¢çš„æ–‡ä»¶æ ‘:

```
pages/
--| users/
-----| _id.vue
--| index.vue 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ¯å½“æ‚¨æ„å»ºé¡¹ç›®æ—¶ï¼Œéƒ½ä¼šåœ¨`.nuxt`æ–‡ä»¶å¤¹ä¸­è‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹è·¯ç”±å™¨:

```
router: {
  routes: [
    {
      name: 'index',
      path: '/',
      component: 'pages/index.vue'
    },
    {
      name: 'users-id',
      path: '/users/:id?',
      component: 'pages/users/_id.vue'
    },
  ]
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‚¨ç°åœ¨å¯ä»¥å¯¼èˆªåˆ°`/users/:id`ï¼Œå…¶ä¸­`id`æ˜¯æ‚¨éœ€è¦çš„ä»»ä½•å€¼ã€‚

è¦åœ¨æ‚¨çš„`_id.vue`ç»„ä»¶ä¸­æ£€ç´¢è¿™ä¸ªå€¼ï¼Œåªéœ€æ‰§è¡Œä»¥ä¸‹æ“ä½œ:

```
// $route is a Nuxt context object, more info: https://nuxtjs.org/api/context
const { id } = this.$route.params 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[æ–‡æ¡£](https://nuxtjs.org/guide/routing#dynamic-routes)ï¼ŒåŒ…æ‹¬åµŒå¥—è·¯ç”±å’ŒåŠ¨æ€åµŒå¥—è·¯ç”±ã€‚

## [](#navigating-to-a-route-in-a-component-template)å¯¼èˆªåˆ°ç»„ä»¶æ¨¡æ¿ä¸­çš„è·¯çº¿

ä»»ä½•ç»„ä»¶å†…éƒ¨:

```
// /components/example.vue

// Clicking on this nuxt-link will navigate to the /pages/about.vue component
// nuxt-link renders an <a> tag in your HTML
<template>
  <section>    
    <nuxt-link to="/about">
      About
    </nuxt-link>
  </section>
</template>

// ... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[æ–‡æ¡£](https://nuxtjs.org/api/components-nuxt-link#the-lt-nuxt-link-gt-component)

## [](#navigating-to-a-route-programatically)ä»¥ç¼–ç¨‹æ–¹å¼å¯¼èˆªåˆ°ä¸€æ¡è·¯çº¿

```
// Will add a history entry to the stack
this.$router.push({
  path: '/about'
})

// Will not
this.$router.replace({
  path: '/about'
})

// Goes back one record
this.$router.go(-1) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#creating-a-new-store-module)åˆ›å»ºæ–°çš„å•†åº—æ¨¡å—

åœ¨`/store`æ–‡ä»¶å¤¹ä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ª Vuex æ¨¡å—ã€‚

```
// /store/todos.js
export const state = () => ({
  list: []
})

export const mutations = {
  add(state, text) {
    state.list.push({
      text: text,
      done: false
    })
  },
  remove(state, { todo }) {
    state.list.splice(state.list.indexOf(todo), 1)
  },
  toggle(state, todo) {
    todo.done = !todo.done
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½¿ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡`$store` :
å¯ä»¥è·å¾—æ¯ä¸ªæ¨¡å—çš„å˜åŒ–ã€åŠ¨ä½œå’ŒçŠ¶æ€

```
// /components/todo.vue
<template>
  <ul>
    <li v-for="todo in todos">
      <input type="checkbox" :checked="todo.done" @change="toggle(todo)">
      <span>{{ todo.text }}</span>
    </li>
    <li><input placeholder="What needs to be done?" @keyup.enter="addTodo"></li>
  </ul>
</template>

<script>
import { mapMutations } from 'vuex'

export default {
  computed: {
    todos () {
      return this.$store.state.todos.list // highlight-line
    }
  },
  methods: {
    addTodo (e) {
      this.$store.commit('todos/add', e.target.value) // highlight-line
      e.target.value = ''
    },
    ...mapMutations({ // highlight-line
      toggle: 'todos/toggle' // highlight-line
    }) // highlight-line
  }
}
</script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[æ–‡æ¡£](https://nuxtjs.org/guide/vuex-store#codefund_ad)

## [](#updating-a-store-before-rendering-a-component)æ¸²æŸ“ç»„ä»¶å‰æ›´æ–°å­˜å‚¨

æœ‰æ—¶å€™ä½ éœ€è¦åœ¨æ¸²æŸ“ä¸€ä¸ªç»„ä»¶ä¹‹å‰å¡«å……ä¸€ä¸ªç»™å®šçš„çŠ¶æ€å˜é‡ï¼Œè¿™é‡Œæ˜¯æ€ä¹ˆåšçš„:

```
// In any component

export default {
  // Called before rendering the component
  fetch ({ store, params }) {
    return axios.get('https://dog.ceo/api/breeds/image/random')
    .then((res) => {
      store.commit('setDog', res.data.message)
    })
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> è­¦å‘Š:æ‚¨ä¸èƒ½é€šè¿‡ fetch å†…éƒ¨çš„`this`è®¿é—®ç»„ä»¶å®ä¾‹ï¼Œå› ä¸ºå®ƒæ˜¯åœ¨å¯åŠ¨ç»„ä»¶ä¹‹å‰è¢«è°ƒç”¨çš„([é˜…è¯»æ›´å¤šä¿¡æ¯](https://nuxtjs.org/api/pages-fetch))ã€‚

[æ–‡æ¡£](https://nuxtjs.org/api/pages-fetch#the-fetch-method)

## [](#changing-a-pages-head-properties-dynamically)åŠ¨æ€æ”¹å˜é¡µé¢çš„é¡µçœ‰å±æ€§

å‡ºäºæœç´¢å¼•æ“ä¼˜åŒ–çš„ç›®çš„ï¼Œå®šä¹‰é¡µé¢çš„æ ‡é¢˜ï¼Œæè¿°å…³é”®å­—ç­‰ã€‚å¯èƒ½æœ‰ç”¨ã€‚ä¸‹é¢æ˜¯ä½ å¦‚ä½•é€šè¿‡ç¼–ç¨‹æ¥åšåˆ°è¿™ä¸€ç‚¹:

```
// In any component
export default {
  head: {
    title: 'Page title',
    meta: [
      { 
        hid: 'description', name: 'description', 
        content: 'Page description' 
      }
    ],
    // ...
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> Info:ä¸ºäº†é¿å…åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨é‡å¤çš„ meta æ ‡ç­¾ï¼Œä¸ºæ‚¨çš„ meta å…ƒç´ è®¾ç½®ä¸€ä¸ªå¸¦æœ‰ hid é”®çš„å”¯ä¸€æ ‡è¯†ç¬¦([é˜…è¯»æ›´å¤šä¿¡æ¯](https://nuxtjs.org/api/pages-head#the-head-method))ã€‚

[æ–‡æ¡£](https://nuxtjs.org/api/pages-fetch#the-fetch-method)

## [](#ssr-for-dynamic-routes)SSR ä¸ºåŠ¨æ€è·¯ç”±

è¿è¡Œ`nuxt generate`æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ä¼šç”ŸæˆåŠ¨æ€è·¯çº¿çš„ HTML æ–‡ä»¶ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ª`about.vue`é¡µé¢å’Œä¸€ä¸ª`_id.vue`é¡µé¢ï¼Œå½“è¿è¡Œ`nuxt generate`æ—¶ï¼Œäº§ç”Ÿçš„`dist`æ–‡ä»¶å¤¹å°†åŒ…å«`/about/index.html`ï¼Œä½†ä¸ä¼šä¸ºä½ çš„åŠ¨æ€`_id.vue`ç”Ÿæˆä»»ä½•ä¸œè¥¿ã€‚

è¿™ä¼šå¯¼è‡´ä½ çš„åŠ¨æ€è·¯å¾„è¢«çˆ¬è™«é”™è¿‡ï¼Œå› æ­¤ä¸ä¼šè¢«æœç´¢å¼•æ“å¼•ç”¨ï¼

ä¸‹é¢æ˜¯å¦‚ä½•è‡ªåŠ¨ç”Ÿæˆå®ƒä»¬çš„æ–¹æ³•:

```
// nuxt.config.js

module.exports = {
  // ...

  // dynamicRoutes could be a JSON file containing your dynamic routes
  // or could be retrieved automatically based on the content of your /pages folder
  generate: {
    routes: () => {
      return dynamicRoutes.map(route => `/articles/${route}`)
    },
  },

  // ...
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`nuxt generate`ç°åœ¨å°†ä¸ºç”±`generate`å±æ€§è¿”å›çš„æ¯ä¸ªåŠ¨æ€è·¯ç”±ç”Ÿæˆ HTML æ–‡ä»¶ã€‚

[æ–‡æ¡£](https://nuxtjs.org/api/configuration-generate#the-generate-property)

## [](#displaying-a-fixed-component-throughout-your-app)åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­æ˜¾ç¤ºå›ºå®šç»„ä»¶

æœ‰æ—¶ä½ éœ€è¦æ·»åŠ ä¸€ä¸ªå¯¼èˆªæ æˆ–é¡µè„šï¼Œæ— è®ºå½“å‰è·¯çº¿å¦‚ä½•ï¼Œå®ƒéƒ½ä¼šæ˜¾ç¤ºã€‚

æœ‰ä¸€ä¸ªé»˜è®¤åŒ…å«`default.vue`çš„`/layout`æ–‡ä»¶å¤¹ã€‚è¿™ä¸ªå¸ƒå±€åŒ…å«äº†`<nuxt/>`ç»„ä»¶ï¼Œå®ƒè´Ÿè´£å‘ˆç°æ¯ä¸ªé¡µé¢çš„å†…å®¹(å‚è§[åˆ›å»ºæ–°è·¯å¾„](#new-route))ã€‚

åªéœ€ä¿®æ”¹ç»„ä»¶ä»¥æ»¡è¶³æ‚¨éœ€æ±‚ï¼Œä¾‹å¦‚:

```
<template>
  <div>
    <navbar/>
    <nuxt/>
    <footer/>
  </div>
</template>

<script>
import navbar from "~/components/navbar/navbar"
import footer from "~/components/footer/footer"

export default {
  components: {
    cmpNavbar,    
    cmpFooter,
  },  
}
</script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[æ–‡æ¡£](https://nuxtjs.org/guide/views#layouts)

## [](#changing-a-projects-router-base)æ”¹å˜é¡¹ç›®çš„è·¯ç”±å™¨åŸºç¡€

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¾‹å¦‚å½“æ‚¨åœ¨ Github é¡µé¢ä¸Šçš„`username/my-project`ä¸‹éƒ¨ç½²é¡¹ç›®æ—¶ï¼Œæ‚¨éœ€è¦æ›´æ”¹é¡¹ç›®çš„è·¯ç”±å™¨åŸºç¡€ï¼Œä»¥ä¾¿æ­£ç¡®æ˜¾ç¤ºæ‚¨çš„èµ„äº§ã€‚

```
// nuxt.config.js

// Will change the router base to /my-project/ when DEPLOY_ENV equals GH_PAGES
const routerBase = process.env.DEPLOY_ENV === "GH_PAGES"
  ? {
    router: {
      base: "/my-project/",
    },
  }
  : {
    router: {
      base: "/",
    },
  }

module.exports = {  
  // ...
  routerBase,
  // ...
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸è¦å¿˜è®°æ›´æ”¹æ‚¨çš„`package.json`ï¼Œä»¥ä¾¿`nuxt.config.js`çŸ¥é“æ‚¨ä½•æ—¶æ„å»ºæˆ–ç”Ÿæˆ Github é¡µé¢ã€‚

```
// package.json

"scripts": {
  "build:gh-pages": "DEPLOY_ENV=GH_PAGES nuxt build",
  "generate:gh-pages": "DEPLOY_ENV=GH_PAGES nuxt generate"
}, 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#handling-internationalization-i18n)å¤„ç†å›½é™…åŒ–(i18n)

é€šè¿‡è¿è¡Œ`yarn add vue-i18n`å¼€å§‹

åˆ›å»ºä»¥ä¸‹æ–‡ä»¶:

```
// /plugins/i18n.js

import Vue from "vue"
import VueI18n from "vue-i18n"

Vue.use(VueI18n)

export default ({ app, store }) => {

  // Set i18n instance on app
  // This way we can use it globally in our components
  app.i18n = new VueI18n({
    locale: store.state.locale,
    fallbackLocale: "fr",
    messages: {
      // Add the supported languages here AND their associated content files
      en: require("~/static/json/data-en.json"),
      fr: require("~/static/json/data-fr.json"),      
    },
  })
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¹¶åœ¨æ‚¨çš„`nuxt.config.js`ä¸­æ·»åŠ ä¸‹é¢ä¸€è¡Œï¼Œé€šçŸ¥å®ƒæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨è¿™ä¸ªæ’ä»¶:

```
module.exports = {
  // ...
  plugins: ["~/plugins/i18n.js"],
  // ...
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“å‰çš„è¯­è¨€ç¯å¢ƒåŸºäºæˆ‘çš„å•†åº—çš„å†…å®¹ï¼Œçœ‹èµ·æ¥åƒè¿™æ ·:

```
export const state = () => ({
  locales: ["en", "fr"],
  locale: "fr",
})

export const mutations = {
  setLanguage(state, locale) {
    if (state.locales.indexOf(locale) !== -1) {
      state.locale = locale
    }
  },
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‰€ä»¥æ¯å½“æˆ‘ä»¬è°ƒç”¨`setLanguage`æ—¶ï¼ŒåŒºåŸŸè®¾ç½®ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œå¹¶åŠ è½½æ­£ç¡®çš„ JSON æ–‡ä»¶ï¼âœ¨

æ‚¨çš„æ–‡ä»¶å†…å®¹ç°åœ¨åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­éƒ½å¯ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
// Here we access the 'users' array in our JSON file
this.$t("users") 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[æ–‡æ¡£](https://nuxtjs.org/examples/i18n#codefund_ad)

## [](#importing-a-font-to-your-project)å°†å­—ä½“å¯¼å…¥åˆ°é¡¹ç›®ä¸­

```
// nuxt.config.js

module.exports = {
  /*
   ** Headers of the page
   */
  head: {    
    // ...
    link: [
      {
        rel: "stylesheet",
        href: "https://fonts.googleapis.com/css?family=Lato",
      },
    ],
  },

  // ...
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#wrapping-up)åŒ…è£…å®Œæ¯•

å¥½äº†ï¼Œæˆ‘ç›¸ä¿¡è¿™è¶³å¤Ÿå†™ä¸€ç¯‡æ–‡ç« äº†ã€‚æˆ‘ä»‹ç»äº†å¾ˆå¤šç”¨ä¾‹ï¼Œå¸Œæœ›å¯¹ä½ ä»¬æœ‰äº›äººæœ‰ç”¨ã€‚

å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–è€…æƒ³å¯¹æœ¬æ–‡æœ‰æ‰€è¡¥å……ï¼Œè¯·éšæ—¶åœ¨ Twitter ä¸Šç»™æˆ‘å‘æ¶ˆæ¯ [@christo_kade](https://twitter.com/christo_kade) ï¼Œå¹¶ç¡®ä¿å…³æ³¨æˆ‘ï¼Œäº†è§£æˆ‘å†™çš„ä»»ä½•æ–°æ–‡ç« æˆ–è€…ä¸ Javascript & CSS ç›¸å…³çš„æœ‰è¶£å‘ç°ğŸ˜„