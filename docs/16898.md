# å®Œæ•´çš„ React æ ·æ¿æ•™ç¨‹â€”â€”ä»é›¶åˆ°è‹±é›„

> åŸæ–‡:[https://dev . to/Leonardo MSO/a-complete-react-boilerplate-tutorial from-zero-to-hero-jig](https://dev.to/leonardomso/a-complete-react-boilerplate-tutorialfrom-zero-to-hero-jig)

[![enter image description here](../Images/f093bc08ed85364973f96b0a399fb540.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--scDzy1oK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AIRVIWE6HiS8wQstgybKwvw.jpeg)

å½“æˆ‘ä»¬å¼€å§‹å­¦ä¹  React æ—¶ï¼Œä¸ºäº†åˆ¶ä½œæˆ‘ä»¬çš„é¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦ä»å¤´å¼€å§‹åˆ¶ä½œæ ·æ¿æ–‡ä»¶ï¼Œæˆ–è€…ä½¿ç”¨ç¤¾åŒºæä¾›çš„ä¸€äº›æ ·æ¿æ–‡ä»¶ã€‚å‡ ä¹æ‰€æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç”¨ *create-react-app* æ¥åˆ›å»ºä¸€ä¸ªæ²¡æœ‰æ„å»ºé…ç½®çš„åº”ç”¨ã€‚æˆ–è€…æˆ‘ä»¬åªæ˜¯ä»å¤´å¼€å§‹åˆ¶ä½œæˆ‘ä»¬è‡ªå·±çš„ç®€å•æ ·æ¿æ–‡ä»¶ã€‚

ç”±æ­¤ï¼Œæˆ‘æƒ³åˆ°:ä¸ºä»€ä¹ˆä¸åˆ¶ä½œä¸€ä¸ªåŒ…å«æˆ‘ç»å¸¸ä½¿ç”¨çš„æ‰€æœ‰ä¾èµ–é¡¹çš„æ ·æ¿æ–‡ä»¶ï¼Œå¹¶æŠŠå®ƒå‡†å¤‡å¥½å‘¢ï¼Ÿç¤¾åŒºä¹Ÿæ˜¯è¿™æ ·æƒ³çš„ï¼Œæ‰€ä»¥ç°åœ¨æˆ‘ä»¬æœ‰äº†å‡ ä¸ªç¤¾åŒºåˆ›å»ºçš„æ ·æ¿æ–‡ä»¶ã€‚æœ‰äº›æ¯”å…¶ä»–çš„æ›´å¤æ‚ï¼Œä½†æ˜¯ä»–ä»¬æ€»æ˜¯æœ‰ç›¸åŒçš„ç›®æ ‡ï¼Œå³æœ€å¤§é™åº¦åœ°èŠ‚çœæ—¶é—´ã€‚

æœ¬æ–‡å°†æ•™æ‚¨å¦‚ä½•ä½¿ç”¨ React ç¤¾åŒºä¸­ç›®å‰ä½¿ç”¨çš„ä¸»è¦ä¾èµ–é¡¹ä»å¤´å¼€å§‹æ„å»ºè‡ªå·±çš„æ ·æ¿æ–‡ä»¶ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸€äº›ç°ä»£çš„æœ€å¸¸è§çš„åŠŸèƒ½ï¼Œä»é‚£é‡Œä½ å¯ä»¥å®šåˆ¶ä½ æƒ³è¦çš„ä»»ä½•æ–¹å¼ã€‚

**[æœ¬æ–‡åˆ›å»ºçš„æ ·æ¿æ–‡ä»¶å°†åœ¨æ­¤å¤„å¯ç”¨ï¼](https://github.com/leonardomso/react-bolt)T3ã€‘**

## [](#getting-started)å…¥é—¨

é¦–å…ˆï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹æ¥å¯åŠ¨æˆ‘ä»¬çš„æ ·æ¿æ–‡ä»¶ã€‚ä½ æƒ³æ€ä¹ˆå‘½åéƒ½è¡Œï¼Œæˆ‘å°±ç»™æˆ‘çš„å–å ***ååº”â€”â€”é—ªç”µ*** ã€‚

æ‰“å¼€æ‚¨çš„ç»ˆç«¯ï¼Œåƒè¿™æ ·åˆ›å»ºå®ƒ:

```
mkdir react-bolt 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œè½¬åˆ°æ‚¨åˆ›å»ºçš„æ–‡ä»¶å¤¹ï¼Œé”®å…¥ä»¥ä¸‹å‘½ä»¤:

```
npm init -y 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`npm`å°†ä¸ºæ‚¨åˆ›å»ºä¸€ä¸ª`package.json`æ–‡ä»¶ï¼Œæ‚¨å®‰è£…çš„æ‰€æœ‰ä¾èµ–é¡¹å’Œæ‚¨çš„å‘½ä»¤éƒ½åœ¨é‚£é‡Œã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä¸ºæ ·æ¿æ–‡ä»¶åˆ›å»ºåŸºæœ¬çš„æ–‡ä»¶å¤¹ç»“æ„ã€‚ç°åœ¨æ˜¯è¿™æ ·çš„:

```
react-bolt    
    |--config    
    |--src    
    |--tests 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#webpack)Webpack

Webpack æ˜¯å½“ä»Šæœ€è‘—åçš„ JavaScript åº”ç”¨ç¨‹åºæ¨¡å—æ†ç»‘å™¨ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒæ†ç»‘äº†ä½ æ‰€æœ‰çš„ä»£ç ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªåŒ…ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œäº†è§£æ›´å¤šä¿¡æ¯ã€‚

åœ¨è¿™ä¸ªæ ·æ¿æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å®ƒï¼Œæ‰€ä»¥å®‰è£…æ‰€æœ‰è¿™äº›ä¾èµ–é¡¹:

```
npm install --save-dev webpack webpack-cli webpack-dev-server webpack-merge html-webpack-plugin clean-webpack-plugin img-loader url-loader file-loader 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨åœ¨æˆ‘ä»¬çš„`config`æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºå¦ä¸€ä¸ªåä¸º`webpack`çš„æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨è¿™ä¸ª`webpack`æ–‡ä»¶å¤¹ä¸­åˆ›å»º 5 ä¸ªæ–‡ä»¶ã€‚

åˆ›å»ºä¸€ä¸ªåä¸º`paths.js`çš„æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå°†æ˜¯æ‰€æœ‰è¾“å‡ºæ–‡ä»¶çš„ç›®æ ‡ç›®å½•ã€‚

åœ¨é‡Œé¢ï¼Œæ”¾ä¸Šæ‰€æœ‰è¿™äº›ä»£ç :

```
import path from 'path';

module.exports = {    
    root: path.resolve(__dirname, '../', '../'),    
    outputPath: path.resolve(__dirname, '../', '../', 'build'),    
    entryPath: path.resolve(__dirname, '../', '../', 'src/index.js'),    
    templatePath: path.resolve(__dirname, '../', '../', 'src/index.html'),    
    imagesFolder: 'images',    
    fontsFolder: 'fonts',    
    cssFolder: 'css',    
    jsFolder: 'js'    
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œåˆ›å»ºå¦ä¸€ä¸ªåä¸º`rules.js`çš„æ–‡ä»¶ï¼Œå¹¶å°†ä»¥ä¸‹ä»£ç æ”¾åœ¨é‚£é‡Œ:

```
module.exports = [    
    {
        test: /\.js$/,    
        exclude: /node_modules/,    
        use: {    
        loader: 'babel-loader'    
    }    
},    
    {    
        test: /\.eot(\?v=\d+\.\d+\.\d+)?$/,    
        exclude: /node_modules/,    
        loader: 'file-loader'    
    },    
    {    
        test: /\.(woff|woff2)$/,    
        exclude: /node_modules/,    
        loader: 'url-loader?prefix=font/&limit=5000'    
    },    
    {
        test: /\.ttf(\?v=\d+\.\d+\.\d+)?$/,    
        exclude: /node_modules/,    
        loader: 'url-loader?limit=10000&mimetype=application/octet-stream'    
    },    
    {    
        test: /\.(jpe?g|png|gif|svg)$/i,    
        use: ['url-loader?limit=10000', 'img-loader'] 
    }    
]; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¹‹åï¼Œæˆ‘ä»¬å°†å†åˆ›å»º 3 ä¸ªæ–‡ä»¶:

**webpack.common.babel.js**

```
import webpack from 'webpack';
import HtmlWebpackPlugin from 'html-webpack-plugin';

import paths from './paths';
import rules from './rules';

module.exports = {
    entry: paths.entryPath,
    module: {
        rules
    },
    resolve: {
        modules: ['src', 'node_modules'],
        extensions: ['*', '.js', '.scss', '.css']
    },
    plugins: [
        new webpack.ProgressPlugin(),
        new HtmlWebpackPlugin({
            template: paths.templatePath,
            minify: {
                collapseInlineTagWhitespace: true,
                collapseWhitespace: true,
                preserveLineBreaks: true,
                minifyURLs: true,
                removeComments: true,
                removeAttributeQuotes: true
            }
        })
    ]
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

**webpack.dev.babel.js**

```
import webpack from 'webpack';

import paths from './paths';
import rules from './rules';

module.exports = {
    mode: 'development',
    output: {
        filename: '[name].js',
        path: paths.outputPath,
        chunkFilename: '[name].js'
    },
    module: {
        rules
    },
    performance: {
        hints: 'warning',
        maxAssetSize: 450000,
        maxEntrypointSize: 8500000,
        assetFilter: assetFilename => {
            return (
                assetFilename.endsWith('.css') || assetFilename.endsWith('.js')
            );
        }
    },
    optimization: {
        splitChunks: {
            chunks: 'all'
        }
    },
    devServer: {
        contentBase: paths.outputPath,
        compress: true,
        hot: true,
        historyApiFallback: true
    },
    plugins: [
        new webpack.HotModuleReplacementPlugin()
    ]
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

**webpack.prod.babel.js**

```
import CleanWebpackPlugin from 'clean-webpack-plugin';

import paths from './paths';
import rules from './rules';

module.exports = {
    mode: 'production',
    output: {
        filename: `${paths.jsFolder}/[name].[hash].js`,
        path: paths.outputPath,
        chunkFilename: '[name].[chunkhash].js'
    },
    module: {
        rules
    },
    plugins: [
        new CleanWebpackPlugin([paths.outputPath.split('/').pop()], {
            root: paths.root
        })
    ],
    devtool: 'source-map'
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åŸºæœ¬ä¸Šï¼Œåœ¨æˆ‘ä»¬çš„`webpack.common.babel.js`æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å·²ç»è®¾ç½®äº†æˆ‘ä»¬çš„å…¥å£å’Œè¾“å‡ºé…ç½®ï¼Œå¹¶ä¸”åŒ…æ‹¬äº†ä»»ä½•éœ€è¦çš„æ’ä»¶ã€‚åœ¨`webpack.dev.babel.js`æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å·²ç»å°†æ¨¡å¼è®¾ç½®ä¸ºå¼€å‘ã€‚åœ¨æˆ‘ä»¬çš„`webpack.prod.babel.js`æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å·²ç»å°†æ¨¡å¼è®¾ç½®ä¸ºç”Ÿäº§ã€‚

ä¹‹åï¼Œåœ¨æˆ‘ä»¬çš„æ ¹æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºæœ€åä¸€ä¸ªåä¸º`webpack.config.js`çš„ webpack æ–‡ä»¶ï¼Œå¹¶æ”¾å…¥ä»¥ä¸‹ä»£ç :

```
require('@babel/register');
const webpackMerge = require('webpack-merge');

const common = require('./config/webpack/webpack.common.babel');

const envs = {
    development: 'dev',
    production: 'prod'
};

/* eslint-disable global-require,import/no-dynamic-require */
const env = envs[process.env.NODE_ENV || 'development'];
const envConfig = require(`./config/webpack/webpack.${env}.babel`);
module.exports = webpackMerge(common, envConfig); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬çš„ webpack é…ç½®å·²ç»å‡†å¤‡å¥½äº†ï¼Œæ‰€ä»¥ç°åœ¨æˆ‘ä»¬å°†ä½¿ç”¨ *Babel* ã€ *ESLint* ã€*prettle*ç­‰æ¥å¤„ç†æ ·æ¿æ–‡ä»¶çš„å…¶ä»–éƒ¨åˆ†ã€‚

## [](#babel)é€šå¤©å¡”

æˆ‘æƒ³å‡ ä¹æ¯ä¸ªä½¿ç”¨ React çš„äººéƒ½å¯èƒ½å¬è¯´è¿‡ Babel ä»¥åŠè¿™ä¸ªç®€å•çš„ transpiler å¦‚ä½•å¸®åŠ©æˆ‘ä»¬çš„ç”Ÿæ´»ã€‚å¦‚æœä½ ä¸çŸ¥é“å®ƒæ˜¯ä»€ä¹ˆï¼ŒBabel å®ƒåŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ª transpilerï¼Œå°†ä½ çš„ JavaScript ä»£ç è½¬æ¢æˆæ™®é€šçš„æ—§ ES5 JavaScriptï¼Œå¯ä»¥åœ¨ä»»ä½•æµè§ˆå™¨ä¸­è¿è¡Œã€‚

æˆ‘ä»¬å°†ä½¿ç”¨ä¸€å † Babel æ’ä»¶ï¼Œæ‰€ä»¥åœ¨æˆ‘ä»¬çš„æ ¹æ–‡ä»¶å¤¹ä¸­ï¼Œå®‰è£…:

```
npm install --save-dev @babel/core @babe/cli @babel/node @babel/plugin-proposal-class-properties @babel/plugin-proposal-object-rest-spread @babel/plugin-syntax-dynamic-import @babel/plugin-syntax-import-meta @babel/plugin-transform-async-to-generator @babel/plugin-transform-runtime @babel/preset-env @babel/preset-react @babel/register @babel/runtime babel-eslint babel-jest babel-loader babel-core@7.0.0-bridge.0 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¹‹åï¼Œæˆ‘ä»¬å°†åœ¨æ ¹æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º`.babelrc`çš„æ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†æ”¾å…¥ä»¥ä¸‹ä»£ç :

```
{    
  presets:        
    [        
        [            
            "@babel/preset-env",                
            {                
                useBuiltIns:  "entry"
            }
        ],
        "@babel/preset-react"
    ],
    plugins:        
    [        
        "@babel/plugin-proposal-object-rest-spread",            
        "@babel/plugin-transform-runtime",            
        "@babel/plugin-transform-async-to-generator",            
        "@babel/plugin-proposal-class-properties"
    ]
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æˆ‘ä»¬çš„é¡¹ç›®æ˜¯ç”¨ Babel ç¼–è¯‘çš„ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹ä¸€ä»£ JavaScript è¯­æ³•ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚

## [](#eslint)ESLint

å¦‚ä»Šæ—æŒºé¡¹ç›®æœ€å¸¸ç”¨çš„å·¥å…·æ˜¯ ESLintã€‚å‘ç°æŸäº›ç±»å‹çš„é”™è¯¯çœŸçš„å¾ˆæœ‰å¸®åŠ©ï¼Œæ¯”å¦‚é‚£äº›ä¸å˜é‡ä½œç”¨åŸŸã€æœªå£°æ˜å˜é‡çš„èµ‹å€¼ç­‰ç›¸å…³çš„é”™è¯¯ã€‚

é¦–å…ˆï¼Œå®‰è£…ä»¥ä¸‹ä¾èµ–é¡¹:

```
npm install --save-dev eslint eslint-config-airbnb eslint-config-prettier eslint-loader eslint-plugin-babel eslint-plugin-import eslint-plugin-jsx-a11y eslint-plugin-prettier eslint-plugin-react 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åï¼Œåœ¨æˆ‘ä»¬çš„æ ¹æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º`.eslintrc`çš„æ–‡ä»¶ï¼Œå¹¶å°†ä»¥ä¸‹ä»£ç æ”¾åœ¨é‚£é‡Œ:

```
{
    "parser": "babel-eslint",
    "extends": ["airbnb", "prettier", "prettier/react"],
    "plugins": ["prettier"],
    "parserOptions": {
        "ecmaVersion": 6,
        "ecmaFeatures": {
            "jsx": true
        }
    },
    "env": {
        "browser": true,
        "node": true,
        "mocha": true,
        "es6": true,
        "jest": true
    },
    "rules": {
        "indent": ["error", 4],
        "space-before-function-paren": "off",
        "react/prefer-stateless-function": "warn",
        "react/jsx-one-expression-per-line": "off",
        "import/no-extraneous-dependencies": [
            "error",
            { "devDependencies": true }
        ],
        "react/jsx-filename-extension": [1, { "extensions": [".js", ".jsx"] }],
        "linebreak-style": "off",
        "global-require": "off",
        "semi": "warn",
        "arrow-body-style": "off",
        "no-multiple-empty-lines": ["warn", { "max": 1 }],
        "no-unused-expressions": [
            "error",
            {
                "allowTaggedTemplates": true
            }
        ],
        "no-underscore-dangle": [
            2,
            { "allow": ["__REDUX_DEVTOOLS_EXTENSION__"] }
        ]
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#prettier)æ¼‚äº®äº›

æ¼‚äº®åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–ç¨‹åºã€‚å®ƒåˆ†ææ‚¨çš„ä»£ç ï¼Œå¹¶æ ¹æ®è‡ªå·±çš„è§„åˆ™é‡æ–°æ‰“å°ï¼Œè¿™äº›è§„åˆ™è€ƒè™‘äº†æœ€å¤§è¡Œé•¿åº¦ï¼Œå¹¶åœ¨å¿…è¦æ—¶æ¢è¡Œã€‚

ä½ åªéœ€è¦å®‰è£…å®ƒ:

```
npm install --save-dev prettier 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨æˆ‘ä»¬çš„æ ¹æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º`.prettierrc`çš„æ–‡ä»¶ï¼Œå¹¶å°†ä»¥ä¸‹ä»£ç æ”¾åœ¨é‚£é‡Œ:

```
{
    "printWidth": 80,
    "tabWidth": 4,
    "semi": true,
    "singleQuote": true,
    "bracketSpacing": true
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#react)åšå‡ºååº”

React æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„å¼€æº JavaScript åº”ç”¨ç¨‹åºåº“ã€‚å®ƒæ˜¯ç”±è„¸ä¹¦å¼€å‘çš„ï¼ŒèƒŒåæœ‰ä¸€ä¸ªåºå¤§çš„ç¤¾åŒºã€‚å¦‚æœä½ æ­£åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å‡è®¾ä½ å·²ç»äº†è§£äº† Reactï¼Œä½†æ˜¯å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»ã€‚

æˆ‘ä»¬å°†å®‰è£…ä»¥ä¸‹ä¾èµ–é¡¹:

```
npm install --save react react-dom cross-env 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨æˆ‘ä»¬çš„ src æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„ HTML æ–‡ä»¶`index.html`ï¼Œå¹¶æ”¾å…¥ä»¥ä¸‹ä»£ç :

```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>React Bolt</title>
    </head>

    <body>
        <div id="root"></div>
    </body>
</html> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¹‹åï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„ React é¡¹ç›®ã€‚åœ¨æˆ‘ä»¬çš„`src`æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª`index.js`æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
import React from 'react';
import ReactDOM from 'react-dom';

import App from './components/App';

ReactDOM.render(
    <App />,
    document.getElementById('root')
); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨æˆ‘ä»¬çš„`src`æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬å°†æœ‰å¦‚ä¸‹ç»“æ„:

```
*src
    |--actions
    |--components
    |--reducers
    |--reducers
    |--store* 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨`components`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º`App.js`çš„æ–‡ä»¶ï¼Œå¹¶æ”¾å…¥ä»¥ä¸‹ä»£ç :

```
import React from 'react';

const App = () => <h1>React Bolt</h1>;

export default App; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#redux)Redux

Redux ä½¿ç®¡ç†åº”ç”¨ç¨‹åºçš„çŠ¶æ€å˜å¾—å®¹æ˜“ã€‚ä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œå®ƒå¯ä»¥å¸®åŠ©æ‚¨ç®¡ç†æ˜¾ç¤ºçš„æ•°æ®ä»¥åŠå¦‚ä½•å“åº”ç”¨æˆ·çš„æ“ä½œã€‚å¦‚ä»Šï¼Œå¾ˆå¤šäººæ›´å–œæ¬¢å…¶ä»–é€‰é¡¹ï¼Œæ¯”å¦‚ MobX æˆ– T2 setState æœ¬èº«ï¼Œä½†æˆ‘å°†åšæŒä½¿ç”¨ Redux ä½œä¸ºæ ·æ¿ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬å°†å®‰è£…ä¸€äº›ä¾èµ–é¡¹:

```
npm install --save redux react-redux redux-thunk 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åï¼Œæˆ‘ä»¬å°†åˆ›å»º Redux å­˜å‚¨ï¼Œå¹¶åœ¨å…¶ä¸­æ”¾ç½®ä¸€äº›çŠ¶æ€ã€‚åœ¨æˆ‘ä»¬å­˜å‚¨æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª`index.js`æ–‡ä»¶ï¼Œå¹¶å°†ä»¥ä¸‹ä»£ç æ”¾åœ¨é‚£é‡Œ:

```
import { createStore, applyMiddleware, compose } from 'redux';
import thunk from 'redux-thunk';
import logger from 'redux-logger';

import rootReducer from '../reducers';

const middleware = applyMiddleware(thunk, logger);

const reduxDevTools =
    window.__REDUX_DEVTOOLS_EXTENSION__ &&
    window.__REDUX_DEVTOOLS_EXTENSION__();

const store = createStore(
    rootReducer,
    compose(
        middleware,
        reduxDevTools
    )
);

export default store; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œåœ¨æˆ‘ä»¬çš„`reducers`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª`index.js`å¹¶æ”¾å…¥ä»¥ä¸‹ä»£ç :

```
import { combineReducers } from 'redux';

const rootReducer = combineReducers({
    state: () => ({})
});

export default rootReducer; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æœ€åï¼Œæˆ‘ä»¬å°†æŠŠæˆ‘ä»¬çš„`index.js`æ”¾åˆ°æˆ‘ä»¬çš„`src`æ–‡ä»¶å¤¹ä¸­ï¼Œç”¨`<Provider />`åŒ…è£…ä»£ç ï¼Œå¹¶æŠŠå®ƒä½œä¸ºé“å…·ä¼ é€’ç»™æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚

äº‹æƒ…ä¼šæ˜¯è¿™æ ·çš„:

```
import React, { Fragment } from 'react';
import ReactDOM from 'react-dom';
import { Provider } from 'react-redux';

import store from './store';
import App from './components/App';

ReactDOM.render(  
    <Provider store={store}>
        <App />
    </Provider>,
    document.getElementById('root')
); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å®Œæˆäº†ã€‚æˆ‘ä»¬çš„ Redux å•†åº—å·²ç»é…ç½®å®Œæ¯•ï¼Œéšæ—¶å¯ä»¥ä½¿ç”¨ã€‚

## [](#react-router)React è·¯ç”±å™¨

React è·¯ç”±å™¨æ˜¯ React çš„æ ‡å‡†è·¯ç”±åº“ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒ*è®©ä½ çš„ UI ä¸ URL* ä¿æŒåŒæ­¥ã€‚æˆ‘ä»¬å°†åœ¨æ ·æ¿æ–‡ä»¶ä¸­ä½¿ç”¨å®ƒï¼Œæ‰€ä»¥å®‰è£…å®ƒ:

```
npm install --save react-router-dom 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¹‹åï¼Œè½¬åˆ°æˆ‘ä»¬çš„`src`æ–‡ä»¶å¤¹ä¸­çš„`index.js`ï¼Œç”¨`<BrowserRouter>`å°†æ‰€æœ‰ä»£ç æ‰“åŒ…ã€‚

æˆ‘ä»¬çš„`src`æ–‡ä»¶å¤¹ä¸­çš„`index.js`å°†ä¼šè¿™æ ·ç»“æŸ:

```
import React, { Fragment } from 'react';
import ReactDOM from 'react-dom';
import { BrowserRouter } from 'react-router-dom';
import { Provider } from 'react-redux';

import store from './store';
import App from './components/App';

ReactDOM.render(
    <BrowserRouter>       
        <Provider store={store}>
            <App />
        </Provider>
    </BrowserRouter>,
    document.getElementById('root')
); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#styled-components)æ ·å¼ç»„ä»¶

Styled Components ä½¿ CSS å¯¹æ¯ä¸ªäººæ¥è¯´éƒ½å¾ˆå®¹æ˜“ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸®åŠ©æ‚¨ç»„ç»‡ React é¡¹ç›®ã€‚å®ƒçš„ç›®æ ‡æ˜¯ç¼–å†™æ›´å¤šå°çš„å’Œå¯é‡ç”¨çš„ç»„ä»¶ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å®ƒï¼Œå¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œè¯·é˜…è¯»è¿™é‡Œçš„ã€‚

é¦–å…ˆï¼Œå®‰è£…å®ƒ:

```
npm install --save styled-components 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åï¼Œåœ¨æˆ‘ä»¬çš„`components`æ–‡ä»¶å¤¹ä¸­çš„`App.js`æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ ·å¼åŒ–çš„ç»„ä»¶åˆ›å»ºä¸€ä¸ªç®€å•çš„æ ‡é¢˜ã€‚æˆ‘ä»¬çš„æ ‡é¢˜æ˜¯è¿™æ ·çš„:

```
const Title = styled.h1`
    color: black;
    font-size: 2.5rem;
    font-weight: 700;
`; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨æˆ‘ä»¬çš„æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¼å…¥`styled-components`ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ–‡ä»¶å°†ä¼šåƒè¿™æ ·ç»“æŸ:

```
import React from 'react';
import styled from 'styled-components';

const Title = styled.h1`
    color: black;
    font-size: 2.5rem;
    font-weight: 700;
`;

const App = () => <Title>React Bolt</Title>;

export default App; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#jest-amp-react-testing-library)Jest &ååº”æµ‹è¯•åº“

Jest æ˜¯ä¸€ä¸ªæ¥è‡ªè„¸ä¹¦çš„å¼€æº JavaScript æµ‹è¯•åº“ã€‚å®ƒä½¿æµ‹è¯•æ‚¨çš„åº”ç”¨ç¨‹åºå˜å¾—å®¹æ˜“ï¼Œå¹¶ä¸ºæˆ‘ä»¬æä¾›äº†è®¸å¤šå…³äºä»€ä¹ˆç»™å‡ºäº†æ­£ç¡®çš„è¾“å‡ºï¼Œä»€ä¹ˆæ²¡æœ‰çš„ä¿¡æ¯ã€‚React æµ‹è¯•åº“æ˜¯ä¸€ä¸ªéå¸¸è½»é‡çº§çš„ React ç»„ä»¶æµ‹è¯•è§£å†³æ–¹æ¡ˆã€‚åŸºæœ¬ä¸Šï¼Œè¿™ä¸ªæ–‡åº“æ˜¯é…¶çš„æ›¿ä»£å“ã€‚

æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½éœ€è¦æŸç§æµ‹è¯•ã€‚æˆ‘ä¸ä¼šåœ¨æœ¬æ–‡ä¸­ç¼–å†™æµ‹è¯•ï¼Œä½†æ˜¯æˆ‘ä¼šå‘æ‚¨å±•ç¤ºå¦‚ä½•é…ç½®è¿™äº›å·¥å…·æ¥å¼€å§‹æµ‹è¯•æ‚¨çš„åº”ç”¨ç¨‹åºã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬è¦å®‰è£…è¿™ä¸¤ä¸ª:

```
npm install --save-dev jest jest-dom react-testing-library 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¹‹åå†å»æˆ‘ä»¬çš„`package.json`æŠŠä¸‹é¢çš„ç»ˆç©¶æ”¾äº†:

```
 "jest": {
    "setupFiles": [
        "<rootDir>/config/tests/jest.config"
    ],
    "transform": {
        "^.+\\.js$": "babel-jest"
    }
 } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åï¼Œè½¬åˆ°æˆ‘ä»¬çš„`config`æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºäº†å¦ä¸€ä¸ªåä¸º`tests`çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­åˆ›å»º 2 ä¸ªæ–‡ä»¶ã€‚

é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªåä¸º`jest.config.js`çš„æ–‡ä»¶ï¼Œå¹¶æ”¾å…¥ä»¥ä¸‹ä»£ç :

```
module.exports = {
    automock: false,
    browser: false,
    bail: false,
    collectCoverageFrom: [
        'src/**/*.{js,jsx}',
        '!**/node_modules/**',
        '!**/vendor/**'
    ],
    coverageDirectory: '<rootDir>/coverage',
    globals: {
        __DEV__: true
    },
    moduleFileExtensions: ['js', 'json', 'jsx', 'node'],
    transform: {
        '^.+\\.js?$': 'babel-jest'
    },
    verbose: true,
    setupTestFrameworkScriptFile: './rtl.setup.js'
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åï¼Œåˆ›å»ºä¸€ä¸ªåä¸º`rtl.setup.js`çš„æ–‡ä»¶ï¼Œå¹¶æ”¾å…¥ä»¥ä¸‹ä»£ç :

```
// See https://github.com/kentcdodds/react-testing-library#global-config
import 'jest-dom/extend-expect';
import 'react-testing-library/cleanup-after-each'; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å®Œæˆäº†ã€‚æˆ‘ä»¬çš„æ ·æ¿æ–‡ä»¶å·²ç»å‡†å¤‡å¥½äº†ï¼Œä½ ç°åœ¨å¯ä»¥ä½¿ç”¨å®ƒäº†ã€‚

ç°åœ¨è½¬åˆ°æˆ‘ä»¬çš„æ–‡ä»¶`package.json`å¹¶æ”¾å…¥ä»¥ä¸‹ä»£ç :

```
"scripts": {
    "start": "cross-env NODE_ENV=development webpack-dev-server --open",
    "build": "cross-env NODE_ENV=production webpack",
    "lint": "eslint ./src/**/**.js",
    "lint:fix": "eslint ./src/**/**.js --fix",
    "test": "jest",
    "test:watch": "npm run test --watch",
    "test:cover": "npm run test --coverage"
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œå¦‚æœæ‚¨è¿è¡Œå‘½ä»¤ npm start å¹¶è½¬åˆ°`localhost:8080`ï¼Œæˆ‘ä»¬åº”è¯¥çœ‹åˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå·¥ä½œæ­£å¸¸ï¼

**[å¦‚æœæƒ³çœ‹æˆ‘çš„æœ€ç»ˆä»£ç ï¼Œè¿™é‡Œæœ‰è¿™ç¯‡æ–‡ç« åˆ›å»ºçš„æ ·æ¿æ–‡ä»¶ï¼](https://github.com/leonardomso/react-bolt)T3ã€‘**

æˆ‘å¯¹ä¸€äº›ç‰¹æ€§æœ‰ä¸€äº›æƒ³æ³•ï¼Œæˆ‘å¾ˆæƒ³åŒ…å«åœ¨æ ·æ¿æ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥è¯·éšæ„è´¡çŒ®ï¼

**ğŸ¦[åœ¨ Twitter ä¸Šå…³æ³¨æˆ‘ï¼](https://twitter.com/leonardomso)**
**â­ [è·Ÿç€æˆ‘ä¸Š GitHub å§ï¼](https://github.com/leonardomso)**