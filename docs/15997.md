# æ‰“ç ´è§„åˆ™ä»¥ä¿æŒç¼–ç¨‹çš„ä¹è¶£å’Œå®éªŒæ€§

> åŸæ–‡:[https://dev . to/pretzelhands/breaking-the-rules-to-keep-programming-fun-and-experimental-1982](https://dev.to/pretzelhands/breaking-the-rules-to-keep-programming-fun-and-experimental-1982)

<small>Ashim D ' Silva åœ¨ Unsplash ä¸Šæ‹æ‘„çš„ç…§ç‰‡</small>

> è¿™ç¯‡æ–‡ç« æœ€åˆå‘è¡¨åœ¨æˆ‘çš„ä¸ªäººåšå®¢ä¸Šã€‚

ä½ å¯èƒ½æœ‰å·¥ä½œæµç¨‹ã€‚ç¼–å†™ä»£ç çš„é£æ ¼æŒ‡å—ã€‚éªŒè¯æ¯é¡¹åŠŸèƒ½çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ã€‚é¡¹ç›®ä¸­å»ºç«‹çš„æœ€ä½³å®è·µè¶…è¿‡äº†æ•°åƒå¹´çš„æäº¤å†å²ã€‚ä½ çš„å…¬å¸å’Œæ•´ä¸ªç¼–ç¨‹ç¤¾åŒºå»ºç«‹çš„ç¥åœ£è§„åˆ™ã€‚å¯¹äºä¸€ä¸ªæ½œåœ¨çš„æˆåƒä¸Šä¸‡ç”¨æˆ·ä½¿ç”¨çš„äº§å“æ¥è¯´ï¼Œéµå¾ªè¿™äº›è§„åˆ™éå¸¸é‡è¦ã€‚

ä½†æ˜¯æœ‰æ—¶å€™ï¼Œåœ¨ä½ çš„ä¸ªäººé¡¹ç›®ä¸­ï¼Œä½ åº”è¯¥è¯•ç€æŠŠè§„åˆ™æ‰”å‡ºçª—å¤–ã€‚æŠŠå®ƒä»¬æ‰”å‡ºå»ç©å§ï¼æˆ‘çš„åšå®¢èƒŒåçš„ä»£ç [å°±æ˜¯è¿™æ ·ä¸€ä¸ªä¾‹å­ã€‚å®ƒæ˜¯ç”¨ PHP ç¼–å†™çš„ï¼Œæ²¡æœ‰ä»»ä½•æ¡†æ¶ã€‚è¿™æ˜¯ä¸€ä¸ªæ¾æ•£çš„ PHP æ–‡ä»¶çš„æ¾æ•£é›†åˆï¼Œç”¨ä¸€å †é‡å†™è§„åˆ™å°†å®ƒç»“åˆåœ¨ä¸€èµ·ã€‚å®ƒåŸºæœ¬ä¸Šå°±åƒä¸€ä¸ªéæŠ›å…‰ç‰ˆçš„å“²åŸºå°”ã€‚](https://pretzelhands.com)

ä¸‹é¢æ˜¯ä½¿ç”¨`tree`
çš„æ–‡ä»¶å¤¹ç»“æ„

```
blog
â”œâ”€â”€ bootstrap.php
â”œâ”€â”€ composer.json
â”œâ”€â”€ composer.lock
â”œâ”€â”€ lib
â”‚Â Â  â””â”€â”€ Post.php
â”œâ”€â”€ ps
â”‚Â Â  â”œâ”€â”€ 2019-01-02-coloring-terminal-text.md
â”‚Â Â  â”œâ”€â”€ 2019-01-03-non-obvious-behaviors.md
â”‚Â Â  â”œâ”€â”€ 2019-01-04-command-line-flags.md
â”‚Â Â  â”œâ”€â”€ 2019-01-05-bringing-your-entire-infrastructure-down.md
â”‚Â Â  â”œâ”€â”€ 2019-01-07-jinx.md
â”‚Â Â  â”œâ”€â”€ 2019-01-09-how-i-got-into-freelancing.md
â”‚Â Â  â”œâ”€â”€ 2019-01-12-mentoring-junior-team-members.md
â”‚Â Â  â”œâ”€â”€ 2019-01-14-building-responsive-email-with-mjml.md
â”‚Â Â  â””â”€â”€ 2019-01-15-breaking-the-rules.md
â”œâ”€â”€ public
â”‚Â Â  â”œâ”€â”€ assets/ (images etc.)
â”‚Â Â  â”œâ”€â”€ blog.php
â”‚Â Â  â””â”€â”€ index.php
â”œâ”€â”€ vendor/ (dependencies)
â””â”€â”€ views
    â”œâ”€â”€ base.mustache
    â”œâ”€â”€ blog.mustache
    â”œâ”€â”€ listing.mustache
    â””â”€â”€ partials
        â”œâ”€â”€ about-me.mustache
        â”œâ”€â”€ description.mustache
        â”œâ”€â”€ header.mustache
        â”œâ”€â”€ newsletter-form.mustache
        â””â”€â”€ title.mustache 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¢«æš´éœ²çš„æ˜¯`public`æ–‡ä»¶å¤¹ã€‚`ps`æ–‡ä»¶å¤¹åŒ…å«äº†æˆ‘ç”¨ frontmatter åœ¨ Markdown å†™çš„æ‰€æœ‰å¸–å­ã€‚`lib`æ–‡ä»¶å¤¹ä¿å­˜äº†è´Ÿè´£åŠ è½½å¸–å­çš„ç±»ã€‚

åœ¨å†…éƒ¨ï¼Œåƒ`https://pretzelhands.com/posts/jinx`è¿™æ ·çš„ URL è¢«é‡å†™ä¸º`https://pretzelhands.com/blog .php?slug=jinx`ã€‚ç„¶åï¼Œæˆ‘æœç´¢æ–‡ä»¶ï¼Œæ ¹æ®å¼¹å¤´åŒ¹é…æ­£ç¡®çš„æ–‡ä»¶ã€‚æˆ‘ä»æ ‡é¢˜ä¸­è§£æå‘å¸ƒæ—¥æœŸã€‚æ‰€æœ‰è¿™äº›éƒ½å‘ç”Ÿåœ¨è¯¾åã€‚åœ¨æ­¤ä¹‹å‰ï¼Œä»£ç æ˜¯ç›´æ¥åœ¨ blog.php éšç€ä¸€äº›è®¨åŒçš„æ··åˆ HTMLã€‚

è¿™æ˜¯å®ƒçœ‹èµ·æ¥çš„æ ·å­

[![The first version of the post-fetching code](../Images/876c0e2e6690554204206e68f2557e1c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--YzlHwpjm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://pretzelhands.com/assets/posts/rules-01.png)

æ˜¯ä¸æ˜¯å¾ˆä¸‘çš„ä»£ç ï¼Ÿéš¾ä»¥ç½®ä¿¡çš„æ˜¯ã€‚å†™ä½œæœ‰è¶£å—ï¼Ÿä½ æ‰“èµŒï¼åœ¨å›å»å·¥ä½œä¹‹å‰ï¼Œæ•´ä¸ªåšå®¢ç³»ç»Ÿä¼šåœ¨å‘¨æ—¥çš„ä¸€ä¸¤ä¸ªå°æ—¶å†…è¿è¡Œã€‚æˆ‘ä¸æƒ³è®©å®ƒå˜å¾—æ¼‚äº®ï¼Œæˆ‘åªæƒ³æŠŠå®ƒæ‹¿å‡ºæ¥ã€‚æ¯å½“ä¸€äº›ä»£ç å˜å¾—éš¾ä»¥å¿å—æ—¶ï¼Œå°±ä¼šå‘ç”Ÿä¸€äº›é€‰æ‹©æ€§çš„é‡æ„ã€‚

æˆ‘å–œæ¬¢åœ¨è¿™ä¸Šé¢åšé»‘å®¢ã€‚æˆ‘è£…ä¸Šä¸€äº›ä»£ç ï¼Œä¸Šä¼ åˆ°æˆ‘çš„æœåŠ¡å™¨ä¸Šï¼Œç„¶åå°±æ”¶å·¥äº†ã€‚æœ‰ä¸€äº›å…¨å±€å¤±æ§ï¼Œæœ‰ä»£ç é‡å¤ï¼Œæœ‰å„ç§å„æ ·çš„ä¸œè¥¿ï¼Œæˆ‘ä¼šåœ¨ä»£ç å®¡æŸ¥æœŸé—´è¢«å¼ã€‚ä½†æ˜¯æ²¡æœ‰äººä¼šçœ‹åˆ°æˆ‘çš„å°åšå®¢çš„ä»£ç ï¼Œæ‰€ä»¥æˆ‘å®Œå…¨åŒæ„è¿™æ ·åšã€‚è¿™æ˜¯æˆ‘è‡ªå·±å‡Œä¹±çš„å°æ“åœºã€‚æˆ‘ä¸æ–­æ·»åŠ ï¼Œçœ‹çœ‹æœ‰ä»€ä¹ˆåšæŒã€‚

æ‰€ä»¥ï¼Œå¦‚æœä½ æ­£åœ¨åšä¸€ä¸ªä½ è‡ªå·±çš„å°é¡¹ç›®ï¼Œè€Œè¿™ä¸ªé¡¹ç›®å¹¶ä¸æ‰“ç®—æˆä¸ºä¸‹ä¸€ä¸ªå¤§é¡¹ç›®ï¼Œä¸ºä»€ä¹ˆä¸å…¨åŠ›ä»¥èµ´åœ°å†™ä»£ç ï¼Œå°±å¥½åƒä½ åœ¨ç»™å¢™å£ä¸Šè‰²ä¸€æ ·ï¼Ÿæˆ‘å‘Šè¯‰ä½ ï¼Œè¿™éå¸¸æœ‰ç–—æ•ˆï¼

è¿™é‡Œæœ‰ä¸€ä¸ªæ¥è‡ªä¸€ä¸ªæ²¡æœ‰è§å¤©æ—¥çš„é¡¹ç›®çš„ä¾‹å­

```
require_once('../../server/bootstrap.php');

use Respect\Validation\Validator;
use Carbon\Carbon;

$database = getDatabaseConnection();
$emailValidator = Validator::email();

if (!isset($request->email) || !$emailValidator->validate($request->email)) {
    sendResponse([
        'error' => true,
        'errors' => [
            'Please provide a valid email for logging in.'
        ],
        'errorFields' => [
            'email'
        ]
    ], 400);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™äº›éƒ½æ²¡æœ‰æ ‡å‡†åŒ–ã€‚`sendResponse`å‡½æ•°æ˜¯ä¸€ä¸ªå°åŒ…è£…å™¨ï¼Œå®ƒåªå‘é€å‡ ä¸ªå¤´ï¼Œå°†æ•°ç»„åºåˆ—åŒ–æˆ JSONï¼Œç„¶åå…¨éƒ¨å›æ˜¾ã€‚`$request`ä¸è¿‡æ˜¯è¢«`json_decode`åŒ…è£¹çš„`STDIN` PHP æä¾›çš„ï¼Œä¸‘ä¸­æœ‰ç¾ã€‚

## [](#disclaimer)å…è´£å£°æ˜

è¿™å¹¶ä¸æ„å‘³ç€æˆ‘è®¤ä¸ºä½ åº”è¯¥åƒæŠ½è±¡è‰ºæœ¯å®¶ä¸€æ ·ç¼–å†™äº§å“ä»£ç ï¼Œè€Œå¿½ç•¥å·¥ä½œä¸­çš„æ‰€æœ‰è§„åˆ™å’Œæƒ¯ä¾‹ã€‚è¿™äº›æƒ¯ä¾‹èƒŒåé€šå¸¸æœ‰å¾ˆå¥½çš„ç†ç”±ã€‚ä½†æ˜¯æˆ‘è§‰å¾—å¦‚æœä½ æ˜¯ä¸ºäº†è‡ªå·±çš„ä¹è¶£è€Œç¼–ç¨‹ï¼Œé‚£ä¹ˆæ›´æœ‰åˆ›é€ æ€§å’Œå®éªŒæ€§ä¼šæœ‰æ‰€å¸®åŠ©ã€‚æ‘†è„±åƒµåŒ–çš„ç»“æ„ã€‚è°çŸ¥é“å‘¢ï¼Œä¹Ÿè®¸ä½ æ‰¾åˆ°äº†è‡ªå·±çœŸæ­£å–œæ¬¢çš„ä¸œè¥¿ï¼Œå¯ä»¥æç‚¼æé«˜ã€‚

æ‰€ä»¥ä¸è¦åˆ°å¤„å‘Šè¯‰åˆ«äººç†æŸ¥å¾·å…è®¸ä½ å†™æ„å¤§åˆ©é¢æ¡ä»£ç ã€‚ğŸ˜

å°½æƒ…äº«å—å§ï¼~