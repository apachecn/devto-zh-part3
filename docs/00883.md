# Twitter è´¦æˆ·æ´»åŠ¨ API å…¥é—¨

> åŸæ–‡:[https://dev . to/Twitter dev/getting-started-with-Twitter-s-account-activity-API-en8](https://dev.to/twitterdev/getting-started-with-twitter-s-account-activity-api-en8)

ä½ æ›¾ç»æƒ³è¦å®æ—¶å…³æ³¨ Twitter ä¸Šçš„è´¦æˆ·äº‹ä»¶å—ï¼Ÿæœ¬æ•™ç¨‹å°†å¸®åŠ©ä½ å¼€å§‹ä½¿ç”¨ Twitter çš„åŸºäº webhook çš„è´¦æˆ·æ´»åŠ¨ APIã€‚

ä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹æ•™ç¨‹ï¼Œæˆ–è€…ç»§ç»­ä¸‹é¢çš„é˜…è¯»ã€‚

> ![unknown tweet media content](../Images/4a2c7f4887fb79a704c0b520aee6d9cb.png)![Play butt](../Images/980e9fb12d58fa9423fc94c33003fc4f.png)<video loop="" controls=""><source src="https://video.twimg.com/amplify_video/1133865617461776385/vid/320x180/cwFnWjNP991O6hd7.mp4?tag=12" type="video/mp4"></video>![Twitter Dev profile image](../Images/2bfdc6a19ab3c91d7ebdba5e60890f91.png)Twitter Dev@ Twitter Dev![twitter logo](../Images/65e26e35707d96169ec8af6b3cbf2003.png)åœ¨è¿™ä¸ªæ–°æ•™ç¨‹ä¸­ï¼Œä¸æˆ‘ä»¬ä¼¦æ•¦ DevRel å›¢é˜Ÿçš„ Aurelia å’Œ Andy ä¸€èµ·å­¦ä¹ å¦‚ä½•å¼€å§‹ä½¿ç”¨ Twitter çš„åŸºäº webhook çš„å¸æˆ·æ´»åŠ¨ APIã€‚2019 å¹´ 5 æœˆ 31 æ—¥ä¸‹åˆ 16:39[![Twitter reply action](../Images/269095962147c28351274afdd5486a48.png)](https://twitter.com/intent/tweet?in_reply_to=1134499619759644672)[![Twitter retweet action](../Images/771160ecf06ae3d4d7a7815c29c819c2.png)](https://twitter.com/intent/retweet?tweet_id=1134499619759644672)1[![Twitter like action](../Images/c077611ab2a5e0b4cd0c826ee7ae1e48.png)](https://twitter.com/intent/like?tweet_id=1134499619759644672)6

Twitter çš„[è´¦æˆ·æ´»åŠ¨ API](https://developer.twitter.com/en/products/accounts-and-users/account-activity-api.html) å®æ—¶å‘ä½ å‘é€ä¸ Twitter ç”¨æˆ·è´¦æˆ·æ´»åŠ¨ç›¸å…³çš„äº‹ä»¶ã€‚ä¾‹å¦‚ï¼Œæ¯å½“è®¢é˜…ç”¨æˆ·åˆ›å»ºæˆ–åˆ é™¤ä¸€æ¡æ¨æ–‡ã€è½¬å‘ã€æ¥æ”¶æˆ–å‘é€ç›´æ¥æ¶ˆæ¯ã€å…³æ³¨æ–°ç”¨æˆ·æˆ–å–œæ¬¢ä¸€ç¯‡å¸–å­æ—¶ï¼Œå¸æˆ·æ´»åŠ¨ API éƒ½ä¼šä¼ é€’ä¸€ä¸ª JSON äº‹ä»¶æœ‰æ•ˆè´Ÿè½½ã€‚ä½ å¯ä»¥åœ¨ [Twitter çš„å¼€å‘è€…æ–‡æ¡£](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/overview)ä¸­æ‰¾åˆ°è´¦æˆ·æ´»åŠ¨ API æ‰€æœåŠ¡çš„æ´»åŠ¨ç±»å‹çš„å®Œæ•´åˆ—è¡¨ã€‚

### [](#a-webhookbased-api)åŸºäº webhook çš„ API

å¸æˆ·æ´»åŠ¨ API ä¸åŒäº Twitter çš„ REST å’Œæµ APIï¼Œå› ä¸ºå®ƒä½¿ç”¨ REST ç«¯ç‚¹çš„ç»„åˆè¿›è¡Œè®¾ç½®å’Œç®¡ç†ï¼Œå¹¶ä½¿ç”¨ webhooks è¿›è¡Œæ•°æ®äº¤ä»˜ã€‚å¦‚æœæ‚¨ä»¥å‰ä»æœªä½¿ç”¨è¿‡å®ƒä»¬ï¼Œwebhooks é€šè¿‡å°†äº‹ä»¶â€œæ¨é€â€(ä¹Ÿç§°ä¸ºå‘å¸ƒ)åˆ°æ³¨å†Œçš„ web åº”ç”¨ç¨‹åºçš„ webhook URL æ¥ä¼ é€’æ•°æ®ã€‚è¿™æ˜¯åœ¨ç‰¹å®šäº‹ä»¶(ä¹Ÿç§°ä¸ºå¸æˆ·æ´»åŠ¨)å‘ç”Ÿæ—¶é€šè¿‡ HTTP è°ƒç”¨å®æ—¶å®Œæˆçš„ã€‚

Twitter æ›´å¸¸è§çš„ API æ˜¯åŸºäºå®¢æˆ·æœº-æœåŠ¡å™¨æ–¹æ³•çš„ï¼Œåœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªå®¢æˆ·æœºåº”ç”¨ç¨‹åºï¼Œå®ƒè¿æ¥åˆ° Twitter çš„æœåŠ¡å™¨ä»¥æ¥æ”¶ä¸€äº›ä¿¡æ¯ã€‚è¿™å¯ä»¥åŸºäºæµæ¨¡å‹ï¼Œåœ¨è¿™ç§æ¨¡å‹ä¸­ï¼Œæ‚¨çš„å®¢æˆ·ç«¯ä¸ Twitter æœåŠ¡å™¨çš„è¿æ¥å§‹ç»ˆä¿æŒå¼€æ”¾ï¼Œä»¥å®æ—¶æ¥æ”¶æ•°æ®ï¼Œæˆ–è€…ï¼Œå®ƒå¯ä»¥æ˜¯å®¢æˆ·ç«¯è§¦å‘çš„è¯·æ±‚ï¼Œä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³è¦æ£€ç´¢ç‰¹å®šçš„ Tweetã€‚

[![](../Images/5acd251f31a9cb10304d62b0aa17a5af.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--qF3ycnUN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vdkcvn6dsmhz7ix9hz80.png)

å¯¹äºå¸æˆ·æ´»åŠ¨ APIï¼Œè¿™ç§æ¨¡å¼æ­£å¥½ç›¸åã€‚ä¸æ˜¯æ‚¨çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå‘ Twitter çš„æœåŠ¡å™¨å‘å‡ºè¿æ¥è¯·æ±‚ï¼Œè€Œæ˜¯ Twitter çš„æœåŠ¡å™¨è¿æ¥å›æ‚¨çš„ web åº”ç”¨ç¨‹åºæ¥ç›‘å¬æ•°æ®ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒTwitter å……å½“å®¢æˆ·ç«¯ï¼Œå¹¶æ‰“å¼€åˆ°æ‚¨çš„æœåŠ¡å™¨çš„è¿æ¥ï¼Œä»¥ä¾¿åœ¨æ¯æ¬¡äº‹ä»¶å‘ç”Ÿæ—¶å‘è¯¥ webhook å‘å¸ƒæ´»åŠ¨ã€‚

[![](../Images/46c515f698542be1833428bce378cf7f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--pMwTNuHk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/23vp1uijm49gg2dkfaq7.png)

ä½¿ç”¨åŸºäº webhook çš„ API æœ‰å¾ˆå¤šå¥½å¤„:

*   ä»è®¡ç®—èµ„æºçš„è§’åº¦æ¥çœ‹ï¼Œwebhooks éœ€è¦çš„èµ„æºæ¯”ä½ æœ‰ä¸€ä¸ªåˆ°æµå¼ API çš„æŒç»­å¼€æ”¾è¿æ¥æ—¶è¦å°‘ã€‚
*   æ¯ä¸ª POST éƒ½æœ‰ä¸€ä¸ªå¸¦æœ‰ HTTP 200 å“åº”ä»£ç çš„æ´»åŠ¨äº¤ä»˜ç¡®è®¤ã€‚
*   å¦‚æœæŸä¸ªæ´»åŠ¨æ²¡æœ‰æˆåŠŸäº¤ä»˜ï¼Œæœ‰ä¸€ä¸ªå†…ç½®çš„é‡è¯•è¿‡ç¨‹æ¥é‡æ–°å‘å¸ƒï¼Œè¿™å‡å°‘äº†ä¸¢å¤±æ•°æ®çš„æœºä¼šã€‚
*   æœ‰äº† webhooksï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºä¸å†éœ€è¦å®šæœŸå‘ API å‘å‡ºè½®è¯¢è¯·æ±‚æ¥æ£€æŸ¥æ–°æ•°æ®æ˜¯å¦å¯ç”¨ã€‚
*   æ–°æ•°æ®ä¸€æ—¦å¯ç”¨ï¼Œå°±ä¼šè‡ªåŠ¨å‘é€åˆ°æ‚¨çš„æœåŠ¡å™¨ã€‚å› æ­¤ï¼Œæ”¶åˆ°çš„æ•°æ®å‡ ä¹æ€»æ˜¯æœ€æ–°çš„ã€‚

### [](#what-you-need-to-get-started)ä½ éœ€è¦ä»€ä¹ˆå…¥é—¨

æ‚¨å°†éœ€è¦ä»¥ä¸‹å†…å®¹:

1.  **[å¼€å‘è€…è´¦æˆ·](https://developer.twitter.com/en/account/get-started)** éœ€è¦ä½¿ç”¨ä»»ä½• Twitter çš„ APIã€‚ä½ å¯ä»¥[ç”³è¯·ä¸€ä¸ª](https://developer.twitter.com/en/apply-for-access)ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰çš„è¯ã€‚

2.  ä¸€ä¸ªæ‹¥æœ‰æ­£ç¡®æƒé™çš„æ¨ç‰¹å¼€å‘è€…åº”ç”¨ç¨‹åºã€‚å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„åº”ç”¨ç¨‹åºï¼Œæ–¹æ³•æ˜¯é€‰æ‹©æ‚¨çš„å¼€å‘è€…é—¨æˆ·çš„[åº”ç”¨ç¨‹åºéƒ¨åˆ†ä¸‹çš„â€œåˆ›å»ºåº”ç”¨ç¨‹åºâ€æŒ‰é’®ã€‚](https://developer.twitter.com/en/apps)

    *   ç¡®ä¿åœ¨åº”ç”¨ç¨‹åºé¡µé¢çš„æƒé™é€‰é¡¹å¡ä¸Šå¯ç”¨â€œé˜…è¯»ã€æ’°å†™å’Œç›´æ¥å‘é€æ¶ˆæ¯â€ã€‚æ­¤å¤–ï¼Œè¯·æ³¨æ„ï¼Œæƒé™è®¾ç½®å¯¹äºä»¥å‰å…·æœ‰è¾ƒä½æƒé™è®¾ç½®çš„æˆæƒç”¨æˆ·æ˜¯ä¸å¯è¿½æº¯çš„ã€‚
    *   åœ¨â€œå¯†é’¥å’Œè®¿é—®ä»¤ç‰Œâ€é€‰é¡¹å¡ä¸Šï¼Œè®°ä¸‹æ‚¨çš„åº”ç”¨çš„æ¶ˆè´¹è€… API å¯†é’¥å’Œ API ç§˜å¯†ã€‚è¯¥ä¿¡æ¯å°†ä½¿æ‚¨èƒ½å¤Ÿç”Ÿæˆä¸€ä¸ª[ä¸è®°åä»¤ç‰Œ](https://developer.twitter.com/en/docs/basics/authentication/guides/bearer-tokens)ã€‚
    *   æ‚¨è¿˜å¿…é¡»ç”Ÿæˆåº”ç”¨ç¨‹åºçš„è®¿é—®ä»¤ç‰Œå’Œè®¿é—®ä»¤ç‰Œå¯†ç ã€‚å½“ä½ [æ³¨å†Œä½ çš„ webhook URL](#securing-your-webhooks) æ—¶ï¼Œä½ å°†éœ€è¦è¿™äº›ã€‚
3.  **ä¸€ä¸ªå¼€å‘è€…ç¯å¢ƒ**ï¼Œä½ å¯ä»¥åœ¨ä½ çš„å¼€å‘è€…é—¨æˆ·çš„ [Dev Environments éƒ¨åˆ†è®¾ç½®ã€‚é€‰æ‹©æ‚¨çš„åº”ç”¨ç¨‹åºå¹¶é€‰æ‹©ç¯å¢ƒåç§°ã€‚å½“æ‚¨å¼€å§‹ä½¿ç”¨](https://developer.twitter.com/en/account/environments)[ä¸åŒå¸æˆ·æ´»åŠ¨ API ç«¯ç‚¹](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/api-reference)æ—¶ï¼Œæ‚¨é€‰æ‹©çš„åç§°å°†æ›¿æ¢`:env_name`æ ‡è®°ã€‚

4.  **ä¸€ä¸ªç‰¹å®šçš„ã€å®‰å…¨çš„ web åº”ç”¨ç¨‹åºï¼ŒURL ä¸º**ï¼Œç”¨äºé€šè¿‡ webhooks æ¥æ”¶æ•°æ®ã€‚åƒ [ngrok](https://ngrok.com/) è¿™æ ·çš„å·¥å…·å¯¹äºåˆ›å»ºä¸€ä¸ªæœ¬åœ°ç½‘å€æ¥æµ‹è¯•å¼€å‘ä¸­çš„ webhooks å¯èƒ½æ˜¯æœ‰ç”¨çš„ã€‚

### [](#securing-your-webhooks)ä¿æŠ¤ä½ çš„ç½‘é’©

ä¸ºäº†é€šè¿‡ webhooks æ¥æ”¶æ¥è‡ª Twitter çš„æ´»åŠ¨ï¼Œæ‚¨éœ€è¦åˆ›å»ºå¹¶ä¿æŠ¤ä¸€ä¸ª web åº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºå¯ä»¥åœ¨æ‚¨é€‰æ‹©çš„ URL ä¸Šæ¥æ”¶ HTTP (POST å’Œ GET)è¯·æ±‚ã€‚è¿™ä¸ªåº”ç”¨ç¨‹åºéœ€è¦ä½¿ç”¨æ‚¨åœ¨å¼€å‘ç¯å¢ƒä¸­ä¸ºå¸æˆ·æ´»åŠ¨ API è®¾ç½®çš„ç›¸åŒ Twitter åº”ç”¨ç¨‹åºå‡­æ®è¿›è¡Œä¿æŠ¤ï¼Œå¹¶ç¼–ç ä¸º[ä½¿ç”¨è¿™äº›å‡­æ®åˆ›å»º`crc_token`](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/guides/securing-webhooks) ã€‚Twitter å°†å®šæœŸå‘æ‚¨å‘é€ webhook [æŒ‘æˆ˜å“åº”æ£€æŸ¥(CRC) GET è¯·æ±‚](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/guides/securing-webhooks.html)ï¼Œé’ˆå¯¹è¿™äº›è¯·æ±‚ï¼Œæ‚¨çš„ web åº”ç”¨ç¨‹åºéœ€è¦è¿”å›ä½¿ç”¨ Twitter åº”ç”¨ç¨‹åºå‡­è¯ç”Ÿæˆçš„`crc_token`ï¼Œè¿™äº›å‡­è¯ä¸æ‚¨çš„ç™½åå•å¼€å‘äººå‘˜ç¯å¢ƒåº”ç”¨ç¨‹åºçš„å‡­è¯ç›¸åŒ¹é…ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨ [`POST account_activity/all/:env_name/webhooks`](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/api-reference/aaa-premium#post-account-activity-all-env-name-webhooks) ç«¯ç‚¹ä¸ºå¸æˆ·æ´»åŠ¨ API æ³¨å†Œä¸€ä¸ª webhook URLã€‚

å¸æˆ·æ´»åŠ¨ API çš„è®¾ç½®æ˜¯é€šè¿‡ [API è¯·æ±‚](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/api-reference)å®Œæˆçš„â€”â€”å¼€å‘è€…é—¨æˆ·ä¸­æ²¡æœ‰å†…ç½®ç”¨æˆ·ç•Œé¢ã€‚æˆ‘ä»¬åœ¨ TwitterDev GitHub é¡µé¢ä¸Šæä¾›äº†ä¸€ä¸ªç¤ºä¾‹ä»ªè¡¨æ¿å·¥å…·ï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°å®ƒå¯¹æµ‹è¯•å¾ˆæœ‰ç”¨:ã€https://github.com/twitterdev/account-activity-dashboard

æ‚¨æ³¨å†Œçš„ webhook URL æ˜¯å¸æˆ·æ´»åŠ¨ API å°†ä»¥åŒ…å«äº‹ä»¶æ•°æ®çš„ HTTP POST è¯·æ±‚çš„å½¢å¼å‘é€å¸æˆ·æ´»åŠ¨çš„åœ°æ–¹ã€‚

### [](#authentication)è®¤è¯

å¸æˆ·æ´»åŠ¨ API çš„èº«ä»½éªŒè¯å¯èƒ½æ¯”è¾ƒæ£˜æ‰‹ï¼Œå› ä¸º API çš„ä¸åŒåŠŸèƒ½æœ‰ä¸åŒçš„èº«ä»½éªŒè¯æ–¹æ³•ã€‚å¤§å¤šæ•° webhook è®¾ç½®éƒ½æ˜¯é€šè¿‡ä½¿ç”¨ä¸è®°åä»¤ç‰Œçš„[çº¯åº”ç”¨è®¤è¯](https://developer.twitter.com/en/docs/basics/authentication/overview/application-only)æ¥å®Œæˆçš„ã€‚æŸ¥çœ‹æ–‡æ¡£äº†è§£æ›´å¤šå…³äº[å¦‚ä½•å»ºé€ ä¸€ä¸ª](https://developer.twitter.com/en/docs/basics/authentication/guides/bearer-tokens)çš„ä¿¡æ¯ã€‚

è®¢é˜…æ˜¯é€šè¿‡åº”ç”¨ç¨‹åºç”¨æˆ·éªŒè¯ä¸ºæ¯ä¸ªç”¨æˆ·è®¾ç½®çš„ã€‚å¦‚æœæ‚¨æƒ³ä¸ºè‡ªå·±çš„ Twitter å¸æˆ·æ¥æ”¶äº‹ä»¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç”±å¼€å‘äººå‘˜é—¨æˆ·æä¾›çš„ API å¯†é’¥å’Œ API ç§˜å¯†å¯†é’¥ç”Ÿæˆçš„è®¿é—®ä»¤ç‰Œï¼Œè¿™æ˜¯å¼€å§‹å’Œæµ‹è¯• API çš„å¥½æ–¹æ³•ã€‚å¦‚æœä½ æƒ³æ¥æ”¶ä¸å¦ä¸€ä¸ª Twitter è´¦æˆ·ç›¸å…³çš„äº‹ä»¶ï¼Œè¯¥è´¦æˆ·çš„æ‰€æœ‰è€…å¿…é¡»é€šè¿‡[ä¸‰è„š OAuth è¿‡ç¨‹](https://developer.twitter.com/en/docs/basics/authentication/overview/3-legged-oauth)æˆäºˆä½ è®¸å¯ã€‚è¿™ä¸ªè¿‡ç¨‹ä¹Ÿæ˜¯æ‚¨éœ€è¦åœ¨æœåŠ¡å™¨ç«¯ä»£ç ä¸­å®ç°çš„ï¼Œå› ä¸ºè¿™å°†ä½¿æ‚¨èƒ½å¤Ÿæ¥æ”¶ç”¨æˆ·çš„è®¿é—®ä»¤ç‰Œã€‚åœ¨[ç¤ºä¾‹ä»ªè¡¨æ¿åº”ç”¨](https://github.com/twitterdev/account-activity-dashboard)ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨[ç™»å½• Twitter](https://developer.twitter.com/en/docs/twitter-for-websites/log-in-with-twitter/guides/implementing-sign-in-with-twitter.html) æ¥è·å–æ¯ä¸ªç”¨æˆ·çš„ä»¤ç‰Œï¼Œå¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ä¸€ä¸‹ã€‚

### [](#subscriptions)è®¢é˜…

ä¸€æ—¦æ‚¨ä»[ä¸‰è„š OAuth è¿›ç¨‹](https://developer.twitter.com/en/docs/basics/authentication/overview/3-legged-oauth)è·å¾—äº†ç”¨æˆ·çš„è®¿é—®ä»¤ç‰Œï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨å®ƒå’Œåº”ç”¨ç¨‹åºç”¨æˆ·è®¤è¯ä¸€èµ·ä¸ºè¯¥ç”¨æˆ·åˆ›å»ºæ–°çš„è®¢é˜…ã€‚

åœ¨è¿™ä¸ªé˜¶æ®µï¼Œä½ åº”è¯¥æœ‰è¿™äº›ä¸œè¥¿:

1.  **æ­£åœ¨è¿è¡Œçš„æœåŠ¡å™¨ç«¯ web åº”ç”¨**å‡†å¤‡æ¥æ”¶ webhook äº‹ä»¶ã€‚
2.  [**ä¸€ä¸ªæ³¨å†Œçš„ web hook URL**](#securing-your-webhooks)Twitter å°†åœ¨è¿™é‡Œä»¥ POST è¯·æ±‚çš„å½¢å¼å‘é€äº‹ä»¶(ä¹Ÿç§°ä¸ºå¸æˆ·æ´»åŠ¨)ã€‚
3.  **ä¸€ä¸ªæˆ–å¤šä¸ªæˆæƒç”¨æˆ·**ï¼Œä»¥[æ³¨å†Œè®¢é˜…](#subscriptions)çš„å½¢å¼ï¼Œæ‚¨å°†æ”¶åˆ°ä»–ä»¬çš„è´¦æˆ·æ´»åŠ¨ã€‚

å¥½å§ï¼æ‚¨å·²ç»å‡†å¤‡å¥½å¼€å§‹æ¥æ”¶äº‹ä»¶äº†ï¼

### [](#events)äº‹ä»¶

ä¸€æ—¦ç”¨æˆ·è®¢é˜…äº†æ‚¨çš„ webhook URLï¼Œæ‚¨å°±å¯ä»¥å¼€å§‹æ¥æ”¶ä»–ä»¬çš„äº‹ä»¶ã€‚é‚£ä¹ˆï¼Œäº‹ä»¶åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œäº‹ä»¶å¯¹åº”äºä¸è®¢é˜…ç”¨æˆ·çš„ Twitter å¸æˆ·ç›¸å…³çš„æ´»åŠ¨ã€‚æ¯ä¸ªäº‹ä»¶éƒ½ä»¥ JSON æœ‰æ•ˆè´Ÿè½½çš„å½¢å¼äº¤ä»˜ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œå½“ç”¨æˆ·æ”¶åˆ°ä¸€æ¡ç›´æ¥æ¶ˆæ¯æ—¶ï¼Œä¼šå‘é€ä¸€ä¸ªâ€œæ¶ˆæ¯åˆ›å»ºâ€äº‹ä»¶ã€‚æœ‰ä¸€ä¸ªâ€œæ–‡æœ¬â€å­—æ®µï¼ŒåŒ…å«æ¶ˆæ¯çš„å†…å®¹å’Œå…¶ä»–ä¿¡æ¯ã€‚

```
{  "for_user_id":  "1102321381",  "direct_message_events":  [{  "type":  "message_create",  "id":  "1133674120380657669",  "created_timestamp":  "1559123947602",  "message_create":  {  "target":  {  "recipient_id":  "1102321381"  },  "sender_id":  "1029741837916012544",  "message_data":  {  "text":  "Good morning â˜€ï¸â˜•",  "entities":  {  "hashtags":  [],  "symbols":  [],  "user_mentions":  [],  "urls":  []  }  }  }  }],  "users":  {  "1102321381":  {  "id":  "1102321381",  "created_timestamp":  "1358552743000",  "name":  "Aurelia Specker",  "screen_name":  "AureliaSpecker",  "location":  "London, England",  "description":  "partner engineer @TwitterUK ğŸ‘©â€ğŸ’» â€¢ instructor @CodeFirstGirls â€¢ outdoor enthusiast ğŸŒ„",  "protected":  false,  "verified":  false,  "followers_count":  589,  "friends_count":  745,  "statuses_count":  521,  "profile_image_url":  "http://pbs.twimg.com/profile_images/1025560966434443264/vsVPbXiT_normal.jpg",  "profile_image_url_https":  "https://pbs.twimg.com/profile_images/1025560966434443264/vsVPbXiT_normal.jpg"  },  "1029741837916012544":  {  "id":  "1029741837916012544",  "created_timestamp":  "1534344560624",  "name":  "Aurelia",  "screen_name":  "re_testing",  "location":  "London, England",  "description":  "I like traveling ğŸªğŸŒ´â˜€ï¸",  "protected":  false,  "verified":  false,  "followers_count":  4,  "friends_count":  10,  "statuses_count":  52,  "profile_image_url":  "http://pbs.twimg.com/profile_images/1029742489090121728/-83RqB5N_normal.jpg",  "profile_image_url_https":  "https://pbs.twimg.com/profile_images/1029742489090121728/-83RqB5N_normal.jpg"  }  }  }  {  "for_user_id":  "1102321381",  "direct_message_indicate_typing_events":  [{  "created_timestamp":  "1559123947551",  "sender_id":  "1029741837916012544",  "target":  {  "recipient_id":  "1102321381"  }  }],  "users":  {  "1102321381":  {  "id":  "1102321381",  "created_timestamp":  "1358552743000",  "name":  "Aurelia Specker",  "screen_name":  "AureliaSpecker",  "location":  "London, England",  "description":  "partner engineer @TwitterUK ğŸ‘©â€ğŸ’» â€¢ instructor @CodeFirstGirls â€¢ outdoor enthusiast ğŸŒ„",  "protected":  false,  "verified":  false,  "followers_count":  589,  "friends_count":  745,  "statuses_count":  521,  "profile_image_url":  "http://pbs.twimg.com/profile_images/1025560966434443264/vsVPbXiT_normal.jpg",  "profile_image_url_https":  "https://pbs.twimg.com/profile_images/1025560966434443264/vsVPbXiT_normal.jpg"  },  "1029741837916012544":  {  "id":  "1029741837916012544",  "created_timestamp":  "1534344560624",  "name":  "Aurelia",  "screen_name":  "re_testing",  "location":  "London, England",  "description":  "I like traveling ğŸªğŸŒ´â˜€ï¸",  "protected":  false,  "verified":  false,  "followers_count":  4,  "friends_count":  10,  "statuses_count":  52,  "profile_image_url":  "http://pbs.twimg.com/profile_images/1029742489090121728/-83RqB5N_normal.jpg",  "profile_image_url_https":  "https://pbs.twimg.com/profile_images/1029742489090121728/-83RqB5N_normal.jpg"  }  }  } 
```

ä¸å¯èƒ½é€‰æ‹©æ¥æ”¶æŸäº›ç±»å‹çš„äº‹ä»¶è€Œæ’é™¤å…¶ä»–ç±»å‹çš„äº‹ä»¶â€”â€”æ‚¨å°†æ€»æ˜¯æ¥æ”¶ä¸è®¢é˜…ç”¨æˆ·ç›¸å…³çš„æ‰€æœ‰äº‹ä»¶ç±»å‹ã€‚äº‹ä»¶ç±»å‹çš„å®Œæ•´åˆ—è¡¨å¯åœ¨[å¼€å‘è€…æ–‡æ¡£](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/guides/account-activity-data-objects)ä¸­æŸ¥çœ‹ã€‚

å¦‚æœæ‚¨éœ€è¦[é‡è¯•](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/guides/activity-retries)ï¼Œæ‚¨å¯ä»¥æ³¨å†Œä¸€ä¸ªä»˜è´¹é€‰é¡¹æ¥å¯ç”¨å®ƒä»¬ã€‚é€šè¿‡é‡è¯•ï¼Œå¦‚æœæ´»åŠ¨æ²¡æœ‰è¢«æäº¤ï¼Œå¹¶ä¸”æ‚¨çš„ webhook æ²¡æœ‰è¿”å›æˆåŠŸçš„å“åº”ï¼ŒTwitter æœåŠ¡å™¨å°†å†æ¬¡å°è¯•å‘é€æ´»åŠ¨ã€‚ä¼ä¸šå®¢æˆ·è¿˜é€šè¿‡[è´¦æˆ·æ´»åŠ¨é‡æ”¾ API](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/guides/activity-replay-api.html) è·å¾—äº†é¢å¤–çš„å†—ä½™å’Œæ¢å¤è¦†ç›–ï¼Œæä¾›äº†ä¸€ç§åœ¨å‰äº”å¤©è¯·æ±‚çš„æ—¶é—´æ®µå†…é‡æ–°å‘é€æ´»åŠ¨çš„æ–¹å¼ã€‚

è®¢é˜…è¶Šå¤šï¼Œå®¹é‡è§„åˆ’å°±å˜å¾—è¶Šé‡è¦ï¼Œä»¥ç¡®ä¿æ‚¨çš„ç³»ç»Ÿèƒ½å¤Ÿæ¥æ”¶å¤§é‡äº‹ä»¶ã€‚

### [](#further-resources)è¿›ä¸€æ­¥èµ„æº

Twitter çš„å¼€å‘è€…æ–‡æ¡£åŒ…å«æ›´å¤šèµ„æºï¼ŒåŒ…æ‹¬:

*   [å¯¼è½¨](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/guides/getting-started-with-webhooks)
*   [å¸¸è§é—®é¢˜è§£ç­”](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/FAQ)
*   [API å¼•ç”¨](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/api-reference)
*   [è´¦æˆ·æ´»åŠ¨ API å‚è€ƒæŒ‡æ•°](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/api-reference)
*   [å¿«é€Ÿå…¥é—¨æŒ‡å—](https://developer.twitter.com/en/docs/accounts-and-users/subscribe-account-activity/quick-start/enterprise-account-activity-api)(é’ˆå¯¹ä¼ä¸šå®¢æˆ·)

åŠ å…¥æˆ‘ä»¬çš„[å¼€å‘è€…ç¤¾åŒº](https://twittercommunity.com/)æˆ–è€…å‘å¾®åšç»™æˆ‘ä»¬ï¼Œåœ°å€æ˜¯ [@TwitterDev](https://twitter.com/TwitterDev) ,å¦‚æœè¿™ä¸ªæ•™ç¨‹å¯å‘äº†ä½ å»æ„å»ºä»»ä½•ä¸œè¥¿ã€‚è¯·é€šè¿‡æˆ‘ä»¬çš„[åé¦ˆé¢‘é“](https://twitterdevfeedback.uservoice.com/)è®©æˆ‘ä»¬çŸ¥é“æ‚¨çš„æƒ³æ³•ã€‚

[![](../Images/561a39ccfe18958837721337bc450154.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--HkzFF5Fh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ba4nschfp5hs7k9djtl5.gif)