# å¦‚ä½•åœ¨æ‚¨çš„å®¢æˆ·ç«¯ Blazor WebAssembly åº”ç”¨ç¨‹åºä¸­æœ¬åœ°åŒ–æ–‡æœ¬ï¼Ÿ

> åŸæ–‡:[https://dev . to/j _ Sakamoto/how-to-localize-texts-in-your-blazor-app-phn](https://dev.to/j_sakamoto/how-to-localize-texts-in-your-blazor-app-phn)

# [](#introduction-whats-blazor-clientside)ç®€ä»‹:ä»€ä¹ˆæ˜¯â€œBlazorâ€(å®¢æˆ·ç«¯)ï¼Ÿ

â€œBlazorâ€(å®¢æˆ·ç«¯)æ˜¯ä¸€ä¸ªå•é¡µé¢ Web åº”ç”¨ç¨‹åº(ä¹Ÿç§°ä¸ºâ€œSPAâ€)æ¡†æ¶ã€‚

å®¢æˆ·ç«¯ Blazor å…è®¸ä½ è¿è¡Œ C#ä»£ç å’Œã€‚NET Standard 2.0 æœ¬æœºç¨‹åºé›†(ã€‚dll)åœ¨ç°ä»£ web æµè§ˆå™¨çš„ WebAssembly å¼•æ“ä¹‹ä¸Šï¼Œæ²¡æœ‰ä»»ä½•ã€‚NET æœåŠ¡å™¨è¿›ç¨‹ã€‚

å¦‚æœä½ æ˜¯ Blazor çš„æ–°æ‰‹ï¼Œæˆ‘æ¨èä½ çœ‹è¿™ä¸ª YouTube è§†é¢‘ã€‚

[NDC å¥¥æ–¯é™† 2017 -â€œç½‘ç»œåº”ç”¨ä¸èƒ½çœŸçš„åš*é‚£ä¸ª*ï¼Œå¯¹å§ï¼Ÿâ€”â€”å²è’‚å¤«Â·æ¡‘å¾·æ£®â€](https://www.youtube.com/watch?v=MiLAE6HMr10&feature=youtu.be&t=31m59s)

è§†é¢‘è®²çš„æ˜¯ Blazor çš„åŸå‹ï¼Œæˆ‘å†™è¿™ç¯‡å¸–å­çš„æ—¶å€™ç›®å‰çš„ç‰ˆæœ¬æ˜¯ v.0.9.0ï¼Œæœ‰ä¸€äº›çªç ´æ€§çš„å˜åŒ–ã€‚ä½†é‚£ä¸ªè§†é¢‘å¯¹ç†è§£â€œBlazorâ€çš„æ¦‚å¿µå’Œåˆ©å¼Šæ˜¯æœ‰ç”¨çš„ã€‚

# [](#localization-of-clientside-blazor-webassembly-app)å®¢æˆ·ç«¯ Blazor WebAssembly App æœ¬åœ°åŒ–

## [](#scope-of-this-article)æœ¬æ¡èŒƒå›´

æœ¬æ–‡å°†åªè®¨è®ºæ–‡æœ¬æœ¬åœ°åŒ–åœºæ™¯ã€‚

æ—¥æœŸã€æ—¶é—´å’Œè´§å¸æ ¼å¼è¶…å‡ºäº†æœ¬æ–‡çš„èŒƒå›´ã€‚

å¦å¤–ï¼ŒæœåŠ¡å™¨ç«¯ Blazor ä¹Ÿä¸åœ¨æœ¬æ–‡è®¨è®ºèŒƒå›´å†…ã€‚
*ã€2019/11/09ã€‘[ã€Blazor I18n æ­£æ–‡ã€‘åº“ ver.7](https://www.nuget.org/packages/Toolbelt.Blazor.I18nText/) å¼€å§‹æ”¯æŒæœåŠ¡å™¨ç«¯ Blazorï¼ğŸ‰*

## [](#are-there-already-any-solutions-for-text-localization)æ–‡å­—æœ¬åœ°åŒ–å·²ç»æœ‰è§£å†³æ–¹æ¡ˆäº†å—ï¼Ÿ

æ˜¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç½‘ä¸Šæ‰¾åˆ°å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆå’Œç›¸å…³æ–‡ç« ã€‚

ä¾‹å¦‚:

*   **â€œä½¿ç”¨å¾®è½¯çš„ Blazor åº”ç”¨ç¨‹åºçš„æœ¬åœ°åŒ–ã€‚JSInterop"**
    *   [https://www . c-sharp corner . com/article/localization-in-blazor-app-using-Microsoft-jsinterop/](https://www.c-sharpcorner.com/article/localization-in-blazor-app-using-microsoft-jsinterop/)
*   **â€œå°† ASPNET æ ¸å¿ƒä½œä¸ºåç«¯æœåŠ¡çš„ Blazor åº”ç”¨ç¨‹åºå›½é™…åŒ–â€**
    *   [https://remibou.github.io/I18n-with-Blazor-and-ASPNET-Core/](https://remibou.github.io/I18n-with-Blazor-and-ASPNET-Core/)

ç„¶è€Œï¼Œæˆ‘å¯¹ä¸Šè¿°è§£å†³æ–¹æ¡ˆå¹¶ä¸æ»¡æ„ï¼Œå› ä¸ºè¿™äº›è§£å†³æ–¹æ¡ˆæœ‰ä»¥ä¸‹è€ƒè™‘ç‚¹ã€‚

# [](#the-4-reasons-why-i-wasnt-satisfied-with-the-above-solutions)æˆ‘å¯¹ä¸Šè¿°è§£å†³æ–¹æ¡ˆä¸æ»¡æ„çš„ 4 ä¸ªåŸå› 

## [](#1-it-requires-serverside-implementation)1ã€‚å®ƒéœ€è¦æœåŠ¡å™¨ç«¯çš„å®ç°ã€‚

Blazor æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯è§£å†³æ–¹æ¡ˆï¼Œå› æ­¤ï¼ŒBlazor åº”ç”¨ç¨‹åºå¯ä»¥éƒ¨ç½²åœ¨é™æ€å†…å®¹ HTTP æœåŠ¡å™¨ä¸Šï¼Œå¦‚ GitHub é¡µé¢ã€‚

ç„¶è€Œï¼Œä¸Šè¿°æœ¬åœ°åŒ–è§£å†³æ–¹æ¡ˆéœ€è¦ä¸€ä¸ªæœåŠ¡å™¨ç«¯çš„ ASP.NET æ ¸å¿ƒå®ç°ï¼Œå½“ç„¶å®ƒéœ€è¦å¯ä»¥è¿è¡Œ ASP.NET æ ¸å¿ƒçš„ Web æœåŠ¡å™¨ã€‚

## [](#2-it-requires-resx-editor)2ã€‚å®ƒéœ€è¦ã€‚resx ç¼–è¾‘å™¨ã€‚

ã€‚resx æ–‡ä»¶åªæ˜¯ä¸€ä¸ª XML æ ¼å¼çš„æ–‡ä»¶ï¼Œåœ¨ä¸€èˆ¬ C#ç¼–ç¨‹ä¸­çš„æœ¬åœ°åŒ–åœºæ™¯ä¸­å¾ˆæµè¡Œä½¿ç”¨ã€‚

ä½†æ˜¯ï¼Œè¦ç¼–è¾‘ã€‚resx æ–‡ä»¶ï¼Œæ‚¨å°†éœ€è¦ Visual Studioã€‚ç¼–è¾‘å·¥ä½œå¾ˆè¾›è‹¦ã€‚æˆ‘æƒ³æ˜¯å¸¦æœ‰æ–‡æœ¬ç¼–è¾‘å™¨çš„ resx æ–‡ä»¶ã€‚

## [](#3-it-requires-key-access-by-string)3ã€‚å®ƒéœ€è¦é€šè¿‡â€œå­—ç¬¦ä¸²â€è®¿é—®å¯†é’¥ã€‚

å¸¸è§çš„æ–‡æœ¬æœ¬åœ°åŒ–è§£å†³æ–¹æ¡ˆæ˜¯ä»â€œé”®â€è·å–æœ¬åœ°åŒ–æ–‡æœ¬ã€‚

åœ¨ä¸Šé¢çš„è§£å†³æ–¹æ¡ˆä¸­ï¼Œä½ å¿…é¡»åœ¨ C#/Razor æºä»£ç ä¸­é€ä¸²æè¿° keyã€‚

å°†ä¸€ä¸ªé”®å†™æˆå­—ç¬¦ä¸²ç»å¸¸ä¼šå¯¼è‡´è¾“å…¥é”™è¯¯ï¼Œè€Œè¿™ç§é”™è¯¯åœ¨ç¼–è¯‘æ—¶æ˜¯æ£€æµ‹ä¸åˆ°çš„ã€‚

å®ƒä¹Ÿæ— æ³•è·å¾—ç¼–è¾‘å™¨çš„ä»£ç è¡¥å…¨åŠŸèƒ½çš„å¸®åŠ©ã€‚(ä¾‹å¦‚ã€‚â€œæ™ºèƒ½æ„ŸçŸ¥â€)

æˆ‘çœŸçš„æƒ³å¾—åˆ°é™æ€ç±»å‹è§£å†³æ–¹æ¡ˆï¼Œè€Œä¸æ˜¯åæœŸç»‘å®šè§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚é€šè¿‡å­—ç¬¦ä¸²è®¿é—®é”®

## [](#4-it-doesnt-consider-blazor-components-libraries)4ã€‚å®ƒä¸è€ƒè™‘ Blazor ç»„ä»¶åº“ã€‚

Blazor æ”¯æŒåˆ›å»ºå’Œé‡ç”¨ç»„ä»¶åº“ä½œä¸º NuGet åŒ…ã€‚

ç„¶è€Œï¼Œä¸Šè¿°è§£å†³æ–¹æ¡ˆæ— æ³•è§£æ Blazor ç»„ä»¶åº“åŒ…ä¸­çš„æœ¬åœ°åŒ–æ–‡æœ¬ã€‚

# [](#i-decided-to-make-a-new-solution)æˆ‘å†³å®šåšä¸€ä¸ªæ–°çš„æ–¹æ¡ˆã€‚

å¦‚ä¸Šæ‰€è¿°ï¼Œæˆ‘ä¸èƒ½æ»¡æ„æˆ‘åœ¨äº’è”ç½‘ä¸Šæ‰¾åˆ°çš„ä»»ä½•è§£å†³æ–¹æ¡ˆï¼Œå› æ­¤ï¼Œæˆ‘å†³å®šåˆ¶å®šä¸€ä¸ªæ–°çš„è§£å†³æ–¹æ¡ˆã€‚

## [](#my-approach-is)æˆ‘çš„åšæ³•æ˜¯...

æˆ‘çš„æ–¹æ³•ä¸­æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œä¸ä»…è¦ç¼–å†™åº“ä»£ç ï¼Œè¿˜è¦åœ¨æ„å»ºæ—¶ç¼–å†™ç”¨äºå¤„ç†æŸäº›ä»»åŠ¡(å¦‚ç”Ÿæˆé™æ€ç±»å‹æ–‡ä»¶ã€ç”Ÿæˆæœ¬åœ°åŒ–çš„æ–‡æœ¬æ–‡ä»¶ä½œä¸ºé™æ€å†…å®¹)çš„æ„å»ºè„šæœ¬ã€‚

*   ä½¿ç”¨ç®€å•çš„ JSON/CSV æ ¼å¼ï¼Œè€Œä¸æ˜¯ã€‚resx æ–‡ä»¶æ ¼å¼æ¥ç¼–å†™é”®æœ¬åœ°åŒ–æ–‡æœ¬å¯¹åº”è¡¨(æˆ‘ç§°ä¹‹ä¸ºâ€œæœ¬åœ°åŒ–æ–‡æœ¬æºæ–‡ä»¶â€)ã€‚
*   åœ¨æ„å»ºæ—¶è‡ªåŠ¨ä»â€œæœ¬åœ°åŒ–çš„æ–‡æœ¬æºæ–‡ä»¶â€ç”Ÿæˆé™æ€ç±»å‹çš„ C#ç±»(æˆ‘ç§°ä¹‹ä¸ºâ€œæ–‡æœ¬è¡¨ç±»â€)æºä»£ç æ–‡ä»¶ã€‚
    *   â€œæ–‡æœ¬è¡¨ç±»â€å…·æœ‰ä¸â€œæœ¬åœ°åŒ–æµ‹è¯•æºæ–‡ä»¶â€ä¸­çš„æ¯ä¸ªå…³é”®å­—ç›¸å…³è”çš„å­—æ®µã€‚
*   å¹¶ä¸”è¿˜ä¼šåœ¨è‡ªåŠ¨æ„å»ºæ—¶ä»â€œæœ¬åœ°åŒ–æ–‡æœ¬æºæ–‡ä»¶â€ä¸­çš„â€œwwwrootâ€å†…å®¹æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆ JSON æ ¼å¼æ–‡ä»¶(æˆ‘ç§°ä¹‹ä¸ºâ€œæœ¬åœ°åŒ–æ–‡æœ¬èµ„æº JSON æ–‡ä»¶â€)ã€‚
    *   â€œæœ¬åœ°åŒ–æ–‡æœ¬èµ„æº JSON æ–‡ä»¶â€ä½œä¸ºé™æ€å†…å®¹æ–‡ä»¶éƒ¨ç½²åœ¨ Web æœåŠ¡å™¨ä¸Šï¼Œè¿™äº›æ–‡ä»¶åœ¨è¿è¡Œæ—¶ä» Blazor å®¢æˆ·ç«¯è¿›ç¨‹ä¸­è·å–ã€‚
*   åŒ…æ‹¬ä¸€ä¸ªâ€œmsbuildâ€è„šæœ¬ï¼Œä½¿â€œæœ¬åœ°åŒ–çš„æ–‡æœ¬èµ„æº JSON æ–‡ä»¶â€åŒ…å«åœ¨ Blazor ç»„ä»¶åº“çš„ NuGet åŒ…ä¸­ã€‚

# [](#-and-i-did-it)...è€Œä¸”ï¼Œæˆ‘åšåˆ°äº†ï¼

æˆ‘çš„å·¥ä½œæˆæœåœ¨è¿™é‡Œ:

*   **Blazor å›½é™…åŒ–(I18n)æ–‡æœ¬**--" tool beltã€‚Blazor.I18nText" NuGet åŒ…
    *   [https://www.nuget.org/packages/Toolbelt.Blazor.I18nText/](https://www.nuget.org/packages/Toolbelt.Blazor.I18nText/)

## [](#no-resx-simple-json-format-and-also-csv-format-is-available)æ²¡æœ‰ã€‚resxï¼Œç®€å•çš„ JSON æ ¼å¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ CSV æ ¼å¼ï¼

[![fig](../Images/5a5f74f77c0555a9004799e7b15d0d59.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--vGn27IgC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/jsakamoto/Toolbelt.Blazor.I18nText/master/.assets/fig.001.png)

## [](#it-works-on-github-pages-static-contents-only-http-server)åœ¨ GitHub é¡µé¢ä¸Šæœ‰æ•ˆã€‚(ä»…é™æ€å†…å®¹ HTTP æœåŠ¡å™¨)

*   [https://jsakimoto . github . io/tool beltã€‚blazor . i18 context/](https://jsakamoto.github.io/Toolbelt.Blazor.I18nText/)

[![movie.1](../Images/7366e12a04d288ac128d76613f0bdc5f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--StI6iDzu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://raw.githubusercontent.com/jsakamoto/Toolbelt.Blazor.I18nText/master/.assets/movie-001.gif)

## [](#intellisense-works-well)æ™ºèƒ½æ„ŸçŸ¥æ•ˆæœä¸é”™ã€‚

[![movie.2](../Images/78f2c70528adc6a103e76cdcdef4c95f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--FHUFkIwZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://raw.githubusercontent.com/jsakamoto/Toolbelt.Blazor.I18nText/master/.assets/movie-002.gif)

# [](#how-to-use-it)æ€ä¹ˆç”¨ï¼Ÿ

### [](#step1-add-toolbeltblazori18ntext-package)Step.1 -æ·»åŠ â€œå·¥å…·å¸¦ã€‚Blazor.I18nText "åŒ…

å°† NuGet åŒ…æ·»åŠ åˆ°æ‚¨çš„ Blazor åº”ç”¨ç¨‹åºé¡¹ç›®ä¸­ã€‚

å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ dotnet CLIï¼Œæ‚¨å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤è¡Œæ¥å®Œæˆã€‚

```
$ dotnet add package Toolbelt.Blazor.I18nText 
```

å¦‚æœæ‚¨åœ¨ Windows æ“ä½œç³»ç»Ÿä¸­ä½¿ç”¨ Visual Studioï¼Œä¹Ÿå¯ä»¥åœ¨ Visual Studio çš„åŒ…ç®¡ç†å™¨æ§åˆ¶å°ä¸­æ‰§è¡Œæ­¤æ“ä½œã€‚

```
PM> Install-Package Toolbelt.Blazor.I18nText 
```

### [](#step2-create-localized-text-source-files-as-json-or-csv)æ­¥éª¤ 2 -ä»¥ JSON æˆ– CSV æ ¼å¼åˆ›å»ºæœ¬åœ°åŒ–æ–‡æœ¬æºæ–‡ä»¶

åœ¨ Blazor app é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹çš„`i18ntext`æ–‡ä»¶å¤¹ä¸­æ·»åŠ æ¯ç§è¯­è¨€çš„æœ¬åœ°åŒ–æ–‡æœ¬æºæ–‡ä»¶ã€‚

æœ¬åœ°åŒ–çš„æ–‡æœ¬æºæ–‡ä»¶å¿…é¡»æ˜¯ç®€å•çš„åªæœ‰é”®å€¼çš„ JSON æ–‡ä»¶ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼Œ

```
{  "Key1":  "Localized text 1",  "Key2":  "Localized text 2",  ...  } 
```

æˆ–è€…ï¼Œåªæœ‰ 2 åˆ—çš„ CSV æ–‡ä»¶ï¼Œæ²¡æœ‰æ ‡é¢˜è¡Œï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚

```
Key1,Localized text 1
Key2,Localized text 2 
```

**æ³¨æ„**-CSV æ–‡ä»¶çš„ç¼–ç å¿…é¡»æ˜¯ **UTF-8** ã€‚

å¹¶ä¸”ï¼Œæœ¬åœ°åŒ–æ–‡æœ¬æºæ–‡ä»¶çš„å‘½åè§„åˆ™å¿…é¡»å¦‚ä¸‹ã€‚

```
<Text Table Name>.<Language Code>.{json|csv} 
```

[![fig.1](../Images/5a5f74f77c0555a9004799e7b15d0d59.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--vGn27IgC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/jsakamoto/Toolbelt.Blazor.I18nText/master/.assets/fig.001.png)

### [](#step3-build-the-project-always-when-localized-text-source-files-are-created-or-updated)æ­¥éª¤ 3 -æ€»æ˜¯åœ¨åˆ›å»ºæˆ–æ›´æ–°æœ¬åœ°åŒ–æ–‡æœ¬æºæ–‡ä»¶æ—¶æ„å»ºé¡¹ç›®ã€‚

åœ¨åˆ›å»ºæˆ–æ›´æ–°äº†é‚£äº›æœ¬åœ°åŒ–çš„æ–‡æœ¬æºæ–‡ä»¶ä¹‹åï¼Œä½ å¿…é¡»æ„å»ºä½ çš„ Blazor åº”ç”¨ç¨‹åºé¡¹ç›®ã€‚

é¡¹ç›®æ„å»ºå®Œæˆåï¼Œ**â€œç±»å‹åŒ–æ–‡æœ¬è¡¨æ ¼ç±»â€C#æ–‡ä»¶**å°†é€šè¿‡æ„å»ºè¿‡ç¨‹åœ¨`i18ntext/@types`æ–‡ä»¶å¤¹ä¸­ç”Ÿæˆã€‚

å¦å¤–ï¼Œ**â€œæœ¬åœ°åŒ–æ–‡æœ¬èµ„æº JSONâ€æ–‡ä»¶**ä¹Ÿä¼šåœ¨`wwwroot/content/i18ntext`æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆã€‚

[![fig.2](../Images/c5cc835c7e7781745d1aaa2ae248dc2e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--8rizQ06B--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/jsakamoto/Toolbelt.Blazor.I18nText/master/.assets/fig.002.png)

**æ³¨æ„**â€”â€”å¦‚æœä½ æƒ³æ¯å½“é‚£äº›æœ¬åœ°åŒ–çš„æ–‡æœ¬æºæ–‡ä»¶(.json æˆ–è€…ã€‚csv)è¢«æ›´æ”¹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å¸¦æœ‰ä»¥ä¸‹å‚æ•°çš„`dotnet watch`å‘½ä»¤ã€‚

```
$ dotnet watch msbuild -t:CompileI18nText 
```

è¾“å…¥æ­¤ dotnet CLI å‘½ä»¤åï¼Œdotnet CLI è¿›ç¨‹ä¼šç»§ç»­è¿è¡Œï¼Œå¹¶è§‚å¯Ÿæœ¬åœ°åŒ–æ–‡æœ¬æºæ–‡ä»¶çš„å˜åŒ–ã€‚å½“æŒç»­è¿è¡Œçš„ dotnet CLI æ£€æµ‹åˆ°æœ¬åœ°åŒ–æ–‡æœ¬æºæ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œdotnet CLI å°†æœ¬åœ°åŒ–æ–‡æœ¬æºæ–‡ä»¶é‡æ–°ç¼–è¯‘æˆ**â€œç±»å‹åŒ–æ–‡æœ¬è¡¨ç±»â€**æ–‡ä»¶å’Œ**â€œæœ¬åœ°åŒ–æ–‡æœ¬èµ„æº JSONâ€æ–‡ä»¶**ã€‚

[![fig.2-2](../Images/40b509d37cc28093e7c6ee307dcf2217.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--nmS7XjQe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/jsakamoto/Toolbelt.Blazor.I18nText/master/.assets/fig.002-2.png)

### [](#step4-configure-your-app-to-use-i18ntext-service)æ­¥éª¤ 4 -é…ç½®æ‚¨çš„åº”ç”¨ç¨‹åºä»¥ä½¿ç”¨ I18nText æœåŠ¡

åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€ Blazor app çš„â€œstartupâ€ç±»çš„ C#æºæ–‡ä»¶ï¼Œæ·»åŠ ç”¨äºæ‰“å¼€`Toolbelt.Blazor.Extensions.DependencyInjection`å‘½åç©ºé—´çš„`using`å­å¥ï¼Œå¹¶åœ¨ Startup ç±»çš„`ConfigureServices()`æ–¹æ³•ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ã€‚

```
services.AddI18nText<Startup>(); 
```

[![fig.3](../Images/59b68a075c0d9f3a6d64bd5fc4ee632e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--VMsMDouB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/jsakamoto/Toolbelt.Blazor.I18nText/master/.assets/fig.003.png)

### [](#step5-get-the-text-table-object-in-your-blazor-component)Step.5 -è·å– Blazor ç»„ä»¶ä¸­çš„â€œæ–‡æœ¬è¡¨æ ¼â€å¯¹è±¡

æ‰“å¼€æ‚¨çš„ Blazor ç»„ä»¶æ–‡ä»¶(ã€‚cshtml ),å¹¶æ‰§è¡Œä»¥ä¸‹æ“ä½œ:

1.  å°†`Toolbelt.Blazor.I18nText.I18nText`æœåŠ¡æ³¨å…¥ç»„ä»¶ã€‚

```
@inject Toolbelt.Blazor.I18nText.I18nText I18nText 
```

1.  æ·»åŠ ä»æœ¬åœ°åŒ–æ–‡æœ¬æºæ–‡ä»¶ç”Ÿæˆçš„æ–‡æœ¬è¡¨ç±»çš„å­—æ®µï¼Œå¹¶åˆ†é…é»˜è®¤å®ä¾‹ã€‚

```
@functions {

    I18nText.MyText MyText = new I18nText.MyText(); 
```

**æ³¨æ„**â€”â€”æ–‡æœ¬è¡¨æ ¼ç±»çš„å‘½åç©ºé—´æ˜¯`<default namespace of your Blazor project>` + `"I18nText"`ã€‚

1.  è¦†ç›– Blazor ç»„ä»¶çš„`OnInitAsync()`æ–¹æ³•ï¼Œå°†ä¸€ä¸ªæ–‡æœ¬è¡¨å¯¹è±¡(å³`I18nText`æœåŠ¡å®ä¾‹çš„`GetTextTableAsync<T>()`æ–¹æ³•çš„è¿”å›å€¼)èµ‹ç»™æ–‡æœ¬è¡¨å­—æ®µã€‚

```
protected override async Task OnInitAsync()
{
  MyText = await I18nText.GetTextTableAsync<I18nText.MyText>(this); 
```

[![fig.4](../Images/033b3df8bee7ec1104de3144bba38a1d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--6txeot13--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/jsakamoto/Toolbelt.Blazor.I18nText/master/.assets/fig.004.png)

### [](#step6-use-the-text-table)Step.6 -ä½¿ç”¨æ–‡æœ¬è¡¨æ ¼

å®Œæˆè¿™äº›æ­¥éª¤åï¼Œæ‚¨å¯ä»¥å¼•ç”¨ Text Table å¯¹è±¡çš„å­—æ®µæ¥è·å–æœ¬åœ°åŒ–çš„æ–‡æœ¬ã€‚

å¦‚æœæ‚¨åœ¨ Windows æ“ä½œç³»ç»Ÿä¸­ä½¿ç”¨ Visual Studioï¼Œå¹¶ä¸”åœ¨è¯¥ Visual Studio ä¸­å®‰è£…äº† Blazor extensionsï¼Œåˆ™å¯ä»¥è·å¾—â€œæ™ºèƒ½æ„ŸçŸ¥â€å’Œâ€œæ–‡æ¡£æ³¨é‡Šâ€æ”¯æŒã€‚

[![movie.2](../Images/78f2c70528adc6a103e76cdcdef4c95f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--FHUFkIwZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://raw.githubusercontent.com/jsakamoto/Toolbelt.Blazor.I18nText/master/.assets/movie-002.gif)

***æ³¨æ„:*** Text Table å¯¹è±¡å…è®¸ä½ åŠ¨æ€åœ°é€šè¿‡å…³é”®å­—ä¸²å¾—åˆ°æœ¬åœ°åŒ–çš„æ–‡æœ¬ï¼Œç”¨ç´¢å¼•å™¨è¯­æ³•ï¼Œå°±åƒè¿™æ ·ã€‚

```
<h1>@MyText["HelloWorld"]</h1> 
```

è¿™ç§æ–¹å¼æœ‰æ—¶è¢«ç§°ä¸ºâ€œåæœŸç»‘å®šâ€ã€‚

è¿™ä¸ªç‰¹æ€§åœ¨æŸäº›æƒ…å†µä¸‹éå¸¸æœ‰ç”¨ã€‚

ä½†æ˜¯ï¼Œå¦‚æœä½ çŠ¯äº†ä¸€äº›é”®ä¸²çš„é”™åˆ«å­—ï¼Œè¿™äº›é”™è¯¯åœ¨ç¼–è¯‘æ—¶ä¸ä¼šè¢«å‘ç°ã€‚
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒå°†è¿”å›å¯†é’¥å­—ç¬¦ä¸²ï¼Œæ²¡æœ‰ä»»ä½•è¿è¡Œæ—¶å¼‚å¸¸ã€‚

### [](#step7-run-it)Step.7 -è¿è¡Œå®ƒï¼

æ„å»ºå¹¶è¿è¡Œä½ çš„ Blazor åº”ç”¨ç¨‹åºã€‚

I18nText æœåŠ¡æ£€æµ‹ Web æµè§ˆå™¨çš„è¯­è¨€è®¾ç½®ï¼Œå¹¶è¯»å–æœ€é€‚åˆæ‰€æ£€æµ‹è¯­è¨€çš„æœ¬åœ°åŒ–æ–‡æœ¬èµ„æº JSONã€‚

[![fig.5](../Images/f86ed77dd617d25a0e0874d0a3b232cc.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--sl9vAhPg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/jsakamoto/Toolbelt.Blazor.I18nText/master/.assets/fig.005.png)

# [](#learn-more)äº†è§£æ›´å¤š

ä½ å¯ä»¥åœ¨ GitHub ä¸Šæ‰¾åˆ°æ›´å¤šå…³äºæˆ‘çš„å·¥ä½œçš„ç»†èŠ‚ã€‚

*   [https://github . com/jsakmoto/tool beltã€‚blazor . i18 ä¸Šä¸‹æ–‡](https://github.com/jsakamoto/Toolbelt.Blazor.I18nText)

* * *

ç”¨ Blazor å¿«ä¹ç¼–ç :)