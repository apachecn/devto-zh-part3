# Dockerfile æç¤º 1:å®šä¹‰ä¸€ä¸ªåŸºç¡€å±‚

> åŸæ–‡:[https://dev . to/raw kode/docker file-tip-1-define-a-base-layer-1 aae](https://dev.to/rawkode/dockerfile-tip-1-define-a-base-layer-1aae)

éšç€å¤šé˜¶æ®µ Dockerfile çš„å‡ºç°ï¼Œäººä»¬å¾ˆå¸¸è§åˆ°éå¸¸ç‰¹å®šçš„å±‚æ¥å®Œæˆå•ä¸€ä»»åŠ¡ï¼›å®ƒä»¬é€šå¸¸ä½¿ç”¨ç›¸åŒçš„â€œåˆçº§â€åŸºå±‚ã€‚

**ä¸¾ä¾‹:**

```
FROM elixir:1.8 AS deps

RUN mix deps.get

FROM elixir:1.8 AS compile

COPY --from=deps ...

RUN mix compile 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å…è®¸å†—é•¿çš„ä»»åŠ¡åˆ©ç”¨æ„å»ºç¼“å­˜å¹¶åœ¨å±‚ä¹‹é—´ä¼ é€’å·¥ä»¶ï¼Œè€Œæ— éœ€é‡æ–°è¿è¡Œå†—é•¿çš„ä»»åŠ¡ã€‚ç„¶è€Œï¼Œæˆ‘ç»å¸¸çœ‹åˆ°è¿™ä¸ªâ€œä¸»è¦â€å±‚åœ¨ä¸€ä¸ª docker æ–‡ä»¶ä¸­é‡å¤äº† 4/6/10 æ¬¡ï¼›ä½¿å¾—ç»´æŠ¤å¾ˆéº»çƒ¦ã€‚

## [](#the-tip)æç¤º

ç”¨ä½ çš„ä¸»å›¾åƒåˆ›å»ºä¸€ä¸ªç©ºå±‚:

```
FROM elixir:1.8 AS base

FROM base AS deps

# ...

FROM base AS compile

# ... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å‡å°‘äº†é‡å¤ï¼Œä½¿ç»´æŠ¤å’Œæ‹‰å¼è¯·æ±‚æ›´å®¹æ˜“å®¡æŸ¥/ç®¡ç†/æ›´æ”¹ã€‚

ç›´åˆ°ä¸‹ä¸€æ¬¡
ğŸ¤˜