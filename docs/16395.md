# ä»ç±»åˆ°ç®€å•çš„å¯¹è±¡å’Œçº¯å‡½æ•°

> åŸæ–‡:[https://dev . to/hybrids/from-class-to-plain-objects-and-pure-functions-2gip](https://dev.to/hybrids/from-classes-to-plain-objects-and-pure-functions-2gip)

è¿™æ˜¯å…³äº [hybrids](https://github.com/hybridsjs/hybrids) æ ¸å¿ƒæ¦‚å¿µç³»åˆ—æ–‡ç« çš„ç¬¬ä¸€ç¯‡â€”â€”è¿™æ˜¯ä¸€ä¸ªç”¨ç®€å•å®ç”¨çš„ API åˆ›å»º Web ç»„ä»¶çš„åº“ã€‚

ES2015 å¼•å…¥äº†ç°åœ¨åœ¨ UI åº“å’Œæ¡†æ¶ä¸­å¹¿æ³›ä½¿ç”¨çš„ç±»ã€‚ç„¶è€Œï¼Œå®ƒä»¬æ˜¯åœ¨ JavaScript ä¸­åˆ›å»ºåŸºäºç»„ä»¶çš„é€»è¾‘çš„æœ€ä½³æ–¹å¼å—ï¼Ÿåœ¨æˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å¼ºè°ƒäº†ä¸€äº›ä¸»è¦çš„ç±»é™·é˜±:

[![smalluban image](../Images/6861718a2fd849252ddb6888604c411f.png)](/smalluban) [## æˆ‘ä»¬çœŸçš„éœ€è¦ JavaScript ä¸­çš„ç±»å—ï¼Ÿ

### å¼ ç§€å¤Â·å¢å·´æ–¯åŸº 12 æœˆ 11 æ—¥ 185 åˆ†é’Ÿé˜…è¯»

#discuss #javascript #webdev #webcomponents](/smalluban/do-we-really-need-classes-in-javascript-after-all-91n)

hybrids åº“æ˜¯å…³äºæˆ‘ä»¬å¦‚ä½•é‡‡å–ä¸åŒçš„æ–¹æ³•ï¼Œå¹¶ä¸ºæ„å»º web ç»„ä»¶åˆ›å»ºç®€å•è€Œå®ç”¨çš„å·¥å…·çš„ç ”ç©¶æˆæœã€‚ç„¶è€Œï¼Œåˆ›å»ºå®šåˆ¶å…ƒç´ çš„å”¯ä¸€æ–¹æ³•æ˜¯ä½¿ç”¨æ‰©å±•äº†`HTMLElement`çš„`class`ï¼Œå¹¶ç”¨å®šåˆ¶å…ƒç´  API å®šä¹‰å®ƒã€‚é™¤æ­¤ä¹‹å¤–åˆ«æ— ä»–æ³•(ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°æ„é€ å‡½æ•°æ¥æ°å½“åœ°åæ˜ `super()`è°ƒç”¨)ã€‚é‚£ä¹ˆï¼Œhybrids æ€ä¹ˆå¯èƒ½ä½¿ç”¨æ™®é€šå¯¹è±¡è€Œä¸æ˜¯ç±»å‘¢ï¼Ÿ

ç­”æ¡ˆæ˜¯ä¸‰ä¸ªå±æ€§ç›¸å…³æ¦‚å¿µçš„ç»„åˆ:å±æ€§æè¿°ç¬¦ã€å±æ€§å·¥å‚å’Œå±æ€§è½¬æ¢ã€‚è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„å®šåˆ¶å…ƒç´ å®šä¹‰å°†è¿™äº›æ¦‚å¿µåˆ†è§£æˆä¸€æ­¥ä¸€æ­¥çš„è¿‡ç¨‹ã€‚

## [](#step-1-use-custom-elements-api)ç¬¬ä¸€æ­¥:ä½¿ç”¨è‡ªå®šä¹‰å…ƒç´  API

ä¸ºäº†æ›´å¥½åœ°ç†è§£è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªå¯¹å®šåˆ¶å…ƒç´  API æœ‰æœ€ä½è¦æ±‚çš„ä¾‹å­ã€‚è¿™é‡Œçš„ç›®æ ‡æ˜¯å±•ç¤ºæˆ‘ä»¬å¦‚ä½•ä»ç±»å®šä¹‰åˆ‡æ¢åˆ°å…·æœ‰çº¯å‡½æ•°çš„æ™®é€šå¯¹è±¡ã€‚

```
class MyElement extends HTMLElement {
  constructor() {
    this.firstName = 'Dominik';
    this.lastName = 'LubaÅ„ski';
  }

  get fullName() {
    return `${this.firstName}  ${this.lastName}`;
  }
}

customElements.define('my-element', MyElement); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬çš„å®šåˆ¶å…ƒç´ å®šä¹‰æœ‰ä¸¤ä¸ªç®€å•çš„å±æ€§(`firstName`å’Œ`lastName`)å’Œä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œå®ƒè¿”å›å‰ä¸¤ä¸ªå±æ€§çš„è¿æ¥ã€‚è¯¥ç¤ºä¾‹ä¸åŒ…å«æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ç›¸åŒçš„è¿‡ç¨‹è½»æ¾åœ°è½¬æ¢å®ƒä»¬(å¯ä»¥å°†æ–¹æ³•å®šä¹‰ä¸º computed propertyï¼Œå®ƒè¿”å›ä¸€ä¸ªå‡½æ•°)ã€‚

## [](#step-2-desugar-class-syntax-using-the-prototype)æ­¥éª¤ 2:ä½¿ç”¨åŸå‹çš„ Desugar ç±»è¯­æ³•

ç±»è¯­æ³•åªä¸è¿‡æ˜¯ä½äºå‡½æ•°åŠå…¶åŸå‹ä¹‹ä¸Šçš„è¯­æ³•ç³–ã€‚æ¯ä¸ªç±»å®šä¹‰éƒ½æœ‰`prototype`å±æ€§ï¼Œå®ƒä¿å­˜ç±»æ–¹æ³•(é™¤äº†`constructor`)ã€‚é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®šä¹‰ä¹‹åæ›´æ”¹å®ƒï¼Œè¿™æ ·ç±»çš„ä¸»ä½“å°±å¯ä»¥æ˜¯ç©ºçš„ã€‚å¯ä»¥ä½¿ç”¨`Object.defineProperty()`æ–¹æ³•åœ¨`MyElement.prototype`ä¸Šç›´æ¥å®šä¹‰å±æ€§ã€‚åŸå‹å§”æ‰˜å¯èƒ½ä¼šæ„å¤–åœ°ä½¿ç”¨æ­£å¸¸å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥åªå®šä¹‰è®¡ç®—å±æ€§ï¼Œè¿™äº›å±æ€§è¿”å›ä¸ä¸Šä¸‹æ–‡ç›¸å…³çš„å€¼ã€‚

```
class MyElement extends HTMLElement {}

// before: this.firstName in constructor()
Object.defineProperty(MyElement.prototype, 'firstName', {
  get: function get() {
    return this._firstName || 'Dominik';
  },
  set: function set(val) {
    this._firstName = val;
  },
  configurable: true,
});

// before: this.lastName in constructor()
Object.defineProperty(MyElement.prototype, 'lastName', {
  get: function get() {
    return this._lastName || 'LubaÅ„ski';
  },
  set: function set(val) {
    this._lastName = val;
  },
  configurable: true,
});

// before: fullName computed property in the class body
Object.defineProperty(MyElement.prototype, 'fullName', {
  get: function fullName() {
    return `${this.firstName}  ${this.lastName}`;
  },
  configurable: true,
});

customElements.define('my-element', MyElement); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ä¼¼ä¹åé€€äº†ä¸€æ­¥ã€‚ä»£ç å˜å¾—æ›´åŠ å†—é•¿å’Œå†—ä½™(ç±»å®šä¹‰çš„ç®€å•ç»“æ„æ˜¯å¼•å…¥ç±»è¯­æ³•çš„åŸå› ä¹‹ä¸€)ã€‚æ­¤å¤–ï¼Œå½“å‰çš„å®ç°ä¸æœ€åˆçš„å®ç°ä¸ä¸€è‡´ã€‚å¦‚æœæˆ‘ä»¬å°†å…¶ä¸­ä¸€ä¸ªå±æ€§è®¾ç½®ä¸º falsy å€¼ï¼Œå®ƒä»ç„¶ä¼šè¿”å›ä¸€ä¸ªé»˜è®¤å€¼ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬äº”æ­¥ä¸­å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¿…é¡»é›†ä¸­ç²¾åŠ›æ¸…ç†æˆ‘ä»¬çš„å®šä¹‰ã€‚

## [](#step-3-hide-redundant-code-into-the-custom-definition)ç¬¬ä¸‰æ­¥:å°†å†—ä½™ä»£ç éšè—åˆ°è‡ªå®šä¹‰å®šä¹‰ä¸­

æ‰€æœ‰å±æ€§éƒ½ç”±`Object.defineProperty()`æ–¹æ³•å®šä¹‰ã€‚æˆ‘ä»¬å¯ä»¥å°†ä¼ é€’çš„å‚æ•°æå–åˆ°å±æ€§åå’Œæè¿°ç¬¦çš„æ˜ å°„ä¸­ï¼Œå¹¶å°†å…¶ä½™çš„æ”¾å…¥è‡ªå®šä¹‰å‡½æ•°ä¸­ï¼Œè¯¥å‡½æ•°å°†æ›¿æ¢`customElements.define()`æ–¹æ³•ã€‚

```
const MyElement = {
  firstName: {
    get: function get() {
      return 'Dominik' || this._firstName;
    },
    set: function set(val) {
      this._firstName = val;
    },
  },
  lastName: {
    get: function get() {
      return 'ConFrontJS' || this._lastName;
    },
    set: function set(val) {
      this._lastName = val;
    },
  },
  fullName: {
    get: function fullName() {
      return `${this.firstName}  ${this.lastName}`;
    },
  },
};

defineElement('my-element', MyElement); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å°±æ˜¯**å±æ€§æè¿°ç¬¦**æ¦‚å¿µçš„å·¥ä½œåŸç†ã€‚`MyElement`ç°åœ¨æ˜¯ä¸€ä¸ªå¸¦æœ‰å±æ€§æè¿°ç¬¦æ˜ å°„çš„æ™®é€šå¯¹è±¡ï¼Œæˆ‘ä»¬åœ¨å®šåˆ¶å…ƒç´ åŸå‹ä¸Šå®šä¹‰äº†å±æ€§æè¿°ç¬¦ã€‚

æˆ‘ä»¬çš„`defineElement()`å‡½æ•°å¯ä»¥è¿™æ ·å®šä¹‰:

```
function defineElement(tagName, descriptors) {
  class Wrapper extends HTMLElement {}

  Object.keys(descriptors).forEach(key => {
    Object.defineProperty(Wrapper.prototype, key, {
      ...descriptors[key],
      configurable: true,
    });
  });

  return customElements.define(tagName, Wrapper);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#step-4-get-rid-of-this)ç¬¬å››æ­¥:æ‘†è„±â€œè¿™ä¸ªâ€

è‡ªå®šä¹‰å‡½æ•°ä¸ºè¿›ä¸€æ­¥ä¼˜åŒ–å¼€è¾Ÿäº†é“è·¯ã€‚ä»ç°åœ¨å¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥å®Œå…¨æ§åˆ¶è¾“å…¥çš„ç»“æ„ã€‚å‡½æ•°å¯ä»¥åŠ¨æ€åœ°åˆ›å»ºå±æ€§æè¿°ç¬¦ï¼Œè€Œä¸æ˜¯å°†å±æ€§æè¿°ç¬¦ä¼ é€’ç»™`Object.defineProperty()`ã€‚æˆ‘ä»¬ç»ˆäºå¯ä»¥å¹²æ‰æœ€åä¸€ä¸ªå±¹ç«‹ä¸å€’çš„å ¡å’- `this`å…³é”®è¯ã€‚

`get`å’Œ`set`æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å¯èƒ½æˆä¸ºä¸€ä¸ª`host`â€”â€”ä¸€ä¸ªå…ƒç´ å®ä¾‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦é€šè¿‡å…³é”®å­—`this`è®¿é—®å®šåˆ¶å…ƒç´ å®ä¾‹ã€‚æ­¤å¤–ï¼Œæ–¹æ³•æ˜¯[çº¯](https://en.wikipedia.org/wiki/Pure_function)çš„â€”â€”å®ƒä»¬åªä¾èµ–äºå‚æ•°ï¼Œæ²¡æœ‰å‰¯ä½œç”¨ã€‚ç§»é™¤ä¸Šä¸‹æ–‡è¿˜å…è®¸ä½¿ç”¨ ES2015 çš„ä¸€äº›æœ‰ç”¨åŠŸèƒ½ï¼Œå¦‚ç®­å¤´åŠŸèƒ½å’Œè§£æ„å‡½æ•°å‚æ•°ã€‚

```
const MyElement = {
  firstName: {
    get: ({ _firstName }) => _firstName || 'Dominik',
    set: (host, value) => { host._firstName = value; },
  },
  lastName: {
    get: ({ _lastName }) => _lastName || 'LubaÅ„ski',
    set: (host, value) => { host._lastName = value; },
  },
  fullName: {
    get: ({ firstName, lastName }) => `${firstName}  ${lastName}`,
  },
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬çš„å®šä¹‰å·²ç»å¤§å¤§ç¼©å°äº†ã€‚æˆ‘ä»¬å·²ç»ç”¨ç®­å¤´å‡½æ•°æ›¿æ¢äº†æ™®é€šå‡½æ•°ï¼Œå¹¶ä¸”å·²ç»ä¸º`get`è°ƒç”¨ææ„äº†`host`å‚æ•°ã€‚

## [](#step-5-add-middleware-to-save-property-value)ç¬¬äº”æ­¥:æ·»åŠ ä¸­é—´ä»¶ä¿å­˜å±æ€§å€¼

è®¾è®¡çš„è®¡ç®—å±æ€§ä¸ä¿å­˜å…¶å€¼ã€‚è¯¥å®šä¹‰æ˜¯ä¸€å¯¹å‡½æ•°(ä¸æ˜¯å€¼)ï¼Œå…¶ä¸­ä¸€ä¸ªå‡½æ•°è¿”å›ä»å¤–éƒ¨ä¾èµ–é¡¹è·å–çš„å±æ€§çš„å½“å‰çŠ¶æ€ï¼Œç¬¬äºŒä¸ªå‡½æ•°æ›´æ–°é‚£äº›å¤–éƒ¨ä¾èµ–é¡¹ã€‚åœ¨æˆ‘ä»¬å½“å‰çš„è§£å†³æ–¹æ¡ˆä¸­ï¼Œ`firstName`å’Œ`lastName`å±æ€§ä¾èµ–äºè‡ªå®šä¹‰å…ƒç´ å®ä¾‹ä¸­çš„`_firstName`å’Œ`_lastName`å±æ€§(å®ƒä»¬æ˜¯åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨`set`æ–¹æ³•æ—¶å®šä¹‰çš„)ã€‚

ä½¿ç”¨ç¬¬ä¸‰æ­¥ä¸­çš„äº‹å®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è‡ªå®šä¹‰ define å‡½æ•°çš„å±æ€§å®šä¹‰è¿‡ç¨‹ä¸­å¼•å…¥ä¸€ä¸ªå±€éƒ¨å˜é‡ã€‚è¯¥å€¼å¯ä»¥ä½œä¸ºæ–°çš„æœ€åä¸€ä¸ªå‚æ•°- `lastValue`ä¼ é€’ç»™`get`å’Œ`set`æ–¹æ³•ã€‚ä»ç°åœ¨å¼€å§‹ï¼Œ`get`å’Œ`set`æ–¹æ³•åº”è¯¥è¿”å›å±æ€§çš„å½“å‰å€¼ã€‚

```
const MyElement = {
  firstName: {
    get: (host, lastValue = 'Dominik') => value,
    set: (host, value, lastValue) => value,
  },
  lastName: {
    get: (host, lastValue = 'LubaÅ„ski') => value,
    set: (host, value, lastValue) => value,
  },
  fullName: {
    get: ({ firstName, lastName }) => `${firstName}  ${lastName}`,
  },
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‚¨å¯ä»¥æ³¨æ„åˆ°é»˜è®¤å€¼ç°åœ¨æ˜¯å¦‚ä½•å¤„ç†çš„ã€‚æˆ‘ä»¬å·²ç»å¼€å§‹ä½¿ç”¨ ES2015 çš„å¦ä¸€é¡¹åŠŸèƒ½â€”â€”é»˜è®¤å‚æ•°ã€‚å¦‚æœæ²¡æœ‰å€¼æˆ–`undefined`è¢«ä¼ é€’ï¼Œåˆ™è¿™äº›å‚æ•°è¢«åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼ã€‚æ¯”ç”¨`||`ç®—å­çš„è§£å†³æ–¹æ¡ˆå¥½å¤šäº†ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå¦‚æœæˆ‘ä»¬å°†`firstName`å’Œ`lastName`è®¾ç½®ä¸º`undefined`ï¼Œå®ƒä»¬å°†è¿”å›`Dominik`æˆ–`LubaÅ„ski`(åœ¨ç°å®åœºæ™¯ä¸­ï¼Œè¿™ä¸æˆé—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åº“ä¸­çš„å†…ç½®å·¥å‚ï¼Œè¿™æ¶µç›–äº†è¿™ç§æƒ…å†µ)ã€‚

## [](#step-6-introduce-property-factory)ç¬¬å…­æ­¥:å¼•å…¥å±æ€§å·¥å‚

åœ¨æ‰€æœ‰çš„ä¼˜åŒ–ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å†æ¬¡æ‰¾åˆ°å†—ä½™ä»£ç - `firstName`å’Œ`lastName`å±æ€§æè¿°ç¬¦å˜å¾—å‡ ä¹ç›¸åŒã€‚åªæœ‰é»˜è®¤å€¼ä¸åŒã€‚ä¸ºäº†ä½¿å®ƒæ›´ç®€æ´ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå‡½æ•°å±æ€§å·¥å‚ï¼Œå®ƒè¿”å›ç”±å‚æ•°å‚æ•°åŒ–çš„å±æ€§æè¿°ç¬¦ã€‚

```
export function property(defaultValue) {
  return {
    get: (host, lastValue = defaulValue) => value,
    set: (host, value) => value,
  };
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ç°åœ¨å¯ä»¥ç”¨`property()`å‡½æ•°è°ƒç”¨:
æ›¿æ¢`firstName`å’Œ`lastName`æè¿°ç¬¦

```
import property from './propertyFactory';

const MyElement = {
  firstName: property('Dominik'),
  lastName: property('LubaÅ„ski'),
  fullName: {
    get: ({ firstName, lastName }) => `${firstName}  ${lastName}`,
  },
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æœ‰äº†**å±æ€§å·¥å‚**çš„æ¦‚å¿µï¼Œæˆ‘ä»¬åªç”¨ä¸€è¡Œä»£ç å°±å¯ä»¥å®šä¹‰å±æ€§ï¼å·¥å‚éšè—å®ç°ç»†èŠ‚ï¼Œå°½é‡å‡å°‘å†—ä½™ä»£ç ã€‚

## [](#step-7-introduce-property-translation)ç¬¬ä¸ƒæ­¥:å¼•å…¥å±æ€§ç¿»è¯‘

æˆ‘ä»¬è¿˜æœ‰æœ€åä¸€ä¸ªæ¦‚å¿µè¦éµå¾ªã€‚æˆ‘ä»¬çš„è‡ªå®šä¹‰ define å‡½æ•°åªæ¥å—æè¿°ç¬¦ï¼Œè¿™äº›æè¿°ç¬¦æ˜¯å…·æœ‰é¢„å®šä¹‰ç»“æ„çš„å¯¹è±¡ã€‚å¦‚æœæˆ‘ä»¬å…è®¸ä¼ é€’åŸè¯­ã€å‡½æ•°ç”šè‡³å¯¹è±¡ï¼Œä½†æ²¡æœ‰å®šä¹‰æ–¹æ³•ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

**å±æ€§è½¬æ¢**æ¦‚å¿µæä¾›äº†ä¸€ç»„è§„åˆ™ï¼Œç”¨äºè½¬æ¢ä¸å±æ€§æè¿°ç¬¦ç»“æ„ä¸åŒ¹é…çš„å±æ€§å®šä¹‰ã€‚å®ƒæ”¯æŒåŸè¯­ã€å‡½æ•°ï¼Œç”šè‡³å¯¹è±¡(æ²¡æœ‰æè¿°ç¬¦é”®)ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬å°†`firstName`å±æ€§çš„å€¼è®¾ç½®ä¸ºä¸€ä¸ªåŸè¯­ï¼Œé‚£ä¹ˆåº“ä½¿ç”¨å†…ç½®çš„`property`å·¥å‚åœ¨å®šåˆ¶å…ƒç´ çš„åŸå‹ä¸Šå®šä¹‰å®ƒã€‚åœ¨å¦ä¸€ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä½ è®¾ç½®å±æ€§å€¼ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šè¢«ç”¨`get`æ–¹æ³•è½¬æ¢æˆä¸€ä¸ªæè¿°ç¬¦å¯¹è±¡ã€‚

å› æ­¤ï¼Œè‡ªå®šä¹‰å…ƒç´ å®šä¹‰å¯ä»¥æ˜¯é»˜è®¤å€¼çš„ç®€å•ç»“æ„å’Œæ²¡æœ‰å¤–éƒ¨ä¾èµ–æ€§çš„çº¯å‡½æ•°:

```
const MyElement = {
  firstName: 'Dominik',
  lastName: 'LubaÅ„ski',
  fullName: ({ firstName, lastName }) => `${firstName}  ${lastName}`,
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#summary)æ€»ç»“

ä»Šå¤©çš„ç¼–ç ä¹‹æ—…åˆ°æ­¤ç»“æŸã€‚åœ¨æœ€åä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†æœ€ç®€å•çš„å¯èƒ½å®šä¹‰ï¼Œæ²¡æœ‰`class`å’Œ`this`è¯­æ³•ï¼Œä½†æ˜¯å…·æœ‰çœŸæ­£çš„çº¯å‡½æ•°å¯ç»„åˆç»“æ„ã€‚

æ•´ä¸ªè¿‡ç¨‹è¡¨æ˜ï¼Œç”¨ä¸€ä¸ªç®€å•çš„å±æ€§æè¿°ç¬¦æ¦‚å¿µæ¥ä»£æ›¿å‘½ä»¤å¼å’Œæœ‰çŠ¶æ€ç±»å®šä¹‰æ˜¯å¯èƒ½çš„ã€‚å¦å¤–ä¸¤ä¸ªï¼Œå±æ€§å·¥å‚å’Œå±æ€§è½¬æ¢ï¼Œå…è®¸è¿›ä¸€æ­¥ç®€åŒ–å®šä¹‰ã€‚

## [](#whats-next)æ¥ä¸‹æ¥æ˜¯ä»€ä¹ˆï¼Ÿ

é€šå¸¸ï¼Œå®šåˆ¶å…ƒç´ æ¯”æˆ‘ä»¬çš„ç®€å•ä¾‹å­åšå¾—æ›´å¤šã€‚å®ƒä»¬æ‰§è¡Œå¼‚æ­¥è°ƒç”¨ï¼Œè§‚å¯Ÿå†…éƒ¨å’Œå¤–éƒ¨çŠ¶æ€çš„å˜åŒ–å¹¶åšå‡ºååº”ï¼Œç­‰ç­‰ã€‚ä¸ºäº†æ¶µç›–è¿™äº›ç‰¹æ€§ï¼ŒåŸºäºç»„ä»¶çš„åº“å¼•å…¥äº†å¤æ‚çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å’Œæœºåˆ¶æ¥ç®¡ç†å¤–éƒ¨å’Œå†…éƒ¨çŠ¶æ€ã€‚å¦‚æœæ‰€æœ‰è¿™äº›éƒ½ä¸å†éœ€è¦ï¼Œä½ ä¼šè¯´ä»€ä¹ˆï¼Ÿ

åœ¨æœ¬ç³»åˆ—çš„ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ›´æ·±å…¥åœ°ç ”ç©¶å±æ€§æè¿°ç¬¦çš„å®šä¹‰ï¼Œäº†è§£æ›´å¤šå…³äºç¼“å­˜æœºåˆ¶ã€å˜æ›´æ£€æµ‹å’Œç‹¬ç«‹çš„`connect`æ–¹æ³•çš„çŸ¥è¯†ã€‚

[![smalluban image](../Images/6861718a2fd849252ddb6888604c411f.png)](/smalluban) [## å‘Šåˆ«ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä¸“æ³¨äºé«˜æ•ˆçš„ä»£ç 

### å¼ ç§€å¤Â·å¢å·´æ–¯åŸº 1919 å¹´ 1 æœˆ 29 æ—¥ 17 åˆ†é’Ÿé˜…è¯»

#webdev #javascript #webcomponents #functional](/hybrids/how-to-say-goodbye-to-lifecycle-methods-and-focus-on-productive-code-175)

ä½ å¯ä»¥åœ¨[é¡¹ç›®æ–‡æ¡£](https://hybrids.js.org)ä¸­é˜…è¯»æ›´å¤šå…³äºæ··åˆåº“çš„ä¿¡æ¯ã€‚

## ![GitHub logo](../Images/a73f630113876d78cff79f59c2125b24.png)[hybrids js](https://github.com/hybridsjs)/[hybrids](https://github.com/hybridsjs/hybrids)

### ä»æ™®é€šå¯¹è±¡å’Œçº¯å‡½æ•°åˆ›å»º web ç»„ä»¶çš„æœ€ç®€å•æ–¹æ³•ï¼ğŸ’¯

<article class="markdown-body entry-content container-lg" itemprop="text">

# [![hybrids - the web components](../Images/7835334dab31a0355c19ba1881e91e6e.png)](https://raw.githubusercontent.com/hybridsjs/hybrids/master/docs/assets/hybrids-full-logo.svg?sanitize=true)T3ã€‘

[![npm version](../Images/e38aed3fd42d3a246ff244f63d653e08.png)](https://www.npmjs.com/package/hybrids)[![bundle size](../Images/e7096235243d88623d28c0853db0d596.png)](https://bundlephobia.com/result?p=hybrids)[![types](../Images/a28e08b57c6b70b0919ab8465c56c835.png)](https://github.com/hybridsjs/hybrids/blob/master/types/index.d.ts)[![build status](../Images/6acbe72ed8add64a16839f48caf1b2c4.png)](https://travis-ci.com/hybridsjs/hybrids)[![coverage status](../Images/efe2f85a0edbb1ade946f6fee616132a.png)](https://coveralls.io/github/hybridsjs/hybrids?branch=master)[![npm](../Images/9668c23a207d986b16e5fc71f7b421ae.png)](https://www.npmjs.com/package/hybrids)[![gitter](../Images/c4b1678de1d3017fd92d1ceb3704f144.png)](https://gitter.im/hybridsjs/hybrids)[![twitter](../Images/0bd5d9f1184388e52b4a074597fa5b12.png)](https://twitter.com/hybridsjs)[![Conventional Commits](../Images/5c9ec1154f801f65b71e877883f3927c.png)](https://conventionalcommits.org)[![code style: prettier](../Images/76245b01cc15290741bd336634799095.png)](https://github.com/prettier/prettier)[![GitHub](../Images/742d640928cb2cc526e6b43c4de7a98f.png)](https://raw.githubusercontent.com/hybridsjs/hybrids/master/LICENSE)

> <g-emoji class="g-emoji" alias="medal_sports" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3c5.png">ğŸ…</g-emoji>2019 å¹´[å¼€æºå¥–](https://osawards.com/javascript/)çš„**â€œå¹´åº¦çªç ´â€**ç±»å››ä¸ªæåé¡¹ç›®ä¹‹ä¸€

**hybrids** æ˜¯ä¸€ä¸ª UI åº“ï¼Œç”¨äºåˆ›å»º [web ç»„ä»¶](https://www.webcomponents.org/)ï¼Œå®ƒå…·æœ‰åŸºäºç®€å•å¯¹è±¡å’Œçº¯å‡½æ•°çš„ç‹¬ç‰¹å£°æ˜æ€§å’Œå‡½æ•°æ€§æ–¹æ³•ã€‚

*   **æœ€ç®€å•çš„å®šä¹‰**â€”â€”åªæ˜¯ç®€å•çš„å¯¹è±¡å’Œçº¯ç²¹çš„å‡½æ•°â€”â€”æ²¡æœ‰`class`å’Œ`this`è¯­æ³•
*   **æ— å…¨çƒç”Ÿå‘½å‘¨æœŸ** â€”ç‹¬ç«‹çš„èµ„äº§ï¼Œæ‹¥æœ‰è‡ªå·±ç®€åŒ–çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•
*   **ç»§æ‰¿ä¹‹ä¸Šçš„ç»„åˆ** â€”æ˜“äºé‡ç”¨ã€åˆå¹¶æˆ–æ‹†åˆ†å±æ€§æè¿°ç¬¦
*   **è¶…å¿«é€Ÿé‡æ–°è®¡ç®—** â€”æ™ºèƒ½ç¼“å­˜å’Œå˜æ›´æ£€æµ‹æœºåˆ¶
*   **å…¨å±€çŠ¶æ€ç®¡ç†** -æ”¯æŒå¤–éƒ¨å­˜å‚¨çš„æ¨¡å‹å®šä¹‰
*   **æ²¡æœ‰å¤–éƒ¨å·¥å…·çš„æ¨¡æ¿** â€”åŸºäºæ ‡è®°æ¨¡æ¿æ–‡å­—çš„æ¨¡æ¿å¼•æ“
*   **å¼€å‘äººå‘˜å·¥å…·åŒ…æ‹¬** â€”å¼€ç®±å³ç”¨çš„ HMR æ”¯æŒï¼Œå®ç°å¿«é€Ÿæ„‰å¿«çš„å¼€å‘

## å¿«é€ŸæŸ¥æ‰¾

å°† hybrids [npm åŒ…](https://www.npmjs.com/package/hybrids)æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå¯¼å…¥æ‰€éœ€çš„ç‰¹æ€§ï¼Œå¹¶å®šä¹‰æ‚¨çš„è‡ªå®šä¹‰å…ƒç´ :

```
import { html
```

â€¦<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg></article>

[View on GitHub](https://github.com/hybridsjs/hybrids)

* * *

ğŸ™ä½ å¦‚ä½•æ”¯æŒè¿™ä¸ªé¡¹ç›®ï¼Ÿç»™ GitHub åº“ä¸€ä¸ªâ­ï¸ï¼Œåœ¨â¬‡ï¸ä¸‹é¢è¯„è®ºï¼ŒæŠŠæ··è¡€å„¿çš„æ¶ˆæ¯ä¼ æ’­åˆ°å…¨ä¸–ç•ŒğŸ“¢ï¼

* * *

ğŸ‘‹æ¬¢è¿å¼€å‘è€…åŠ å…¥ç¤¾åŒºï¼æˆ‘å« Dominikï¼Œè¿™æ˜¯æˆ‘å†™çš„ç¬¬äºŒç¯‡åšå®¢â€”â€”æ¬¢è¿ä»»ä½•åé¦ˆï¼Œâ¤ï¸.

<small>å°é¢ç…§ç‰‡ç”± [Patrick Robert Doyle](https://unsplash.com/photos/sWGDbVPcPdg) åœ¨[Unsplash](https://unsplash.com)T5 æ‹æ‘„</small>