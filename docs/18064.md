# ç”¨ CSS æ£€æŸ¥è¾“å…¥æ˜¯å¦ä¸ºç©º

> åŸæ–‡:[https://dev . to/zellwk/checking-if-an-input-is-empty-with-CSS-1fn 3](https://dev.to/zellwk/checking-if-an-input-is-empty-with-css-1fn3)

åªæœ‰ CSS æœ‰å¯èƒ½çŸ¥é“ä¸€ä¸ªè¾“å…¥æ˜¯å¦ä¸ºç©ºå—ï¼Ÿ

å½“æˆ‘è¯•å›¾ä¸ºå­¦ä¹  JavaScript åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨å®Œæˆç»„ä»¶æ—¶ï¼Œæˆ‘å°±æœ‰è¿™ä¸ªé—®é¢˜ã€‚åŸºæœ¬ä¸Šï¼Œæˆ‘æƒ³:

1.  å¦‚æœè¾“å…¥ä¸ºç©ºï¼Œéšè—ä¸‹æ‹‰åˆ—è¡¨
2.  å¦‚æœè¾“å…¥å·²å¡«å†™ï¼Œåˆ™æ˜¾ç¤ºä¸‹æ‹‰åˆ—è¡¨

[![autocomplete demo from https://learnjavascript.today](../Images/0e10f0f79fde7f0ce3045565d09d97c4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--cayu69fV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://zellwk.com/images/2018/empty-input-validation-css/autocomplete.gif)

æˆ‘æ‰¾åˆ°äº†åšè¿™ä»¶äº‹çš„æ–¹æ³•ã€‚å®ƒå¹¶ä¸å®Œç¾ã€‚è¿™é‡Œé¢æœ‰ä¸€äº›ç»†å¾®çš„å·®åˆ«ï¼Œä½†æ˜¯æˆ‘æƒ³å’Œä½ åˆ†äº«ä¸€ä¸‹ã€‚

## [](#the-form)å½¢å¼

é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªè¡¨å•ï¼Œè¿™æ ·æˆ‘ä»¬å°±åœ¨åŒä¸€é¡µä¸Šäº†ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªåªæœ‰ä¸€ä¸ªè¾“å…¥çš„ç®€å•è¡¨å•ã€‚

```
<form>
  <label for="input"> Input </label>
  <input type="text" id="input" />
</form> 
```

è¾“å…¥å®Œæˆåï¼Œæˆ‘ä»¬å¸Œæœ›å°†å…¶`border-color`æ›´æ”¹ä¸ºç»¿è‰²ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬æ­£åœ¨åˆ›å»ºçš„ç¤ºä¾‹:

[![when input is filled, borders should turn green](../Images/dcdfa394fbf7eb09f50f97e542f2759d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--eVr-keZe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://zellwk.com/images/2018/empty-input-validation-css/check.gif)

## [](#checking-if-the-input-is-empty)æ£€æŸ¥è¾“å…¥æ˜¯å¦ä¸ºç©º

æˆ‘ä¾é  HTML è¡¨å•éªŒè¯æ¥æ£€æŸ¥è¾“å…¥æ˜¯å¦ä¸ºç©ºã€‚è¿™æ„å‘³ç€æˆ‘éœ€è¦ä¸€ä¸ª`required`å±æ€§ã€‚

```
<form>
  <label> Input </label>
  <input type="text" name="input" id="input" required />
</form> 
```

æ­¤æ—¶ï¼Œå½“è¾“å…¥è¢«å¡«å……æ—¶ï¼Œå®ƒå·¥ä½œå¾—å¾ˆå¥½ã€‚è¾¹æ¡†å˜æˆäº†ç»¿è‰²ã€‚

[![borders turned green when input is filled](../Images/dcdfa394fbf7eb09f50f97e542f2759d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--eVr-keZe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://zellwk.com/images/2018/empty-input-validation-css/check.gif)

ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜:å¦‚æœç”¨æˆ·åœ¨å­—æ®µä¸­è¾“å…¥ç©ºç™½ï¼Œè¾¹æ¡†ä¹Ÿä¼šå˜æˆç»¿è‰²ã€‚

[![Borders turn green even if user enters a whitespace](../Images/d903f81726400b74a5f6338761d680f3.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--h5bqOjDI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://zellwk.com/images/2018/empty-input-validation-css/check-whitespace.gif)

ä»æŠ€æœ¯ä¸Šè®²ï¼Œè¿™æ˜¯æ­£ç¡®çš„ã€‚è¾“å…¥è¢«å¡«å……ï¼Œå› ä¸ºç”¨æˆ·åœ¨å…¶ä¸­è¾“å…¥äº†ä¸€äº›å†…å®¹ã€‚

ä½†æ˜¯æˆ‘ä¸æƒ³è®©ç©ºç™½è§¦å‘ä¸€ä¸ªç©ºç™½çš„ä¸‹æ‹‰èœå•(å¯¹äºè‡ªåŠ¨å®Œæˆç»„ä»¶)ã€‚

è¿™è¿˜ä¸å¤Ÿã€‚æˆ‘éœ€è¦æ›´ä¸¥æ ¼çš„æ£€æŸ¥ã€‚

## [](#further-checks)è¿›ä¸€æ­¥æ£€æŸ¥

HTML è®©æ‚¨èƒ½å¤Ÿä½¿ç”¨å¸¦æœ‰`pattern`å±æ€§çš„æ­£åˆ™è¡¨è¾¾å¼æ¥éªŒè¯è¾“å…¥ã€‚æˆ‘å†³å®šæµ‹è¯•ä¸€ä¸‹ã€‚

å› ä¸ºæˆ‘ä¸æƒ³è®©ç©ºç™½è¢«è¯†åˆ«ï¼Œæ‰€ä»¥æˆ‘ä»`\S+`æ¨¡å¼å¼€å§‹ã€‚è¿™ç§æ¨¡å¼æ„å‘³ç€:ä¸€ä¸ªæˆ–å¤šä¸ªä¸æ˜¯ç©ºæ ¼çš„å­—ç¬¦ã€‚

```
<form>
  <label> Input </label>
  <input type="text" name="input" id="input" required pattern="\S+"/>
</form> 
```

æœç„¶æœ‰æ•ˆã€‚å¦‚æœç”¨æˆ·åœ¨å­—æ®µä¸­è¾“å…¥ç©ºæ ¼ï¼Œè¾“å…¥ä¸ä¼šå¾—åˆ°éªŒè¯ã€‚

[![Input doesn't get validated when whitespaces are entered](../Images/389c8a6b0b6209ba72ea9ee4f5f59f8e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--MX1ols5I--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://zellwk.com/images/2018/empty-input-validation-css/check-pattern-pre1.gif)

ä½†æ˜¯å½“åœ¨è¾“å…¥ä¸­(ä»»ä½•åœ°æ–¹)è¾“å…¥ç©ºæ ¼æ—¶ï¼Œè¾“å…¥å°±ä¼šå¤±æ•ˆã€‚

[![Borders turned from greet to black when a whitespace is added.](../Images/087e5472512a08069bad03a9548be479.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--8PxVIgq---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://zellwk.com/images/2018/empty-input-validation-css/check-pattern1.gif)

ä¸å¹¸çš„æ˜¯ï¼Œè¿™ç§æ¨¡å¼åœ¨æˆ‘çš„ç”¨ä¾‹ä¸­ä¸èµ·ä½œç”¨ã€‚

åœ¨å­¦ä¹  JavaScript è‡ªåŠ¨å®Œæˆç»„ä»¶æ—¶ï¼Œæˆ‘æ•™å­¦ç”Ÿå¦‚ä½•å®Œæˆå›½å®¶åˆ—è¡¨ã€‚ä¸€äº›å›½å®¶çš„åå­—æœ‰ç©ºæ ¼...

[![Dropdown contains countries with names that have spaces in them. For example, United States.](../Images/0e10f0f79fde7f0ce3045565d09d97c4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--cayu69fV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://zellwk.com/images/2018/empty-input-validation-css/autocomplete.gif)

æˆ‘å¿…é¡»åœ¨ç»„åˆä¸­åŒ…å«ç©ºç™½ã€‚

æˆ‘èƒ½æƒ³åˆ°çš„ä¸‹ä¸€ä¸ªæœ€ä½³é€‰æ‹©æ˜¯`\S+.*`ã€‚è¿™æ„å‘³ç€ä¸€ä¸ªæˆ–å¤šä¸ªéç©ºç™½å­—ç¬¦ï¼Œåè·Ÿé›¶ä¸ªæˆ–å¤šä¸ª(ä»»æ„)å­—ç¬¦ã€‚

```
<form>
  <label> Input </label>
  <input type="text" name="input" id="input" required pattern="\S+.*"/>
</form> 
```

è¿™æˆåŠŸäº†ï¼æˆ‘ç°åœ¨å¯ä»¥åœ¨ç»„åˆä¸­è¾“å…¥ç©ºæ ¼äº†ï¼

[![Borders remained green when whitespace is added in the middle of the input](../Images/05fbc3681402bfa6cb3fa53fe21fe83b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--H8tFv9EJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://zellwk.com/images/2018/empty-input-validation-css/check-pattern2.gif)

ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜...å¦‚æœä»¥ç©ºæ ¼å¼€å¤´ï¼Œè¾“å…¥ä¸ä¼šéªŒè¯...

[![Borders turned black when whitespace is added to the start of input](../Images/3a807c15ed67919fbda2b8e0113e97d1.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--i-iqA2T---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://zellwk.com/images/2018/empty-input-validation-css/check-pattern3.gif)

è¿™å°±æ˜¯æˆ‘æ— æ³•è§£å†³çš„é—®é¢˜ã€‚ç¨åå°†è¯¦ç»†ä»‹ç»ã€‚

åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œæˆ‘é‡åˆ°äº†å¦ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜:å½“è¾“å…¥å¡«å……ä¸æ­£ç¡®æ—¶ï¼Œæ˜¯å¦æœ‰å¯èƒ½è®¾è®¡æ— æ•ˆçŠ¶æ€çš„æ ·å¼ï¼Ÿ

## [](#invalidating-the-input)ä½¿è¾“å…¥æ— æ•ˆ

æˆ‘ä»¬ä¸æƒ³ä½¿ç”¨`:invalid`,å› ä¸ºæˆ‘ä»¬ä¼šç”¨ä¸€ä¸ªæ— æ•ˆçš„çŠ¶æ€å¯åŠ¨è¾“å…¥ã€‚(å½“è¾“å…¥ä¸ºç©ºæ—¶ï¼Œå®ƒå·²ç»æ— æ•ˆ)ã€‚

è¿™å°±æ˜¯ Chris Coyier ç”¨â€œ[HTML å’Œ CSS ä¸­çš„è¡¨å•éªŒè¯ UX](https://css-tricks.com/form-validation-ux-html-css/)â€æ¥æ‹¯æ•‘æˆ‘ä»¬çš„åœ°æ–¹ã€‚

åœ¨æ–‡ç« ä¸­ï¼ŒChris è°ˆåˆ°äº†ä¸€ä¸ª`:placeholder-shown`ä¼ªç±»ã€‚å®ƒå¯ç”¨äºæ£€æŸ¥æ˜¯å¦æ˜¾ç¤ºäº†å ä½ç¬¦ã€‚

è¿™ä¸ªæƒ³æ³•æ˜¯:

1.  æ‚¨å¯ä»¥åœ¨è¾“å…¥ä¸­æ·»åŠ ä¸€ä¸ªå ä½ç¬¦
2.  å¦‚æœè¾“å…¥æ˜¯éšè—çš„ï¼Œè¿™æ„å‘³ç€ç”¨æˆ·åœ¨å­—æ®µä¸­è¾“å…¥äº†ä¸€äº›å†…å®¹
3.  ç»§ç»­éªŒè¯(æˆ–æ— æ•ˆ)

ä¸‹é¢æ˜¯ CSS(ç®€åŒ–ç‰ˆã€‚å®Œæ•´ç‰ˆæœ¬ï¼Œè¯·æŸ¥çœ‹å…‹é‡Œæ–¯çš„æ–‡ç« 

```
/* Show red borders when filled, but invalid */
input:not(:placeholder-shown) {
  border-color: hsl(0, 76%, 50%);
} 
```

å› ä¸ºæˆ‘æœ‰éªŒè¯å’Œæ— æ•ˆæ ·å¼ï¼Œæ‰€ä»¥æˆ‘å¿…é¡»ç¡®ä¿æœ‰æ•ˆæ ·å¼åœ¨æ— æ•ˆæ ·å¼ä¹‹åã€‚

```
/* Show red borders when filled, but invalid */
input:not(:placeholder-shown) {
  border-color: hsl(0, 76%, 50%);;
}

/* Show green borders when valid */
input:valid {
  border-color: hsl(120, 76%, 50%);
} 
```

è¿™é‡Œæœ‰ä¸€ä¸ªæ¼”ç¤ºä¾›æ‚¨ä½¿ç”¨:

è§ [CodePen](https://codepen.io) ä¸Š Zell Liew ( [@zellwk](https://codepen.io/zellwk) )çš„ç¬”[çº¯ CSS ç©ºéªŒè¯](https://codepen.io/zellwk/pen/dgEKxX/)ã€‚

æ³¨æ„:Edge ä¸æ”¯æŒ`:placeholder-shown`ï¼Œæ‰€ä»¥ç°åœ¨è¿˜ä¸å¤ªå¯èƒ½ç”¨åœ¨ç”Ÿäº§ä¸­ã€‚æ²¡æœ‰å¥½çš„æ–¹æ³•æ¥æ£€æµ‹è¿™ä¸ªç‰¹æ€§ã€‚

ç°åœ¨å›åˆ°æˆ‘æ— æ³•è§£å†³çš„é—®é¢˜ã€‚

## [](#the-problem-with-pattern)æ ¼å±€é—®é¢˜

å±æ€§å¾ˆæ£’ï¼Œå› ä¸ºå®ƒå…è®¸æ‚¨æ¥å—ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼å…è®¸æ‚¨ç”¨æ‚¨èƒ½æƒ³åˆ°çš„ä»»ä½•ä¸œè¥¿æ¥éªŒè¯è¾“å…¥ã€‚

ä½†æ˜¯...**æ­£åˆ™è¡¨è¾¾å¼å¿…é¡»ä¸æ–‡æœ¬å®Œå…¨åŒ¹é…**ã€‚å¦‚æœæ–‡æœ¬æ²¡æœ‰å®Œå…¨åŒ¹é…ï¼Œè¾“å…¥å°±ä¼šå¤±æ•ˆã€‚

è¿™å°±äº§ç”Ÿäº†æˆ‘ä¸Šé¢æåˆ°çš„é—®é¢˜ã€‚(é—®é¢˜æé†’:å¦‚æœç”¨æˆ·å…ˆè¾“å…¥ç©ºæ ¼ï¼Œè¾“å…¥å°†æ— æ•ˆ)ã€‚

æˆ‘æ‰¾ä¸åˆ°ä¸€ä¸ªé€‚ç”¨äºæˆ‘æƒ³åˆ°çš„æ‰€æœ‰ç”¨ä¾‹çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚å¦‚æœæ‚¨æƒ³å°è¯•åˆ›å»ºæˆ‘éœ€è¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘éå¸¸æ¬¢è¿æ‚¨çš„å¸®åŠ©ï¼

ä»¥ä¸‹æ˜¯ä½¿ç”¨æ¡ˆä¾‹:

```
// Should not match
''
'  '
'  '
'  '

// Should match
'one-word'
'one-word '
' one-word'
' one-word '
'one phrase with whitespace'
'one phrase with whitespace '
' one phrase with whitespace'
' one phrase with whitespace ' 
```

(è¯è¯´å›æ¥ï¼Œæˆ‘å¯èƒ½æƒ³å¤šäº†...ğŸ™„).

## [](#update-problem-solved)æ›´æ–°:é—®é¢˜è§£å†³ï¼

è®¸å¤šè¯»è€…éå¸¸æ…·æ…¨åœ°æŠŠä»–ä»¬çš„è§£å†³æ–¹æ¡ˆå‘é‚®ä»¶ç»™æˆ‘ã€‚æˆ‘æƒ³æ„Ÿè°¢æ‰€æœ‰å¸®åŠ©è¿‡æˆ‘çš„äººã€‚éå¸¸æ„Ÿè°¢ï¼

æˆ‘æ”¶åˆ°çš„æœ€å¹²å‡€çš„è§£å†³æ–¹æ¡ˆæ˜¯:[ä¸¹å°¼å°”Â·å¥¥åº·çº³](https://www.nvinteractive.com)ã€‚è¿™æ„å‘³ç€:

*   `.*`:ä»»æ„å­—ç¬¦
*   `\S`:è·Ÿéš*ä¸€ä¸ª*éç©ºç™½å­—ç¬¦
*   `.*`:åè·Ÿä»»æ„å­—ç¬¦

æˆ‘æ”¶åˆ°çš„å…¶ä»–æ­£åˆ™è¡¨è¾¾å¼åŒ…æ‹¬:

*   `.*\S+.*`ç”±[é©¬ç‰¹è²‚](https://twitter.com/matthewjmink)åˆ¶ä½œã€‚
*   `\s*\S.*`ä½œè€…[èµµæ¾æ–Œ](https://github.com/pcr910303)
*   `^\s?(?=\S).`ç”±[åº·æ–¯å¦ä¸](https://twitter.com/KonstantinRouda)è¿›è¡Œå‰ç»

è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„ï¼

è¿™é‡Œæœ‰ä¸€ä¸ªç”±ä¸¹å°¼å°”æ›´æ–°è§£å†³æ–¹æ¡ˆçš„ä»£ç ç¬”:

è§ [CodePen](https://codepen.io) ä¸Š Zell Liew ( [@zellwk](https://codepen.io/zellwk) )çš„ç¬”[çº¯ CSS ç©ºéªŒè¯](https://codepen.io/zellwk/pen/NeRaPw/)ã€‚

## [](#wrapping-up)åŒ…è£…å®Œæ¯•

æ˜¯çš„ï¼Œç”¨çº¯ CSS éªŒè¯è¡¨å•æ˜¯å¯èƒ½çš„ï¼Œä½†æ˜¯å½“æ¶‰åŠåˆ°ç©ºç™½å­—ç¬¦æ—¶ï¼ŒéªŒè¯å°±æœ‰æ½œåœ¨çš„é—®é¢˜ã€‚

å¦‚æœä½ ä¸ä»‹æ„ç•™ç™½ï¼Œé‚£å°±å®Œç¾äº†ã€‚ä½“éªŒè¿™ç§æ¨¡å¼çš„ä¹è¶£å§ï¼(ä¸å¥½æ„æ€ï¼Œæ²¡åŠæ³•)ã€‚

* * *

æ„Ÿè°¢é˜…è¯»ã€‚è¿™ç¯‡æ–‡ç« æœ€åˆå‘è¡¨åœ¨æˆ‘çš„åšå®¢ä¸Šã€‚å¦‚æœä½ æƒ³è¦æ›´å¤šçš„æ–‡ç« æ¥å¸®åŠ©ä½ æˆä¸ºä¸€ä¸ªæ›´å¥½çš„å‰ç«¯å¼€å‘è€…ï¼Œè¯·æ³¨å†Œ[æˆ‘çš„æ—¶äº‹é€šè®¯](https://zellwk.com)ã€‚