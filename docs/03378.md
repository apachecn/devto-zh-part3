# ç†è§£ ES6 Javascript ä¸­çš„ç”Ÿæˆå™¨

> åŸæ–‡:[https://dev . to/tuanphuncz/understanding-generators-in-es6-JavaScript-7fm](https://dev.to/tuanphungcz/understanding-generators-in-es6-javascript-7fm)

ä¹Ÿè®¸ä½ åœ¨ ES6 ä¸­å¬è¯´è¿‡è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ–è€…ä½ åªæ˜¯æ²¡æœ‰æ—¶é—´ç©å®ƒã€‚

è¿™æ˜¯æˆ‘å‡ å¤©å‰å­¦åˆ°çš„ä¸œè¥¿ï¼Œéå¸¸é…·ã€‚

æˆ‘åˆ†å‡ æ­¥ç»™ä½ è§£é‡Šä¸€ä¸‹ã€‚

æ‰€ä»¥**å‘ç”Ÿå™¨**çœ‹èµ·æ¥åƒä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œä½†æ˜¯å®ƒå…è®¸æˆ‘ä»¬**æš‚åœ**å‡½æ•°çš„æ‰§è¡Œï¼Œ**ç¨åç»§ç»­**å®ƒã€‚

ä¸‹é¢ä½ å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç”Ÿæˆå™¨çš„ä¾‹å­ï¼Œæˆ‘ä»¬å°†åˆ†è§£å®ƒæ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„:

```
function* avengersGenerator() { // Declaring the generator
  yield "Hulk"; // Pausing the execution
  yield "Thor";
  yield "Iron man";
  return "Ultron"; // Example of finishing the generator
  yield "Spiderman";
}

const iterator = avengersGenerator(); // Creating iterator

iterator.next(); // Iterating on the generator 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[code sandbox . io ä¸Šçš„æºä»£ç ](https://codesandbox.io/s/7jkr9y3o81)

## [](#declaring-the-generator)å®£å‘Šå‘ç”µæœº

ç”Ÿæˆå™¨çœ‹èµ·æ¥ä¸æ™®é€šå‡½æ•°ç›¸ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯æˆ‘ä»¬å¿…é¡»åœ¨å‡½æ•°çš„**åé¢å®šä¹‰ä¸€ä¸ª`*`(æ˜Ÿå·)ã€‚** 

```
function* avengersGenerator() {
  ...
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#yield-it)å±ˆæœå§ï¼

æˆ‘ä»¬å¯ä»¥`yield`è¿™ä¸ªå‡½æ•°ï¼Œå®ƒåŸºæœ¬ä¸Šä¼šåœ¨åˆ°è¾¾ç¬¬ä¸€ä¸ª`yield`æ—¶åœæ­¢å‡½æ•°çš„æ‰§è¡Œã€‚

```
function* avengersGenerator() {
  yield "Hulk" // The execution would pause here.
  yield "Iron man" // When we resume we would start here.
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#creating-the-iterator)åˆ›å»ºè¿­ä»£å™¨

åœ¨è¿­ä»£å™¨ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å‡†å¤‡å¥½å‘ç”µæœºäº†ã€‚

```
const iterator = avengersGenerator(); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#next-method)ä¸‹ä¸€ä¸ªæ–¹æ³•

è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿç»§ç»­æ‰§è¡Œè¯¥åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œè¯¥æ–¹æ³•è¿˜ä¸ºæˆ‘ä»¬æä¾›äº†å…·æœ‰ç”Ÿæˆå€¼çš„å¯¹è±¡ï¼Œä»¥åŠç”Ÿæˆå™¨æ˜¯å¦å·²ç»ç”Ÿæˆäº†å®ƒçš„æœ€åä¸€ä¸ªå€¼ï¼Œå¦‚å¸ƒå°”å€¼ã€‚

```
iterator.next(); // [1] Object {value: "Hulk", done: false}
iterator.next(); // [2] Object {value: "Thor", done: false}
iterator.next(); // [3] Object {value: "Iron man", done: false}
iterator.next(); // [4] Object {value: undefined, done: true} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#return-exiting)è¿”å›/é€€å‡º

ä¸€æ—¦è°ƒç”¨äº† returnï¼Œå®ƒå°†å®Œæˆç”Ÿæˆå™¨ã€‚å®ƒåŸºæœ¬ä¸Šå°†`done`å±æ€§è®¾ç½®ä¸º`true`ã€‚

```
function* avengersGenerator() {
  yield "Hulk";
  return "Ultron"; // Example of finishing the generator
  yield "Thor"; //  Sad Thor and Spiderman wouldn't be called
  yield "Spiderman";
}

iterator.next(); // [1] Object {value: "Hulk", done: false}
iterator.next(); // [2] Object {value: "Ultron", done: true} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨æˆ‘çœ‹æ¥ï¼Œå‘ç”µæœºæ˜¯ä¸€ä¸ªå¾ˆé…·çš„ç©ç‰©ï¼Œæˆ–è€…è‡³å°‘çŸ¥é“å®ƒæ˜¯åšä»€ä¹ˆçš„ã€‚

åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è§£é‡Šï¼Œç”±äºåœ¨ ES6 ä¸­ä½¿ç”¨**å‘ç”µæœº**å¯ä»¥åœ¨éœ€è¦æ—¶**å–æ¶ˆæ‰¿è¯º**ï¼Œå‘ç”µæœºå¦‚ä½•å¸®åŠ©æˆ‘è§£å†³äº†å·¥ä½œä¸­çš„ä¸€ä¸ªæ¡ˆä¾‹ã€‚

* * *

æˆ‘ç»ˆäºæœ‰æ—¶é—´å†™å¦ä¸€ç¯‡å…³äºå‘ç”µæœºçš„åšæ–‡äº†ï¼Œæ‰€ä»¥å¼€å§‹å§ğŸ‘‰[åœ¨ ES6 Javascript ä¸­ç”¨ç”Ÿæˆå™¨å–æ¶ˆæ‰¿è¯º](https://dev.to/phung_cz/canceling-promises-with-generators-in-es6-javascript-d01)

* * *

## [](#thanks-for-reading)æ„Ÿè°¢é˜…è¯»

è®©æˆ‘çŸ¥é“ä½ å¯¹è¿™ä¸ª**å‘ç”µæœºç³»åˆ—**çš„çœ‹æ³•ã€‚å¦‚æœä½ çˆ±å®ƒï¼Œä½ çŸ¥é“è¯¥æ€ä¹ˆåšï¼åˆ†äº«ç»™ä½ çš„æœ‹å‹å’ŒåŒäº‹ã€‚

å¦‚æœä½ å¸Œæœ›æˆ‘åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­æ¶‰åŠä¸€äº›è¯é¢˜ï¼Œè¯·åœ¨è¿™é‡Œçš„ [dev.to](https://dev.to/phung_cz) æˆ– twitter [@phung_cz](https://twitter.com/phung_cz) ä¸Šç»™æˆ‘å‘æ¶ˆæ¯ï¼Œæˆ–è€…å¦‚æœä½ æœ‰ä»»ä½•å»ºè®®ï¼Œæ¬¢è¿åœ¨ä¸‹é¢å‘è¡¨è¯„è®ºã€‚

ä¸‹æ¬¡è§ï¼Œç»§ç»­é»‘âœŒ