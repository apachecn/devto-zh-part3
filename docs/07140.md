# React ä¸­ä½¿ç”¨ React è·¯ç”±å™¨çš„åŸºæœ¬è·¯ç”±

> åŸæ–‡:[https://dev . to/param Harrison/basic-routing-in-react-using-react-router-406 e](https://dev.to/paramharrison/basic-routing-in-react-using-react-router-406e)

> åœ¨ [Twitter](https://twitter.com/learnwithparam) ä¸Šå…³æ³¨æˆ‘ï¼Œå¾ˆé«˜å…´æ¥å—æ‚¨å¯¹ä¸»é¢˜æˆ–æ”¹è¿›çš„å»ºè®®

React æ˜¯å¹¿æ³›ç”¨äºå®¢æˆ·ç«¯ web åº”ç”¨ç¨‹åºçš„åº“ã€‚åœ¨ä»»ä½• web åº”ç”¨ç¨‹åºä¸­ï¼Œéƒ½ä¼šæœ‰å¤šä¸ªé¡µé¢ã€‚æ­£ç¡®è·¯ç”± URL å¹¶æ ¹æ®è·¯ç”±å‚æ•°åŠ è½½ä¸åŒçš„é¡µé¢æ˜¯ä¸€ä¸ªæ™®éè¦æ±‚ã€‚

æœ‰ä¸€ä¸ªå¾ˆæ£’çš„ npm åŒ…ï¼Œå®ƒå°†æ‰€æœ‰çš„å¤æ‚æ€§ç”¨äº React ä¸­çš„è·¯ç”±ç›®çš„ã€‚`react-router-dom`æ˜¯å¹¿æ³›ä½¿ç”¨çš„ react åº“ä¹‹ä¸€ã€‚

## [](#basic-routing)åŸºæœ¬è·¯ç”±

è®©æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªç®€å•çš„é¡µé¢

*   é¦–é¡µ(`/`)
*   å…³äºé¡µé¢(`/about`)

ä½¿ç”¨`create-react-app` CLI åˆ›å»ºä¸€ä¸ªç®€å•çš„ react åº”ç”¨ã€‚ç”¨ npx - `npx create-react-app my-react-app`
å¾ˆå®¹æ˜“

```
// App.js
import React from 'react';

const App = () => {
  return (
    <section className="App">
      <h1>React routing Example</h1>
    </section>
  );
};

export default App; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è®©æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªé¡µé¢ã€‚ç®€å•åœ°è¯´ï¼Œä¸¤ä¸ªåŠŸèƒ½ååº”ç»„åˆ†ã€‚

```
// App.js
...

const IndexPage = () => {
  return (
    <h3>Home Page</h3>
  );
};

const AboutPage = () => {
  return (
    <h3>About Page</h3>
  );
};

... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨æ·±å…¥ç ”ç©¶ react è·¯ç”±å™¨ä»£ç ä¹‹å‰ï¼Œé¦–å…ˆè®©æˆ‘ä»¬äº†è§£ä¸€ä¸‹ï¼Œåœ¨ react åº”ç”¨ç¨‹åºä¸­è·¯ç”±ä¸€ä¸ªé¡µé¢éœ€è¦ä»€ä¹ˆã€‚

*   å°†æœ‰é¡µé¢ä¹‹é—´çš„å¯¼èˆªé“¾æ¥ã€‚
*   å®šä¹‰åˆ°é¡µé¢çš„è·¯å¾„ã€‚å®ƒå®šä¹‰äº† URL è·¯å¾„å’Œä¸º URL åŠ è½½çš„ç»„ä»¶ã€‚
*   å®šä¹‰ä¸€ä¸ªè·¯ç”±å™¨ï¼Œå®ƒå°†æ£€æŸ¥æ‰€è¯·æ±‚çš„ URL æ˜¯å¦å­˜åœ¨äºå®šä¹‰çš„è·¯ç”±ä¸­ã€‚

è®©æˆ‘ä»¬ä½¿ç”¨ react è·¯ç”±å™¨çš„`Link`å’Œ`Route`ç»„ä»¶åˆ›å»ºé“¾æ¥å’Œè·¯ç”±ã€‚é¦–å…ˆå®‰è£…åŒ…`yarn add react-router-dom`ã€‚

```
// App.js
...
import { Link, Router as BrowserRouter, Route } from 'react-router-dom';
...

const App = () => {
  return (
    <section className="App">
      <Router>
        <Link to="/">Home</Link>
        <Link to="/about">About</Link>
        <Route path="/" component={IndexPage} />
        <Route path="/about" component={AboutPage} />
      </Router>
    </section>
  );
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è®©æˆ‘ä»¬åˆ†åˆ«æµè§ˆæ¯ä¸€è¡Œ

```
import { Link, Router as BrowserRouter, Route } from 'react-router-dom'; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œæˆ‘ä»¬å¯¼å…¥ä¸‰ä¸ªç»„ä»¶ï¼Œ

*   `Link`ç»„ä»¶å°†åˆ›å»ºé¡µé¢çš„ HTML é“¾æ¥ã€‚
*   `Route`ç»„ä»¶å°†å®šä¹‰è·¯çº¿ã€‚
*   ç»„ä»¶å°†å¤„ç†è·¯ç”±çš„é€»è¾‘ã€‚å½“ç”¨æˆ·ç‚¹å‡»é“¾æ¥æ—¶ï¼Œå®ƒæ£€æŸ¥è¯¥é“¾æ¥æ˜¯å¦å­˜åœ¨äºè·¯çº¿å®šä¹‰ä¸­ã€‚å¦‚æœå­˜åœ¨ï¼Œè·¯ç”±å™¨å°†åœ¨æµè§ˆå™¨ä¸­æ›´æ”¹ URLï¼Œroute å°†å‘ˆç°æ­£ç¡®çš„ç»„ä»¶ã€‚

> æµè§ˆå™¨è·¯ç”±å™¨æ˜¯è·¯ç”±å™¨çš„ä¸€ç§ï¼Œä¹Ÿæ˜¯åº”ç”¨æœ€å¹¿æ³›çš„è·¯ç”±å™¨ã€‚å®ƒä½¿ç”¨ç»„ä»¶ä¸‹çš„ HTML5 æ¨é€çŠ¶æ€æ¥è·¯ç”±æ‚¨çš„é¡µé¢ã€‚åœ¨æœ¬ç³»åˆ—çš„åé¢ï¼Œæˆ‘ä»¬å°†æ›´è¯¦ç»†åœ°è®¨è®ºä¸åŒç±»å‹çš„è·¯ç”±å™¨ã€‚

```
// Link with URL
<Router>
  <Link to="/">Home</Link>
  <Link to="/about">About</Link>
</Router> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`Router`åº”è¯¥æ˜¯åŒ…å›´`Link`å’Œ`Route`çš„çˆ¶ç»„ä»¶ã€‚ä»¥ä¾¿å®ƒèƒ½å¤Ÿå¤„ç†è·¯ç”±ã€‚å¦‚æœæˆ‘ä»¬å°†é“¾æ¥æˆ–è·¯çº¿æ”¾åœ¨å¤–é¢ï¼Œå®ƒå°†ä¸èµ·ä½œç”¨ã€‚å®ƒå°†æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚

`Link`æ¥å—`to` propsï¼Œå®ƒå®šä¹‰äº†è¦é“¾æ¥çš„ URLã€‚

#### [](#why-do-we-need-link-component-why-not-a-html-anchor-tag-with-href)ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦é“¾æ¥ç»„ä»¶ï¼Œä¸ºä»€ä¹ˆä¸éœ€è¦ä¸€ä¸ªå¸¦æœ‰ href çš„ HTML é”šæ ‡ç­¾ï¼Ÿ

*   HTML `a`æ ‡ç­¾å°†åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨ç«¯é“¾æ¥ã€‚å› æ­¤ï¼Œæ¯æ¬¡ç”¨æˆ·ç‚¹å‡»è·¯ç”±æ—¶ï¼Œå®ƒä¸ä¼šæ£€æŸ¥è·¯ç”±å™¨æˆ–è·¯ç”±ã€‚ç›¸åï¼Œå®ƒåªæ˜¯å°†æµè§ˆå™¨ä¸­çš„é¡µé¢é‡å®šå‘åˆ°è¯¥è·¯ç”±ã€‚
*   è€Œ Link æ£€æŸ¥è·¯ç”±å™¨ï¼Œè·¯ç”±å™¨æ£€æŸ¥è·¯ç”±å¹¶åŠ è½½ç»„ä»¶ï¼Œæ— éœ€åœ¨æµè§ˆå™¨ä¸­é‡æ–°åŠ è½½é¡µé¢ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒè¢«ç§°ä¸ºå®¢æˆ·ç«¯è·¯ç”±ã€‚å½“ç‚¹å‡»é“¾æ¥ç»„ä»¶æ—¶ï¼Œå®ƒä¸ä¼šä»æœåŠ¡å™¨åŠ è½½é¡µé¢ã€‚

```
// Route with definition
<Route path="/" component={IndexPage} /> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œ`Route`æœ‰è·¯å¾„å’Œç»„ä»¶é“å…·ã€‚`component`å½“ç”¨æˆ·æ¥åˆ°è¿™æ¡è·¯çº¿æ—¶ï¼Œprops å¸®åŠ©æ¸²æŸ“ç»„ä»¶ã€‚`path` props å®šä¹‰äº†ç”¨æˆ·è®¿é—®é¡µé¢æ—¶è¦åŒ¹é…çš„ url è·¯å¾„ã€‚

å¦‚æœä½ ç»§ç»­ä¸‹å»ï¼Œæ£€æŸ¥æˆ‘ä»¬çš„è·¯çº¿æ˜¯å¦å·¥ä½œï¼Œå®ƒä¼šå·¥ä½œã€‚ä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªå°æ•…éšœã€‚

å¦‚æœæ‚¨å•å‡» about é“¾æ¥ï¼Œå®ƒå°†åœ¨é¡µé¢ä¸­å‘ˆç°`IndexPage`å’Œ`AboutPage`ç»„ä»¶ã€‚ä¸ºä»€ä¹ˆğŸ¤”

å› ä¸ºä¸º about å®šä¹‰çš„è·¯å¾„æ˜¯`/about`ã€‚åœ¨è¿™é‡Œï¼Œè·¯ç”±å™¨ä»ä¸Šåˆ°ä¸‹éå†è·¯ç”±å®šä¹‰ã€‚é¦–å…ˆæ£€æŸ¥è·¯å¾„ä¸º`/`çš„è·¯ç”±ï¼Œabout URL æœ‰`/`ï¼Œæ‰€ä»¥å®ƒé¦–å…ˆå‘ˆç° IndexPage ç»„ä»¶ã€‚ç„¶åå®ƒæ£€æŸ¥ä¸‹ä¸€æ¡è·¯çº¿`/about`ï¼Œä¹Ÿæ˜¯åŒ¹é…çš„ï¼Œæ‰€ä»¥å®ƒå‘ˆç° AboutPage ç»„ä»¶ã€‚

#### [](#how-to-match-exact-route)å¦‚ä½•åŒ¹é…ç²¾ç¡®è·¯çº¿ï¼Ÿ

å¾ˆç®€å•ï¼Œé—®é¢˜æœ¬èº«å°±æœ‰ç­”æ¡ˆğŸ˜ã€‚åœ¨è·¯çº¿ä¸­ä½¿ç”¨`exact`é“å…·ã€‚

```
...

const App = () => {
  return (
    <section className="App">
      <Router>
        <Link to="/">Home</Link>
        <Link to="/about">About</Link>
        <Route exact path="/" component={IndexPage} />
        <Route exact path="/about" component={AboutPage} />
      </Router>
    </section>
  );
};

... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åªæœ‰å½“æ•´æ¡è·¯å¾„åŒ¹é…æ—¶ï¼Œprop æ‰ä¼šå¸®åŠ©åŒ¹é…è·¯å¾„ï¼Œå¦åˆ™å®ƒä¸ä¼šæ¸²æŸ“ç»„ä»¶ã€‚

ç°åœ¨ï¼Œç»„ä»¶å°†å‘ˆç°è‰¯å¥½ï¼Œé“¾æ¥å°†æ­£å¸¸å·¥ä½œã€‚

[https://codesandbox.io/embed/9j8l8325qy](https://codesandbox.io/embed/9j8l8325qy)

å„ä½ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„å…¨éƒ¨å†…å®¹ï¼Œæ‚¨å·²ç»å®Œæˆäº† React è·¯ç”±å™¨ç³»åˆ—çš„ç¬¬ 1 éƒ¨åˆ†ã€‚å¸Œæœ›ä½ å–œæ¬¢ä¸‹ä¸€ä¸ªå¤§çš„ react åº”ç”¨ç¨‹åºï¼Œå¹¶ä»ä¸­å­¦ä¹ åˆ°ä¸€äº›ä¸œè¥¿ğŸ¤—

ä½ å¯ä»¥æŸ¥çœ‹è¿™ä¸ªç³»åˆ—çš„ä»£ç åº“[è¿™é‡Œ](https://github.com/learnwithparam/react-router-series)å’Œè¿™ä¸ªéƒ¨åˆ†çš„ä»£ç [è¿™é‡Œ](https://github.com/learnwithparam/react-router-series/commit/3db2531748a6f314f108c4b1024118c2d89e41a3)

> æ³¨:æœ¬æ–‡æœ€åˆæ˜¯ä¸º[æˆ‘çš„åšå®¢](https://learnwithparam.com/blog/basic-routing-in-react-router/)å†™çš„ã€‚æˆ‘åœ¨è¿™é‡Œä¸ºç¥å¥‡çš„å¼€å‘è€…ç¤¾åŒºé‡æ–°å‘å¸ƒå®ƒã€‚