# ä»Šå¤©çš„ rails å®‰å…¨æ›´æ–°ç”¨ç®€å•çš„è‹±è¯­ä»‹ç»

> åŸæ–‡:[https://dev . to/ajsharp/todays-rails-security-update-in-plain-English-5h 88](https://dev.to/ajsharp/todays-rails-security-update-in-plain-english-5h88)

*äº¤å‰å‘å¸ƒè‡ª[åˆ†äº«ç§˜å¯†åšå®¢](https://blog.sharesecret.co/todays-rails-security-update-plain-english/)ã€‚*

* * *

ä»Šå¤©æ—©äº›æ—¶å€™ï¼ŒRails å›¢é˜Ÿ[æ¨å‡ºäº†æ–°ç‰ˆæœ¬](https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/)æ¥ä¿®è¡¥ä¸‰ä¸ªå®‰å…¨æ¼æ´:

1.  [CVE-2019-5418](https://groups.google.com/forum/#!topic/rubyonrails-security/pFRKI96Sm8Q) :åŠ¨ä½œæŸ¥çœ‹æ–‡ä»¶å†…å®¹å…¬å¼€
2.  [CVE-2019-5419](https://groups.google.com/forum/#!topic/rubyonrails-security/GN7w9fFAQela) :è¡ŒåŠ¨æŸ¥çœ‹æ‹’ç»æœåŠ¡(DOS)
3.  [CVE-2019-5420](https://groups.google.com/forum/#!topic/rubyonrails-security/IsQKvDqZdKw) : Rails å¼€å‘æ¨¡å¼è¿œç¨‹ä»£ç æ‰§è¡Œ(RCE)

æˆ‘å·²ç»æŒ‰ç…§ä¸¥é‡æ€§çš„é¡ºåºè§£å†³äº†ä¸‹é¢çš„æ¼æ´ã€‚

**æ³¨æ„: [rails å‡çº§æŒ‡å—](https://guides.rubyonrails.org/upgrading_ruby_on_rails.html)æ˜¯å‡çº§ä½ çš„ rails åº”ç”¨çš„ä¸€ä¸ªå¾ˆå¥½çš„èµ„æºã€‚**

## [](#action-view-denial-of-service-dos)ğŸš¨ ğŸš¨ ğŸš¨ ğŸš¨ ğŸš¨ ğŸ”¥æ“ä½œæŸ¥çœ‹æ‹’ç»æœåŠ¡(DOS)

**æŠ¥è­¦ç­‰çº§:**äº”çº§ç«è­¦ã€‚ç«‹å³ä¿®è¡¥ã€‚

å¦‚æœæ‚¨æ­£åœ¨æ¸²æŸ“æ¨¡æ¿ï¼Œæ‚¨å‡ ä¹è‚¯å®šä¼šå—åˆ° DOS æ”»å‡»ã€‚è¿™ä¸ªçœŸçš„å¾ˆç³Ÿç³•ã€‚ç«‹å³æ‰“è¡¥ä¸/å‡çº§ã€‚

ä½¿ç”¨ç‰¹åˆ¶çš„æ ‡é¢˜ï¼Œæ‚¨å¯ä»¥é€šè¿‡åˆ©ç”¨æ¨¡æ¿ä½ç½®ä»£ç æ¥æœ€å¤§é™åº¦åœ°åˆ©ç”¨ CPUã€‚åŒ…è£…åœ¨`respond_to`å—ä¸­çš„æ¸²æŸ“æ¨¡æ¿æ˜¯å®‰å…¨çš„ã€‚å¦åˆ™ï¼Œä½ å¾ˆè„†å¼±ã€‚

æ˜“å—æ”»å‡»:

```
class UserController < ApplicationController 
  def index 
    render "index" 
  end 
end 
```

ä¸è„†å¼±:

```
class UserController < ApplicationController 
  def index 
    respond_to |format| 
      format.html { render "index" } 
    end 
  end 
end 
```

[é˜…è¯»æ›´å¤š](https://groups.google.com/forum/#!topic/rubyonrails-security/GN7w9fFAQeI)

## [](#action-view-file-content-disclosure)ğŸš¨ ğŸš¨ ğŸš¨ ğŸš¨ ğŸš¨ ğŸ”¥æ“ä½œæŸ¥çœ‹æ–‡ä»¶å†…å®¹å…¬å¼€

**æŠ¥è­¦ç­‰çº§:**äº”çº§ç«è­¦ã€‚ç«‹å³ä¿®è¡¥ã€‚

é€šè¿‡ä½¿ç”¨ç‰¹åˆ¶çš„å¤´ï¼Œå¦‚æœä½¿ç”¨`render file: 'filename'`ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹ä»»æ„æ–‡ä»¶çš„å†…å®¹ã€‚ä¸å¤ªå¥½ã€‚

å¥½æ¶ˆæ¯æ˜¯:å¦‚æœä½ åªæ˜¯æ¸²æŸ“æ™®é€šæ¨¡æ¿ï¼Œä½ ä¸ä¼šå—åˆ°è¿™ä¸ªæ¼æ´çš„å½±å“*ï¼Œå°½ç®¡ä½ å¯èƒ½ä¼šå—åˆ° CVE 2019-5419 çš„å½±å“ã€‚*

[é˜…è¯»æ›´å¤š](https://groups.google.com/forum/#!topic/rubyonrails-security/pFRKI96Sm8Q)

## [](#rails-development-mode-rce)ğŸš¨RCE é“è·¯å‘å±•æ¨¡å¼

**æŠ¥è­¦ç­‰çº§:**ä¸å¥½ï¼Œä½†æ˜¯å›å»ç¡è§‰ã€‚æ—©ä¸Šä¿®å¥½å®ƒã€‚

ç”±äº rails å¦‚ä½•åœ¨å¼€å‘æ¨¡å¼ä¸­ç”Ÿæˆ`secret_key_base`**â€”â€”åº”ç”¨ç¨‹åºæ¨¡å—åç§°çš„ MD5 å¦‚æœæ‚¨çŸ¥é“åº”ç”¨ç¨‹åºçš„åç§°ï¼Œæ‚¨å°±å¯ä»¥è®¡ç®—å‡ºå¯†é’¥ã€‚åªè¦ä½ æ²¡æœ‰å¼€å‘æ¨¡å¼çš„åº”ç”¨ç¨‹åºæš´éœ²åœ¨å…¬ä¼—é¢å‰ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ï¼Œä½†ä»ç„¶æ˜¯å€¼å¾—ä¿®å¤çš„ã€‚**

[é˜…è¯»æ›´å¤š](https://groups.google.com/forum/#!topic/rubyonrails-security/IsQKvDqZdKw)

* * *

â˜ï¸ ***ä¸€å®šè¦çœ‹çœ‹ [Sharesecret](https://www.sharesecret.co) ï¼Œå®ƒè®©å®‰å…¨å…±äº«æ•æ„Ÿæ•°æ®å˜å¾—å¾ˆå®¹æ˜“ã€‚***