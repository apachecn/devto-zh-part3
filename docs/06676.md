# åº”ç”¨ç¨‹åºä¸­çš„å¤šç§è¯­è¨€

> åŸæ–‡:[https://dev.to/drfrost/multilingualism-in-applications-2phn](https://dev.to/drfrost/multilingualism-in-applications-2phn)

[![Thumbnail](../Images/9d35c8951ad927c2f0d4f7ed815cb66e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--nme5LUqV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/mczo17hjst5hhiw5silz.jpeg)

* * *

ä½ å¥½ï¼ŒGuten Tagï¼Œdziendobryï¼ŒBonjourï¼ŒSalveï¼ŒØ§Ù„Ø³ÙÙ‘Ù„ÙØ§Ù…Ù Ø¹ÙÙ„ÙÙŠÙ’ÙƒÙÙ…Ù’ï¼

å¤§çº¦ä¸€å¹´å‰ï¼Œæˆ‘ä»¬åœ¨å·¥ä½œä¸­çš„é¡¹ç›®éœ€è¦æŸç§ç¿»è¯‘ç®¡ç†ç³»ç»Ÿã€‚æˆ‘ä»¬å·²ç»å»ºç«‹äº†ä¸€ä¸ªéå¸¸ç®€å•çš„å†…éƒ¨åº“ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªåŒ…å«ç¿»è¯‘çš„å¯¹è±¡ï¼ŒåŒ…å«ç¿»è¯‘åçš„æ–‡æœ¬ã€‚

æ‰€æœ‰çš„ç¿»è¯‘éƒ½å­˜å‚¨åœ¨ä¸€ä¸ª JSON æ–‡ä»¶ä¸­ï¼Œç„¶åæˆ‘ä»¬è½¬ç§»åˆ° YAMLâ€”â€”å®ƒå®é™…ä¸Šåœ¨æ„å»ºæ—¶è¢«è½¬æ¢æˆ JSONï¼Œæ‰€ä»¥ JavaScript å¯ä»¥æ­£ç¡®åœ°è§£é‡Šå®ƒã€‚

YAML æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºã€‚

```
unique.yes:
   de_DE: Ja
   en_US: Yes
   pl_PL: Tak
unique.no:
   de_DE: Nein
   en_US: No
   pl_PL: Nie
unique.example:
   de_DE: Beispiel
   en_US: Example
   pl_PL: PrzykÅ‚ad 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸€åˆ‡éƒ½å¾ˆå¥½..é™¤äº†æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªå¤§çº¦ 10 000 è¡Œç¿»è¯‘çš„æ–‡ä»¶ï¼Œè¿™æ˜¯éå¸¸éš¾ä»¥ç»´æŠ¤çš„ï¼Œè€Œä¸”åº”ç”¨ç¨‹åºä»åœ¨å¼€å‘ä¸­çš„äº‹å®è®©æˆ‘æ‹…å¿ƒã€‚

æˆ‘ä»¬ä¸€ç›´åœ¨å°è¯•é‡æ„ç¿»è¯‘ï¼Œå»ºç«‹å·¥å…·ï¼Œè¿™æœ‰åŠ©äºæ’åºï¼Œä½†å®ƒæ²¡æœ‰åšå¤ªå¤šï¼Œæˆ‘ä»¬çš„ç¿»è¯‘ä»ç„¶æ··ä¹±ã€‚

æœ‰ä¸€å¤©åœ¨ä½¿ç”¨ JSS çš„æ—¶å€™ï¼Œæˆ‘æƒ³åˆ°äº†ä¸€ä¸ªå®ç°ç¿»è¯‘çš„æƒ³æ³•ï¼Œå°±åƒåœ¨ JSS å’Œâ€¦

tada tada

litera è¯ç”Ÿäº†ï¼

* * *

# [](#introduction)ç®€ä»‹

lit tra(/Ë‡lit . te . ra/)æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„æœºåˆ¶ï¼Œå®ƒæ¥å—ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„é”®ä»£è¡¨ä¸€ç§è¯­è¨€ï¼Œå€¼ä»£è¡¨è¯¥è¯­è¨€ä¸­çš„ç‰¹å®šå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”åªè¿”å›æ´»åŠ¨è¯­è¨€çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œæ‚¨å°†å¥å­â€œè¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹â€ä½œä¸ºâ€œen_USâ€é”®çš„å€¼ï¼Œå¹¶å¯¹æ¯ç§è¯­è¨€é‡å¤åŒæ ·çš„æ“ä½œã€‚

```
{  "en_US":  "This is an example",  "de_DE":  "Das ist ein Beispiel",  "pl_PL":  "To przykÅ‚ad"  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

# [](#setup)è®¾ç½®

ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†æ ¸å¿ƒæ¦‚å¿µæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½® Litteraã€‚è¦ä½¿ç”¨è¿™ä¸ªåº“ï¼Œæ‚¨å¿…é¡»ç”¨ä¸Šä¸‹æ–‡åŒ…è£…æ‚¨çš„ç»„ä»¶ï¼Œå¹¶æä¾›æ´»åŠ¨è¯­è¨€ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ LitteraProviderã€‚ä½ å¯ä»¥ä¼ ç»™å®ƒ 3 ä¸ªé“å…·:

*   è¯­è¨€-æ´»åŠ¨è¯­è¨€(å­—ç¬¦ä¸²)
*   é¢„è®¾-å…¨å±€ç¿»è¯‘é›†(å¯¹è±¡)
*   setLanguage -ä»¥ç¼–ç¨‹æ–¹å¼æ”¹å˜æ´»åŠ¨è¯­è¨€çš„å‡½æ•°(å‡½æ•°)

æˆ‘ä»¬å°†ä»¥ create-react-app ä¸ºä¾‹ã€‚åœ¨ä½ è¿›å…¥ä»£ç ä¹‹å‰ï¼Œè®°å¾—ç”¨ npm æˆ–è€… yarn å®‰è£… Litteraã€‚

`npm install react-littera`
T1ã€‘

è®©æˆ‘ä»¬å¼€å§‹ï¼Œåœ¨ App.js æ–‡ä»¶ä¸­å¯¼å…¥æä¾›ç¨‹åºï¼ŒåŒ…è£…æ‰€æœ‰ç»„ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

```
import React, { useState } from "react";
import ReactDOM from "react-dom";

import LitteraProvider from "react-littera";
function App() {
  const [language, setLanguage] = useState("en_US");

  return (
    <div className="App">
      <LitteraProvider language={language} setLanguage={setLanguage}>
        <YourComponents />
      </LitteraProvider>
    </div>
  );
}

const rootElement = document.getElementById("root");
ReactDOM.render(<App />, rootElement); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å°±è¿™æ ·ï¼ŒLittera å°±å¯ä»¥ç”¨åœ¨æ‚¨çš„ç»„ä»¶ä¸­äº†ã€‚

æˆ‘å»ºè®®æ‚¨ä½¿ç”¨ Redux æ¥å¤„ç†æ´»åŠ¨è¯­è¨€çŠ¶æ€ã€‚

# [](#usage)ç”¨æ³•

ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç¤ºä¾‹ç»„ä»¶æ¥å±•ç¤º Littera çš„å¼ºå¤§åŠŸèƒ½ã€‚æˆ‘ä»¬çš„ç»„ä»¶å°†æ˜¯ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»å°†åˆ‡æ¢è¯­è¨€ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¿”å›æŒ‰é’®çš„åŸºæœ¬åŠŸèƒ½ç»„ä»¶ã€‚

```
import React from 'react';

const SuperButton = () => {
    return <button>Example</button>;
}

export default SuperButton; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æˆ‘ä»¬å¿…é¡»å¯¼å…¥ useLittera é’©å­ï¼Œç”¨æˆ‘ä»¬çš„ç¿»è¯‘å£°æ˜ä¸€ä¸ªå¯¹è±¡å¹¶ä½¿ç”¨é’©å­ã€‚

```
import React from 'react';
import { useLittera } from 'react-littera';

const translations = {
    example: {
        en_US: "Example",
        de_DE: "Beispiel",
        pl_PL: "PrzykÅ‚ad"
    }
};

const SuperButton = () => {
     const [translated, language, setLanguage] = useLittera(translations);

     const switchLanguage = () => setLanguage("de_DE");

     return <button onClick={switchLanguage}>{translated.example}</button>;
}

export default SuperButton; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#global-translations)å…¨çƒç¿»è¯‘

å¦‚ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªé¢„ç½®ä¼ é€’ç»™ LitteraProviderã€‚å®ƒå¯ä»¥åƒ JSS å¤„ç†ä¸»é¢˜ä¸€æ ·ä½¿ç”¨ã€‚åªéœ€ç”¨é¢„è®¾å±æ€§åˆ›å»ºä¸€ä¸ªç¿»è¯‘å¸¸é‡å‡½æ•°å¹¶è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åä½¿ç”¨è¯¥å±æ€§é‡ç”¨ç°æœ‰çš„é¢„è®¾ã€‚

```
const translations = preset => ({
    example: {
        en_US: `This is an ${preset.example}`,
        de_DE: `Das ist ein ${preset.example}`,
        pl_PL: `To ${preset.example}`
    }
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#hook-or%C2%A0hoc)é’©å­è¿˜æ˜¯ HOCï¼Ÿ

Littera æ”¯æŒæŒ‚é’©å’Œ hocã€‚ä¸¤è€…éƒ½å¯ä»¥åœ¨ç›¸åŒçš„ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ï¼Œä½†æ˜¯è®©æˆ‘ä»¬ç°å®ä¸€ç‚¹ï¼Œç±»ç»„ä»¶å‡ ä¹å·²ç»ç­ç»äº†ã€‚ğŸ˜…

æ— è®ºå¦‚ä½•ï¼Œåœ¨ CodeSandbox ä¸Šå¯ä»¥æ‰¾åˆ°ä¸¤è€…çš„ä¾‹å­ã€‚

éœå…‹:[https://codesandbox.io/s/6299pk9r1r](https://codesandbox.io/s/6299pk9r1r)T2[https://codesandbox.io/s/ywl2lm8r4z](https://codesandbox.io/s/ywl2lm8r4z)

# [](#conclusion)ç»“è®º

åœ¨å¤§å‹åº”ç”¨ç¨‹åºä¸­ç®¡ç†ç¿»è¯‘å¯èƒ½æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœä½ æ­£åœ¨æ„å»ºä¸€ä¸ªå•é¡µç¨‹åºï¼ŒLittera å°†æ»¡è¶³ä½ çš„éœ€è¦ã€‚å¦‚æœä½ æƒ³æ‹¥æœ‰æ›´å¤šçš„è§‚ä¼—ï¼Œè¯•è¯• Littera å§ã€‚ğŸ’–

ä½ å¯ä»¥æŠŠæºä»£ç æ”¾åœ¨ GitHub ä¸Šï¼Œä¹Ÿè®¸æˆ‘ä»¬å¯ä»¥ä¸€èµ·æ¶ˆç­ä¸€äº› bugï¼
[https://github.com/DRFR0ST/react-littera](https://github.com/DRFR0ST/react-littera)