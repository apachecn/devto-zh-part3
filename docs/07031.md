# é‡å†™ä¸€ä¸ªè€é¡¹ç›®ï¼ç¬¬ 2 éƒ¨åˆ†:JavaScript

> åŸæ–‡:[https://dev . to/ken bellows/rewriting-an-old-project-part-2-JavaScript-32mk](https://dev.to/kenbellows/rewriting-an-old-project-part-2-javascript-32mk)

> **æ³¨æ„**
> è¿™æ˜¯ä¸€ä¸ªè¿·ä½ ç³»åˆ—çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œæˆ‘åœ¨å…¶ä¸­é‡æ¸©äº†æˆ‘å¤§å­¦æ—¶çš„ä¸€ä¸ªè€å‘¨æœ«é»‘å®¢ï¼Œæˆ‘ç§°ä¹‹ä¸º[js sphere](https://github.com/kenbellows/jsphere)(å› ä¸ºæˆ‘å¾ˆæ‡’ï¼Œæƒ³ä¸å‡ºä»»ä½•æ›´æœ‰è¶£çš„ä¸œè¥¿)ã€‚
> 
> å¦‚æœä½ è¿˜æ²¡æœ‰è¯»è¿‡ç¬¬ä¸€éƒ¨åˆ†ï¼Œé‚£æ˜¯å…³äº HTML å’Œ CSS çš„ï¼Œæˆ‘å»ºè®®ä½ æµè§ˆä¸€ä¸‹ï¼Œæˆ–è€…è‡³å°‘è¯»ä¸€ä¸‹å¼€å¤´çš„èƒŒæ™¯æ•…äº‹éƒ¨åˆ†ã€‚
> 
> æ­£å¦‚æˆ‘ä¸Šæ¬¡æ‰€è¯´çš„ï¼Œæˆ‘ä¸æ‰“ç®—åœ¨è¿™ç¯‡æ–‡ç« ä¸­è®¨è®ºä»£ç *åšä»€ä¹ˆ*ï¼Œåªè®¨è®ºå®ƒçš„ç»“æ„å’Œè¯­æ³•ã€‚ä½†æ˜¯æˆ‘ç¡®å®æ‰“ç®—ä»¥åå†™ä¸€ä¸ªåˆé€‚çš„æ¼”ç»ƒå’Œæ•™ç¨‹ã€‚

# [](#last-time)ä¸Šæ¬¡...

åœ¨ç¬¬ 1 éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å›é¡¾äº†çš„æ ‡è®°å’Œæ ·å¼ï¼Œæˆ‘å·²ç»å‘ç°è¿™éå¸¸æœ‰è¶£ã€‚ä½†æ˜¯ï¼Œæˆ‘çš„æ„æ€æ˜¯ï¼Œè¿™ä¸ªé¡¹ç›®ä¸»è¦æ˜¯ä¸€ä¸ª JavaScript é¡¹ç›®ã€‚éƒ½æ˜¯ä¸ºäº†é‚£ä¸ª`<canvas>`ï¼

ä½œä¸ºå‚è€ƒï¼Œä»¥ä¸‹æ˜¯æˆ‘ä»¬æ­£åœ¨é‡å»ºçš„å†…å®¹:

[https://codepen.io/kenbellows/embed/MxZrjy?height=600&default-tab=result&embed-version=2](https://codepen.io/kenbellows/embed/MxZrjy?height=600&default-tab=result&embed-version=2)

å¥½å§ã€‚ä»å“ªé‡Œå¼€å§‹ï¼Ÿä¼™è®¡ï¼Œè¿™æ®µä»£ç æœ‰å¤ªå¤šéœ€è¦ä¿®æ”¹çš„åœ°æ–¹ï¼Œè€Œä¸”å¾ˆå¤šéƒ½æ˜¯äº¤ç»‡åœ¨ä¸€èµ·çš„ï¼Œæ‰€ä»¥å¾ˆéš¾ä¸€æ­¥ä¸€æ­¥æ¥ã€‚æ‰€ä»¥æˆ‘è¦åšçš„å°±æ˜¯...å»å§ï¼Œæˆ‘æƒ³ã€‚

è¯·åœ¨è¿™é‡Œéšæ„æ‰¹è¯„æˆ–è¯„è®ºè¿™äº›ä»£ç ï¼æˆ‘å–œæ¬¢åé¦ˆå’Œ(å»ºè®¾æ€§çš„)æ‰¹è¯„ï¼Œæˆ‘æ€»æ˜¯å¯¹å…¶ä»–äººå¦‚ä½•å®ŒæˆåŒæ ·çš„ä»»åŠ¡æ„Ÿå…´è¶£ï¼Œæˆ‘ç”šè‡³ä»¥å–œæ¬¢å¶å°”éª‘è‡ªè¡Œè½¦è€Œé—»åã€‚

# [](#minutia-nah)Minutia: nah.

è®©æˆ‘å…ˆæä¸€ä¸‹ï¼Œæœ‰äº›å˜åŒ–æˆ‘ä¸ä¼šæ˜ç¡®è®¨è®ºï¼Œå› ä¸ºå®ƒä»¬å¤ªå°äº†ã€‚æ˜¯çš„ï¼Œæˆ‘æŠŠæ‰€æœ‰çš„`var`æ”¹æˆäº†`const`å’Œ`let`ï¼Œæˆ‘é‡æ–°æ’åºäº†ä¸€äº›å‡½æ•°ï¼Œæˆ‘æŠŠæ‰€æœ‰çš„ title cased æ–¹æ³•æ”¹æˆäº† normal came case(*ä¸ºä»€ä¹ˆæˆ‘æŠŠæ‰€æœ‰æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå­—æ¯éƒ½å¤§å†™äº†ï¼Ÿæˆ‘ç–¯äº†å—ï¼Ÿ*)ã€‚ä½†ä½ å¹¶ä¸å…³å¿ƒæ‰€æœ‰è¿™äº›äº‹æƒ…ã€‚æˆ‘å°†æŠŠé‡ç‚¹æ”¾åœ¨çœŸæ­£å¤§çš„äº‹æƒ…ä¸Šï¼Œæˆ‘è§‰å¾—æœ‰è¶£æˆ–å¥½ç¬‘çš„äº‹æƒ…ï¼Œä»¥åŠçœŸæ­£è¯æ˜è¿™ç§è¯­è¨€åœ¨ä¸ƒå¹´é‡Œå–å¾—äº†å¤šå¤§è¿›æ­¥çš„äº‹æƒ…ã€‚

å…ˆè¯´ä¸ªæç¬‘çš„ã€‚

# [](#bro-do-you-even-loop)è€å¼Ÿï¼Œä½ è¿å¾ªç¯å—ï¼Ÿ

æˆ‘å›ºå®šäº†ä¸€ä¸ªåœ°æ–¹ï¼Œåœ¨é‚£é‡Œæˆ‘åšäº†ä¸€äº›è¶…çº§å¥‡æ€ªçš„äº‹æƒ…ï¼Œå¯èƒ½æ˜¯å› ä¸ºæˆ‘å¤ªåŒ†å¿™äº†ï¼Œæ²¡æœ‰æƒ³æ¸…æ¥šã€‚è¿™æ˜¯åœ¨`Sphere`çš„æ„é€ å‡½æ•°ä¸­ï¼Œå½“æˆ‘ç”Ÿæˆæ‰€æœ‰éœ€è¦è¡¨ç¤ºçƒä½“è¡¨é¢ä¸Šçš„ç‚¹çš„`Dot`å®ä¾‹æ—¶ã€‚æˆ‘ç”¨ä¸€ä¸ªåµŒå¥—çš„`for`ç¯ä»ä¸Šåˆ°ä¸‹ç¯ç»•çƒä½“ç§»åŠ¨ï¼Œè¾¹èµ°è¾¹ç»™çƒä½“è¡¨é¢æ·»åŠ ç‚¹ã€‚è¿™å¾ˆå¥½ï¼Œä½†æ˜¯æˆ‘ç”¨ä¸€ç§è¶…çº§å¥‡æ€ªçš„æ–¹å¼å†™äº†è¿™äº›å¾ªç¯:

```
this.points = new Array();
var angstep = Math.PI/10;
var i = 0;
// Loop from 0 to 2*pi, creating one row of points at each step
for (var angxy=0; angxy<2*Math.PI; angxy+=angstep){
    this.points[i] = new Array();
    var j=0;
    for (var angyz=0; angyz<2*Math.PI; angyz+=angstep) {
        // Loop from 0 to 2*pi, creating one point at each step
        var px  = r * Math.cos(angxy) * Math.sin(angyz) + x,
            py  = r * Math.sin(angxy) * Math.sin(angyz) + y,
            pz  = r * Math.cos(angyz) + z,
            pfg = pz > z;
        this.points[i][j] = new Dot(px,py,pz,pfg);
        j++;
    }
    i++;
} 
```

åœ¨å¾ªç¯ä¹‹å¤–çš„`i`å’Œ`j`å˜é‡æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿä¸ºä»€ä¹ˆå®ƒä»¬æ²¡æœ‰åœ¨å¾ªç¯ä¸­è¢«åˆ›å»ºå’Œé€’å¢ï¼Ÿæˆ‘è‚¯å®šçŸ¥é“ä¸€ä¸ª`for`å¾ªç¯å¯ä»¥æœ‰å¤šä¸ªå˜é‡ï¼›æˆ‘ä¸ºä»€ä¹ˆä¸è¿™ä¹ˆåšå‘¢ï¼Ÿ

```
for (var i=0, angxy=0; angxy<2*Math.PI; i++, angxy+=angstep) { ... } 
```

ä½†æ˜¯ï¼Œä¸ºä»€ä¹ˆæˆ‘é¦–å…ˆéœ€è¦é‚£äº›ç´¢å¼•è®¡æ•°å™¨å‘¢ï¼Ÿä¸ºä»€ä¹ˆæˆ‘è¦ä½¿ç”¨`this.points[i] =`å’Œ`this.points[i][j] =`æ¥æ·»åŠ æ•°ç»„ï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä¸ä½¿ç”¨`[].push()`å‘æ•°ç»„ä¸­æ·»åŠ ä¸œè¥¿å‘¢ï¼Ÿè¿˜æœ‰æˆ‘åˆ°åº•ä¸ºä»€ä¹ˆç”¨`new Array()`è€Œä¸æ˜¯`[]`ï¼Ÿæˆ‘ä¸Šäº†å¤šå°‘ OOPï¼Ÿï¼Ÿï¼Ÿ

æ‰€ä»¥æˆ‘æ‘†è„±äº†é‚£äº›åºŸè¯ã€‚æˆ‘è¿˜å†³å®šå°†`this.points`åšæˆä¸€ä¸ªç®€å•çš„ç‚¹åˆ—è¡¨ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæœ‰è¡Œçš„ 2D çŸ©é˜µï¼Œå› ä¸ºæˆ‘åœ¨é‡æ„å…¶ä»–ä»£ç æ—¶æ„è¯†åˆ°ï¼Œæˆ‘å¼•ç”¨`this.points`çš„å”¯ä¸€æ–¹å¼*æ˜¯é€šè¿‡å‡ ä¸ªåµŒå¥—å¾ªç¯åˆ°è¾¾æ¯ä¸ªç‚¹ï¼Œé€šå¸¸æ˜¯åƒè¿™æ ·å¥‡æ€ªçš„`for ... in`å¾ªç¯:* 

```
for (var i in this.points) {
    for (var j in this.points[i]) {
        this.points[i][j]...
    }
} 
```

é¦–å…ˆï¼Œ*ç¡®å®å¯ä»¥å·¥ä½œ*ï¼Œä½†æ˜¯åƒè¿™æ ·åœ¨æ•°ç»„ä¸Šä½¿ç”¨`for...in`å¾ªç¯å¾ˆå¥‡æ€ªï¼Œè‡³å°‘å¯ä»¥è¯´æ˜¯å‡ºä¹æ„æ–™çš„ã€‚å½“æˆ‘ç¬¬ä¸€æ¬¡çœ‹åˆ°å®ƒæ—¶ï¼Œæˆ‘æ„Ÿåˆ°éå¸¸å›°æƒ‘ï¼Œæˆ‘æƒ³ä»»ä½•å…¶ä»–å¼€å‘è€…é˜…è¯»å®ƒæ—¶ä¹Ÿä¼šæ„Ÿåˆ°å›°æƒ‘ã€‚

ç¬¬äºŒï¼Œé™¤äº†ç´¢å¼•åˆ°`this.points`ä¹‹å¤–ï¼Œæˆ‘ä»æœªä½¿ç”¨è¿‡`i`æˆ–`j`ï¼Œè¿™ä½¿å¾—å®ƒæˆä¸ºæ›´ä¼˜é›…çš„`for...of`å¾ªç¯çš„ç»ä½³å€™é€‰ï¼Œåœ¨æˆ‘æœ€åˆç¼–å†™è¿™æ®µä»£ç æ—¶ï¼Œå®ƒè¿˜ä¸å­˜åœ¨ã€‚

æˆ‘è¿›è¡Œäº†é‡æ„æ¥è§£å†³æ‰€æœ‰è¿™äº›é—®é¢˜ï¼Œè¿™å°±æ˜¯æˆ‘çš„ç»“å±€ã€‚æ„é€ å‡½æ•°å¾ªç¯è¢«æ›´æ–°æˆè¿™æ ·(è¿˜åŒ…æ‹¬å¯¹ç‚¹æ„é€ å‡½æ•°çš„ä¿®æ”¹ï¼Œæˆ‘ç¨åä¼šè°ˆåˆ°):

```
// The angle delta to use when calculating the surface point positions;
// a larger angstep means fewer points on the surface
const angstep = Math.PI/10;
this.points = [];
// Loop from 0 to 2*pi, creating one row of points at each step
for (let angxy=0; angxy<2*Math.PI; angxy+=angstep){
    for (let angyz=0; angyz<2*Math.PI; angyz+=angstep) {
        // Loop from 0 to 2*pi, creating one point at each step
        this.points.push(new Dot({
            x: r * Math.cos(angxy) * Math.sin(angyz) + x,
            y: r * Math.sin(angxy) * Math.sin(angyz) + y,
            z: r * Math.cos(angyz) + z,
            fg: Math.cos(angyz) > 0
        }));
    }
} 
```

`this.points`å…ƒç´ ä¸Šçš„å¾ªç¯ç°åœ¨çœ‹èµ·æ¥åƒè¿™æ ·:

```
for (const point of this.points) {
    point...
} 
```

å•Š...å¥½å¤šäº†ã€‚ğŸ˜Œ

# [](#classes)ç±»ï¼

ç”±äºè¿™ä¸ªé¡¹ç›®å®Œå…¨æ˜¯ç”±è¡¨é¢ä¸Šçš„ä¸€å †ç‚¹ç»„æˆçš„äº¤äº’å¼çƒä½“ï¼Œå¹¶ä¸”ç”±äºæˆ‘åœ¨ 2012 å¹´æ”»è¯»è®¡ç®—æœºç§‘å­¦å­¦ä½ï¼Œè¿‡å»å‡ å¹´çš„åŠŸèƒ½é©å‘½è¿˜æ²¡æœ‰å¼€å§‹ï¼Œæ‰€ä»¥è¿™ä¸ªé¡¹ç›®ä¸»è¦ç”±ä¸¤ç§é«˜çº§å¯¹è±¡ç±»å‹ç»„æˆ:

*   `Dot` -ä»£è¡¨çƒä½“è¡¨é¢ä¸Šçš„å•ä¸ªç‚¹
*   `Sphere` -ä»£è¡¨æ•´ä¸ªçƒä½“ï¼ŒåŠå…¶æ‰€æœ‰çš„`Dot`

2012 å¹´ï¼ŒåŸç”Ÿçš„`class`è¿˜æ²¡æœ‰è¢«æ ‡å‡†åŒ–ï¼Œæ‰€ä»¥æˆ‘ç”¨è€æ´¾çš„`function`ä½œä¸ºæ„é€ è€…çš„é£æ ¼æ¥å†™æ‰€æœ‰çš„ä¸œè¥¿ã€‚ä¾‹å¦‚ï¼Œè¿™é‡Œæ˜¯`Sphere`æ„é€ å‡½æ•°çš„ä¸€éƒ¨åˆ†:

```
function Dot(x,y,z,fg,fgColor,bgColor) {
    // Default Values:  { x: 0, y: 0, z: 0, fg: true, fgcolor: #7EE37E, bgcolor: "#787878" }
    this.x = typeof x !== 'undefined' ? x : 0;
    this.y = typeof y !== 'undefined' ? y : 0;
    this.z = typeof z !== 'undefined' ? z : 0;
    this.fg = typeof fg !== 'undefined' ? fg : true;
    this.fgColor = typeof fgColor !== 'undefined' ? fgColor : "#7EE37E";
    this.bgColor = typeof bgColor !== 'undefined' ? bgColor : "#787878";

    this.Draw = function(ctx) {
        // Store the context's fillStyle
        var tmpStyle = ctx.fillStyle;
        // Set the fillStyle for the dot
        ctx.fillStyle = (this.fg ? this.fgColor : this.bgColor);
        // Draw the dot
        ctx.fillCircle(x,y,this.fg?10:5);
        // Restore the previous fillStyle
        ctx.fillStyle = tmpStyle;
    }
} 
```

ç°åœ¨ï¼Œè¿™é‡Œæœ‰å¦ä¸€ä¸ªé—®é¢˜ï¼Œè¿™å¯èƒ½ä¸æˆ‘å¯¹ JS åŸå‹çš„æœ‰é™ç†è§£æœ‰å…³:`Dot`çš„æ¯ä¸ªå®ä¾‹éƒ½å®šä¹‰äº†è‡ªå·±çš„`Draw`å‡½æ•°çš„å‰¯æœ¬ï¼Œè€Œä¸æ˜¯å¼•ç”¨ä¸€ä¸ªç±»æ–¹æ³•ã€‚æˆ‘åº”è¯¥å†™çš„æ˜¯:

```
function Dot(x,y,z,fg,fgColor,bgColor) {
    // ...
}
Dot.protoype.Draw = function(ctx) {
    // Store the context's fillStyle
    var tmpStyle = ctx.fillStyle;
    // Set the fillStyle for the dot
    ctx.fillStyle = (this.fg ? this.fgColor : this.bgColor);
    // Draw the dot
    ctx.fillCircle(x,y,this.fg?10:5);
    // Restore the previous fillStyle
    ctx.fillStyle = tmpStyle;
} 
```

è¿™å£°æ˜äº†å‡½æ•°çš„å•ä¸ªå‰¯æœ¬ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½åœ¨ä¸€ä¸ªæ–°å‡½æ•°ä¸Šæµªè´¹å†…å­˜ã€‚

ä½†è¿™æ˜¯ä¸€ä¸ªæèŠ‚é—®é¢˜ï¼Œå› ä¸º ES2015 ä¸­å¼•å…¥çš„åŸç”Ÿ`class` es(åˆå ES6)åœ¨å¼•æ“ç›–ä¸‹å¤„ç†äº†è¿™ä¸ªé—®é¢˜ï¼

ä½†åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å†æä¸€ä»¶äº‹:ES2015 è¿˜å¼•å…¥äº†[å¯¹è±¡ææ„](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Object_destructuring)ã€[å‡½æ•°å‚æ•°é»˜è®¤å€¼](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters)å’Œ[å°†è¿™ä¸¤è€…ç»“åˆä½¿ç”¨](https://davidwalsh.name/destructuring-function-arguments)ï¼Œä»¥åŸºæœ¬ä¸Šè·å¾—å¸¦æœ‰é»˜è®¤å€¼çš„å‘½åå‚æ•°çš„ç­‰ä»·ç‰©ï¼Œå°±åƒåœ¨ Python å’Œ Ruby ç­‰è¯­è¨€ä¸­çœ‹åˆ°çš„é‚£æ ·ï¼

AAAA å’Œä¸€ä¸ª*å¤šäº†ä¸€ä¸ª*çš„ä¸œè¥¿:ES2015 *ä¹Ÿ*å¼•å…¥äº† [`Object.assign()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign) ï¼Œæˆ‘å–œæ¬¢ç”¨å®ƒæ¥åˆå§‹åŒ–`this`çš„å±æ€§ï¼Œæ¯”ä¼ ç»Ÿçš„ä¸€ä¸ªä¸€ä¸ªçš„æ–¹æ³•ç®€æ´å¤šäº†ã€‚(ä¼™è®¡ï¼ŒES2015 çœŸæ˜¯ä¸ªå¥½ä¸œè¥¿ï¼)

ç»“åˆä½¿ç”¨è¿™ä¸¤ç§æŠ€æœ¯ï¼Œæˆ‘å¯ä»¥ä»`Dot`æ„é€ å‡½æ•°:
ä¸­åˆ é™¤è¿™ä¸ªè®¨åŒçš„ç‰‡æ®µ

```
// Gross ğŸ¤¢
this.x = typeof x !== 'undefined' ? x : 0;
this.y = typeof y !== 'undefined' ? y : 0;
this.z = typeof z !== 'undefined' ? z : 0;
this.fg = typeof fg !== 'undefined' ? fg : true;
this.fgColor = typeof fgColor !== 'undefined' ? fgColor : "#7EE37E";
this.bgColor = typeof bgColor !== 'undefined' ? bgColor : "#787878"; 
```

å°†æ‰€æœ‰è¿™äº›æ”¹è¿›æ”¾åœ¨ä¸€èµ·ï¼Œæˆ‘å¯ä»¥åƒè¿™æ ·é‡å†™`Dot`:

```
class Dot {
    constructor({x=0, y=0, z=0, fg=true, fgColor='#7EE37E', bgColor='#787878'}={}) {
        Object.assign(this, {x, y, z, fg, fgColor, bgColor});
    }

    draw(ctx) {
        // Store the context's fillStyle
        var tmpStyle = ctx.fillStyle;
        // Set the fillStyle for the dot
        ctx.fillStyle = (this.fg ? this.fgColor : this.bgColor);
        // Draw the dot
        ctx.fillCircle(x, y, this.fg ? 10 : 5);
        // Restore the previous fillStyle
        ctx.fillStyle = tmpStyle;
    }
} 
```

å¹²å‡€å¤šäº†ï¼

# [](#reseparating-my-concerns)é‡æ–°åˆ†ç¦»æˆ‘çš„é¡¾è™‘

æ­£å¦‚æˆ‘åˆšæ‰æ‰€æè¿°çš„é‚£æ ·ï¼Œå½“æˆ‘é‡å†™æˆ‘çš„ç±»æ—¶ï¼Œæˆ‘å¼€å§‹å‘ç°`Dot`æ­£åœ¨åšçš„äº‹æƒ…æ›´å¥½åœ°ç”±`Sphere`æ¥å¤„ç†ï¼Œè€Œ`Sphere`åœ¨æ¯ä¸ª`Dot`ä¸Šé‡å¤æ‰§è¡Œæ“ä½œï¼Œè¿™äº›æ“ä½œå¯ä»¥ç”±å®ƒä»¬ä¸­çš„æ¯ä¸€ä¸ªåœ¨å†…éƒ¨æ›´å¹²å‡€åœ°å¤„ç†ã€‚

é¦–å…ˆï¼Œä¸Šé¢çš„`Dot`ç±»çš„`Draw`æ–¹æ³•ï¼Ÿæ˜¯å•Šï¼Œå®ƒä»æ¥æ²¡æœ‰çœŸæ­£è¢«è°ƒç”¨è¿‡ã€‚åŸæ¥æˆ‘éœ€è¦ä¸€äº›æ¥è‡ª`Sphere`çš„å…³äºæ¯ä¸€ä¸ª`Dot`çš„ä¸Šä¸‹æ–‡æ¥æ­£ç¡®çš„ç”»å‡ºå®ƒï¼Œä¹Ÿå°±æ˜¯å®ƒåœ¨çƒä½“è¡¨é¢çš„ä½ç½®ä»¥åŠçƒä½“å½“å‰æ˜¯å¦‚ä½•æ—‹è½¬çš„ã€‚æ¯”èµ·å°†æ‰€æœ‰çš„ä¸Šä¸‹æ–‡ä¼ é€’ç»™æ¯ä¸ª`Dot`ï¼Œç›´æ¥ä»`Sphere`ç±»å¼€å§‹ç»˜åˆ¶è¦å¹²å‡€å¾—å¤šã€‚å› æ­¤...æˆ‘åˆ é™¤äº†`Dot`ä¸Šçš„`Draw`æ–¹æ³•ï¼Œä»¥åŠéšä¹‹è€Œæ¥çš„`fgColor`å’Œ`bgColor`å±æ€§ã€‚

ç¬¬äºŒï¼Œæœ‰ä¸¤ç§ä¸»è¦çš„æ–¹å¼æ”¹å˜`Dot`æ¥ç§»åŠ¨`Sphere`:å®ƒä»¬æ˜¯*ç¿»è¯‘*(ç§»åŠ¨)ï¼Œå®ƒä»¬æ˜¯*ç¼©æ”¾*(æ”¾å¤§æˆ–ç¼©å°)ã€‚æˆ‘çš„äº‹ä»¶å¤„ç†ç¨‹åºä¸­æœ‰ä¸€å †é‡å¤çš„ä»£ç ï¼Œæ¯ä¸ª`Dot`çš„å±æ€§éƒ½è¢«æ‰‹åŠ¨é‡æ–°è®¡ç®—å¹¶ä»¥åŒæ ·çš„æ–¹å¼æ›´æ–°ï¼Œæ‰€ä»¥æˆ‘æƒ³æˆ‘åº”è¯¥[å¼„å¹²](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself)æˆ‘çš„ä»£ç å¹¶ç§»åŠ¨é€»è¾‘å°†`Dot`æ”¹ä¸º`Dot`ç±»æœ¬èº«ã€‚æˆ‘ç»™äº†`Dot`ä¸¤ä¸ªæ–°æ–¹æ³•:`scale`å’Œ`translate`ã€‚

åšå®Œè¿™äº›ä¹‹åï¼Œæˆ‘çš„`Dot`ç±»çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:

```
class Dot {
    constructor({x=0, y=0, z=0, fg=true}={}) {
        Object.assign(this, {x, y, z, fg});
    }

    /**
     * Scale this dot's position by multiplying all coordinates by the given scale factor
     * @param {Number} scaleFactor
     */
    scale(scaleFactor) {
        this.x *= scaleFactor
        this.y *= scaleFactor
        this.z *= scaleFactor
    }

    /**
     * Move this dot to a new position indicated by the given x, y, and z distances
     * @param {Number} [x=0]
     * @param {Number} [y=0]
     * @param {Number} [z=0]
     */
    translate({x=0, y=0, z=0}) {
        this.x += x
        this.y += y
        this.z += z
    }
} 
```

# [](#dont-mess-with-the-prototype)ä¸è¦ä¹±åŠ¨åŸå‹ï¼

æˆ‘æ ¹æ®ç»éªŒåšäº†ä¸€äº›æ”¹å˜ã€‚åœ¨æˆ‘ç¦»å¼€å¤§å­¦ä¹‹å‰ï¼Œæˆ‘å¯¹å…¬è®¤çš„ç¤¾åŒºæœ€ä½³å®è·µå‡ ä¹ä¸€æ— æ‰€çŸ¥ï¼Œä¹Ÿä¸çŸ¥é“å®ƒä»¬ä¸ºä»€ä¹ˆé‡è¦ã€‚ä¾‹å¦‚ï¼Œæˆ‘æœ‰å‡ ä¸ªåœ¨ç”»å¸ƒä¸Šç»˜å›¾çš„å®ç”¨å‡½æ•°ã€‚åœ¨æˆ‘çš„æ—§ä»£ç ä¸­ï¼Œæˆ‘ç›´æ¥å°†å®ƒä»¬æ·»åŠ åˆ°äº†`CanvasRenderingContext2D`åŸå‹ä¸­ï¼Œå¦‚ä¸‹:

```
Object.getPrototypeOf(ctx).fillCircle = ctxFillCircle; 
```

è¿™å¹¶ä¸ç†æƒ³ã€‚å‡è®¾æœ‰ä¸€å¤©ä¸€ä¸ªçœŸå®çš„`ctx.fillCircle`è¢«æ·»åŠ åˆ°è§„èŒƒä¸­ï¼Œå¹¶ä¸”å®ƒä¸æˆ‘çš„ä»£ç ä¸åŒã€‚åœ¨è¿™ä¸ªå°æ¼”ç¤ºä¸­ï¼Œè¿™å¯èƒ½æ²¡å¤šå¤§å…³ç³»ï¼Œå› ä¸ºæˆ‘æ˜¯å”¯ä¸€ä¸€ä¸ªå¤„ç†ä»£ç çš„äººï¼Œä½†æ˜¯åœ¨ä¸€ä¸ªæœ‰å¤šä¸ªä½œè€…çš„é¡¹ç›®ä¸­ï¼Œé‡åˆ°ä¸€ä¸ªçœ‹èµ·æ¥ä¸å¤ªä¸€æ ·çš„æ ‡å‡†åŒ–æ–¹æ³•å¯èƒ½ä¼šéå¸¸æ··ä¹±ã€‚ç”šè‡³æœªæ¥çš„æˆ‘ä¹Ÿå¯èƒ½ä¼šå›°æƒ‘ï¼

æ‰€ä»¥æˆ‘è¿›è¡Œäº†é‡æ„:ç»™æ¯ä¸ªå‡½æ•°æ·»åŠ äº†ä¸€ä¸ª`ctx`å‚æ•°ï¼Œå‡½æ•°ä¸­æ‰€æœ‰å¯¹`this`çš„å¼•ç”¨éƒ½è¢«æ”¹æˆäº†`ctx`ï¼Œæˆ‘åˆ é™¤äº†ä¸Šé¢ä¿®æ”¹äº†`CanvasRenderingContext2D`åŸå‹çš„ä»£ç ï¼Œæˆ‘ä¿®æ”¹äº†ä»£ç ä»¥ç›´æ¥è°ƒç”¨å‡½æ•°ï¼Œå¹¶å°†`ctx`ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ï¼Œè€Œä¸æ˜¯ä½œä¸º`ctx`çš„æ–¹æ³•è°ƒç”¨å®ƒä»¬ã€‚

# [](#removing-jquery)åˆ é™¤ jQuery

æœ€åæ˜¯ jQueryã€‚æˆ‘å–œæ¬¢å®ƒï¼Œå®ƒä¸ºç½‘ç»œåšäº†å¾ˆå¤šå¥½äº‹ï¼Œä½†åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒåŒ…æ‹¬æˆ‘çš„æƒ…å†µï¼Œå®ƒä¸å†è¢«éœ€è¦ã€‚

åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘åŸºæœ¬ä¸Šç”¨ jQuery åšäº†ä¸‰ä»¶äº‹ï¼Œå…¶ä¸­ä¸¤ä»¶è¢«ç®€å•åœ°æ›¿æ¢äº†:

*   æˆ‘ä½¿ç”¨äº†`$(function() { ... })`åŒ…è£…å™¨æ¥å»¶è¿Ÿä»£ç æ‰§è¡Œï¼Œç›´åˆ°é¡µé¢åŠ è½½å®Œæ¯•ã€‚æ­£å¦‚æˆ‘åœ¨ç¬¬ 1 éƒ¨åˆ†ä¸­è®¨è®ºçš„ï¼Œå¦‚æœæ‚¨å°†`defer`å±æ€§æ·»åŠ åˆ°ä»»ä½•éœ€è¦ç­‰å¾…çš„`<script>`æ ‡ç­¾ï¼Œè¿™æ˜¯ä¸å¿…è¦çš„ã€‚([å†æ¬¡æ„Ÿè°¢ï¼Œ@crazytimï¼](https://dev.to/crazytim/comment/a255)
*   æˆ‘åœ¨å‡ ä¸ªåœ°æ–¹ä½¿ç”¨äº†ç»å…¸çš„`$()`é€‰æ‹©å™¨å‡½æ•°æ¥è·å–å…ƒç´ ã€‚è¿™æ˜¯ç°åœ¨(å®é™…ä¸Šæ˜¯é‚£æ—¶ï¼Œè™½ç„¶æˆ‘å¯¹å®ƒä¸ç†Ÿæ‚‰)å¸¦æœ‰`document.querySelector`å’Œ`document.querySelectorAll`çš„å¹³å°çš„æœ¬åœ°éƒ¨åˆ†ã€‚
*   æœ€éš¾çš„ä¸€ä¸ª:æˆ‘ä½¿ç”¨äº†`jquery.events.drag`æ’ä»¶æ¥å¤„ç†åŸºäºé¼ æ ‡çš„äº¤äº’æ€§ã€‚è¿™ä¸ªéœ€è¦ç¨å¾®å¤šåšä¸€ç‚¹æ¥æ›¿æ¢ã€‚

å‰ä¸¤ä¸ªè¶…çº§åŸºç¡€ï¼Œæˆ‘å°±æ‡’å¾—å±•ç¤ºäº†ã€‚ç›¸åï¼Œæˆ‘å°†å…³æ³¨ç¬¬ä¸‰ä¸ª:äº‹ä»¶æ’ä»¶ã€‚

æˆ‘æ˜¯è¿™æ ·ä½¿ç”¨å®ƒçš„:

```
$("#canvas")
    .drag("init", function(e){
        startX = e.clientX;
        startY = e.clientY;
    })
    .drag(function(e){
        if (e.ctrlKey) {
            if (e.altKey) sphere.HiddenFun2(e.clientX-startX,e.clientY-startY);
            else sphere.Zoom(e.clientX-startX, e.clientY-startY, -1);
        } else if (e.shiftKey) {
            if (e.altKey) sphere.HiddenFun1(e.clientX-startX,e.clientY-startY);
            else sphere.Pan(e.clientX-startX,e.clientY-startY);
        } else {        
            sphere.Rotate(e.clientX-startX,e.clientY-startY);
        }
        startX = e.clientX;
        startY = e.clientY;
    }); 
```

å› æ­¤ï¼Œå½“æ‹–åŠ¨å¼€å§‹æ—¶ï¼Œå­˜å‚¨å…‰æ ‡çš„èµ·å§‹ä½ç½®ï¼Œç„¶åå½“æ‹–åŠ¨ç»§ç»­æ—¶ï¼Œæ ¹æ®ä½¿ç”¨çš„ä¿®é¥°é”®æ‰§è¡ŒæŸäº›æ“ä½œï¼Œå¹¶ä¸ºä¸‹ä¸€æ¬¡ç§»åŠ¨æ›´æ–°å…‰æ ‡ä½ç½®ã€‚

é‚£ä¹ˆï¼Œå¯¹äºå¸¸è§„çš„æ—§`mouse`äº‹ä»¶ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•åšå‘¢ï¼Ÿ

æˆ‘åˆ†ä¸‰ä¸ªé˜¶æ®µå®ç°äº†å®ƒ:æ‹–åŠ¨å¼€å§‹ã€æ‹–åŠ¨å’Œæ‹–åŠ¨ç»“æŸã€‚æ‹–åŠ¨å¼€å§‹äº‹ä»¶æ˜¯`mousedown`ï¼›æˆ‘ä»¬å°†è®°å½•å…‰æ ‡çš„èµ·å§‹ä½ç½®ï¼Œå¹¶æ·»åŠ æ‹–åŠ¨å’Œæ‹–åŠ¨ç»“æŸäº‹ä»¶ä¾¦å¬å™¨ã€‚æ‹–åŠ¨äº‹ä»¶å°†æ˜¯`mousemove`ï¼›åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†æ‰§è¡Œæ‰€æœ‰çš„é€»è¾‘æ¥æ£€æŸ¥ä¿®æ”¹é”®ï¼Œå¹¶å®é™…æ“ä½œçƒä½“ã€‚æœ€åï¼Œæˆ‘å°†ä½¿ç”¨ä¸¤ä¸ªäº‹ä»¶è¿›è¡Œæ‹–åŠ¨åœæ­¢:`mouseup`å’Œ`mouseout`ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±ä¸ä¼šé‡åˆ°é‚£ç§å¥‡æ€ªçš„æƒ…å†µï¼Œä½ æŠŠé¼ æ ‡ç§»å‡ºçª—å£ï¼Œç„¶åæ”¾å¼€ï¼Œåº”ç”¨ç¨‹åºå°±åœç•™åœ¨æ‹–åŠ¨çŠ¶æ€ï¼Œç›´åˆ°ä½ å†æ¬¡ç‚¹å‡»ã€‚è¿™äº›äº‹ä»¶åªæ˜¯åˆ é™¤äº†åœ¨æ‹–åŠ¨å¯åŠ¨æ—¶æ³¨å†Œçš„äº‹ä»¶å¤„ç†ç¨‹åºã€‚

æˆ‘å†³å®šåœ¨`window`ä¸­æ·»åŠ `mousemove`ã€`mouseup`å’Œ`mouseout`ï¼Œè¿™æ ·ä½ å¯ä»¥åœ¨ç‚¹å‡»ååœ¨é¡µé¢ä¸Šç§»åŠ¨é¼ æ ‡ã€‚æˆ‘ä¸å¾—ä¸ä½¿ç”¨`event.stopPropagation()`æŠ‘åˆ¶`canvas`å’Œ`body`å…ƒç´ ä¸Šçš„`mouseout`äº‹ä»¶ï¼Œä»¥é˜²æ­¢åœ¨å°†é¼ æ ‡ç§»è¿›å’Œç§»å‡ºç”»å¸ƒæ—¶è¿‡æ—©è§¦å‘æ‹–åŠ¨åœæ­¢ã€‚

ä¸‹é¢æ˜¯æ‰€æœ‰è¿™äº›çš„æ ·å­:

```
let dragOrigin;
canvas.addEventListener('mousedown', dragStartHandler)
function dragStartHandler(e){
    dragOrigin = {
        x: e.clientX,
        y: e.clientY
    };
    document.addEventListener('mousemove', dragHandler);

    window.addEventListener('mouseup', dragStopHandler);
    window.addEventListener('mouseout', dragStopHandler);

    canvas.addEventListener('mouseout', stopPropagation);
    document.body.addEventListener('mouseout', stopPropagation);
}

function dragHandler(e){
    if (e.ctrlKey || e.metaKey) {
        if (e.altKey) sphere.hiddenFun2(e.clientX-dragOrigin.x, e.clientY-dragOrigin.y);
        else sphere.zoom(e.clientX-dragOrigin.x, e.clientY-dragOrigin.y, -1);
    }
    else if (e.shiftKey) {
        if (e.altKey) sphere.hiddenFun1(e.clientX-dragOrigin.x, e.clientY-dragOrigin.y);
        else sphere.pan(e.clientX-dragOrigin.x, e.clientY-dragOrigin.y);
    }
    else {
        sphere.rotate(e.clientX-dragOrigin.x, e.clientY-dragOrigin.y);
    }
    dragOrigin.x = e.clientX;
    dragOrigin.y = e.clientY;
}

function dragStopHandler(e) {
    document.removeEventListener('mousemove', dragHandler);
    document.removeEventListener('mouseup', dragStopHandler);
    document.removeEventListener('mouseout', dragStopHandler);

    canvas.removeEventListener('mouseout', stopPropagation);
    document.body.removeEventListener('mouseout', stopPropagation);
}

function stopPropagation(e) {
    e.stopPropagation();
} 
```

æ‰€ä»¥å³ä½¿é‚£æ ·ä¹Ÿä¸ç®—å¤ªç³Ÿï¼ä½†æ˜¯åæ¥æˆ‘æ„è¯†åˆ°æˆ‘å·²ç»å¿˜è®°äº†...

# [](#touch-support-for-mobile)è§¦æ‘¸æ”¯æŒç§»åŠ¨ğŸ˜­

åœ¨å®ç°äº†æˆ‘æ›´æ–°çš„ä»£ç åï¼Œæˆ‘è®¿é—®äº†æ‰‹æœºä¸Šçš„é¡µé¢ï¼›ä»€ä¹ˆéƒ½æ²¡ç”¨ã€‚ç„¶åæˆ‘çªç„¶æƒ³åˆ°:*æ‰‹æœºæ²¡æœ‰é¼ æ ‡ï¼*ğŸ¤¦

ä¸€äº›å¿«é€Ÿçš„æœç´¢è®©æˆ‘æƒ³èµ·äº†æœ€è¿‘çš„ [`pointer`äº‹ä»¶](https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent) ( `pointermove`ï¼Œ`pointerup`ç­‰ç­‰ã€‚)ï¼Œæ—¨åœ¨ç»Ÿä¸€è®¸å¤šä¸åŒç±»å‹çš„ç±»ä¼¼æŒ‡é’ˆçš„äº¤äº’:é¼ æ ‡ã€è§¦æ‘¸ã€æ‰‹å†™ç¬”ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰æƒ³åˆ°çš„æ–°ä¸œè¥¿ã€‚é—®é¢˜(ç›®å‰)æ˜¯[ç§»åŠ¨æ”¯æŒä¸ç¨³å®š](https://caniuse.com/#feat=pointer) : `pointer`äº‹ä»¶åœ¨ Androidã€Opera Mobileã€Android Browserã€Samsung Browser å’Œ IE Mobile(ï¼Ÿï¼Ÿï¼Ÿ)ï¼Œä½†ä¸é€‚ç”¨äº Androidã€iOS Safari æˆ–å¤§å¤šæ•°å…¶ä»–ç§»åŠ¨æµè§ˆå™¨çš„ Firefox..

å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œé™¤äº†æ—‹è½¬çƒä½“ä¹‹å¤–ï¼Œå…¶ä»–ä»»ä½•æ“ä½œéƒ½éœ€è¦æŒ‰ä¸‹é”®ç›˜ä¸Šçš„ä¿®é¥°é”®(Shift+æ‹–åŠ¨å¹³ç§»ï¼ŒCtrl+æ‹–åŠ¨ç¼©æ”¾)ã€‚å› æ­¤`pointer`äº‹ä»¶æœ¬èº«åªä¼šå¯ç”¨æ—‹è½¬ï¼Œä¸ä¼šå¯ç”¨å…¶ä»–åŠŸèƒ½ã€‚

ä¸€ä¸ªåˆé€‚çš„è§£å†³æ–¹æ¡ˆæ˜¯å­¦ä¹ `touch`äº‹ä»¶ï¼Œä»¥åŠå¦‚ä½•å®ç°åƒç¼©æ”¾å’ŒåŒæŒ‡å¹³ç§»è¿™æ ·çš„æ‰‹åŠ¿ï¼Œä½†è€å®è¯´ï¼Œæˆ‘ç¨å¾®ç ”ç©¶äº†ä¸€ä¸‹ï¼Œå‘ç°*å¤ª*å¤æ‚äº†ï¼æ¯”æˆ‘ç°åœ¨æƒ³çš„è¿˜è¦å¤šã€‚æ‰€ä»¥`pointer`äº‹ä»¶å°†ä¸å¾—ä¸ä½œä¸ºä¸€ä¸ªæŠ˜ä¸­çš„æªæ–½ï¼Œåªä¿®å¤æ—‹è½¬ï¼Œåªåœ¨ä¸€äº›ç§»åŠ¨è®¾å¤‡ä¸Šå·¥ä½œã€‚æˆ‘å¯¹æ­¤å¹¶ä¸å…´å¥‹ğŸ˜

ä¸ç®¡æ€æ ·ï¼Œè¿™å°±æ˜¯æ‰€æœ‰è¿™äº›çœ‹èµ·æ¥çš„æ ·å­ã€‚æˆ‘é€šè¿‡æ£€æŸ¥`<body>`æ˜¯å¦æœ‰`onpointermove`å±æ€§æ¥æµ‹è¯•å¯¹`pointer`äº‹ä»¶çš„æ”¯æŒï¼Œå¦‚æœæ²¡æœ‰ï¼Œæˆ‘å°±è¿”å›åˆ°`mouse`äº‹ä»¶ï¼Œå› ä¸ºæœ‰äº›æ¡Œé¢æµè§ˆå™¨ä¹Ÿä¸æ”¯æŒ`pointer`äº‹ä»¶(çœ‹çœ‹ä½ ï¼ŒSafariğŸ˜¡).

```
// Prefer 'pointer' events when available
const pointerEvent = (
  'onpointermove' in document.body
    ? 'pointer'
    : 'mouse'
);
// Shorthands for 'mouse' or 'pointer' events
const [downEvt, upEvt, moveEvt, outEvt] = (
  ['down', 'up', 'move', 'out']
    .map(evtType => pointerEvent + evtType)
);

// Drag events
let dragOrigin;
canvas.addEventListener(downEvt, dragStartHandler)
function dragStartHandler(e){
    dragOrigin = {
        x: e.clientX,
        y: e.clientY
    };
    document.addEventListener(moveEvt, dragHandler);

    window.addEventListener(upEvt, dragStopHandler);
    window.addEventListener(outEvt, dragStopHandler);

    canvas.addEventListener(outEvt, stopPropagation);
    document.body.addEventListener(outEvt, stopPropagation);
}

function dragHandler(e){
    if (e.ctrlKey || e.metaKey) {
        if (e.altKey) sphere.hiddenFun2(e.clientX-dragOrigin.x, e.clientY-dragOrigin.y);
        else sphere.zoom(e.clientX-dragOrigin.x, e.clientY-dragOrigin.y, -1);
    }
    else if (e.shiftKey) {
        if (e.altKey) sphere.hiddenFun1(e.clientX-dragOrigin.x, e.clientY-dragOrigin.y);
        else sphere.pan(e.clientX-dragOrigin.x, e.clientY-dragOrigin.y);
    }
    else {
        sphere.rotate(e.clientX-dragOrigin.x, e.clientY-dragOrigin.y);
    }
    dragOrigin.x = e.clientX;
    dragOrigin.y = e.clientY;
}

function dragStopHandler(e) {
    document.removeEventListener(moveEvt, dragHandler);
    document.removeEventListener(upEvt, dragStopHandler);
    document.removeEventListener(outEvt, dragStopHandler);

    canvas.removeEventListener(outEvt, stopPropagation);
    document.body.removeEventListener(outEvt, stopPropagation);
}

function stopPropagation(e) {
    e.stopPropagation();
} 
```

é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œåœ¨åšè¿™ä¸ªçš„æ—¶å€™ï¼Œæˆ‘å‘ç° [Chrome çš„å¼€å‘å·¥å…·éå¸¸é€‚åˆæ¨¡æ‹Ÿå¸¦æœ‰è§¦æ‘¸äº‹ä»¶çš„ç§»åŠ¨è®¾å¤‡](https://developers.google.com/web/tools/chrome-devtools/device-mode/)ï¼

å“¦ï¼Œæœ€åä¸€ä»¶äº‹ã€‚æˆ‘ä¸å¾—ä¸åœ¨ç”»å¸ƒä¸Šæ·»åŠ ä¸€ä¸ª CSS è§„åˆ™æ¥ä½¿ touch æ­£å¸¸å·¥ä½œ:`touch-action: none;`ã€‚è¿™åŸºæœ¬ä¸Šé˜²æ­¢äº†æµè§ˆå™¨æ•è·è§¦æ‘¸äº‹ä»¶æ¥å°è¯•æ»šåŠ¨é¡µé¢ï¼Œå¹¶å…è®¸æˆ‘åœ¨æˆ‘çš„ JavaScript ä¸­ä½¿ç”¨å®ƒä»¬ã€‚

# [](#finished-product)æˆå“

è¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„è¿­ä»£ï¼Œè€å®è¯´ï¼Œåœ¨å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œæˆ‘å¯¹å®ƒåšäº†æ›´å¤šçš„è°ƒæ•´ï¼Œä½†æ˜¯å®ƒå°±åœ¨é‚£é‡Œï¼ä»¥ä¸‹æ˜¯æ‰€æœ‰æ›´æ–°åçš„æ ·å­:

[https://codepen.io/kenbellows/embed/bZzxMP?height=600&default-tab=result&embed-version=2](https://codepen.io/kenbellows/embed/bZzxMP?height=600&default-tab=result&embed-version=2)

# [](#conclusion)ç»“è®º

æˆ‘è¿˜æ˜¯æƒ³è§£å†³ä¸€äº›äº‹æƒ…ã€‚æˆ‘é‡åˆ°çš„æœ€å¤§é—®é¢˜æ˜¯å®ƒå¯¹ç§»åŠ¨è®¾å¤‡ä¸å‹å¥½ï¼ŒçœŸçš„ä¸€ç‚¹ä¹Ÿä¸å‹å¥½ã€‚ä¸ä»…ç¼©æ”¾å’Œå¹³ç§»åœ¨æ‰‹æœºä¸Šä¸èµ·ä½œç”¨ï¼Œè€Œä¸”ç½‘é¡µæœ¬èº«å‡ ä¹å®Œå…¨æ²¡æœ‰å“åº”ã€‚æˆ‘æƒ³æ·»åŠ ä¸€äº› CSS æ¥æ›´å¹²å‡€åœ°å¤„ç†ç‰¹åˆ«å°çš„é¡µé¢ã€‚ä¹Ÿè®¸æˆ‘ä¼šåœ¨è¿™ä¹‹åå†åšä¸€äº›è°ƒæ•´ğŸ¤”æ­£å¦‚æˆ‘åœ¨å¼€å¤´æ‰€è¯´çš„ï¼Œæˆ‘å¾ˆä¹æ„æ”¶åˆ°æ‚¨çš„ä»»ä½•åé¦ˆï¼è§é¬¼ï¼Œå¦‚æœä½ è§‰å¾—æ…·æ…¨ï¼Œé‚£å°±åšä¸€ä¸ªåå¯¹å›è´­çš„å…¬å…³å§ï¼

ä½†è¿™é‡Œæ˜¯æˆ‘çš„æ€»ä½“æ”¶è·:HTMLã€CSS å’Œ JavaScript åœ¨è¿‡å»çš„ 7 å¹´é‡Œæœ‰äº†å¾ˆå¤§çš„æ”¹è¿›ï¼Œæˆ‘ä½œä¸ºä¸€åå¼€å‘äººå‘˜ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä½“éªŒæ˜¯ä¸€ä»¶å¾ˆç¥å¥‡çš„äº‹æƒ…ï¼

åœ¨æˆ‘å°†è¦å†™çš„è¿™ä¸ªç³»åˆ—çš„æœ€åä¸€éƒ¨åˆ†...æœ€åï¼Œæˆ‘å°†ä»‹ç» JavaScript æœ¬èº«ï¼Œå¹¶è®¨è®ºå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚è¿™å°†æ˜¯ä¸€ä¸ªå…³äºå¦‚ä½•ç”¨æ™®é€š JavaScript æ„å»ºä¸€ä¸ªä¸œè¥¿çš„ç‹¬ç«‹æ•™ç¨‹ï¼Œè€Œä¸æ˜¯ä¾èµ–äºå‰ä¸¤ç¯‡æ–‡ç« ã€‚