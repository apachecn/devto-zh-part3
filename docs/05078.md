# ä½¿ç”¨ spotify-web-sdk å¤„ç†å¯¹ Spotify Web API çš„è¯·æ±‚

> åŸæ–‡:[https://dev . to/calluswhatyouwant/using-Spotify-we b-SDK-to-handle-requests-to-the-Spotify-we b-API-2oj 6](https://dev.to/calluswhatyouwant/using-spotify-web-sdk-to-handle-requests-to-the-spotify-web-api-2oj6)

è¿™æ˜¯ **Meet spotify-web-sdk çš„ç¬¬ä¸€ç¯‡å¸–å­ï¼**ç³»åˆ—ï¼Œå…¶ä¸­æˆ‘ä»¬([ç§°æˆ‘ä»¬ä¸ºä½ æƒ³è¦çš„](https://dev.to/calluswhatyouwant/call-us-what-you-want-is-officially-on-board-1km))å°†è¯„è®º Spotify Web API æä¾›çš„å¯èƒ½æ€§å’Œæˆ‘ä»¬çš„ä¸€äº›ä»£ç è®¾è®¡é€‰æ‹©ã€‚åœ¨ç¬¬ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£ spotify-web-sdk å¦‚ä½•å¸®åŠ©æ„å»º[åº”ç”¨ç¨‹åº](https://github.com/calluswhatyouwant/spotify-playlist-editor)ï¼Œè¯¥åº”ç”¨ç¨‹åºä½¿ç”¨ Spotify Web API æ¥æ£€ç´¢ä¿¡æ¯å’Œç®¡ç†ç”¨æˆ·æ•°æ®ã€‚

## ![GitHub logo](../Images/292a238c61c5611a7f4d07a21d9e8e0a.png)[calluswhatyouwant](https://github.com/calluswhatyouwant)/[Spotify-we b-SDK](https://github.com/calluswhatyouwant/spotify-web-sdk)

### Spotify Web API çš„ JS SDKã€‚

<article class="markdown-body entry-content container-lg" itemprop="text">

# Spotify Web SDK

Spotify Web API çš„ JavaScript SDK è¯·æ³¨æ„ï¼Œè¿™ä¸ªé¡¹ç›®ä»ç„¶æ˜¯æµ‹è¯•ç‰ˆã€‚

## ç›®å½•

*   [ç‰¹æ€§](https://raw.githubusercontent.com/calluswhatyouwant/spotify-web-sdk/master/#features)
*   [å®‰è£…](https://raw.githubusercontent.com/calluswhatyouwant/spotify-web-sdk/master/#installation)
*   [ç”¨é€”](https://raw.githubusercontent.com/calluswhatyouwant/spotify-web-sdk/master/#usage)
*   [ç¤¾åŒº](https://raw.githubusercontent.com/calluswhatyouwant/spotify-web-sdk/master/#community)
    *   [å»ºè®®æ–°åŠŸèƒ½æˆ–æŠ¥å‘Šé”™è¯¯](https://raw.githubusercontent.com/calluswhatyouwant/spotify-web-sdk/master/#suggest-a-new-feature-or-report-a-bug)
    *   [è‡ªå·±åŠ¨æ‰‹](https://raw.githubusercontent.com/calluswhatyouwant/spotify-web-sdk/master/#do-it-yourself)
    *   [ç»´æŠ¤äººå‘˜](https://raw.githubusercontent.com/calluswhatyouwant/spotify-web-sdk/master/#maintainers)
    *   [åäººå ‚](https://raw.githubusercontent.com/calluswhatyouwant/spotify-web-sdk/master/#hall-of-fame)
*   [æ‰§ç…§](https://raw.githubusercontent.com/calluswhatyouwant/spotify-web-sdk/master/#license)

## ç‰¹å¾

### â€œæˆ‘ä¸ºä»€ä¹ˆè¦ç”¨è¿™ä¸ªï¼Ÿâ€

æˆ‘ä»¬å¸Œæœ›ä¸ºæ‚¨å¤„ç†å›°éš¾çš„å·¥ä½œï¼Œå³ä½¿æ˜¯æå‡ºç®€å•çš„è¯·æ±‚ï¼Œä¾‹å¦‚è·å–èµ›é“ä¿¡æ¯ï¼Œæ‚¨ä¹Ÿéœ€è¦è¿›è¡Œä¸€ç³»åˆ—è®¾ç½®ã€‚åœ¨æˆ‘ä»¬çš„å¸®åŠ©ä¸‹ï¼Œæ‚¨å¯ä»¥åœ¨è¿™é‡ŒåšåŒæ ·çš„äº‹æƒ…:

```
import * as spotify from 'spotify-web-sdk';
spotify.init({ token: 'YOUR SPOTIFY TOKEN HERE!' }); // You should only need to run this once.
spotify.getTrack('3LOpHuEpjkL4T1Zcjhko8w'); // Or any other track id.
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¹ï¼Œå°±è¿™ä¹ˆç®€å•ï¼

### â€œæˆ‘è¿˜æ˜¯è§‰å¾—ä¸€ç‚¹éƒ½ä¸è¾›è‹¦ã€‚

â€¦</article>

[View on GitHub](https://github.com/calluswhatyouwant/spotify-web-sdk)

# [](#the-realworld-problem-another-day-another-drama)ç°å®é—®é¢˜(*æ”¹å¤©ï¼Œå¦ä¸€åœºæˆ*)

æˆ‘çš„ Spotify å›¾ä¹¦é¦†çš„ä¸“è¾‘éƒ¨åˆ†éå¸¸æ‚ä¹±â€”â€”é—®é¢˜æ˜¯ï¼Œå¦‚æœæˆ‘ä¿å­˜ä¸€é¦–æ–°å•æ›²ï¼Œå®ƒæœ€ç»ˆä¹Ÿä¼šè¢«ä¿å­˜ä¸ºä¸“è¾‘ã€‚ä¿æŒä¸€ç§ç®€å•çš„æ–¹å¼æ¥è®¿é—®æ¯å¼ ä¸“è¾‘å¯¹æˆ‘æ¥è¯´å¾ˆé‡è¦ï¼Œå› ä¸ºå¤§å¤šæ•°æ—¶å€™æˆ‘å®æ„¿ä»å¤´åˆ°å°¾å¬ä¸€æ•´å¼  EP/LPï¼Œè€Œä¸æ˜¯ç‚¹å‡»æ’­æ”¾åˆ—è¡¨ä¸­çš„éšæœºæ’­æ”¾æŒ‰é’®ã€‚

<figure>

[![Spotify Albums screenshot](../Images/f5f37bb63977af71763908c054fd2d1c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Um0jvxCa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/pqktrt0hmqdhrxudc6ta.png)

<figcaption>**ME!** and **The Other Side** are both singles but also show up in my Spotify library as albums.</figcaption>

</figure>

æˆ‘æƒ³åˆ°äº†ä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„è§£å†³æ–¹æ¡ˆ:æˆ‘åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«æˆ‘å¬è¿‡çš„æ¯å¼ ä¸“è¾‘çš„ç¬¬ä¸€é¦–æ›²ç›®çš„æ’­æ”¾åˆ—è¡¨ã€‚æ‹¥æœ‰è¿™ä¸ªæ’­æ”¾åˆ—è¡¨ä¹Ÿæ˜¯è®°å½•æˆ‘ç¬¬ä¸€æ¬¡å¬æ–°å‘è¡Œçš„éŸ³ä¹çš„ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•(è‡³å°‘å½“æˆ‘è®°å¾—é©¬ä¸Šæ·»åŠ å®ƒä»¬çš„æ—¶å€™)ã€‚é—®é¢˜å·²è§£å†³...è‡³å°‘éƒ¨åˆ†æ˜¯ã€‚å¥½å§ï¼Œä¸ºäº†è®©äº‹æƒ…æ›´æœ‰æ¡ç†ï¼Œæˆ‘è¿˜æ˜¯æƒ³æŒ‰ç…§å‘è¡Œæ—¥æœŸå¯¹æˆ‘çš„ä¸“è¾‘å‚è€ƒè¿›è¡Œåˆ†ç±»ã€‚é—®é¢˜æ˜¯ Spotify ä¸æ”¯æŒè¿™ç§æ’åºæ–¹æ³•ï¼Œå°½ç®¡ç”¨æˆ·åœ¨äº”å¹´å¤šçš„æ—¶é—´é‡Œä¸€ç›´åœ¨[è¯·æ±‚è¿™ç§æ–¹æ³•ã€‚æˆ‘æƒ³æˆ‘ä»¬ä¸èƒ½æ‹¥æœ‰ä¸€åˆ‡ã€‚](https://community.spotify.com/t5/Live-Ideas/Your-Music-Sort-Music-in-quot-Your-Music-quot-by-Year/idi-p/744893)

æˆ‘æœç´¢äº†ä¸ºæˆ‘ç®¡ç†è¿™ç§åˆ†ç±»çš„å·¥å…·ï¼Œæœ‰ä¸€ä¸ªå¾ˆæ£’çš„ç½‘ç»œåº”ç”¨å«åš [Sort Your Music](http://sortyourmusic.playlistmachinery.com/) ã€‚å°½ç®¡ä½¿ç”¨èµ·æ¥éå¸¸ç®€å•é«˜æ•ˆï¼Œä½†ä»–ä»¬çš„æ’åºæ–¹æ³•ä¼šè¦†ç›–æ›²ç›®çš„æ·»åŠ æ—¥æœŸã€‚æˆ‘çŸ¥é“æˆ‘æœ‰ç‚¹éš¾æ([å—¯](https://genius.com/Taylor-swift-me-lyrics))ï¼Œä½†æ˜¯çŸ¥é“è¿™æ˜¯å¯èƒ½çš„ï¼Œæˆ‘å†³å®šå®ç°æˆ‘è‡ªå·±çš„å·¥å…·ã€‚æ²¡æœ‰ä»€ä¹ˆæ¯”è‡ªå·±åŠ¨æ‰‹åšæ›´å¥½çš„äº†ï¼Œå¯¹å§ï¼Ÿ

# æˆ‘æœ‰ä¸€ç‚¹ç‚¹çƒ§ä¼¤ï¼Œä½†æ²¡é—®é¢˜

ä½¿ç”¨ Spotify Web API ç®¡ç†æ’­æ”¾åˆ—è¡¨å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç«¯ç‚¹æ¥å®Œæˆ:[ä¸€ä¸ªç«¯ç‚¹å…è®¸æ›¿æ¢æ‰€æœ‰æ›²ç›®](https://developer.spotify.com/documentation/web-api/reference/playlists/replace-playlists-tracks)å’Œ[å¦ä¸€ä¸ªç«¯ç‚¹å¯ç”¨äºé‡æ–°æ’åºä¸€é¦–æ›²ç›®æˆ–ä¸€ç»„æ›²ç›®](https://developer.spotify.com/documentation/web-api/reference/playlists/reorder-playlists-tracks/)ã€‚ä¸ç¬¬ä¸€ä¸ªä¸åŒï¼Œç¬¬äºŒä¸ªä¸æ¶‰åŠæŒ‡ç¤ºæ›²ç›®æ·»åŠ æ—¶é—´çš„æ—¶é—´æˆ³å’Œæ·»åŠ è€…çš„æ ‡è¯†ç¬¦(å¯¹äºåä½œæ’­æ”¾åˆ—è¡¨)ã€‚

<figure>

[![Visualization of track reordering](../Images/be20282f1a7577d61277783424b90a8c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--113_b26J--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/lfcnbuvlnmvemungeuyu.png)

<figcaption>Visualization of how the "reorder a playlist's tracks" endpoint works. Source: [Spotify for Developers](https://developer.spotify.com/documentation/web-api/reference/playlists/reorder-playlists-tracks/)</figcaption>

</figure>

å¦‚ä¸Šæ‰€è¿°ï¼Œç«¯ç‚¹çš„å·¥ä½œæ–¹å¼æ˜¯å¯¹æ’­æ”¾åˆ—è¡¨è¿›è¡Œæ’åºéœ€è¦å¤§é‡è¿ç»­çš„è¯·æ±‚(åŸºæœ¬ä¸Šï¼Œæ’­æ”¾åˆ—è¡¨ä¸­çš„æ¯ä¸ªæ›²ç›®ä¸€ä¸ªè¯·æ±‚)ï¼Œè¿™ä¹Ÿæ„å‘³ç€è¿™æ¯”ç®€å•åœ°è¦†ç›–æ‰€æœ‰å†…å®¹éœ€è¦æ›´é•¿çš„æ—¶é—´ã€‚ç‰ºç‰²æ˜¯å¿…é¡»è¦åšçš„ï¼Œä½†ç»“æœæ­£æ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„:è¿™æ˜¯ Spotify æ’­æ”¾åˆ—è¡¨ç¼–è¾‘å™¨ã€‚

<figure>

[![Spotify Playlist Editor](../Images/4bf9ebd72321ea8ccae7abc68200f59c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Ih3NqGfw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/7ookuks66s0203i3s9n3.png)

<figcaption>Once logged in, something like that should appear to you.</figcaption>

</figure>

# [](#detailing-the-process-but-not-too-much)è¯¦è¿°è¿‡ç¨‹(ä½†ä¸è¦å¤ªå¤š)

æˆ‘æƒ³å°½å¯èƒ½å¿«åœ°åŸå‹åŒ–ä¸€ä¸ª React åº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨äº† [create-react-app](https://facebook.github.io/create-react-app/) ï¼ŒèŠ‚çœäº†æˆ‘å¤§é‡çš„é…ç½®æ—¶é—´ã€‚æ€»çš„æ¥è¯´ï¼Œæˆ‘å»ºè®®æ¯ä¸ªäººèŠ±æ—¶é—´å»ç†è§£å¦‚ä½•ä»å¤´å¼€å§‹åˆ›å»ºä¸€ä¸ª React åº”ç”¨ç¨‹åºï¼Œä½†è¿™è‚¯å®šä¼šæ´¾ä¸Šç”¨åœºï¼ä¸ºäº†ç®€å•èµ·è§ï¼Œ **Spotify æ’­æ”¾åˆ—è¡¨ç¼–è¾‘å™¨**æ˜¯æ— æœåŠ¡å™¨çš„ï¼Œä½†ä»ç„¶å…è®¸ä»»ä½•äººé€šè¿‡å®ç°[éšå¼æˆæƒæµ](https://developer.spotify.com/documentation/general/guides/authorization-guide/)æ¥è®¿é—®ä»–ä»¬çš„ Spotify æ•°æ®ã€‚

æˆ‘åŒ…å«äº†ä¸€äº›åŒ…å’Œå·¥å…·åŒ…æ¥ç®€åŒ–ç¼–ç è¿‡ç¨‹(ä¾‹å¦‚ï¼Œ [Bootstrap](https://getbootstrap.com) è¿™æ ·æˆ‘å°±å¯ä»¥å°‘æ‹…å¿ƒæ ·å¼ï¼Œè€Œ[beautiful](https://prettier.io/)æœ‰åŠ©äºä¿æŒä»£ç æ•´æ´)ã€‚æˆ‘è®¤ä¸ºå€¼å¾—ä¸€æçš„æ˜¯ï¼Œæˆ‘æ­£åœ¨ä½¿ç”¨[æµ](https://flow.org)è¿›è¡Œé™æ€ç±»å‹æ£€æŸ¥ã€‚æˆ‘å–œæ¬¢ JavaScript æ˜¯ä¸€ç§åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œä½†æ˜¯ç”±äº SDK å¤„ç†è®¸å¤šæ¨¡å‹ï¼Œè¿™äº›æ¨¡å‹éƒ½æœ‰è®¸å¤šå±æ€§ï¼Œæ‰€ä»¥ Flow æˆä¸ºäº†ä¸€ä¸ªå¾ˆå¥½çš„ç›Ÿå‹ã€‚

<figure>

[![IntelliSense](../Images/37ec7cc60cd23b82a6a01f4b8a6ebef4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--X1y3_tBK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/jjhcgbimvjazm6wcvcb8.png)

<figcaption>Also, React + Flow + [IntelliSense](https://code.visualstudio.com/docs/editor/intellisense) is a dream combo.</figcaption>

</figure>

## [](#meet-spotify-web-apis-selfproclaimed-best-friend-spotifywebsdk)è®¤è¯†ä¸€ä¸‹ Spotify Web API è‡ªç§°çš„æœ€å¥½çš„æœ‹å‹ï¼Œspotify-web-sdkï¼

ä¸‹é¢æ˜¯å–è‡ª*ç”¨æˆ·é¡µé¢*ç»„ä»¶çš„ä¸€æ®µä»£ç ã€‚ä½ å¯ä»¥çœ‹åˆ°ä¸€äº›å¯¹ SDK çš„ç›´æ¥å¯¼å…¥:

```
/* @flow */

import React, { Component } from 'react';
import {
    /* Functions that wrap Spotify endpoints */
    init,
    getCurrentUserPlaylists,
    getCurrentUserProfile,
    /* Models */
    Page,
    PlaylistSimplified,
    PrivateUser,
} from 'spotify-web-sdk';

type Props = {
    history: any,
};

type State = {
    page: Page<PlaylistSimplified>,
    playlists: PlaylistSimplified[],
    user: PrivateUser,
};

class UserPage extends Component<Props, State> {
    // ...
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸€æ—¦ç”¨æˆ·è¿æ¥åˆ° Spotifyï¼Œ*ç”¨æˆ·é¡µé¢*å°±æ˜¯åº”ç”¨ç¨‹åºçš„ä¸»é¡µé¢ã€‚å®ƒçš„ä¸»è¦ç›®çš„æ˜¯æ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„æ’­æ”¾åˆ—è¡¨åˆ—è¡¨ï¼Œå¹¶æœ‰ä¸€ä¸ªæŒ‰é’®å…è®¸ä»–ä»¬é€‰æ‹©æ„Ÿå…´è¶£çš„æ’­æ”¾åˆ—è¡¨ã€‚æœ€åˆï¼Œæ£€ç´¢äº”ä¸ªæ’­æ”¾åˆ—è¡¨:

```
componentDidMount = async () => {
    const page = await getCurrentUserPlaylists({ limit: 5 });
    this.setState({
        page,
        playlists: page.items,
    });
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é€šè¿‡å°†é¡µé¢å¯¹è±¡ä¿æŒåœ¨çŠ¶æ€ï¼Œè¯·æ±‚æ›´å¤šæ’­æ”¾åˆ—è¡¨å˜å¾—éå¸¸ç®€å•ã€‚è¿™æ˜¯å› ä¸º spotify-web-sdk çš„ Page å¯¹è±¡ä¸Šå·²ç»å®ç°äº†ä»¥ä¸‹é€»è¾‘:

```
class Page<T> {
    // ...
    async getNextPage() {
        if (!this.hasNext()) throw new Error('There are no more pages');
        const params = {
            ...this.queryParams,
            limit: this.limit,
            offset: this.offset + this.limit,
        };
        const response = await this.getAxiosPageInstance().get('/', { params });
            return new Page<T>(response.data, this.t, this.wrapper);
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å› æ­¤ï¼Œåœ¨æ’­æ”¾åˆ—è¡¨ç¼–è¾‘å™¨ä¸­å¤„ç†æ‰€æœ‰è¿™äº›é€»è¾‘å¯ä»¥å½’ç»“ä¸ºä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œä¸å†éœ€è¦è·Ÿè¸ªè¯¸å¦‚é™åˆ¶å’Œåç§»ä¹‹ç±»çš„å€¼:

```
loadMorePlaylists = async () => {
    const { page } = this.state;
    const nextPage = await page.getNextPage(); // Sit back and let spotify-web-sdk handle the hard work!
    this.setState(prevState => {
        const playlists = prevState.playlists.concat(nextPage.items);
        return { playlists, page: nextPage };
    });
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¯¥åº”ç”¨ç¨‹åºçš„å…¨éƒ¨ç›®çš„æ˜¯è®©ç”¨æˆ·å¯¹ä»–ä»¬çš„æ’­æ”¾åˆ—è¡¨è¿›è¡Œæ’åºï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å¼€å§‹å§ã€‚ä»*æ’­æ”¾åˆ—è¡¨é¡µ*ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©ä¸€ç§åˆ†ç±»æ–¹æ³•(åŒ…æ‹¬å‘å¸ƒæ—¥æœŸï¼).æœ€åˆï¼Œå®šä¹‰äº†ç£é“çš„é¢„æœŸé¡ºåºï¼Œç„¶åæ‰§è¡Œé¡ºåºæ“ä½œå¯¹å®ƒä»¬è¿›è¡Œé‡æ–°æ’åºã€‚è¿™æˆ–å¤šæˆ–å°‘æ˜¯å®ƒåœ¨ä»£ç ä¸­çš„å·¥ä½œæ–¹å¼:

```
import { reorderPlaylistTracks } from 'spotify-web-sdk';

export const sortPlaylistTracksByAttribute = async (
    playlistId: string,
    attribute: string
) => {
    let insertionOrder = await getInsertionOrder(playlistId, attribute);
    return insertionOrder.reduce(async (previousPromise, current) => {
        await previousPromise;
        return moveTrackToTop(playlistId, current);
    }, Promise.resolve());
};

const getInsertionOrder = async (
    playlistId: string,
    attribute: string
) => { /* Determines the insertion order based on the attribute. */ };

const moveTrackToTop = (id: string, oldIndex: number) =>
    reorderPlaylistTracks(id, oldIndex, { rangeLength: 1, insertBefore: 0 }); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é¡ºä¾¿è¯´ä¸€å¥ï¼Œå¦‚æœä½ ä¸ç†Ÿæ‚‰è¿™ç§ä½¿ç”¨ *Array.prototype.reduce()* é¡ºåºè§£ææ‰¿è¯ºçš„æ–¹æ³•ï¼Œæœ‰ä¸€ç¯‡å¾ˆæ£’çš„æ–‡ç« ä»‹ç»äº†å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œ**ä¸ºä»€ä¹ˆ**å®ƒä¼šå·¥ä½œã€‚æ¥çœ‹çœ‹[çš„ CSS æ‹›æ•°](https://css-tricks.com/why-using-reduce-to-sequentially-resolve-promises-works/)ï¼

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šçš„ç»†èŠ‚ï¼Œæˆ‘è®¤ä¸ºæäº¤æ—¥å¿—å¯ä»¥ä½œä¸ºä¸€ä¸ªå¾ˆå¥½çš„æŒ‡å—ï¼Œå‘Šè¯‰æ‚¨æ·»åŠ äº†ä»€ä¹ˆå†…å®¹ä»¥åŠä½•æ—¶æ·»åŠ çš„ï¼Œå› ä¸ºæˆ‘ä¼šå°½é‡ç»™å‡ºæè¿°æ€§çš„ã€ç®€æ´çš„æäº¤æ¶ˆæ¯ã€‚ **Spotify æ’­æ”¾åˆ—è¡¨ç¼–è¾‘å™¨**ä¹Ÿåœ¨ç›´æ’­å³ä¾§[è¿™é‡Œ](https://calluswhatyouwant.github.io/spotify-playlist-editor/)å¦‚æœä½ æƒ³ç©ä¸€ä¼šå„¿ã€‚å¦‚æœä½ é‡åˆ°ä»»ä½•æ„æƒ³ä¸åˆ°çš„äº‹æƒ…ï¼Œè¯·åœ¨é¡¹ç›®çš„ GitHub åº“ä¸­åˆ›å»ºä¸€ä¸ªé—®é¢˜ã€‚å…¬å…³ä¹Ÿæ˜¯å—æ¬¢è¿çš„ï¼Œæˆ‘ä»¬ç¡®å®æœ‰ä¸€äº›é—®é¢˜å·²ç»å¼€æ”¾ï¼Œæ‰€ä»¥éšä½ ä¾¿ï¼

## ![GitHub logo](../Images/292a238c61c5611a7f4d07a21d9e8e0a.png)å‘¼å« whatyouwant / [ spotify æ’­æ”¾åˆ—è¡¨ç¼–è¾‘å™¨](https://github.com/calluswhatyouwant/spotify-playlist-editor)

### æ‚¨å¯ä»¥éšæ„å¯¹ Spotify æ’­æ”¾åˆ—è¡¨è¿›è¡Œæ’åºã€‚

<article class="markdown-body entry-content container-lg" itemprop="text">

# Spotify æ’­æ”¾åˆ—è¡¨ç¼–è¾‘å™¨

éšå¿ƒæ‰€æ¬²åœ°å¯¹ Spotify æ’­æ”¾åˆ—è¡¨è¿›è¡Œæ’åºï¼ <g-emoji class="g-emoji" alias="hammer_and_wrench" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f6e0.png">ğŸ› </g-emoji>

[![Initial page](../Images/118986bd18943cf955fbeced058c6736.png)T2ã€‘](https://raw.githubusercontent.com/calluswhatyouwant/spotify-playlist-editor/master/./main-page.png)

## ç›®å½•

*   [ç‰¹æ€§](https://raw.githubusercontent.com/calluswhatyouwant/spotify-playlist-editor/master/#features)
*   [ç¤¾åŒº](https://raw.githubusercontent.com/calluswhatyouwant/spotify-playlist-editor/master/#community)
    *   [å®‰è£…å’Œä½¿ç”¨](https://raw.githubusercontent.com/calluswhatyouwant/spotify-playlist-editor/master/#installation-and-usage)
    *   [éƒ¨ç½²](https://raw.githubusercontent.com/calluswhatyouwant/spotify-playlist-editor/master/#deployment)
    *   [å»ºè®®æ–°åŠŸèƒ½æˆ–æŠ¥å‘Šé”™è¯¯](https://raw.githubusercontent.com/calluswhatyouwant/spotify-playlist-editor/master/#suggest-a-new-feature-or-report-a-bug)
    *   [ç»´æŠ¤äººå‘˜](https://raw.githubusercontent.com/calluswhatyouwant/spotify-playlist-editor/master/#maintainers)

## ç‰¹å¾

*   ä»æ‚¨æœ€è¿‘çš„ Spotify æ›²ç›®æˆ–æ‚¨æœ‰å²ä»¥æ¥çš„çƒ­é—¨æ›²ç›®ä¸­åˆ›å»ºæ–°çš„æ’­æ”¾åˆ—è¡¨ï¼›
*   æ’­æ”¾åˆ—è¡¨æ’åºä¾æ®
    *   æ’­æ”¾åˆ—è¡¨è½¨é“å±æ€§(æ·»åŠ æ—¥æœŸ)ï¼›
    *   æ›²ç›®å±æ€§(åç§°ã€é•¿åº¦ã€äººæ°”)ï¼›
    *   ä¸“è¾‘å±æ€§(åç§°ã€å‘è¡Œæ—¥æœŸ)ï¼›
    *   è‰ºæœ¯å®¶å±æ€§(å§“å)ã€‚

### å½“å‰çš„é™åˆ¶

*   å¼ºçƒˆå»ºè®®åˆ›å»ºæ‚¨æƒ³è¦ç¼–è¾‘çš„æ’­æ”¾åˆ—è¡¨çš„å‰¯æœ¬ï¼Œæˆ–è€…ä½¿ç”¨æ’­æ”¾åˆ—è¡¨åˆ›å»ºé€‰é¡¹ä¹‹ä¸€ã€‚(éšä¾¿ç©ç©ï¼Œä½†æ˜¯è¦å®‰å…¨çš„åšï¼);
*   æ‚¨åªèƒ½å¯¹ä¸è¶…è¿‡ 100 é¦–æ›²ç›®çš„æ’­æ”¾åˆ—è¡¨è¿›è¡Œæ’åºï¼›
*   æ’åºå¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´(åŒ…å« 100 é¦–æ›²ç›®çš„æ’­æ”¾åˆ—è¡¨å¯èƒ½éœ€è¦ 30 ç§’åˆ° 1 åˆ†é’Ÿ)ã€‚åœ¨æ’åºå®Œæˆä¹‹å‰ï¼Œä¸è¦é‡æ–°åŠ è½½æˆ–å…³é—­æ’­æ”¾åˆ—è¡¨é¡µé¢ã€‚

## ç¤¾åŒº

### å®‰è£…å’Œä½¿ç”¨

åªéœ€è¿è¡Œ`yarn install`æ¥å®‰è£…é¡¹ç›®çš„ä¾èµ–é¡¹â€¦

</article>

[View on GitHub](https://github.com/calluswhatyouwant/spotify-playlist-editor)

* * *

è¿™æ˜¯ç¬¬ä¸€éƒ¨åˆ† **Meet spotify-web-sdkï¼**ç³»åˆ—ã€‚ä½ æ€ä¹ˆæƒ³å‘¢?è¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ä»¬ï¼å¦‚æœä½ æœ‰å…´è¶£çŸ¥é“æˆ‘ä»¬åœ¨åšä»€ä¹ˆï¼Œä½ å¯ä»¥[åœ¨ Twitter](https://twitter.com/CallUsWhat) ä¸Šæ‰¾åˆ°æˆ‘ä»¬ã€‚

éå¸¸æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œä¸‹æ¬¡å†è§ï¼ğŸ˜‰