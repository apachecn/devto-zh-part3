# æˆ‘çš„é™„åŠ éƒ¨åˆ†ã€‚ç”Ÿäº§ä¸­çš„ htaccess

> åŸæ–‡:[https://dev . to/nab bisen/WordPress-my-additional-parts-to-htaccess-in-production-hli](https://dev.to/nabbisen/wordpress-my-additional-parts-to-htaccess-in-production-hli)

# [](#introduction)ç®€ä»‹

æˆ‘æœ‰ä¸‰ä¸ªéƒ¨åˆ†ã€‚å½“æˆ‘å‘å¸ƒ WordPress ç½‘ç«™æ—¶ï¼Œå°†æ·»åŠ å®ƒä»¬çš„ htaccessã€‚ä¸€ä¸ªæ˜¯ä¸ºäº†å®‰å…¨ï¼Œå¦ä¸€ä¸ªæ˜¯ä¸ºäº†æ€§èƒ½ã€‚

# [](#my-additional-parts)æˆ‘çš„é™„åŠ é›¶ä»¶

### [](#section-1-denial-of-git-access)ç¬¬ä¸€èŠ‚:å¦è®¤ã€‚git è®¿é—®

è¿™æ˜¯ä¸ºäº†å®‰å…¨ã€‚æˆ‘ä»æ¥ä¸æƒ³ã€‚å°½ç®¡æˆ‘æ²¡æœ‰åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ git çš„ä¹ æƒ¯ï¼Œä½† Git æ—¥å¿—è¿˜æ˜¯æ„å¤–åœ°æš´éœ²äº†å‡ºæ¥ã€‚

```
RedirectMatch 404 /\.git 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#section-2-compression-of-data-transfer)ç¬¬äºŒèŠ‚:æ•°æ®ä¼ è¾“çš„å‹ç¼©

æ˜¯ä¸ºäº†æ€§èƒ½ã€‚(æˆ‘å–œæ¬¢ç”¨è°·æ­Œçš„[web . dev](https://web.dev/measure)/[page speed Insights](https://developers.google.com/speed/pagespeed/insights/)æŸ¥çœ‹æˆ‘çš„ç½‘ç«™ã€‚)

```
<IfModule mod_deflate.c> # compress html/css/javascript/text/xml/font
AddOutputFilterByType DEFLATE application/javascript
...
</IfModule> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#section-3-browser-caching)ç¬¬ä¸‰èŠ‚:æµè§ˆå™¨ç¼“å­˜

ä¹Ÿæ˜¯ä¸ºäº†è¡¨ç°ã€‚

```
<IfModule mod_deflate.c> ExpiresActive On
ExpiresByType image/gif "access plus 3 weeks"
...
</IfModule> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

# [](#conclusion)ç»“è®º

æ€»è€Œè¨€ä¹‹ï¼Œæˆ‘çš„ã€‚ç”Ÿäº§ä¸­çš„ htaccess æ˜¯è¿™æ ·çš„:

```
# BEGIN WordPress
...

# END WordPress

RedirectMatch 404 /\.git

<IfModule mod_deflate.c> # compress html/css/javascript/text/xml/font
AddOutputFilterByType DEFLATE application/javascript
AddOutputFilterByType DEFLATE application/rss+xml
AddOutputFilterByType DEFLATE application/vnd.ms-fontobject
AddOutputFilterByType DEFLATE application/x-font
AddOutputFilterByType DEFLATE application/x-font-opentype
AddOutputFilterByType DEFLATE application/x-font-otf
AddOutputFilterByType DEFLATE application/x-font-truetype
AddOutputFilterByType DEFLATE application/x-font-ttf
AddOutputFilterByType DEFLATE application/x-javascript
AddOutputFilterByType DEFLATE application/xhtml+xml
AddOutputFilterByType DEFLATE application/xml
AddOutputFilterByType DEFLATE font/opentype
AddOutputFilterByType DEFLATE font/otf
AddOutputFilterByType DEFLATE font/ttf
AddOutputFilterByType DEFLATE image/svg+xml
AddOutputFilterByType DEFLATE image/x-icon
AddOutputFilterByType DEFLATE text/css
AddOutputFilterByType DEFLATE text/html
AddOutputFilterByType DEFLATE text/javascript
AddOutputFilterByType DEFLATE text/plain
AddOutputFilterByType DEFLATE text/xml

# escape from bugs of pretty old browsers
BrowserMatch ^Mozilla/4 gzip-only-text/html
BrowserMatch ^Mozilla/4\.0[678] no-gzip
BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
Header append Vary User-Agent
</IfModule> 
<IfModule mod_deflate.c> ExpiresActive On
ExpiresByType image/gif "access plus 3 weeks"
ExpiresByType image/jpeg "access plus 3 weeks"
ExpiresByType image/png "access plus 3 weeks"
ExpiresByType image/x-icon "access plus 2 weeks"
ExpiresByType text/css "access plus 1 weeks"
ExpiresByType text/javascript "access plus 1 weeks"
ExpiresByType application/javascript "access plus 1 weeks"
ExpiresByType application/x-javascript "access plus 1 weeks"
</IfModule> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœä½ èƒ½å‘Šè¯‰æˆ‘å¦‚ä½•æ”¹æ­£æˆ–æ”¹è¿›å®ƒä»¬ï¼Œæˆ‘ä¼šå¾ˆé«˜å…´ğŸ˜„

ä¸ºğŸ•ŠæœåŠ¡æ„‰å¿«