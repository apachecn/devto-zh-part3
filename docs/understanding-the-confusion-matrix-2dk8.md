# ç†è§£æ··æ·†çŸ©é˜µ

> åŸæ–‡ï¼š<https://dev.to/overrideveloper/understanding-the-confusion-matrix-2dk8>

[![visual](img/f38e70f219326b156034d564da7ca1ba.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--ExuCM9Bd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/5s8xw56ad21s6skkmjuh.png)

æ··æ·†çŸ©é˜µæ˜¯æè¿°åˆ†ç±»å™¨/åˆ†ç±»æ¨¡å‹çš„æ€§èƒ½çš„è¡¨æ ¼ã€‚å®ƒåŒ…å«å…³äºåˆ†ç±»å™¨å®Œæˆçš„**å®é™…åˆ†ç±»å’Œé¢„æµ‹åˆ†ç±»**çš„ä¿¡æ¯ï¼Œè¯¥ä¿¡æ¯ç”¨äºè¯„ä¼°åˆ†ç±»å™¨çš„æ€§èƒ½ã€‚

è¯·æ³¨æ„ï¼Œæ··æ·†çŸ©é˜µä»…ç”¨äºåˆ†ç±»ä»»åŠ¡ï¼Œå› æ­¤ä¸èƒ½ç”¨äºå›å½’æ¨¡å‹æˆ–å…¶ä»–éåˆ†ç±»æ¨¡å‹ã€‚

åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä¸€äº›æœ¯è¯­ã€‚

*   åˆ†ç±»å™¨:åˆ†ç±»å™¨åŸºæœ¬ä¸Šæ˜¯ä¸€ç§ç®—æ³•ï¼Œå®ƒä½¿ç”¨ä»è®­ç»ƒæ•°æ®ä¸­è·å¾—çš„â€œçŸ¥è¯†â€å°†è¾“å…¥æ•°æ®æ˜ å°„åˆ°ç‰¹å®šçš„ç±»åˆ«æˆ–ç±»ã€‚åˆ†ç±»å™¨è¦ä¹ˆæ˜¯äºŒå…ƒåˆ†ç±»å™¨ï¼Œè¦ä¹ˆæ˜¯å¤šç±»/å¤šåˆ†ç±»/å¤šæ ‡ç­¾/å¤šè¾“å‡ºåˆ†ç±»å™¨ã€‚
*   è®­ç»ƒå’Œæµ‹è¯•æ•°æ®:åœ¨å»ºç«‹åˆ†ç±»æ¨¡å‹/åˆ†ç±»å™¨æ—¶ï¼Œæ•°æ®é›†è¢«åˆ†æˆ**è®­ç»ƒæ•°æ®**å’Œ**æµ‹è¯•æ•°æ®**ï¼Œå®ƒä»¬éƒ½æœ‰å…³è”çš„æ ‡ç­¾ã€‚æ ‡ç­¾æ˜¯æ•°æ®æ‰€å±çš„ç±»åˆ«æˆ–ç±»çš„é¢„æœŸè¾“å‡ºã€‚
*   å®é™…åˆ†ç±»:è¿™æ˜¯æ•°æ®çš„é¢„æœŸè¾“å‡º(æ ‡ç­¾)ã€‚
*   é¢„æµ‹åˆ†ç±»:è¿™æ˜¯åˆ†ç±»å™¨é’ˆå¯¹ç‰¹å®šè¾“å…¥æ•°æ®ç»™å‡ºçš„è¾“å‡ºã€‚

**ä¸€ä¸ªä¾‹å­**:å‡è®¾æˆ‘ä»¬å·²ç»å»ºç«‹äº†ä¸€ä¸ªåˆ†ç±»å™¨ï¼Œå°†ä¸€è¾†æ±½è½¦çš„è¾“å…¥å›¾åƒåˆ†ç±»ä¸ºè½¿è½¦æˆ–éè½¿è½¦ï¼Œæˆ‘ä»¬çš„æ•°æ®é›†ä¸­æœ‰ä¸€å¹…å›¾åƒè¢«æ ‡è®°ä¸ºéè½¿è½¦ï¼Œä½†åˆ†ç±»æ¨¡å‹å°†å…¶åˆ†ç±»ä¸ºè½¿è½¦ã€‚
åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œå®é™…åˆ†ç±»æ˜¯**éè½¿è½¦**ï¼Œè€Œé¢„æµ‹åˆ†ç±»æ˜¯**è½¿è½¦**ã€‚

### æ··æ·†çŸ©é˜µçš„ç±»å‹

æœ‰ä¸¤ç§ç±»å‹çš„æ··æ·†çŸ©é˜µ:

*   äºŒç±»æ··æ·†çŸ©é˜µ
*   å¤šç±»æ··æ·†çŸ©é˜µ

### äºŒçº§æ··æ·†çŸ©é˜µ

é¡¾åæ€ä¹‰ï¼Œ2-class æ˜¯æè¿°äºŒå…ƒåˆ†ç±»æ¨¡å‹æ€§èƒ½çš„æ··æ·†çŸ©é˜µã€‚æˆ‘ä¹‹å‰æè¿°çš„**è½¿è½¦**åˆ†ç±»å™¨çš„ 2 çº§çŸ©é˜µå¯ä»¥è¿™æ ·å¯è§†åŒ–:

[![visual](img/df89a968b2ba360e4a027f2e7be308dc.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--G8U6PxCq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/x5jengc1mjseexyl0r1b.png)

åœ¨è¿™ä¸ªå¯è§†åŒ–ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªå·²è¢«æ¦‚è¿°çš„éƒ¨åˆ†ã€‚æˆ‘ä»¬æœ‰**é¢„æµ‹**åˆ†ç±»éƒ¨åˆ†ï¼Œå®ƒåŒ…å«æ¯ä¸ªç±»åˆ«çš„ä¸¤ä¸ªå­éƒ¨åˆ†ï¼Œè¿˜æœ‰**å®é™…**åˆ†ç±»éƒ¨åˆ†ï¼Œå®ƒåŒ…å«æ¯ä¸ªç±»åˆ«çš„ä¸¤ä¸ªå­éƒ¨åˆ†ã€‚

å¦‚æœè¿™æ˜¯ä½ ç¬¬ä¸€æ¬¡çœ‹åˆ°æ··æ·†çŸ©é˜µï¼Œæˆ‘çŸ¥é“ä½ ä¸€å®šæƒ³çŸ¥é“è¡¨æ ¼ä¸­çš„æ‰€æœ‰å˜é‡ä»£è¡¨ä»€ä¹ˆã€‚å®é™…ä¸Šè¿™å¾ˆç®€å•ï¼Œæˆ‘ä¼šå°½å¯èƒ½ç®€å•åœ°è§£é‡Šï¼Œä½†åœ¨æˆ‘è§£é‡Šä¹‹å‰ï¼Œé‡è¦çš„æ˜¯è¦çŸ¥é“è¿™äº›å˜é‡ä»£è¡¨äº†è®¸å¤šé¢„æµ‹ã€‚

##### å˜é‡ a

å˜é‡ **a** åœ¨**å®é™…**å’Œ**é¢„æµ‹**åˆ†ç±»åŒºæ®µä¸­éƒ½å±äº**éè½¿è½¦**å­åŒºæ®µã€‚è¿™æ„å‘³ç€**åšå‡ºäº†**é¢„æµ‹ï¼Œæ­£ç¡®åœ°å°†éè½¿è½¦å›¾åƒåˆ†ç±»ä¸ºéè½¿è½¦ã€‚

##### å˜é‡ b

å˜é‡ **b** å±äº**å®é™…**åˆ†ç±»æ®µçš„**éè½¿è½¦**å­æ®µï¼Œå±äº**é¢„æµ‹**åˆ†ç±»æ®µçš„**è½¿è½¦**å­æ®µã€‚è¿™æ„å‘³ç€ **b** é¢„æµ‹é”™è¯¯åœ°å°†ä¸€å¼ éè½¿è½¦å›¾ç‰‡å½’ç±»ä¸ºè½¿è½¦ã€‚

##### å˜é‡ c

å˜é‡ **c** å±äº**å®é™…**åˆ†ç±»éƒ¨åˆ†çš„**è½¿è½¦**å­éƒ¨åˆ†å’Œ**é¢„æµ‹**åˆ†ç±»éƒ¨åˆ†çš„**éè½¿è½¦**å­éƒ¨åˆ†ã€‚è¿™æ„å‘³ç€ **c** åšå‡ºçš„é¢„æµ‹é”™è¯¯åœ°å°†è½¿è½¦å›¾ç‰‡å½’ç±»ä¸ºéè½¿è½¦ã€‚

##### å˜é‡ d

å˜é‡ **d** åœ¨**å®é™…**å’Œ**é¢„æµ‹**åˆ†ç±»åŒºæ®µä¸­éƒ½å±äº**è½¿è½¦**å­åŒºæ®µã€‚è¿™æ„å‘³ç€åšå‡ºäº†æ­£ç¡®åˆ†ç±»è½¿è½¦å›¾åƒçš„é¢„æµ‹ã€‚

ç®€æ˜“æŸ æª¬æ¦¨æ±æœºã€‚(å¸Œæœ›ï¼ŸğŸ˜…)

##### ä½†æ˜¯ç­‰ç­‰ï¼Œæˆ‘ä»¬è¿˜æ²¡å®Œå‘¢.......

ç°åœ¨æˆ‘ä»¬æœ‰äº†**è½¿è½¦**åˆ†ç±»å™¨çš„æ··æ·†çŸ©é˜µï¼Œä½†æ˜¯è¿™å¦‚ä½•å¸®åŠ©æˆ‘ä»¬ç¡®å®šåˆ†ç±»å™¨çš„æ€§èƒ½/æ•ˆç‡å‘¢ï¼Ÿ
ä¸ºäº†ä½¿ç”¨æ··æ·†çŸ©é˜µåŠå…¶åŒ…å«çš„æ•°æ®æ¥ç¡®å®šåˆ†ç±»å™¨çš„æ€§èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ··æ·†çŸ©é˜µä¸­çš„æ•°æ®(å˜é‡)æ¥è®¡ç®—ä¸€äº›æ ‡å‡†æŒ‡æ ‡ã€‚

##### å‡†ç¡®åº¦

2 ç±»æ··æ·†çŸ©é˜µä¸­çš„å‡†ç¡®åº¦æ˜¯æ­£ç¡®é¢„æµ‹æ€»æ•°ä¸é¢„æµ‹æ€»æ•°çš„æ¯”ç‡ã€‚
ä»æˆ‘ä»¬çš„æ··æ·†çŸ©é˜µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° **a** å’Œ **d** é¢„æµ‹å¯¹è¾“å…¥å›¾åƒè¿›è¡Œäº†æ­£ç¡®åˆ†ç±»ï¼Œè€Œ **b** å’Œ **c** é¢„æµ‹å¯¹è¾“å…¥å›¾åƒè¿›è¡Œäº†é”™è¯¯åˆ†ç±»ã€‚

å› æ­¤ï¼Œç²¾åº¦å¯ä»¥é€šè¿‡ä¸‹å¼è®¡ç®—:

**ç²¾åº¦**=(**a+d**)/(**a+b+c+d**)

å…¶ä¸­ï¼Œ **a + d** æ˜¯æ­£ç¡®é¢„æµ‹çš„æ€»æ•°ï¼Œ **a + b + c + d** æ˜¯é¢„æµ‹çš„æ€»æ•°ã€‚

##### çœŸé˜³æ€§ã€çœŸé˜´æ€§ã€å‡é˜³æ€§å’Œå‡é˜´æ€§

å…³äºæˆ‘ä»¬çš„åˆ†ç±»å™¨å’Œæ··æ·†çŸ©é˜µ:

**çœŸé˜³æ€§(TP)** æ˜¯è½¿è½¦å›¾åƒè¢«æ­£ç¡®åˆ†ç±»ä¸ºè½¿è½¦çš„é¢„æµ‹æ¬¡æ•°ã€‚
ä»æˆ‘ä»¬çš„æ··æ·†çŸ©é˜µæ¥çœ‹ï¼Œå˜é‡ **d** ä¹Ÿæ˜¯ **TP** ã€‚

**çœŸé˜´æ€§(TN)** æ˜¯å°†éè½¿è½¦å›¾åƒæ­£ç¡®åˆ†ç±»ä¸º[éè½¿è½¦]çš„é¢„æµ‹æ•°ã€‚
ä»æˆ‘ä»¬çš„æ··æ·†çŸ©é˜µæ¥çœ‹ï¼Œå˜é‡ **a** ä¹Ÿæ˜¯æˆ‘ä»¬çš„ **TN** ã€‚

**å‡é˜³æ€§(FP)** æ˜¯éè½¿è½¦å›¾åƒè¢«é”™è¯¯åˆ†ç±»ä¸ºè½¿è½¦çš„é¢„æµ‹æ¬¡æ•°ã€‚
ä»æˆ‘ä»¬çš„æ··æ·†çŸ©é˜µæ¥çœ‹ï¼Œå˜é‡ **b** ä¹Ÿæ˜¯æˆ‘ä»¬çš„ **FP** ã€‚

**å‡é˜´æ€§(FN)** æ˜¯è½¿è½¦å›¾åƒè¢«é”™è¯¯åˆ†ç±»ä¸ºéè½¿è½¦çš„é¢„æµ‹æ¬¡æ•°ã€‚
ä»æˆ‘ä»¬çš„æ··æ·†çŸ©é˜µæ¥çœ‹ï¼Œå˜é‡ **c** ä¹Ÿæ˜¯æˆ‘ä»¬çš„ **FN** ã€‚

##### çœŸé˜³æ€§ç‡

çœŸé˜³æ€§ç‡æ˜¯**çœŸé˜³æ€§**ä¸**çœŸé˜³æ€§**å’Œ**å‡é˜´æ€§**ä¹‹å’Œçš„æ¯”å€¼ã€‚å®ƒæ˜¾ç¤ºäº†åˆ†ç±»å™¨å°†è½¿è½¦å›¾åƒåˆ†ç±»ä¸ºè½¿è½¦çš„é¢‘ç‡ã€‚

å› æ­¤ï¼ŒçœŸæ­£çš„é˜³æ€§ç‡å¯ä»¥è®¡ç®—ä¸º:

**çœŸé˜³æ€§ç‡** = **d** / ( **c + d** )
å…¶ä¸­ **d** æ˜¯ **TP** è€Œ **c** æ˜¯ **FN**

çœŸå®é˜³æ€§ç‡ä¹Ÿè¢«ç§°ä¸º**å›å¿†**æˆ–**çµæ•åº¦**

##### å‡é˜³æ€§ç‡

å‡é˜³æ€§ç‡æ˜¯**å‡é˜³æ€§**ä¸**çœŸé˜´æ€§**å’Œ**å‡é˜³æ€§**ä¹‹å’Œçš„æ¯”å€¼ã€‚å®ƒæ˜¾ç¤ºäº†åˆ†ç±»å™¨å°†éè½¿è½¦å›¾åƒåˆ†ç±»ä¸ºè½¿è½¦çš„é¢‘ç‡ã€‚

å› æ­¤ï¼Œå‡é˜³æ€§ç‡å¯ä»¥è®¡ç®—ä¸º:

**å‡é˜³æ€§ç‡** = **b** / ( **a + b** )
å…¶ä¸­ **a** æ˜¯**TN**b æ˜¯ **FP**

##### çœŸè´Ÿç‡

çœŸé˜´æ€§ç‡æ˜¯**çœŸé˜´æ€§**ä¸**çœŸé˜´æ€§**å’Œ**å‡é˜³æ€§**ä¹‹å’Œçš„æ¯”å€¼ã€‚å®ƒæ˜¾ç¤ºäº†åˆ†ç±»å™¨å°†éè½¿è½¦å›¾åƒåˆ†ç±»ä¸ºéè½¿è½¦çš„é¢‘ç‡ã€‚

å› æ­¤ï¼Œå‡é˜³æ€§ç‡å¯ä»¥è®¡ç®—ä¸º:

**çœŸè´Ÿç‡** = **a** / ( **a + b** )
å…¶ä¸­ **a** æ˜¯**TN**b æ˜¯ **FP**

çœŸæ­£çš„é˜´æ€§ç‡ä¹Ÿè¢«ç§°ä¸ºç‰¹å¼‚æ€§ã€‚

##### å‡é˜´æ€§ç‡

å‡é˜´æ€§ç‡æ˜¯**å‡é˜´æ€§**ä¸**å‡é˜´æ€§**å’Œ**çœŸé˜³æ€§**ä¹‹å’Œçš„æ¯”ç‡ã€‚å®ƒæ˜¾ç¤ºäº†åˆ†ç±»å™¨å°†è½¿è½¦å›¾åƒåˆ†ç±»ä¸ºéè½¿è½¦å›¾åƒçš„é¢‘ç‡ã€‚

å› æ­¤ï¼Œå‡é˜³æ€§ç‡å¯ä»¥è®¡ç®—ä¸º:

**å‡é˜´æ€§ç‡** = **c** / ( **c + d** )
å…¶ä¸­ **d** æ˜¯ **TP** å’Œ **c** æ˜¯ **FN**

##### ç²¾åº¦

ç²¾åº¦æ˜¯**çœŸé˜³æ€§**ä¸**çœŸé˜³æ€§**å’Œ**å‡é˜³æ€§**ä¹‹å’Œçš„æ¯”å€¼ã€‚å®ƒæ˜¾ç¤ºäº†åˆ†ç±»å™¨å°†è¾“å…¥å›¾åƒåˆ†ç±»ä¸ºè½¿è½¦çš„é¢‘ç‡ï¼Œç»“æœè¯æ˜æ˜¯æ­£ç¡®çš„ã€‚

å…¶è®¡ç®—æ–¹æ³•å¦‚ä¸‹:

**ç²¾åº¦** = **d** / **(b + d)**
å…¶ä¸­ **d** æ˜¯ **TP** è€Œ **b** æ˜¯ **FP**

### ä¸¾ä¸ªä¾‹å­

å‡è®¾æˆ‘ä»¬æœ‰ä¸‹å›¾ä½œä¸ºåˆ†ç±»å™¨çš„æ··æ·†çŸ©é˜µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„åº¦é‡æ¥è¯„ä¼°å®ƒçš„æ€§èƒ½ã€‚

[![sample](img/c6b56cb86f9e566202d76b7c09606732.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--v8krdHq4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/29erno9l9601wqb9zbqs.png)

ä»æ··æ·†çŸ©é˜µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡º:

> è¿›è¡Œäº† 4252 æ¬¡é¢„æµ‹ï¼Œæ­£ç¡®åœ°å°†éè½¿è½¦åˆ†ç±»ä¸ºéè½¿è½¦ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„å˜é‡ **a** å’Œ**çœŸè´Ÿ(TN)** æ˜¯ 4252ã€‚åšå‡ºäº† 875 ä¸ªé”™è¯¯åœ°å°†éè½¿è½¦å½’ç±»ä¸ºè½¿è½¦çš„é¢„æµ‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„å˜é‡ **b** å’Œ**è¯¯æŠ¥(FP)** æ˜¯ 875ã€‚*   421 predictions mistakenly classified cars as non-cars. Therefore, the false negatives (fn) of our variables **c** and **are 421.***   4706 predictions were made, and cars were correctly classified as cars. Therefore, the real (TP) of our variables **d** and **is 4706.**T25ã€‘

ä½¿ç”¨æˆ‘ä»¬â€œæå–â€çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—ä¸Šè¿°æŒ‡æ ‡å¹¶ç¡®å®šåˆ†ç±»å™¨çš„æ€§èƒ½ã€‚ç”±äºæ­£ç¡®é¢„æµ‹çš„æ•°é‡å¤§äºä¸æ­£ç¡®é¢„æµ‹çš„æ•°é‡ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“åˆ†ç±»å™¨è¡¨ç°è‰¯å¥½ã€‚

##### å‡†ç¡®åº¦

å‡†ç¡®åº¦=**(a+d)**/**(a+b+c+d)**
=**(4252+4706)**/**(4252+875+421+4706)**
=**(8958)**/**(10254)**
=**0.8736100**

å› æ­¤ï¼Œåˆ†ç±»å™¨å…·æœ‰ 87%çš„ 0.87 çš„å‡†ç¡®åº¦

##### çœŸé˜³æ€§ç‡

TPR =**ã€TP+FNã€‘**
=**4706**/**(4706+421)**
=**4706**/**5127**
=**0.917885703140238**
TPR =**0.92**

å› æ­¤ï¼Œåˆ†ç±»å™¨çš„çœŸå®é˜³æ€§ç‡ä¸º 0.92ï¼Œä¸º 92%

##### å‡é˜³æ€§ç‡

FPR =**FP/(FP+TN)**
=**875**/**(875+4252)**
=**875**/**5127**
=**0.1706651062999805**
FPR =**0.17**

å› æ­¤ï¼Œåˆ†ç±»å™¨çš„å‡é˜³æ€§ç‡ä¸º 0.17ï¼Œå³ 17%

##### çœŸè´Ÿç‡

TNR =**ã€TN+FPã€‘**
=**4252/(4252+875)**
=**4252/5127**
=**0.8293348937000195**
TNR =**0.83**

å› æ­¤ï¼Œåˆ†ç±»å™¨çš„çœŸå®å¦å®šç‡ä¸º 0.83ï¼Œå³ 83%

##### å‡é˜´æ€§ç‡

FNR =**FN/(FN+TP)**
=**421/(421+4706)**
=**421/5127**
=**0.082114296859762**
FNR =**0.08**

å› æ­¤ï¼Œåˆ†ç±»å™¨å…·æœ‰ 8%çš„ 0.08 çš„å‡é˜´æ€§ç‡

##### ç²¾åº¦

ç²¾åº¦=**ã€TP+FPã€‘**
=**=ã€4706+875ã€‘**
=**4706/5581**
=**0.8293348937000195**
ç²¾åº¦= **0.83**

å› æ­¤ï¼Œåˆ†ç±»å™¨å…·æœ‰ 83%çš„ç²¾åº¦ 0.83

### å¦‚ä½•ç”¨ Python ç”Ÿæˆæ··æ·†çŸ©é˜µ

```
import matplotlib.pylab as plt
import itertools
import numpy as np
from sklearn.metrics import confusion_matrix

def plot_confusion_matrix(cm, classes,normalize=False):
    plt.figure(figsize = (5,5))
    plt.imshow(cm, interpolation='nearest', cmap=plt.cm.Blues)
    plt.title('Confusion matrix')
    plt.colorbar()
    tick_marks = np.arange(len(classes))
    plt.xticks(tick_marks, classes, rotation=90)
    plt.yticks(tick_marks, classes)
    if normalize:
        cm = cm.astype('float') / cm.sum(axis=1)[:, np.newaxis]

    thresh = cm.max() / 2.
    for i, j in itertools.product(range(cm.shape[0]), range(cm.shape[1])):
        plt.text(j, i, cm[i, j],
                 horizontalalignment="center",
                 color="white" if cm[i, j] > thresh else "black")
    plt.tight_layout()
    plt.ylabel('Actual')
    plt.xlabel('Predicted')

dict_characters = {0: 'Non-sedan', 1: 'Sedan'}

y_pred = model.predict(test_data)
y_pred_classes = np.argmax(y_pred, axis=1)
y_true = np.argmax(test_labels, axis=1)

confusion_mat = confusion_matrix(y_true, y_pred_classes)
plot_confusion_matrix(confusion_mat, classes = list(dict_characters.values())) 
```

ä¸ºäº†ç”Ÿæˆæ··æ·†çŸ©é˜µï¼Œæˆ‘ä»¬ä½¿ç”¨ numpyã€matplotlib.pylab æ¥å¯è§†åŒ–çŸ©é˜µï¼Œä½¿ç”¨ sklearn.metrics åŒ…ä¸­çš„æ··æ·†çŸ©é˜µå‡½æ•°æ¥ç”Ÿæˆæ··æ·†çŸ©é˜µï¼Œä½¿ç”¨ itertools è¿›è¡Œå¾ªç¯/è¿­ä»£ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•° **plot_confusion_matrix** ï¼Œå®ƒå°†ç”Ÿæˆçš„æ··æ·†çŸ©é˜µå’Œé¢„æœŸ/å¯èƒ½çš„ç±»ä½œä¸ºå‚æ•°ï¼Œå¹¶ä½¿ç”¨ matplotlib.pylab æ¥å¯è§†åŒ–æ··æ·†çŸ©é˜µã€‚

åœ¨è¿™ä¸ªä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬å‡è®¾æˆ‘ä»¬å·²ç»æœ‰äº†è®­ç»ƒå¥½çš„æ¨¡å‹ä»¥åŠå¸¦æœ‰ç›¸å…³æ ‡ç­¾çš„è®­ç»ƒå’Œæµ‹è¯•æ•°æ®ã€‚

**dict_characters** æ˜¯ä¸¤ä¸ªå¯èƒ½ç±»åˆ«çš„å­—å…¸ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯â€œ**éè½¿è½¦**å’Œâ€œ**è½¿è½¦**â€ã€‚
**y_pred** æ˜¯åˆ†ç±»å™¨å¯¹æµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹çš„ numpy æ•°ç»„
**æ¨¡å‹**æ˜¯æˆ‘ä»¬è®­ç»ƒè¿‡çš„åˆ†ç±»å™¨/ç®—æ³•
**test_data** æ˜¯æˆ‘ä»¬çš„æµ‹è¯•æ•°æ®
**y_pred_classes** æ˜¯ç›¸å¯¹äº **y_pred** çš„ numpy æ•°ç»„ç´¢å¼•ï¼Œå®ƒæ˜¯åˆ†ç±»å™¨å¯¹æµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹çš„æ•°ç»„ã€‚
**y_true** æ˜¯ç›¸å¯¹äº test_data çš„å®é™…/æ­£ç¡®æ ‡ç­¾çš„ç´¢å¼•çš„ numpy æ•°ç»„ã€‚
**test_labels** æ˜¯æµ‹è¯•æ•°æ®çš„æ ‡ç­¾åˆ—è¡¨ã€‚

ä½¿ç”¨ä¸Šè¿°å†…å®¹ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¥è‡ª **sklearn.metrics** çš„**æ··æ·†çŸ©é˜µ**å‡½æ•°æ¥ç”Ÿæˆæ··æ·†çŸ©é˜µï¼Œä¼ å…¥æ­£ç¡®å€¼( **y_true** )å’Œåˆ†ç±»å™¨è¿”å›çš„ä¼°è®¡å€¼( **y_pred_classes** )ï¼Œå¹¶å°†ç”Ÿæˆçš„æ··æ·†çŸ©é˜µå­˜å‚¨åœ¨å˜é‡**æ··æ·†çŸ©é˜µ**ä¸­ã€‚

ç„¶åï¼Œæˆ‘ä»¬å°†æ··æ·†çŸ©é˜µ(**æ··æ·† _ çŸ©é˜µ**)å’Œä¸€åˆ—å¯èƒ½çš„ç±»å€¼(**å­—å…¸ _ å­—ç¬¦**)ä½œä¸ºå‚æ•°ä¼ é€’ç»™**plot _ æ··æ·† _ çŸ©é˜µ**å‡½æ•°ï¼Œè¯¥å‡½æ•°éšåå°†æ··æ·†çŸ©é˜µå¯è§†åŒ–ã€‚

åœ¨æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘[å¸Œæœ›]ä¼šå†™å¤šç±»æ··æ·†çŸ©é˜µã€‚