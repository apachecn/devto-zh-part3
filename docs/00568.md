# ç”¨æˆ·ç•Œé¢ä½œä¸ºåå°„

> åŸæ–‡:[https://dev . to/oieduardorabelo/interface-de-usual IOs-como-uma-reflexao-1g gj](https://dev.to/oieduardorabelo/interface-de-usuarios-como-uma-reflexao-1ggj)

äººä»¬ç»å¸¸é—®æˆ‘çš„ä¸€ä¸ªé—®é¢˜:â€œReact çš„æ‰€æœ‰æ–°åŠŸèƒ½( *contextï¼Œhooksï¼Œsuspende*)å¦‚ä½•å½±å“æˆ‘ä»¬ä»Šåå¼€å‘(web)åº”ç”¨ç¨‹åºçš„æ–¹å¼ï¼Ÿä»–ä»¬æ˜¯å¦ä½¿è¯¸å¦‚ Redux æˆ– MobX ä¹‹ç±»çš„çŠ¶æ€ç®¡ç†åº“è¿‡æ—¶ï¼Ÿâ€

æœ‰äº†è¿™ä¸ªèŒä½ï¼Œæˆ‘ä¼šè¯•ç€ä¸€åŠ³æ°¸é€¸åœ°å›ç­”è¿™ä¸ªé—®é¢˜ï¼ä¸ºäº†çœŸæ­£äº†è§£é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åšäº›å·¥ä½œã€‚è®©æˆ‘ä»¬å›åˆ°è¿‡å»ï¼Œç•™ä¸‹ååº”å™¨ï¼ŒRedux å’Œ MobX å•ç‹¬ï¼ŒåŒæ—¶æˆ‘ä»¬å›ç­”ä¸€ä¸ªæ›´åŸºæœ¬çš„é—®é¢˜ã€‚

ä»€ä¹ˆæ˜¯ web åº”ç”¨ç¨‹åºï¼Ÿä¸ºäº†æœ¬æ–‡çš„ç›®çš„:Web åº”ç”¨ç¨‹åºæ˜¯å…è®¸å®¢æˆ·ä¸å…¬å¸äº¤äº’çš„ç”¨æˆ·ç•Œé¢ã€‚è¿™é‡Œçš„å…³é”®æ˜¯å®ƒæ˜¯**ä¸€ä¸ª**ç”¨æˆ·ç•Œé¢ã€‚å¦ **a** ç•Œé¢ã€‚è‰¯å¥½å‰ç«¯çš„ç›®æ ‡:ä¸ºæ‚¨çš„å®¢æˆ·æä¾›æ„‰å¿«ã€æ— ç¼çš„ä½“éªŒï¼Œä»¥ä¾¿ä¸ä»–ä»¬çš„ä¸šåŠ¡æµç¨‹äº¤äº’ã€‚ä½†æ˜¯å‰ç«¯æœ¬èº«å¹¶ä¸æ˜¯ä¸šåŠ¡ï¼

* * *

ä½œä¸ºå®éªŒï¼Œæƒ³è±¡ä¸€ä¸‹â€˜t0â€™inbox . Google . com åœæ­¢å·¥ä½œ(å•Šï¼Œç­‰ç­‰ï¼Œä»–å·²ç»åœæ­¢äº†-æˆ‘...ã€‚ğŸ˜­).ä»ç†è®ºä¸Šè®²ï¼Œç”¨æˆ·å¯ä»¥æ‹¿èµ·ç”µè¯ï¼Œæ‰“è°·æ­Œç”µè¯ï¼Œè¡¨æ˜è‡ªå·±çš„èº«ä»½ï¼Œé—®ä¸€ä½è°·æ­Œå‘˜å·¥:è¯·å‘Šè¯‰æˆ‘ä½ æœ‰ä»€ä¹ˆæ¶ˆæ¯ç­‰ç€æˆ‘ï¼Ÿè¿™ç§ç²¾ç¥é”»ç‚¼æ˜¯å¼„æ¸…ä½ çš„ç”Ÿæ„æ˜¯ä»€ä¹ˆçš„å¥½æ–¹æ³•ã€‚å¦‚æœä¸€ä¸ªå®¢æˆ·ç»è¿‡ä½ çš„åŠå…¬å®¤ï¼Œä»–ä»¬ä¼šé—®ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚æœåŠå…¬å®¤è¦çƒ§æ¯ï¼Œä½ ä¼šå°è¯•ä¿å­˜å“ªäº›ä¿¡æ¯ï¼Ÿå“ªäº›ç”¨æˆ·äº¤äº’å¯ä»¥ä¸ºæ‚¨çš„ä¼ä¸šå¸¦æ¥èµ„é‡‘ï¼Ÿ

æˆ‘æ„è¯†åˆ°ï¼Œåœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä»ç›¸åçš„è§’åº¦å¯¹å¾…ç”¨æˆ·ç•Œé¢:æˆ‘ä»¬ä»ä¸€äº› mock-ups å¼€å§‹ï¼Œåœ¨å‡ ä¹ä»»æ„çš„åœ°æ–¹æ·»åŠ çŠ¶æ€ç‰‡æ®µï¼Œä½¿è¿™ä¸€åˆ‡éƒ½å˜å¾—æ ©æ ©å¦‚ç”Ÿã€‚åŸºæœ¬ä¸Šï¼ŒçŠ¶æ€å’Œæ•°æ®æ˜¯ä¸€ç§å»¶è¿Ÿçš„åæ˜ ï¼Œè¿™æ˜¯åˆ›å»ºè¿™ç§ç¾ä¸½çš„ç”¨æˆ·ç•Œé¢å·¥ä½œæ‰€å¿…éœ€çš„é‚ªæ¶ã€‚åŠªåŠ›åœ¨è¿™æ–¹é¢åº”ç”¨å¿…ç„¶å¾—å‡ºç»“è®º:å›½å®¶æ˜¯ä¸€åˆ‡é‚ªæ¶çš„æ ¹æºã€‚æ˜¯é‚£ä»¶å¯æ€•çš„äº‹æƒ…ï¼Œå®ƒä½¿ä¸€åˆ‡ç¾å¥½çš„äº‹ç‰©å¼€å§‹ï¼Œä¸‘é™‹å’Œå¤æ‚ã€‚ä½†è¿™é‡Œæœ‰ä¸€ä¸ªåæ€è€ƒ:

> çŠ¶æ€æ˜¯æ•´ä¸ªæ”¶å…¥æµçš„æ ¹ã€‚

-ä¿¡æ¯ã€‚æœ€ç»ˆï¼Œå®¢æˆ·ä¸ä¸šåŠ¡æµç¨‹äº¤äº’çš„æœºä¼šæ˜¯å”¯ä¸€èƒ½å¤Ÿèµšé’±çš„æœºä¼šã€‚æ˜¯çš„ï¼Œæ›´å¥½çš„ç”¨æˆ·ç•Œé¢ä½“éªŒå¯èƒ½éœ€è¦æ›´å¤šçš„é’±ã€‚ä½†è¿™å¹¶ä¸æ˜¯é‡‘é’±çš„æ¥æºã€‚

å› æ­¤ï¼Œæˆ‘è°¦å‘åœ°è®¤ä¸ºï¼Œæˆ‘ä»¬åº”è¯¥ä»ç›¸åçš„æ–¹å‘ç€æ‰‹åˆ›å»º web åº”ç”¨ç¨‹åºï¼Œå¹¶é¦–å…ˆå¯¹å®¢æˆ·ä¸æˆ‘ä»¬çš„ç³»ç»Ÿä¹‹é—´çš„äº¤äº’è¿›è¡Œç¼–ç ã€‚æœ‰å“ªäº›æµç¨‹ã€‚ä»–éœ€è¦ä»€ä¹ˆä¿¡æ¯ï¼Ÿä»–æ‰“ç®—å‘é€ä»€ä¹ˆä¿¡æ¯ï¼Ÿæ¢å¥è¯è¯´ï¼Œè®©æˆ‘ä»¬ä»å»ºæ¨¡æˆ‘ä»¬é—®é¢˜çš„åŸŸå¼€å§‹ã€‚

è¿™äº›é—®é¢˜çš„è§£å†³æ–¹æ¡ˆæ˜¯æˆ‘ä»¬æ— éœ€ç”¨æˆ·ç•Œé¢åº“å°±å¯ä»¥ç¼–ç çš„ä¸œè¥¿ã€‚æˆ‘ä»¬å¯ä»¥ç”¨æŠ½è±¡çš„æœ¯è¯­æ¥è§„åˆ’äº’åŠ¨ã€‚æµ‹è¯•ä»–ä»¬ã€‚å¹¶æ·±å…¥äº†è§£è¿™äº›è¿‡ç¨‹å¯èƒ½å¤„äºå“ªäº›ä¸åŒçš„çŠ¶æ€ã€‚

> æ¨¡æ‹Ÿå’Œå¼€å‘åº”ç”¨ç¨‹åºé€»è¾‘ï¼Œå°±åƒå®ƒç”¨äºè®¸å¤šä¸åŒçš„é€‰é¡¹å¡(å¦‚ webã€CLIã€æœ¬æœºç­‰)ä¸€æ ·ã€‚)ï¼Œå³ä½¿ä¸æ˜¯ã€‚è¿™å°†è¿«ä½¿æ‚¨é¿å…å°†é€»è¾‘ä¸ä¸»æµæ¡†æ¶(reactã€Angularã€vista)æ— æ„ä¸­é¼“åŠ±çš„æ¼”ç¤ºç»‘å®šåœ¨ä¸€èµ·ã€‚- [å¤§å« kã€‚é’¢ç´ã€”t1ã€•](https://twitter.com/DavidKPiano/status/1092424711655567360)

æ­¤æ—¶ï¼Œæ— è®ºå®¢æˆ·ä½¿ç”¨ä½•ç§å·¥å…·ä¸ä¸šåŠ¡è¿›è¡Œäº¤äº’ã€‚web åº”ç”¨ç¨‹åºï¼ŸReact çš„æœ¬æœºåº”ç”¨ç¨‹åºï¼ŸSDK ä½œä¸º NPM æ¨¡å—ï¼ŸCLI å—ï¼Ÿæ²¡å…³ç³»ï¼åƒè¿™æ ·:

> é¦–å…ˆï¼Œè®¾è®¡çŠ¶æ€ã€å­˜å‚¨å’Œå¤„ç†ï¼Œå°±åƒæ„å»º CLI è€Œä¸æ˜¯ web åº”ç”¨ç¨‹åºä¸€æ ·ã€‚

ç°åœ¨ä½ å¯èƒ½ä¼šæƒ³ï¼Œâ€œä½ åœ¨å·¥ç¨‹æ–¹é¢ä¸æ˜¯å¤¸å¤§å…¶è¯å—ï¼Ÿä¸ºä»€ä¹ˆè¦æ„å»ºåº”ç”¨ç¨‹åºï¼Œå°±åƒè¦å¯åŠ¨ CLI ä¸€æ ·ï¼Ÿæˆ‘æ˜¾ç„¶æ°¸è¿œä¸ä¼šè¿™æ ·åšâ€¦â€¦ä½ æ˜¯åœ¨åç‹¬è§’å…½å—ï¼Ÿâ€

ç°åœ¨ï¼Œè¯·åœæ­¢é˜…è¯»æ­¤åšå®¢ä¸€æ®µæ—¶é—´ï¼Œè¿”å›åˆ°æ‚¨æ­£åœ¨è·Ÿè¸ªçš„é¡¹ç›®ä¸­ï¼Œç„¶åå¼€å§‹æµ‹è¯•...ã€‚ç°åœ¨å‘Šè¯‰æˆ‘:æ‚¨çš„åº”ç”¨ç¨‹åºæ˜¯å¦æœ‰ CLIï¼Ÿæ‚¨å›¢é˜Ÿä¸­çš„æ¯ä¸ªå¼€å‘äººå‘˜éƒ½æœ‰ä¸€ä¸ª CLI(å¸Œæœ›):æµ‹è¯•æ¡†æ¶ã€‚å®ƒäº¤äº’å¹¶æ£€æŸ¥å…¶ä¸šåŠ¡æµç¨‹ã€‚æ‚¨çš„é©±åŠ¨å™¨æµ‹è¯•ä¸æ‚¨çš„æµç¨‹äº¤äº’æ‰€éœ€çš„æŒ‡ç¤ºçº§åˆ«è¶Šå°‘ï¼Œå°±è¶Šå¥½ã€‚é©±åŠ¨å™¨æµ‹è¯•æ˜¯ç³»ç»Ÿçš„ç¬¬äºŒä¸ªç”¨æˆ·ç•Œé¢ã€‚ç”šè‡³æ˜¯ç¬¬ä¸€ä¸ªï¼Œå¦‚æœä½ åº”ç”¨ TDDã€‚

React åœ¨ä½¿å•å…ƒæµ‹è¯•äº†è§£ç»„ä»¶æ¥å£å¹¶ä¸ä¹‹äº¤äº’(æ— éœ€æµè§ˆå™¨ç­‰)æ–¹é¢åšå¾—éå¸¸å‡ºè‰²ã€‚ä½†å³ä¾¿å¦‚æ­¤ï¼Œæ‚¨ä¹Ÿåº”è¯¥èƒ½å¤Ÿåœ¨æ²¡æœ‰â€œmountâ€ã€â€œrenderâ€(â€œæµ…è–„â€)ç­‰æ¦‚å¿µå¼•å…¥çš„æŒ‡ç¤ºçš„æƒ…å†µä¸‹è¿›è¡Œæµ‹è¯•å§ï¼Ÿ)ã€â€œè°ƒåº¦äº‹ä»¶â€ã€â€œå¿«ç…§â€ã€‚è¿™äº›éƒ½æ˜¯ä¸ä¸šåŠ¡é¢†åŸŸæ— å…³çš„æ¦‚å¿µï¼Œä¸å¿…è¦åœ°å°†å®ƒä»¬çš„é€»è¾‘ä¸ React è”ç³»èµ·æ¥ã€‚

> æ²¡æœ‰ä»€ä¹ˆæ¯”å°†æ‚¨çš„ä¸šåŠ¡æµç¨‹ä½œä¸ºä¸€ç»„åŠŸèƒ½ç›´æ¥è°ƒç”¨æ›´ç®€å•äº†ã€‚

æ­¤æ—¶ï¼Œæ‚¨å¯èƒ½çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä¸€ç›´åå¯¹å°†åŸŸçŠ¶æ€ç›´æ¥æ•è·åˆ° React ç»„ä»¶çš„çŠ¶æ€ã€‚è¿™ä½¿å¾—ä¸šåŠ¡æµç¨‹åˆ†ç¦»å’Œç”¨æˆ·ç•Œé¢å˜å¾—ä¸å¿…è¦çš„å¤æ‚ã€‚

å¦‚æœè¦ä¸ºæˆ‘çš„åº”ç”¨ç¨‹åºåˆ›å»º CLIï¼Œæˆ‘å¯èƒ½ä¼šä½¿ç”¨ç±»ä¼¼äº[yags](https://www.npmjs.com/package/yargs)æˆ– [commander](https://www.npmjs.com/package/commander) çš„ä¸œè¥¿ã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€å› ä¸º CLI æ˜¯æˆ‘çš„ç”¨æˆ·ç•Œé¢ï¼Œæ‰€ä»¥è¿™äº›åº“å¿…é¡»ç®¡ç†æˆ‘çš„ä¸šåŠ¡æµç¨‹çš„çŠ¶æ€ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘æ„¿æ„æ”¯ä»˜å…¨éƒ¨é‡å†™çš„è´¹ç”¨ï¼Œåªæ˜¯ä¸ºäº†åœ¨**yags**å’Œ **commander** ä¹‹é—´åˆ‡æ¢ã€‚React å¯¹æˆ‘æ¥è¯´å°±åƒä¸€ä¸ª CLI åº“ï¼Œä¸€ä¸ªå¸®åŠ©æ•è·ç”¨æˆ·è¾“å…¥ã€è¿è¡Œæµç¨‹å¹¶å°†ä¼ä¸šæ•°æ®è½¬æ¢ä¸ºè‰¯å¥½è¾“å‡ºçš„å·¥å…·ã€‚æ˜¯ä¸€ä¸ªç”¨äº[æ„å»ºç”¨æˆ·ç•Œé¢](https://reactjs.org)çš„å›¾ä¹¦é¦†ã€‚è¿™ä¸æ˜¯ä¸šåŠ¡æµç¨‹ã€‚

* * *

ä»…å½“æ‚¨æ•è·ã€æµ‹è¯•å’ŒéªŒè¯äº†å®¢æˆ·ç«¯è¿›ç¨‹åï¼Œæ‰å¼€å§‹å¯¼å…¥å®é™…ç”¨æˆ·ç•Œé¢ã€‚å®ƒæ˜¯ç”¨ä»€ä¹ˆæŠ€æœ¯å»ºé€ çš„ã€‚æ‚¨å°†å¤„äºéå¸¸èˆ’é€‚çš„ä½ç½®:å¼€å§‹æ„å»ºé›¶éƒ¨ä»¶æ—¶ï¼Œæ‚¨ä¼šå‘ç°å®ƒä»¬ä¸éœ€è¦å¤ªå¤šçŠ¶æ€ã€‚æŸäº›ç»„ä»¶ä¼šæœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œå› ä¸ºå¹¶éæ‰€æœ‰çš„ç”¨æˆ·ç•Œé¢çŠ¶æ€éƒ½ä¸å®ƒä»¬çš„ä¸šåŠ¡æµç¨‹ç›¸å…³(æ‰€æœ‰ä¸ç¨³å®šçš„çŠ¶æ€ï¼Œå¦‚å½“å‰é€‰æ‹©ã€æŒ‡å—ã€è·¯ç”±ç­‰)ã€‚é¡µ:1ã€‚ä½†æ˜¯... but ...ï¼š

> å…¶å¤§éƒ¨åˆ†æˆåˆ†å°†ä¼šå‘ˆç°(***ã€dumb ç»„åˆ†ã€‘***

ä½ ä¹Ÿä¼šå‘ç°æµ‹è¯•å˜å¾—æ›´ç®€å•ï¼›æ‚¨å°†ç¼–å†™æ›´å°‘çš„æµ‹è¯•æ¥è£…é…ç»„ä»¶ã€è§¦å‘äº‹ä»¶ç­‰ã€‚æ‚¨è¿˜æƒ³è¦ä¸€äº›ï¼Œä»¥éªŒè¯æ‚¨æ˜¯å¦æ­£ç¡®è¿æ¥äº†æ‰€æœ‰å†…å®¹ï¼Œä½†ä¸éœ€è¦æµ‹è¯•æ‰€æœ‰å¯èƒ½çš„ç»„åˆã€‚

è¿™ç§å¤§çš„è§£ç»„åŠŸèƒ½å…è®¸åœ¨ ua UIã€A/B æµ‹è¯•ç­‰æ–¹é¢è¿›è¡Œæ›´å¿«çš„è¿­ä»£ã€‚åŸŸçŠ¶æ€å’Œ UI å–æ¶ˆå…³è”åï¼Œæ‚¨å¯ä»¥é‡æ–°æ„å»ºç”¨æˆ·ç•Œé¢ã€‚è¯´å®è¯ï¼Œå³ä½¿åˆ‡æ¢åˆ°å®Œå…¨ä¸åŒçš„ UI æˆ–èŒƒå¼ä¹Ÿä¼šå˜å¾—æ›´ä¾¿å®œã€‚å› ä¸ºå›½å®¶ä¸å—å®ƒçš„å½±å“ã€‚è¿™å¾ˆå¥½ï¼Œå› ä¸ºåœ¨æˆ‘çœ‹åˆ°çš„å¤§å¤šæ•°åº”ç”¨ç¨‹åºä¸­ï¼Œç”¨æˆ·ç•Œé¢çš„å‘å±•é€Ÿåº¦è¿œè¿œè¶…è¿‡äº†å®é™…çš„ä¸šåŠ¡é€»è¾‘ã€‚

ä¾‹å¦‚ï¼Œåœ¨å­Ÿå¾·æ–¯é¸ ï¼Œæˆ‘ä»¬éå¸¸æˆåŠŸåœ°ä½¿ç”¨äº†ä¸Šé¢çš„æ¨¡å‹ã€‚è¿™ç§åˆ†ç¦»å·²æˆä¸ºæ¯ä¸ªäººè‡ªç„¶éµå¾ªçš„èŒƒå¼ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·éœ€è¦åŠ è½½ excel ç”µå­è¡¨æ ¼ï¼Œç„¶åæ‰§è¡Œä¸€äº›å®¢æˆ·ç«¯éªŒè¯ï¼Œå†ä¸æœåŠ¡å™¨äº¤äº’ï¼Œæœ€åå¯åŠ¨ä¸€äº›è¿›ç¨‹ã€‚æ­¤æ–°åŠŸèƒ½é¦–å…ˆä¼šç”Ÿæˆä¸€ä¸ªæ–°å­˜å‚¨(ä»…ä¸€ä¸ªç®€å•çš„ JS ç±»)ï¼Œç”¨äºæ•è·æµç¨‹ä¸­æ¯ä¸ªæ­¥éª¤çš„å†…éƒ¨çŠ¶æ€å’Œæ–¹æ³•ã€‚è¿™å°†æ•è·é€»è¾‘è¿›è¡ŒéªŒè¯ã€‚åç«¯äº¤äº’ã€‚æˆ‘ä»¬è¿˜å°†åˆ›å»ºé©±åŠ¨å™¨æµ‹è¯•ï¼Œä»¥éªŒè¯æ˜¯å¦ç”Ÿæˆäº†æ­£ç¡®çš„éªŒè¯æ¶ˆæ¯ï¼Œä»¥åŠæ•´ä¸ªè¿‡ç¨‹æ˜¯å¦åœ¨æ‰€æœ‰çŠ¶æ€åˆ‡æ¢å’Œé”™è¯¯æ¡ä»¶ä¸‹æ­£å¸¸å·¥ä½œã€‚åªæœ‰åœ¨é‚£ä¹‹åï¼Œäººä»¬æ‰å¼€å§‹åˆ›å»ºç”¨æˆ·ç•Œé¢ã€‚é€‰æ‹©ä¸€ä¸ªå¥½çš„ä¸Šä¼ ç»„ä»¶ï¼Œä¸ºæ‰€æœ‰æ­¥éª¤åˆ›å»ºè¡¨å•ç­‰ã€‚

æ­¤æ—¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç†è§£ä¸ºä»€ä¹ˆæˆ‘ä¸å–œæ¬¢ç›´æ¥åœ¨ç”¨æˆ·ç•Œé¢ä¸­æ··åˆåç«¯äº¤äº’çš„ä¸œè¥¿ã€‚å°±åƒæŠŠ**ååº”-é˜¿æ³¢ç½—**çš„è¿æ¥ä½œä¸ºä¸**å›¾å½¢ SQL**äº¤äº’çš„æ‰‹æ®µä¸€æ ·ã€‚åç«¯äº¤äº’(å¦‚å‘é€æ›´æ”¹æˆ–æŸ¥æ‰¾æ•°æ®)æ˜¯æˆ‘çš„åŸŸçš„è´£ä»»ã€‚è€Œä¸æ˜¯ç”¨æˆ·ç•Œé¢å±‚ã€‚ **react-apollo** åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€æ¡å®¹æ˜“å¯¼è‡´é«˜åº¦è€¦åˆæ„å‹çš„æ·å¾„ã€‚

* * *

ç»ˆäºæ¥äº†ï¼ç°åœ¨å›åˆ°æˆ‘ä»¬æœ€åˆçš„é—®é¢˜:â€œReact çš„æ‰€æœ‰æ–°åŠŸèƒ½( *contextï¼Œhooksï¼Œsuspende*)å¦‚ä½•å½±å“æˆ‘ä»¬å°†æ¥å¼€å‘(web)åº”ç”¨ç¨‹åºçš„æ–¹å¼ï¼Ÿä»–ä»¬æ˜¯å¦ä½¿è¯¸å¦‚ Redux æˆ– MobX ä¹‹ç±»çš„çŠ¶æ€ç®¡ç†åº“è¿‡æ—¶ï¼Ÿâ€

æˆ‘çš„ç­”æ¡ˆæ˜¯:æ–°åŠŸèƒ½ä¸ä¼šæ”¹å˜çŠ¶æ€ç®¡ç†æ¸¸æˆã€‚*è¯­å¢ƒ*å’Œ*æŒ‚é’©*ä¸å…è®¸ååº”å †åˆ¶ä½œæ–°æŠŠæˆã€‚è¿™äº›éƒ½åªæ˜¯åŒæ ·çš„æŠŠæˆï¼Œç»„ç»‡å¾—æ›´å¥½ï¼Œæ›´å®¹æ˜“ä½œæ›²ï¼Œæ›´ä¸å®¹æ˜“å‡ºé”™(å½“ç„¶ï¼Œæˆ‘æ˜¯ç²‰ä¸ï¼é¡µ:1ã€‚ä½†ç›’å­å¤–çš„è¯•å‰‚åªèƒ½å¯¹å±äºéƒ¨ä»¶çš„çŠ¶æ€ä½œå‡ºååº”ã€‚å¦‚æœæ‚¨å¸Œæœ›åŸŸçŠ¶æ€ä½äºç»„ä»¶æ ‘ä¹‹å¤–ï¼Œåˆ™éœ€è¦å•ç‹¬çš„çŠ¶æ€ç®¡ç†æ¨¡å¼(æŠ½è±¡ã€ä½“ç³»ç»“æ„ã€åº“)æ¥ç»„ç»‡æ‰€æœ‰è¿™äº›ã€‚

> æœ€è¿‘å¯¹ React çš„æ·»åŠ åŸºæœ¬ä¸Šæ²¡æœ‰æ”¹å˜çŠ¶æ€ç®¡ç†æ¸¸æˆä¸­çš„ä»»ä½•å†…å®¹ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ„è¯†åˆ°è‡ªä»å¼•è¿›å‰åå…³è”å’Œ*æŒ‚é’©*ä»¥æ¥å°±ä¸å†éœ€è¦ Redux æˆ– MobXï¼Œé‚£ä¹ˆä»ä¸€å¼€å§‹å°±ä¸éœ€è¦å®ƒä»¬äº†ã€‚è¿™æ˜¯é€»è¾‘ä¸è¡¨è¾¾è€¦åˆçš„åæœŸåæ˜ ã€‚

è¯·æ³¨æ„ï¼Œä½¿ç”¨*æŒ‚é’©*ã€[æ—¶ï¼Œä½¿ç”¨ MobX ç®¡ç†æœ¬åœ°ç»„ä»¶](https://blog.cloudboost.io/3-reasons-why-i-stopped-using-react-setstate-ab73fc67a42e)çŠ¶æ€çš„ç†ç”±è¾ƒå°‘ã€‚ç‰¹åˆ«æ˜¯è€ƒè™‘åˆ° MobX ä½œä¸ºç»„ä»¶çŠ¶æ€çš„**å¯è§‚å¯Ÿåˆ°çš„**ï¼Œå°†æ— æ³•åˆ©ç”¨**æ‚¬æ¶**çš„ä¼˜ç‚¹ã€‚

è¯´èµ·æš‚åœå¯¹ä¸€èˆ¬çš„å›½å®¶ç®¡ç†ï¼Œæˆ‘è®¤ä¸ºè¿™åªæ˜¯è¯æ˜äº†åˆ©ç›Šåˆ†ç¦»çš„å¥åº·ã€‚suspension+react local status éå¸¸é€‚åˆäºç®¡ç†æ•´ä¸ªç”¨æˆ·ç•Œé¢çŠ¶æ€ï¼Œä»¥ä¾¿å¯ä»¥è¿›è¡Œå¹¶å‘æ¸²æŸ“å’Œå…¶ä»–æ“ä½œã€‚å¹¶è¡Œæ¸²æŸ“å¯¹äºä¸ç¨³å®šçŠ¶æ€(å¦‚ç”¨æˆ·ç•Œé¢)éå¸¸æœ‰ç”¨ã€‚ä½†æ˜¯å¯¹äºæˆ‘çš„ä¸šåŠ¡æµç¨‹å‘¢ï¼Ÿä¸šåŠ¡æµç¨‹åœ¨ä»»ä½•æ—¶å€™éƒ½å¿…é¡»å®Œå…¨å¤„äºä¸€ä¸ªçŠ¶æ€ã€‚

å€Ÿæ­¤ï¼Œæˆ‘å¸Œæœ›å›ç­”ååº”æˆ˜å¯¹å›½å®¶ç®¡ç†çš„æ–°é—®é¢˜:

> React å¿…é¡»ç®¡ç†ç”¨æˆ·ç•Œé¢çš„ä¸ç¨³å®šçŠ¶æ€ï¼Œè€Œä¸æ˜¯å…¶ä¸šåŠ¡æµç¨‹ã€‚å› æ­¤ï¼Œä¸€åˆ‡éƒ½æ²¡æœ‰çœŸæ­£æ”¹å˜ã€‚

å…³äº [MobX](https://mobx.js.org/) å’Œ [mobx-state-tree](https://github.com/mobxjs/mobx-state-tree) çš„å¿«é€Ÿè¯´æ˜ï¼Œå¯ä»¥æ›´å¥½åœ°äº†è§£å…¶æ€»ä½“ç›®æ ‡ã€‚å®ƒä»¬æ—¨åœ¨:

*   èƒ½å¤Ÿç‹¬ç«‹äºä»»ä½•ç”¨æˆ·ç•Œé¢æŠ½è±¡æ¥ç®¡ç†çŠ¶æ€ã€‚
*   ä¸€ç§å‘ç”¨æˆ·ç•Œé¢æ·»åŠ ç”¨æˆ·åˆ›å»ºçš„çŠ¶æ€çš„å‘ä¸‹é€æ˜çš„æ–¹æ³•
*   é€šè¿‡ç¡®ä¿äº‹ä»¶ä¸ä¼šå¯¼è‡´è®¸å¤šç»„ä»¶é‡æ–°å‘ˆç°ï¼Œé¿å…å¤„ç†é’ˆå¯¹è®¢é˜…ã€**é€‰æ‹©å™¨ã€**ç­‰åŠŸèƒ½çš„æ‰‹åŠ¨ä¼˜åŒ–æ—¶å‡ºç°å¸¸è§é”™è¯¯ã€‚

å¦‚æœä½ æƒ³çŸ¥é“ä¸ä¸€ä¸ªæœ‰ç»„ç»‡çš„ç‹¬ç«‹çš„ç»Ÿæ²»å›½å®¶åˆä½œæ˜¯å¤šä¹ˆçš„åˆæ³•ï¼Œè¯·è§‚çœ‹æˆ‘çš„æ¼”è®²[ã€å¤æ‚æ€§:åˆ†è£‚ã€‘&å¾æœ](https://www.youtube.com/watch?v=3J9EJrvqOiM&index=7&t=0s&list=PLW0vzLDjfaNSFs7OBLK6anfQiE5FJzAPD)ï¼Œæˆ–è€…é˜…è¯»:[ã€å¦‚ä½•åˆ†è§£å›½å®¶å’Œ uiã€‘](https://hackernoon.com/how-to-decouple-state-and-ui-a-k-a-you-dont-need-componentwillmount-cc90b787aa37)ã€‚[å¥¥å¢è´¹ç±³Â·é˜¿å¾·éœ](https://medium.com/u/f90a459e227f)æœ€è¿‘ä¹Ÿå†™é“:[ã€å¯é‡ç”¨å›½å®¶ç®¡ç†çš„å¥‡æ¡ˆã€‘](https://medium.com/@fadeojo/the-curious-case-of-reusable-javascript-state-management-25e433a7b05)ã€‚

åœ¨æˆ‘ä»¬ç¦»å¼€ä¹‹å‰:æ¯ä¸ªåšå®¢éƒ½çŸ¥é“ä¸€ä¸ªåšå®¢éœ€è¦å›¾ç‰‡æ¥å¸å¼•ç”¨æˆ·ã€‚æ­¤åšå®¢å°šæœªå‘ˆç°ä»»ä½•å›¾åƒï¼Œå› æ­¤ç”¨æˆ·ç•Œé¢è¾ƒå·®ä¸”ä¸æ»¡æ„ã€‚ä½†ä½ è¿˜æ˜¯å¯ä»¥å®ç°ä½ æ‰€æœ‰çš„â€œä¸šåŠ¡ç›®æ ‡â€:å’Œä½ åˆ†äº«ä¸Šé¢çš„æƒ³æ³•ã€‚å› ä¸ºï¼Œä»å®æ–½çš„è§’åº¦æ¥çœ‹ï¼Œå°½ç®¡æå…¶é‡è¦:

> ç”¨æˆ·ç•Œé¢åªæ˜¯ä¸€ç§åå°„ã€‚

[![](../Images/e2c6852e1ca7b0d649e88430e36a593c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--27tY6RSH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn-images-1.medium.com/max/800/1%2AcDCUFkPebqyS0x7mX2kn3g.gif)

*æ•è·ä¸šåŠ¡æµç¨‹åï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥[å®šå‘ç”¨æˆ·ç•Œé¢](https://www.youtube.com/watch?v=3J9EJrvqOiM&index=7&t=0s&list=PLW0vzLDjfaNSFs7OBLK6anfQiE5FJzAPD)ï¼*

æœ€åæç¤º:æ˜¯å¦å°† MobX ä¸ React 16.8.0 æˆ–æ›´é«˜ç‰ˆæœ¬é…åˆä½¿ç”¨ï¼ŸæŸ¥æŸ¥ MobX çš„*æŒ‚é’©*ï¼Œå®ƒä»¬æ¯”åŸæ¥çš„è¦å°å¾—å¤šï¼

**æ›´æ–°ï¼Œ2019 å¹´ 2 æœˆ 25 æ—¥**:å¯¹è¿™ç¯‡æ–‡ç« æ„Ÿå…´è¶£å—ï¼Ÿæˆ‘æ¨èç½—ä¼¯ç‰¹ c çš„ã€Šå¤±è½çš„å²æœˆå»ºç­‘ã€‹æ¼”è®²[ã€‚é©¬ä¸ã€”T3ã€•ï¼](https://www.youtube.com/watch?v=WpkDN78P884)

# [t1ã€å­¦åˆ†ã€‘](#cr%C3%A9ditos-%EF%B8%8F)

*   [UI ä½œä¸ºäº‹åçš„æƒ³æ³•](https://medium.com/@mweststrate/ui-as-an-afterthought-26e5d2bb24d6)ï¼Œescrito originate por[@ mweststrate](https://mobile.twitter.com/alligatorio)