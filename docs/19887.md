# ååº”é’©å­-çŠ¶æ€

> åŸæ–‡ï¼š<https://dev.to/gugadev/react-hooks---state-5g64>

# ååº”é’©å­-çŠ¶æ€

é•¿æœŸä»¥æ¥ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§ååº”å…ƒä»¶ã€‚ä¸€ç§æ˜¯é€šè¿‡ 2015 ç±»å®ç°çš„æ‰€è°“çŠ¶æ€ç»„ä»¶æˆ–â€œæœ‰çŠ¶æ€â€ç»„ä»¶ï¼Œå¦ä¸€ç§æ˜¯ç®€å•çš„çº¯å‡½æ•°çš„æ— çŠ¶æ€ç»„ä»¶æˆ–â€œæ— çŠ¶æ€â€ç»„ä»¶ã€‚

çŠ¶æ€ç»„ä»¶çš„ç¤ºä¾‹å¦‚ä¸‹:

```
class Input from React.Component {
  state = {
    value: ''
  }

  handleChange = (e) => {
    const value = e.target.value
    this.setState({ value })
  }

  render() {
    return (
      <input
        type={this.props.type}
        value={this.state.value}
        onChange={this.handleChange}
      />
    )
  }
} 
```

Enter fullscreen mode Exit fullscreen mode

ç”±äºæˆ‘ä»¬éœ€è¦â€˜t0â€™åœ¨æœ¬åœ°å­˜å‚¨å…¶ä»·å€¼ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºå…¶æä¾›ä¸€ä¸ªçŠ¶æ€ï¼Œå¦åˆ™â€˜t1â€™çš„ä»·å€¼æ€»è¦æ¥è‡ªå¤–éƒ¨ï¼›å³ä½œä¸ºè´¢äº§ã€‚

åœ¨æ—©æœŸç‰ˆæœ¬çš„ React ä¸­ï¼Œå¦‚æœè¦å®ç°æ­¤è¡Œä¸ºï¼Œåˆ™ä¸èƒ½ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ã€‚åŸå› å¾ˆç®€å•:æ ¹æ®è®¾è®¡ï¼Œä¸€ä¸ªçº¯ç²¹åŠŸèƒ½çš„å…ƒä»¶ä¸èƒ½åŒ…å«çŠ¶æ€æˆ–ç”Ÿå‘½å‘¨æœŸã€‚

ä½†æ˜¯ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªé€‰æ‹©:ä½¿ç”¨[å¥–åŠ±](https://github.com/acdlite/recompose)ï¼Œè¿™æ˜¯ä¸€ä¸ª(å¾ˆå¥½çš„ï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹)åº“ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†çŠ¶æ€ã€ç”Ÿå‘½å‘¨æœŸå’Œå…¶ä»–è¡Œä¸ºæ³¨å…¥åˆ°æ— çŠ¶æ€ç»„ä»¶ä¸­ã€‚

äº‹å®æ˜¯ï¼Œä»ç°åœ¨èµ·ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç¬¬ä¸‰æ–¹åº“æ¥ä½¿ç”¨æˆ‘ä»¬çš„çº¯ç»„ä»¶ä¸­çš„çŠ¶æ€(ä¸å¹¸çš„æ˜¯ï¼Œç”Ÿå‘½å‘¨æœŸè¿˜æ²¡æœ‰è¿™æ ·åš)ï¼Œè¿™è¦å½’åŠŸäºâ€œ[react hooksã€–t1ã€—çš„ä½œç”¨ã€‚ä½†æ˜¯ï¼Œæ˜¯ååº”æŒ‚é’©å—ï¼ŸğŸ¤”](https://reactjs.org/docs/hooks-intro.html)

## Anexo

### QuÃ© es ååº”é’©ï¼Ÿ

æˆ‘å¼•ç”¨ React çš„å®šä¹‰:

> æŒ‚é’©æ˜¯è®©æ‚¨ä»åŠŸèƒ½ç»„ä»¶â€œæŒ‚é’©â€React çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸç‰¹æ€§çš„åŠŸèƒ½ã€‚é’©å­åœ¨ React ç±»ä¸­ä¸èµ·ä½œç”¨ã€‚é’©å­å…è®¸ä½ æ ¹æ®ç›¸å…³çš„éƒ¨åˆ†å°†ä¸€ä¸ªç»„ä»¶åˆ†è§£æˆæ›´å°çš„åŠŸèƒ½ã€‚ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­æ˜¯è®¾ç½®è®¢é˜…æˆ–è·å–æ•°æ®ï¼Œè€Œä¸ç®¡åŸºäºç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„ä»£ç åˆ†å‰²ã€‚

æ–¹ä¾¿æ—¶ï¼Œ**æŒ‚æ¥æ˜¯ä¸€ç§åŠŸèƒ½ï¼Œå¯è®©æ‚¨å­˜å–æ— çŠ¶æ€å…ƒä»¶ä¸­å…ƒä»¶çš„çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸã€‚å°±è¿™ä¹ˆç®€å•ã€‚**

* * *

å›åˆ°æˆ‘ä»¬çš„â€˜t0â€™çš„ä¾‹å­ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å°†å®ƒè½¬æ¢ä¸ºæ— çŠ¶æ€ç»„ä»¶ï¼Œå¹¶ç»§ç»­äº«å—æ— çŠ¶æ€ç»„ä»¶å¸¦ç»™æˆ‘ä»¬çš„å¥½å¤„ã€‚

> ä¸ºäº†äº†è§£ JavaScript ä¸­çš„ç»§æ‰¿å’Œæ„æˆçš„åŒºåˆ«åŠå…¶äº§ç”Ÿçš„æ•ˆæœï¼Œæˆ‘æ¨èé˜…è¯» Eric Elliot çš„ã€ŠT1ã€‹è¿™ç¯‡æ–‡ç« å’Œ Dan Abramov çš„ã€ŠT2ã€‹å¦ä¸€ç¯‡ã€ŠT3ã€‹ã€‚

## é’©å­`useState`

æ­¤æŒ‚æ¥å…è®¸æˆ‘ä»¬è®¿é—®æ— çŠ¶æ€ç»„ä»¶çš„çŠ¶æ€ã€‚æ­¤å‡½æ•°åªä¼ é€’ä¸€ä¸ªå‚æ•°:**çŠ¶æ€åˆå§‹å€¼**ã€‚ä¸çŠ¶æ€ç»„ä»¶çš„çŠ¶æ€ä¸åŒï¼Œä½¿ç”¨â€œ`useState`â€ä¸å¿…å°†å¯¹è±¡ä½œä¸ºçŠ¶æ€ä¼ é€’ï¼Œäº‹å®ä¸Šâ€œ**â€å¯ä»¥ä¼ é€’ä»»ä½•ç±»å‹çš„æ•°æ®â€œ**â€ã€‚æ­¤å‡½æ•°å°†è¿”å›ä¸¤ä¸ªå…ƒç´ :å­˜å‚¨æ•°æ®çš„å˜é‡å’Œæ›´æ–°æ•°æ®å€¼çš„å‡½æ•°ã€‚

```
import React, { useState }Â from 'react'

const Input = ({ type }) => {
  const { value, setValue } = useState('')

  return (
    <input
      type={this.props.type}
      value={state.value}
      onChange={(e) => {
        setValue(e.target.value)
      }}
    />
  )
} 
```

Enter fullscreen mode Exit fullscreen mode

åœ¨ä¸‹ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°â€œæŒ‚é’©æ•ˆåº”â€ä»¥åŠæˆ‘ä»¬å¯ä»¥ç»™äºˆå®ƒçš„ç”¨æ³•ã€‚ğŸ¤˜ğŸ¼