# å¦‚ä½•åœ¨ JavaScript ä¸­å‹¾é€‰è¯·å‹¿è¿½è¸ª(DNT)ï¼Ÿ

> åŸæ–‡:[https://dev . to/spekulatius 1984/how-to-check-do-not-track-DNT-in-JavaScript-57 G1](https://dev.to/spekulatius1984/how-to-check-do-not-track-dnt-in-javascript-57g1)

## [](#what-is-do-not-track)ä»€ä¹ˆæ˜¯ä¸è·Ÿè¸ªï¼Ÿ

â€œä¸è·Ÿè¸ªâ€æ˜¯ç”¨æˆ·ä¸å¸Œæœ›è¢«è°·æ­Œåˆ†ææˆ–ç±»ä¼¼æœåŠ¡è·Ÿè¸ªçš„åå¥½ã€‚å¦‚æœå¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œå®ƒå°†ä½œä¸º HTTP æŠ¥å¤´å‘é€ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½å°†å‘é€åˆ°æœåŠ¡å™¨ã€‚æ ¹æ®æ‚¨ä½¿ç”¨çš„æµè§ˆå™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ç§äºº/åŒ¿åä¼šè¯ä¸­ä¼šæ‰“å¼€æ­¤åŠŸèƒ½ã€‚

## [](#how-to-check-if-dnt-is-set-using-javascript)å¦‚ä½•ç”¨ JavaScript æ£€æŸ¥ DNT æ˜¯å¦è®¾ç½®ï¼Ÿ

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå½“æœ‰äººè®¿é—®ä½ çš„ç½‘ç«™æ—¶ï¼Œä½ å¯èƒ½éœ€è¦æ‰¾å‡º DNT æ˜¯å¦æ˜¯æ´»è·ƒçš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯[é™æ€ç«™ç‚¹ç”Ÿæˆå™¨](https://peterthaleikis.com/posts/introduction-to-static-site-generators/)å¹¶ä¸”éœ€è¦åœ¨ä¸­ç¼–è¯‘ g a ä»£ç ï¼Œä½†åªæœ‰å½“æ‚¨çš„ç½‘ç«™è®¿é—®è€…åŒæ„æ—¶æ‰æ¿€æ´»å®ƒï¼Œå°±å¯èƒ½å‡ºç°è¿™ç§æƒ…å†µã€‚ä»¥ä¸‹ä»£ç ç‰‡æ®µå…è®¸æ‚¨æ£€æŸ¥ DNT æ˜¯å¦æ˜¯ä½¿ç”¨ JavaScript è®¾ç½®çš„:

```
let dntActive = () => {
  // get the value from the various browser implementations.
  let dnt_active = parseInt(
    // Internet Explorer 9 and 10 vendor prefix
    navigator.msDoNotTrack ||

    // IE 11 uses window.doNotTrack
    window.doNotTrack ||

    // W3C
    navigator.doNotTrack,
    10
  );

  // If this comes to exactly 1 DNT is set.
  return (dnt_active === 1);
}

// Check if DNT is active.
if (dntActive()) {
  // active
} else {
  // inactive
} 
```

æŒ‰ç…§è¿™ä¸ªä¾‹å­ï¼Œä½ åº”è¯¥æ‰¾å‡ºä¸€ä¸ªç”¨æˆ·æ˜¯å¦ä¸å–œæ¬¢è¢«è·Ÿè¸ªã€‚

è¿™ä¸ªå¿«é€ŸæŠ€å·§çš„çµæ„Ÿæ¥è‡ªäº[https://github . com/saber land/saber/blob/master/packages/saber-plugin-Google-analytics/saber-browser . js](https://github.com/saberland/saber/blob/master/packages/saber-plugin-google-analytics/saber-browser.js)ğŸ™ï¸