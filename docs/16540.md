# ç”¨ SQLAlchemy ç®€åŒ– Python ä¸­çš„æ•°æ®åº“

> åŸæ–‡:[https://dev . to/hackersandslackers/databases-in-python-made-easy-with-sqlalchemy-2jca](https://dev.to/hackersandslackers/databases-in-python-made-easy-with-sqlalchemy-2jca)

[![Databases in Python Made Easy with SQLAlchemy](../Images/9855ae4da3e7e3d6a81f0db55c26ec58.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--8GOCpMzf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hackersandslackers.com/2020/02/sqlalchemy-intro-1.jpg)

å½“æˆ‘ä»¬æƒ³åˆ°è½¯ä»¶ä¸æ•°æ®åº“ç›´æ¥äº¤äº’æ—¶ï¼Œè®¸å¤šäººä¼šæƒ³åˆ°ç±»ä¼¼çš„ç®¡ç†è¿æ¥ã€æ˜¾å¼æäº¤æŸ¥è¯¢å’Œç±»ä¼¼çš„ä»¤äººåŒå€¦çš„æ ·æ¿æ–‡ä»¶çš„æ¨¡å¼ã€‚åƒ **[PyMySQL](https://hackersandslackers.com/python-mysql-pymysql/)** å’Œ **[Psycopg2](https://hackersandslackers.com/psycopg2-postgres-python/)** è¿™æ ·çš„ Python åº“å¾ˆå¥½åœ°é€‚åº”äº†è¿™ç§èŒƒå¼ï¼Œç»´æŠ¤äº†æˆ‘ä»¬å·²ç»æ¥å—çš„ç°çŠ¶ã€‚SQLAlchemy å·²ç»æˆä¸º Python æœ€å…·æ ‡å¿—æ€§çš„åº“ä¹‹ä¸€ï¼Œå®ƒå°†å¹³å‡¡çš„æ•°æ®åº“æŠ½è±¡ä¸ºè½¯ä»¶ã€‚

å®ƒä¹Ÿæ˜¯æˆ‘ä¸å¹¸æµè§ˆè¿‡çš„æœ€ç³Ÿç³•çš„ Python åº“æ–‡æ¡£çš„æ‰€åœ¨åœ°ã€‚

SQLAlchemy çš„ API æä¾›äº†ä¸€ç§å®¢è§‚ä¸Šæ›´å¥½ã€æ›´ç®€å•ã€æ›´å¿«é€Ÿçš„å¤„ç†å…³ç³»æ•°æ®åº“çš„æ–¹æ³•ã€‚å¯¹äºé‚£äº›è¯•å›¾ç†è§£ä¼ªè£…æˆ SQLAlchemy æ–‡æ¡£çš„æ·±å¥¥æœ¯è¯­çš„äººæ¥è¯´ï¼Œè¿™æ˜¯æ²¡æœ‰ç”¨çš„ï¼ŒSQLAlchemy æ–‡æ¡£æ‰“äº†ä½ ä¸€å·´æŒï¼Œè¯´ï¼Œ*â€œæˆ‘ä»–å¦ˆçš„ä¸åœ¨ä¹ä½ ã€‚â€*

æˆ‘åœ¨è¿™é‡Œè¯´ï¼Œæˆ‘ä¸åœ¨ä¹ä½ ï¼Œæˆ‘åªæƒ³ç”¨ SQLAlchemy æ•™ç¨‹çš„å½¢å¼æ¥è¡¨è¾¾æˆ‘çš„æ„Ÿå—ã€‚

### [](#sql-or-orm)SQL è¿˜æ˜¯ ORMï¼Ÿ

SQLAlchemy æœ‰ä¸¤ä¸ªç”¨é€”:ä½¿ SQL äº¤äº’æ›´å®¹æ˜“ï¼Œä»¥åŠä½œä¸ºä¸€ä¸ªæˆç†Ÿçš„ ORMã€‚å³ä½¿æ‚¨å¯¹å®ç° ORM ä¸æ„Ÿå…´è¶£(æˆ–è€…ä¸çŸ¥é“ ORM æ˜¯ä»€ä¹ˆ)ï¼ŒSQLAlchemy ä½œä¸ºç®€åŒ– SQL æ•°æ®åº“è¿æ¥å’Œæ‰§è¡ŒåŸå§‹æŸ¥è¯¢çš„å·¥å…·ä¹Ÿæ˜¯éå¸¸å®è´µçš„ã€‚æˆ‘è®¤ä¸ºè¿™æ˜¯æˆ‘å†™çš„åŸåˆ›å£°æ˜ï¼Œä½†äº‹å®è¯æ˜ SQLAlchemy æ˜¯è¿™æ ·æè¿°è‡ªå·±çš„:

> SQLAlchemy ç”±ä¸¤ä¸ªä¸åŒçš„ç»„ä»¶ç»„æˆï¼Œç§°ä¸º**æ ¸å¿ƒ**å’Œ **ORM** ã€‚æ ¸å¿ƒæœ¬èº«æ˜¯ä¸€ä¸ªå…¨åŠŸèƒ½çš„ SQL æŠ½è±¡å·¥å…·åŒ…ï¼Œæä¾›äº†ä¸€ä¸ªå¹³æ»‘çš„æŠ½è±¡å±‚ï¼Œè¦†ç›–äº†å„ç§ DBAPI å®ç°å’Œè¡Œä¸ºï¼Œä»¥åŠä¸€ä¸ª SQL è¡¨è¾¾å¼è¯­è¨€ï¼Œå…è®¸é€šè¿‡ç”Ÿæˆ Python è¡¨è¾¾å¼æ¥è¡¨è¾¾ SQL è¯­è¨€ã€‚

## [](#connecting-to-a-database)è¿æ¥åˆ°æ•°æ®åº“

SQLAlchemy ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›ç®¡ç†æ•°æ®åº“è¿æ¥çš„é€‰é¡¹ï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ˜¯ä»ä¸€ä¸ª**å¼•æ“**çš„æ¦‚å¿µå¼€å§‹çš„ã€‚â€œå¼•æ“â€æ˜¯ä»£è¡¨æ•°æ®åº“çš„ Python å¯¹è±¡ã€‚å¼•æ“æ˜¯é€šè¿‡ä¼ å…¥ç›®æ ‡æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯é¢„å…ˆåˆ›å»ºçš„ã€‚

ä¸€æ—¦åˆ›å»ºäº†å¼•æ“ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸å¼•æ“å¯¹è±¡è¿›è¡Œäº¤äº’ï¼Œéšæ—¶å¿«é€Ÿåœ°å¤„ç†æˆ‘ä»¬çš„æ•°æ®åº“ã€‚å°† SQL è¯­å¥ç›´æ¥ä¼ é€’ç»™å¼•æ“è®© SQLAlchemy å¤„ç†æ‰“å¼€æ–°è¿æ¥ã€æ‰§è¡Œå’Œç«‹å³å…³é—­è¿æ¥ã€‚åœ¨å¤æ‚çš„ web åº”ç”¨ç¨‹åºæ”¯æŒå¤§é‡æ•°æ®ä¼ è¾“çš„æƒ…å†µä¸‹ï¼Œæœ€å¥½é€šè¿‡ä¸€ä¸ª**ä¼šè¯**ä¿æŒæŒç»­çš„æ•°æ®åº“è¿æ¥ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚

åˆ›å»ºå¼•æ“çš„è¯­æ³•éå¸¸ç®€å•ã€‚`create_engine()`éœ€è¦ä¸€ä¸ªä½ç½®å‚æ•°ï¼Œå®ƒæ˜¯è¡¨ç¤ºè¿æ¥åˆ°æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯çš„å­—ç¬¦ä¸²:

<figure>

```
"""Create database connection."""
from sqlalchemy import create_engine

engine = create_engine(
    "mysql+pymysql://user:password@host:3600/database",
) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>SQLAlchemy database engine</figcaption>

</figure>

ä¼ å…¥`create_engine()`çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªè¿æ¥ URIã€‚å‡è®¾ä½ æœ‰ä¸€ä¸ªæ•°æ®åº“ï¼Œæˆ‘ä»¬å°†ä¸€èµ·æ‰¾å‡ºä½ çš„ URI åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ã€‚

### [](#database-connection-uris)è¿æ¥ URIs æ•°æ®åº“

å°† URI åˆ†è§£æˆä¸åŒçš„éƒ¨åˆ†çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:

<figure>

```
[DB_TYPE]+[DB_CONNECTOR]://[USERNAME]:[PASSWORD]@[HOST]:[PORT]/[DB_NAME] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Database connection URI structure</figcaption>

</figure>

*   **ã€DB _ TYPEã€‘**:æŒ‡å®šæˆ‘ä»¬æ­£åœ¨è¿æ¥çš„æ•°æ®åº“çš„ç§ç±»(æ–¹è¨€)ã€‚SQLAlchemy å¯ä»¥ä¸æ‰€æœ‰ä¸»æµçš„å…³ç³»æ•°æ®åº“æ¥å£ã€‚æ ¹æ®æ‚¨æ­£åœ¨è¿æ¥çš„æ•°æ®åº“ï¼Œç”¨åŒ¹é…çš„æ–¹è¨€æ›¿æ¢`[DB_TYPE]`:
    *   **MySQL** : `mysql`
    *   **PostgreSQL** : `postgresql`
    *   **SQLite** : `sqlite`
    *   **ç¥è°•**(å”‰):`oracle`
    *   **å¾®è½¯ SQL** (ç¨å¾®ä¸é‚£ä¹ˆæ¼æ€’çš„â€œå•Šâ€):`mssql`
*   **ã€DB _ CONNECTORã€‘**:ä¸ºäº†ç®¡ç†æ‚¨çš„æ•°æ®åº“è¿æ¥ï¼ŒSQLAlchemy åˆ©ç”¨æ‚¨é€‰æ‹©ä½¿ç”¨çš„ä»»ä½• Python æ•°æ®åº“è¿æ¥åº“ã€‚å¦‚æœä½ ä¸ç¡®å®šè¿™æ„å‘³ç€ä»€ä¹ˆï¼Œè¿™é‡Œæ˜¯æˆ‘æ¨èçš„æ¯ä¸ªæ–¹è¨€çš„åº“:
    *   **MySQL** : [pymysql](https://pypi.org/project/PyMySQL/) ï¼Œ [mysqldb](https://pypi.org/project/MySQL-python/)
    *   **PostgreSQL**:[psycopg 2](https://pypi.org/project/psycopg2/)ï¼Œ [pg8000](https://pypi.org/project/pg8000/)
    *   **SQLite** :(ä¸éœ€è¦)
    *   **ç”²éª¨æ–‡**:[CX _ ç”²éª¨æ–‡](https://pypi.org/project/cx-Oracle/)
    *   **å¾®è½¯ SQL** : [pymssql](https://pypi.org/project/pymssql/) ï¼Œ [pyodbc](https://pypi.org/project/pyodbc/) <ï¼- kg-card-end: markdown - >

åé¢çš„å˜é‡åº”è¯¥çœ‹èµ·æ¥éƒ½å¾ˆç†Ÿæ‚‰ï¼›è¿™äº›æ˜¯æŒ‡æ‚¨çš„ç›®æ ‡æ•°æ®åº“çš„ URLã€æ•°æ®åº“ç”¨æˆ·ã€è¯¥ç”¨æˆ·çš„å¯†ç ç­‰ã€‚

è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°† SQLAlchemy ä¸æ‚¨çš„è¿æ¥å™¨ä¸€èµ·å®‰è£…:

<figure>

```
$ pip install sqlalchemy pymysql 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Install SQLAlchemy & connector</figcaption>

</figure>

### [](#additional-engine-configuration)é™„åŠ å‘åŠ¨æœºé…ç½®

é™¤äº†è¿æ¥ URI ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é…ç½®å¼•æ“æ¥æ»¡è¶³ç‰¹å®šæ•°æ®åº“è®¾ç½®çš„ç‰¹å®šéœ€æ±‚(æˆ–åå¥½)ã€‚æˆ‘ä¸ªäººè¦æ±‚é€šè¿‡ SSL å»ºç«‹è¿æ¥ï¼›è¿™éœ€è¦æä¾›ä¸€ä¸ª PEM å¯†é’¥æ¥ä¿è¯é¢å¤–çš„å®‰å…¨æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºå¼•æ“æ—¶é€šè¿‡å…³é”®å­—å‚æ•°`connect_args`ä¼ é€’è¿™ä¸ªå¯†é’¥:

<figure>

```
"""Create database connection."""
from sqlalchemy import create_engine
from config import SQLALCHEMY_DATABASE_PEM

engine = create_engine(
    "mysql+pymysql://user:password@host:3600/database",
    connect_args={"ssl": {"key": SQLALCHEMY_DATABASE_PEM}},
    echo=True,
) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>SQLAlchemy database engine</figcaption>

</figure>

å¦‚æœæ‚¨æ˜¯å¥½å¥‡å‹çš„ï¼Œæ‚¨ä¹Ÿå¯ä»¥å°†`echo=True`ä¼ é€’åˆ°æ‚¨çš„å¼•æ“ï¼Œå®ƒå°†åœ¨å‘ç”Ÿæ—¶å°†æ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„ SQL è¯­å¥æ‰“å°åˆ°æ‚¨çš„æ§åˆ¶å°(åŒ…æ‹¬è¿æ¥ã€è¡¨åˆ›å»ºç­‰)ã€‚).è¿™å¯¹äº†è§£æ–°æ¥è€…çš„æƒ…å†µå¾ˆæœ‰å¸®åŠ©ï¼Œä½†å¾ˆå¿«å°±ä¼šå˜å¾—ä»¤äººè®¨åŒå’Œåƒåœ¾ã€‚

## [](#executing-queries)æ‰§è¡ŒæŸ¥è¯¢

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`engine.execute("SELECT * FROM mytable")`ç›´æ¥åœ¨å¼•æ“å¯¹è±¡ä¸Šè¿è¡Œç‰¹å®šæŸ¥è¯¢ã€‚å½“æˆ‘ä»¬åœ¨å¼•æ“ä¸Šè°ƒç”¨`execute()`æ—¶ï¼ŒSQLAlchemy å¤„ç†:

*   æ‰“å¼€ä¸æˆ‘ä»¬æ•°æ®åº“çš„è¿æ¥ã€‚
*   åœ¨æˆ‘ä»¬çš„æ•°æ®åº“ä¸Šæ‰§è¡ŒåŸå§‹ SQL å¹¶è¿”å›ç»“æœã€‚
*   ç«‹å³å…³é—­ç”¨äºè¿è¡Œè¯¥æŸ¥è¯¢çš„æ•°æ®åº“è¿æ¥ï¼Œä»¥é¿å…è¿æ¥æŒ‚èµ·ã€‚

è¿™ç§ä¸æ•°æ®åº“äº¤äº’çš„æ–¹å¼è¢«ç§°ä¸º**æ˜¾å¼æ— è¿æ¥æ‰§è¡Œ _** ã€‚è¿™ç§ç±»å‹çš„æ“ä½œæ˜¯â€œæ˜¾å¼â€çš„ï¼Œå› ä¸ºæŸ¥è¯¢åœ¨æ‰§è¡Œæ—¶ä¼šè‡ªåŠ¨æäº¤*(ä¸ä¼ ç»Ÿçš„ Python åº“å½¢æˆå¯¹æ¯”ï¼Œä¼ ç»Ÿçš„ Python åº“éµå®ˆ [PEP-249](https://www.python.org/dev/peps/pep-0249/#id3) ï¼Œé™¤éåè·Ÿ`commit()`ï¼Œå¦åˆ™ä¸ä¼šè¿è¡ŒæŸ¥è¯¢)ã€‚*

 *å½“æˆ‘ä»¬æƒ³è¦æŒ‰éœ€è¿è¡Œç‰¹å®šæŸ¥è¯¢æ—¶(ä¾‹å¦‚:å‡ ä¹æ‰€æœ‰ä¸æ˜¯é¢å‘ç”¨æˆ·çš„åº”ç”¨ç¨‹åºçš„æƒ…å†µ)ï¼Œè¿™æ˜¯éå¸¸å¥½çš„ã€‚æˆ‘ä»¬å¯ä»¥è·å–æˆ–æ”¹å˜æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ï¼Œè€Œä¸ç”¨æ‹…å¿ƒé¢å¤–çš„ä¸œè¥¿ã€‚

### [](#select-data)é€‰æ‹©æ•°æ®

æˆ‘ä¸ºè¿™ä¸ªä¾‹å­å»ºç«‹äº†ä¸€ä¸ªè™šæ‹Ÿæ•°æ®çš„æ•°æ®åº“ã€‚ä¸ºäº†æ¼”ç¤ºä½¿ç”¨ SQLAlchemy æœ‰å¤šç®€å•ï¼Œæˆ‘å°†ä»ä¸€ä¸ªåä¸º **nyc_jobs** :
çš„è¡¨ä¸­è·å–ä¸€äº›æ•°æ®

<figure>

```
...
from sqlalchemy import text

result = engine.execute(
    text(
        "SELECT job_id, agency, business_title, \
 salary_range_from, salary_range_to \
 FROM nyc_jobs ORDER BY RAND();"
    )
)
print(result) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Execute a SELECT query</figcaption>

</figure>

æˆ‘å·²ç»å‘`engine.execute()`ä¼ é€’äº†ä¸€ä¸ªç®€å•çš„ SQL æŸ¥è¯¢ï¼Œå®ƒä»æˆ‘çš„ **nyc_jobs** è¡¨ä¸­é€‰æ‹©äº†å‡ åˆ—(ä»¥éšæœºé¡ºåºè¿”å›)ã€‚è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹å®ƒçš„è¾“å‡ºã€‚

<figure>

```
<sqlalchemy.engine.result.Result object at 0x10c59bdc0> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Queries return a `Result` object</figcaption>

</figure>

å¤©å“ªï¼Œé‚£æ˜¯ä»€ä¹ˆï¼Ÿï¼ä»€ä¹ˆæ˜¯`Result`ï¼Ÿè¿™ä¸€åˆ‡å¥½å¾—ä»¤äººéš¾ä»¥ç½®ä¿¡å—ï¼Ÿï¼

ä» SQLAlchemy 1.4.X å¼€å§‹ï¼Œå¯¹è±¡`ResultProxy`è¢«é‡å‘½åä¸º`Result`ã€‚æ£€æŸ¥æ‚¨çš„ SQLAlchemy ç‰ˆæœ¬ï¼Œä»¥äº†è§£åœ¨è·å–ç»“æœæ—¶é™¤äº†å“ªä¸ªå¯¹è±¡ã€‚

### [](#parsing-query-results)è§£ææŸ¥è¯¢ç»“æœ

`Result`(æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„æ•°æ®ç»“æ„ï¼Œå®ƒæ€»ç»“äº†æˆ‘ä»¬çš„æŸ¥è¯¢ç»“æœå¹¶åŒ…è£…äº†ç»“æœæœ¬èº«ã€‚`Result`å¯¹è±¡é€šè¿‡è®©æˆ‘ä»¬è®¿é—®å±æ€§ï¼Œæ¯”å¦‚`rowcount` :
ï¼Œè®©æˆ‘ä»¬å¾ˆå®¹æ˜“ä»é«˜å±‚æ¬¡ä¸Šäº†è§£æˆ‘ä»¬çš„æŸ¥è¯¢æ˜¯å¦‚ä½•æˆåŠŸçš„

<figure>

```
...
from sqlalchemy import text

result = engine.execute(
    text(
        "SELECT job_id, agency, business_title, \
 salary_range_from, salary_range_to \
 FROM nyc_jobs ORDER BY RAND();"
    )
)
print(f"Selected {result.rowcount} rows.") 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Number of rows returned by query</figcaption>

</figure>

è¿™ç»™äº†æˆ‘ä»¬...

<figure>

```
Selected 3123 rows. 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Output of `results.rowcount`</figcaption>

</figure>

...åˆ«é—¹äº†ã€‚è®©æˆ‘ä»¬é€šè¿‡åœ¨`Result` :
ä¸Šè°ƒç”¨`fetchall()`æ¥çœ‹çœ‹æˆ‘ä»¬çš„æ•°æ®æ˜¯ä»€ä¹ˆæ ·å­çš„

<figure>

```
...
from sqlalchemy import text

result = engine.execute(
    text(
        "SELECT job_id, agency, business_title, \
 salary_range_from, salary_range_to \
 FROM nyc_jobs ORDER BY RAND() LIMIT 10;"
    )
)
print(f"Selected {result.rowcount} rows.")
for row in result.fetchall():
    print(row) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Print rows fetched from query</figcaption>

</figure>

ç°åœ¨æˆ‘ä»¬æ¥è°ˆè°ˆ:

<figure>

```
Selected 10 rows.
(399274, 'NYC HOUSING AUTHORITY', 'Vice President Portfolio Planning, Project Development and Asset Mgt', 86346, 217244)
(399276, 'BOROUGH PRESIDENT-QUEENS', 'Director of Graphic Design', 52524, 81535)
(399276, 'BOROUGH PRESIDENT-QUEENS', 'Director of Graphic Design', 52524, 81535)
(399300, 'NYC HOUSING AUTHORITY', 'VICE PRESIDENT TRANSACTIONS', 86346, 217244)
(399300, 'NYC HOUSING AUTHORITY', 'VICE PRESIDENT TRANSACTIONS', 86346, 217244)
(399349, 'CONSUMER AFFAIRS', 'Deputy Director of Special Applications and Operations', 67324, 90686)
(399349, 'CONSUMER AFFAIRS', 'Deputy Director of Special Applications and Operations', 67324, 90686)
(399355, 'DEPT OF INFO TECH & TELECOMM', 'Assistant General Counsel', 66326, 99394)
(399357, 'DEPARTMENT OF BUILDINGS', 'Deputy Commissioner, Development and Technical Affairs', 86346, 212960)
... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Query results</figcaption>

</figure>

å˜¿ï¼Œé‚£äº›çœ‹èµ·æ¥åƒåŒ…å«å·¥ä½œåˆ—è¡¨çš„è¡Œï¼ä¹ä¸€çœ‹ï¼Œè¿™äº›â€œè¡Œâ€çœ‹èµ·æ¥æ˜¯å…ƒç»„åˆ—è¡¨ï¼Œä½†æ˜¯ SQLAlchemy è¿˜æœ‰ä¸€ä¸ªé”¦å›Šå¦™è®¡:

<figure>

```
...

for row in results.fetchall():
    print(row['business_title']) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Get column value per row</figcaption>

</figure>

å“‡ï¼Œæˆ‘åˆšåˆšæ˜¯ä¸æ˜¯è¯•ç€ç”¨`row['business_title']`ä»ä¸€ä¸ªå…ƒç»„ä¸­è·å–ä¸€ä¸ªé”®ï¼Ÿæˆ‘ç–¯äº†å—ï¼Ÿäº‹å®è¯æ˜ï¼Œæˆ‘ä»¬çš„â€œè¡Œâ€æ ¹æœ¬ä¸æ˜¯å…ƒç»„ï¼›å®ƒä»¬æ˜¯è¢«ç§°ä¸º`RowProxy` :
çš„æ•°æ®ç»“æ„

<figure>

```
Selected 10 rows.
COMPUTER SPECIALIST (SOFTWARE)
Resident Engineer
Resident Engineer
Supervising Demolition Inspector
Supervising Demolition Inspector
Senior Inspector
Senior Inspector
Director for Pre-Development Planning
Director for Pre-Development Planning
... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Output of `row['business_title']`</figcaption>

</figure>

**business_title** æ˜¯æˆ‘ä»¬è¡¨æ ¼çš„åˆ—åä¹‹ä¸€ã€‚é€šè¿‡å¾ªç¯`row['business_title']`ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ•°æ®åº“ä¸­çš„æ¯ä¸ªèŒä½åç§°ï¼›å°±åƒéå†å­—å…¸åˆ—è¡¨ä¸€æ ·ã€‚äº‹å®ä¸Šï¼Œè®©æˆ‘ä»¬è¿™æ ·åš:è®©æˆ‘ä»¬å°†æŸ¥è¯¢ç»“æœä½œä¸ºå­—å…¸åˆ—è¡¨è¿”å›:

<figure>

```
...

rows = [dict(row) for row in results.fetchall()]
print(rows) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Parse rows as list of dictionaries</figcaption>

</figure>

ç°åœ¨ä½ æœ‰äº†ä¸€ç§æ ¼å¼ï¼Œæ— è®ºä½ æƒ³å®ç°ä»€ä¹ˆï¼Œå®ƒéƒ½ä¸€å®šä¼šæ»¡è¶³ä½ çš„éœ€æ±‚:

```
[  ...  {  "agency":  "DEPT OF INFO TECH & TELECOMM",  "business_title":  "Information Security Analyst (Data Protection)",  "job_id":  390003,  "salary_range_from":  75000,  "salary_range_to":  100000  },  {  "agency":  "HRA/DEPT OF SOCIAL SERVICES",  "business_title":  "JAVA DEVELOPER",  "job_id":  384199,  "salary_range_from":  75000,  "salary_range_to":  180000  },  {  "agency":  "DEPT OF HEALTH/MENTAL HYGIENE",  "business_title":  "Early Childhood Education Consultant, Bureau of Childcare",  "job_id":  386535,  "salary_range_from":  64507,  "salary_range_to":  80118  },  {  "agency":  "DEPT OF ENVIRONMENT PROTECTION",  "business_title":  "Air Pollution Inspector",  "job_id":  401509,  "salary_range_from":  43014,  "salary_range_to":  43014  },  {  "agency":  "DEPT OF DESIGN & CONSTRUCTION",  "business_title":  "Safety Code Compliance Auditor",  "job_id":  385796,  "salary_range_from":  54409,  "salary_range_to":  73124  },  {  "agency":  "DEPT OF ENVIRONMENT PROTECTION",  "business_title":  "Procurement Specialist",  "job_id":  378936,  "salary_range_from":  48399,  "salary_range_to":  78211  },  {  "agency":  "DEPT OF DESIGN & CONSTRUCTION",  "business_title":  "College Aide",  "job_id":  401628,  "salary_range_from":  16,  "salary_range_to":  20  },  {  "agency":  "DEPT OF ENVIRONMENT PROTECTION",  "business_title":  "Engineering Technician I",  "job_id":  348589,  "salary_range_from":  36239,  "salary_range_to":  41675  },  {  "agency":  "DEPT OF DESIGN & CONSTRUCTION",  "business_title":  "Executive Assistant",  "job_id":  395553,  "salary_range_from":  38851,  "salary_range_to":  60990  }  ...  ] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#update-rows)æ›´æ–°è¡Œ

æˆ‘ä»¬å¯ä»¥åƒè¿è¡Œé€‰æ‹©æŸ¥è¯¢ä¸€æ ·è¿è¡Œæ›´æ–°æŸ¥è¯¢ï¼Œä½†è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ª*åçš„*æ›´æ–°æŸ¥è¯¢ã€‚è®©æˆ‘ä»¬ç¡®ä¿é¿å…è¿™äº›ã€‚

æˆ‘ä»è¡¨ä¸­éšæœºé€‰æ‹©ä¸€è¡Œè¿›è¡Œæ›´æ–°ã€‚æˆ‘è¦æŠŠç¬¬ **229837** è¡Œæ”¹æˆ JSON å½¢å¼çš„æ ·å­:

<figure>

```
[  {  "job_id":  229837,  "agency":  "DEPT OF INFO TECH & TELECOMM",  "business_title":  "Senior Quality Oversight Analyst",  "job_category":  "Information Technology & Telecommunications",  "salary_range_from":  58675,  "salary_range_to":  125000,  "salary_frequency":  "Annual",  "work_location":  "75 Park Place New York Ny",  "division":  "General Counsel",  "created_at":  "2016-02-17T00:00:00.000",  "updated_at":  "2016-02-17T00:00:00.000"  }  ] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>`SELECT * FROM nyc_jobs WHERE job_id = 229837;`</figcaption>

</figure>

è®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªæ½œåœ¨å±é™©çš„ SQL æŸ¥è¯¢ï¼Œå®ƒå¼•å…¥äº†ä¸€äº›æœ‰é—®é¢˜çš„å­—ç¬¦:

<figure>

```
UPDATE
    nyc_jobs
SET
    business_title = 'Senior QA Scapegoat ğŸ†',
    job_category = 'Info <>!#%%Technology%%#^&%* & Telecom' 
WHERE
    job_id = 229837; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>UPDATE query containing quotes and emojis</figcaption>

</figure>

åœ¨å€¼åŒ…å«è‚¯å®šä¼šç ´åæ“ä½œçš„æ“ä½œç¬¦çš„æƒ…å†µä¸‹å°è¯•æ›´æ–°æ˜¯ä¸€ä¸ªåä¸»æ„ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆ:

<figure>

```
result = engine.execute(
    text(
        "UPDATE nyc_jobs SET business_title = 'Senior QA Scapegoat ğŸ†', \
 job_category = 'Information? <>!#%%Technology!%%#^&%* & Telecom' \
 WHERE job_id = 229837;"
    )
)
print(result.rowcount) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Executing a problematic UPDATE query</figcaption>

</figure>

è¿è¡Œè¿™ä¸ªä¼šè®©*æ‰€æœ‰çš„äº‹æƒ…* :

<figure>

```
2021-01-09 15:44:14,122 INFO sqlalchemy.engine.base.Engine UPDATE nyc_jobs SET business_title = 'Senior QA Scapegoat ğŸ†', job_category = 'Information <>!#%%Technology%%#^&%* & Telecommunications' WHERE job_id = 229837;
2021-01-09 15:44:14,123 INFO sqlalchemy.engine.base.Engine {}
2021-01-09 15:44:14,123 INFO sqlalchemy.engine.base.Engine ROLLBACK
Traceback (most recent call last):
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/main.py", line 4, in <module>
    init_script()
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/sqlalchemy_tutorial/ __init__.py", line 17, in init_script
    rows_updated = update_job_listing(db)
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/sqlalchemy_tutorial/queries.py", line 18, in update_job_listing
    result = db.execute(
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/.venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2235, in execute
    return connection.execute(statement, *multiparams, **params)
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/.venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1003, in execute
    return self._execute_text(object_, multiparams, params)
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/.venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1172, in _execute_text
    ret = self._execute_context(
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/.venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1316, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/.venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1514, in _handle_dbapi_exception
    util.raise_(exc_info[1], with_traceback=exc_info[2])
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/.venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 182, in raise_
    raise exception
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/.venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1276, in _execute_context
    self.dialect.do_execute(
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/.venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 609, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/.venv/lib/python3.8/site-packages/pymysql/cursors.py", line 146, in execute
    query = self.mogrify(query, args)
  File "/Users/toddbirchard/projects/sqlalchemy-tutorial/.venv/lib/python3.8/site-packages/pymysql/cursors.py", line 125, in mogrify
    query = query % self._escape_args(args, conn)
TypeError: * wants int 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Stack trace for bad SQL UPDATE query</figcaption>

</figure>

å¯¹æˆ‘ä»¬æ¥è¯´å¹¸è¿çš„æ˜¯ï¼ŒSQLAlchemy æœ‰ä¸€ä¸ªåä¸º`text()`çš„æ–¹æ³•ï¼Œå®ƒå¯ä»¥å¯¹ç±»ä¼¼æŸ¥è¯¢ä¸­çš„å±é™©å­—ç¬¦è¿›è¡Œè½¬ä¹‰ã€‚ ***æ€»æ˜¯*** ç”¨è¿™ç§æ–¹æ³•åŒ…è£…ä½ çš„æŸ¥è¯¢:

<figure>

```
...
from sqlalchemy import text

result = db.execute(
    text(
        "UPDATE nyc_jobs SET business_title = 'Senior QA Scapegoat ğŸ†', \
 job_category = 'Information <>!#%%Technology%%#^&%* & Telecom' \
 WHERE job_id = 229837;"
    )
)
print(result.rowcount) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>Wrap query in `text()`</figcaption>

</figure>

æˆ‘ä»¬ç°åœ¨æ²¡æœ‰æ”¶åˆ°ä»»ä½•é”™è¯¯ï¼Œå¹¶ä¸”è¿”å›äº†ä¸€ä¸ªè®¡æ•°`1`,è¡¨ç¤ºæœ‰ä¸€è¡Œè¢«æ›´æ–°ã€‚

## [](#and-so-much-more)è¿˜æœ‰è¿™ä¹ˆå¤š

é™¤éæ‚¨æ˜¯å—è™ç‹‚ï¼Œå¦åˆ™è¿è¡ŒæŸ¥è¯¢çš„ SQLAlchemy å·¥ä½œæµå®¢è§‚ä¸Šæ¯”ä½¿ç”¨æ™®é€š DB è¿æ¥å™¨æ—¶è¦å¤„ç†çš„æ ·æ¿æ–‡ä»¶è¦å¥½ã€‚æˆ‘æ— æ³•é‡åŒ–æˆ‘ä¸ªäººä»è¿™ä¸ªç®€åŒ–çš„å·¥ä½œæµç¨‹ä¸­èŠ‚çœçš„æ—¶é—´ï¼Œè¿™ä½¿å¾—ä¸‹é¢çš„æ–­è¨€çœ‹èµ·æ¥å¾ˆå¥‡æ€ª:ä» SQLAlchemy ä¸­è¿˜å¯ä»¥è·å¾—æ›´å¤šã€‚

åæ­£ä¸€æ­¥ä¸€ä¸ªè„šå°ã€‚æˆ‘åœ¨ä¸‹é¢çš„ Github ä¸Šåšäº†ä¸€ä¸ªå·¥ä½œæ¼”ç¤ºï¼ŒåŒ…å«äº†æˆ‘ä»¬åœ¨æœ¬æ•™ç¨‹ä¸­æ¶‰åŠçš„æ‰€æœ‰æºä»£ç ã€‚ä¸‹æ¬¡åŠ å…¥æˆ‘ä»¬å§ï¼

## ![GitHub logo](../Images/75095a8afc1e0f207cda715962e75c8d.png)/[sqlalchemy-tutorial](https://github.com/hackersandslackers/sqlalchemy-tutorial)

### ğŸ§ªğŸ”¬ä½¿ç”¨ SQLAlchemy è¿æ¥ã€æŸ¥è¯¢å…³ç³»æ•°æ®åº“å¹¶ä¸ä¹‹äº¤äº’ã€‚

<article class="markdown-body entry-content container-lg" itemprop="text">

# SQLAlchemy æ•™ç¨‹

[![Python](../Images/91eac0264bc3c2568bdd56361da1d1ae.png)](https://camo.githubusercontent.com/0b153563dd844ea8bbae9bf9d219c0d9930aa35e7d2ed0e07638a2caa3745902/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f507974686f6e2d76253545332e382d626c75652e7376673f6c6f676f3d707974686f6e266c6f6e6743616368653d74727565266c6f676f436f6c6f723d776869746526636f6c6f72423d356538316163267374796c653d666c61742d73717561726526636f6c6f72413d346335363661)[![SQLAlchemy](../Images/1723cabc44962dff2d2950b3c1d95405.png)](https://camo.githubusercontent.com/424e1a71c7e887f61c0f663ed11eab714a5dc2f4b93862cfd20eeab74517b58f/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f53514c416c6368656d792d76253545312e342e302d626c75652e7376673f6c6f6e6743616368653d74727565266c6f676f3d707974686f6e267374796c653d666c61742d737175617265266c6f676f436f6c6f723d776869746526636f6c6f72423d35653831616326636f6c6f72413d346335363661)[![PyMySQL](../Images/3feff7a175a540e1c892ce78f090ce77.png)](https://camo.githubusercontent.com/fdebcbd844cbae276b85296fea82e5730245a6f89610e81fa3b540a01ea62e19/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f50794d7953514c2d76253545312e302e302d7265642e7376673f6c6f6e6743616368653d74727565267374796c653d666c61742d737175617265266c6f676f3d7363616c61266c6f676f436f6c6f723d776869746526636f6c6f72413d34633536366126636f6c6f72423d626636313661)[![GitHub Last Commit](../Images/ce450f99c39c42faeca9f81fb73c2c1d.png)](https://camo.githubusercontent.com/556bded58c9998ff95a5c6abd94d070c459b92b20b2a0977dc3a2f94af805fbe/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6173742d636f6d6d69742f676f6f676c652f736b69612e7376673f7374796c653d666c61742d73717561726526636f6c6f72413d34633536366126636f6c6f72423d613362653863266c6f676f3d476974487562)[![GitHub Issues](../Images/b51c92f47428b4e575d45f7be4c1e2e1.png)](https://github.com/hackersandslackers/sqlalchemy-tutorial/issues)[![GitHub Stars](../Images/8df379b96bf69df566c3607586fcb4f3.png)](https://github.com/hackersandslackers/sqlalchemy-tutorial/stargazers)[![GitHub Forks](../Images/d8103d43bdbf0b4b95b37afb2ff84af6.png)](https://github.com/hackersandslackers/sqlalchemy-tutorial/network)

[![SQLAlchemy Tutorial](../Images/18eb72b96df491820eb93712bdc663e3.png)T2ã€‘](https://github.com/hackersandslackers/sqlalchemy-tutorial/blob/master/.github/sqlalchemy@2x.jpg?raw=true)

è¿™ä¸ªå­˜å‚¨åº“åŒ…å«å…³äº SQLAlchemy çš„å››éƒ¨åˆ†æ•™ç¨‹ç³»åˆ—çš„æºä»£ç :

1.  [ä½¿ç”¨ SQLAlchemy ç®€åŒ– Python ä¸­çš„æ•°æ®åº“](https://hackersandslackers.com/python-database-management-sqlalchemy)
2.  ç”¨ SQLAlchemy å®ç°ä¸€ä¸ª ORM
3.  [SQLAlchemy æ•°æ®æ¨¡å‹ä¸­çš„å…³ç³»](https://hackersandslackers.com/sqlalchemy-data-models)
4.  [ç”¨ SQLAlchemy æ„å»ºæ•°æ®åº“æŸ¥è¯¢](https://hackersandslackers.com/database-queries-sqlalchemy-orm)

# å…¥é—¨æŒ‡å—

åˆ†ä¸¤æ­¥åœ¨æœ¬åœ°è¿›è¡Œè®¾ç½®:

### ç¯å¢ƒå˜é‡

ç”¨æ‚¨çš„å€¼æ›¿æ¢ **.env.example** ä¸­çš„å€¼ï¼Œå¹¶å°†è¯¥æ–‡ä»¶é‡å‘½åä¸º**ã€‚ç¯å¢ƒ**:

*   `SQLALCHEMY_DATABASE_URI`:SQL æ•°æ®åº“çš„è¿æ¥ URIã€‚
*   `SQLALCHEMY_DATABASE_PEM` *ã€å¯é€‰ã€‘*:éœ€è¦ SSL è¿æ¥çš„æ•°æ®åº“çš„ PEM å¯†é’¥ã€‚

è®°ä½æ°¸è¿œä¸è¦æäº¤ä¿å­˜åœ¨ã€‚Github çš„ env æ–‡ä»¶ã€‚

### è£…ç½®

ä½¿ç”¨`make deploy`å¼€å§‹è¿è¡Œ:

```
$ git clone https://github.com/hackersandslackers/sqlalchemy-tutorial.git
$ cd sqlalchemy-tutorial
$ make deploy
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

* * *

**é»‘å®¢å’Œæ‡’é¬¼**æ•™ç¨‹å…è´¹ã€‚å¦‚æœä½ è§‰å¾—è¿™ä¸ªæ•™ç¨‹æœ‰å¸®åŠ©ï¼Œä¸€ä¸ª[çš„å°é¢æèµ ](https://www.buymeacoffee.com/hackersslackers)å°†ä¼šéå¸¸æ„Ÿè°¢ï¼Œè®©æˆ‘ä»¬ç»§ç»­åšç”Ÿæ„ã€‚æ‰€æœ‰çš„æ”¶ç›Šéƒ½æµå‘äº†å’–å•¡ï¼Œæ‰€æœ‰çš„å’–å•¡éƒ½æµå‘äº†æ›´å¤šçš„å†…å®¹ã€‚

</article>

[View on GitHub](https://github.com/hackersandslackers/sqlalchemy-tutorial)*