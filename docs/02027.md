# JavaScript æ­£åˆ™è¡¨è¾¾å¼çš„ä¹è¶£

> åŸæ–‡ï¼š<https://dev.to/hexrcs/fun-with-javascript-regex-101c>

Regexï¼Œæˆ–è€…å…¨ç§°æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚æœä½ ä¸ç†Ÿæ‚‰çš„è¯ï¼Œä¼šæ„Ÿè§‰åƒæŸç§å¯æ€•çš„é»‘æš—å·«æœ¯ã€‚æ‚¨çŸ¥é“è¿™äº›ç¥å¥‡çš„å’’è¯­å¯¹äºæ¨¡å¼åŒ¹é…å’Œå­—ç¬¦ä¸²è§£ææ¥è¯´éå¸¸å¼ºå¤§ï¼Œä½†æ˜¯é‚£äº›çœ‹èµ·æ¥æ€ªå¼‚çš„é—®å·ã€æ–œçº¿å’Œæ˜Ÿå·å¯¹äºæœªç»è®­ç»ƒçš„äººæ¥è¯´åªæ˜¯ç®€å•çš„èƒ¡è¨€ä¹±è¯­ã€‚

å¹¶éæ‰€æœ‰çš„æ­£åˆ™è¡¨è¾¾å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚æˆ‘ä»¬ä»Šå¤©åœ¨ç¼–ç¨‹ä¸­ä½¿ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æœ‰å„ç§å„æ ·çš„è¯­æ³•é£æ ¼ã€‚ç„¶è€Œï¼Œç°åœ¨æœ€æµè¡Œçš„å¤§å¤šæ˜¯ Perl çš„ regex è¯­æ³•çš„è¡ç”Ÿç‰©ã€‚å¦‚æœæ‚¨å·²ç»æŒæ¡äº†ä¸€ç§æ­£åˆ™è¡¨è¾¾å¼æ–¹è¨€(å°±åƒæˆ‘ä»¬ä»Šå¤©è¦ä½¿ç”¨çš„ Javascript æ–¹è¨€ï¼Œå®ƒä¸ Dart çš„æ­£åˆ™è¡¨è¾¾å¼è¯­æ³• 99%ç›¸åŒ)ï¼Œé‚£ä¹ˆå­¦ä¹  Python æˆ– Java ä¹‹ç±»çš„å…¶ä»–æ–¹è¨€å°†æ˜¯å¾®ä¸è¶³é“çš„ã€‚æ‰€ä»¥ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥ç‚¹æ­£åˆ™è¡¨è¾¾å¼çš„ä¹è¶£å§ï¼

## å…¥é—¨ï¼

åœ¨ Javascript ä¸­ï¼Œâ€œæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼â€æ˜¯ä¸€ç±»å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å…³é”®å­—`new`æˆ–æ›´ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼æ–‡å­—(æ³¨æ„ç¼ºå°‘å¼•å·)æ¥åˆå§‹åŒ–å®ƒã€‚

```
const regex0 = new RegExp(',') // regex constructor
const regex1 = /,/ // regex literal 
```

Enter fullscreen mode Exit fullscreen mode

ä¸Šé¢çš„ä¸¤ä¸ª`RegExp`å¯¹è±¡æ˜¯ç­‰ä»·çš„â€”â€”å®ƒä»¬éƒ½ä»£è¡¨å•ä¸ªé€—å·çš„â€œæ¨¡å¼â€ã€‚

é‚£ä¹ˆç°åœ¨æˆ‘ä»¬å·²ç»å®šä¹‰äº†ä¸€ä¸ªæ¨¡å¼ï¼Œæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨å®ƒå‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬å…³å¿ƒçš„åªæ˜¯å­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°åœ¨ä¸€ä¸ª`RegExp`å¯¹è±¡ä¸Šè¿è¡Œ`test`æ–¹æ³•ã€‚

```
const str0 = `1,000,000,000 is like, tres comas.`
console.log(regex1.test(str0)) // => true 
```

Enter fullscreen mode Exit fullscreen mode

å¦‚æœæˆ‘ä»¬æƒ³æ‰¾åˆ°æ¨¡å¼å‡ºç°çš„ä½ç½®ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œ`exec`æ–¹æ³•ï¼Œæ¯”å¦‚å¯¹è¿™ä¸ªå­—ç¬¦ä¸²æ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼ã€‚

```
console.log(regex1.exec(str0))
// => [ ',', index: 1, input: '1,000,000,000 is like, tres comas.' ] 
```

Enter fullscreen mode Exit fullscreen mode

è¿™æ˜¯ä¸€äº›å¾ˆé…·çš„ä¿¡æ¯ï¼Œä½†å®ƒåªè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„ç´¢å¼•ã€‚å—¯ï¼Œä¹Ÿè®¸å¤šæ¬¡è¿è¡Œ`exec()`å¯ä»¥è¾¾åˆ°ç›®çš„ï¼Œæ¯”å¦‚ä»è¿­ä»£å™¨ä¸­å–å‡ºæ•°æ®ï¼Ÿ

```
console.log(regex1.exec(str0))
// => [ ',', index: 1, input: '1,000,000,000 is like, tres comas.' ]
console.log(regex1.exec(str0))
// => [ ',', index: 1, input: '1,000,000,000 is like, tres comas.' ] 
```

Enter fullscreen mode Exit fullscreen mode

å“å‘€ï¼Œæ²¡æœ‰ï¼å¥½å§ï¼Œæˆ‘ä»¬åªæ˜¯éƒ¨åˆ†æ­£ç¡®â€”â€”`exec()`æ–¹æ³•*ç¡®å®æ˜¯*æœ‰çŠ¶æ€çš„ï¼Œè¿™ä¸ª*æ˜¯*éå†åŒ¹é…çš„æ­£ç¡®æ–¹å¼ã€‚é—®é¢˜å®é™…ä¸Šå­˜åœ¨äºæˆ‘ä»¬å®šä¹‰çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸­ã€‚

## æ­£åˆ™æ ‡å¿—

æ ‡å¿—å…è®¸æˆ‘ä»¬åˆ‡æ¢åº”è¯¥å¦‚ä½•æ‰§è¡Œæœç´¢æˆ–åŒ¹é…çš„é€‰é¡¹ï¼Œå¹¶ä¸”æ˜¯æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼çš„ä¸€éƒ¨åˆ†ã€‚

åœ¨æœ€åä¸€ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ä¸ª*å…¨å±€*æ ‡å¿—`g`ï¼Œå®ƒå‘Šè¯‰æ­£åˆ™è¡¨è¾¾å¼å¼•æ“è¿›è¡Œâ€œå…¨å±€â€æœç´¢ï¼Œè€Œä¸ä»…ä»…åœç•™åœ¨ç¬¬ä¸€ä¸ªåŒ¹é…ä¸Š(å°±åƒä¸Šé¢çš„ä¾‹å­)ã€‚`regex2`ç°åœ¨å°†åœ¨è¿­ä»£å®Œæˆæ—¶è¿”å› nullï¼Œç„¶åä»ç´¢å¼•`0`é‡æ–°å¼€å§‹ã€‚

```
const regex2 = /,/g
console.log(regex2.exec(str0))
// => [ ',', index: 1, input: '1,000,000,000 is like, tres comas.' ]
console.log(regex2.exec(str0))
// => [ ',', index: 5, input: '1,000,000,000 is like, tres comas.' ]
console.log(regex2.exec(str0))
// => [ ',', index: 9, input: '1,000,000,000 is like, tres comas.' ]
// let's only run 3 times for now 
```

Enter fullscreen mode Exit fullscreen mode

æœ‰ä¸€ä»¶æœ‰è¶£çš„äº‹æƒ…éœ€è¦è§‚å¯Ÿâ€”â€”æ¯ä¸ª`RegExp`å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåä¸º`lastIndex`çš„å±æ€§ï¼Œä½¿å…¶æœ‰çŠ¶æ€ã€‚ç„¶è€Œï¼Œå¯¹è±¡æœ¬èº«å¹¶ä¸è®°å¾—å“ªä¸ªå­—ç¬¦ä¸²è¢«ä¼ é€’ç»™äº†`exec`æ–¹æ³•ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬çš„`regex2`å¯¹è±¡å°†å…¶`lastIndex`è®¾ç½®ä¸º`10`â€”â€”å¦‚æœæˆ‘ä»¬å°†`str0`ä¸å¦ä¸€ä¸ªå¯¹è±¡äº¤æ¢ï¼ŒåŒ¹é…å°†ä»ç´¢å¼•`10`è€Œä¸æ˜¯`0`å¼€å§‹ã€‚

```
console.log(regex2.lastIndex)
// => 10
const str1 = `This, is, cool.`
console.log(regex2.exec(str1))
// => null, because the searching starts at index 10. 
```

Enter fullscreen mode Exit fullscreen mode

å…¶ä»–æœ‰ç”¨çš„æ ‡å¿—æœ‰:`i`ä½¿æœç´¢ä¸åŒºåˆ†å¤§å°å†™ï¼Œ`m`åŸºæœ¬ä¸Šå¿½ç•¥æ¢è¡Œç¬¦å¹¶è¿›è¡Œå¤šè¡Œæœç´¢ï¼Œä»¥åŠå…¶ä»–è¾ƒå°‘ä½¿ç”¨çš„æ ‡å¿—ã€‚ä»Šå¹´ ECMAScript 2018 ä¸­æ·»åŠ äº†ä¸€ä¸ªæ–°çš„ *dotAll* `s`æ ‡å¿—â€”â€”è¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ·»åŠ ï¼Œå› ä¸ºç‚¹å­—ç¬¦(`.`)ç°åœ¨ç»ˆäºåŒ¹é…å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰*å­—ç¬¦ï¼ŒåŒ…æ‹¬`\n`æ¢è¡Œç¬¦å’Œ coã€‚ä» 62 ç‰ˆå¼€å§‹ï¼ŒChrome [å°±æ”¯æŒè¿™ä¸ªæ–°æ ‡å¿—ã€‚](https://www.chromestatus.com/feature/5644209772036096)*

ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹æ‰€æœ‰è¿™äº›é—®å·ã€æ–œçº¿å’Œæ˜Ÿå·åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ï¼

## å¤„ç†é€šé…ç¬¦

å¦‚æœæ‚¨ç†Ÿæ‚‰ UNIX æˆ– Windows é£æ ¼çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œæ‚¨å¯èƒ½ä»¥å‰å¤„ç†è¿‡é€šé…ç¬¦ã€‚ä½ çŸ¥é“å¦‚ä½•åœ¨ Mac æˆ– Linux ä¸Šä½¿ç”¨`rm -f *.gif`æ¥åˆ é™¤å½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰ gif æ–‡ä»¶ï¼Œä¸éœ€è¦é—®ä»»ä½•é—®é¢˜ï¼Œåœ¨ä½ çš„ Windows ç³»ç»Ÿä¸Šä½¿ç”¨`del *.gif /q`æ¥åšåŒæ ·çš„äº‹æƒ…ã€‚å—¯ï¼ŒçŸ¥é“ç±» Perl æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„é€šé…ç¬¦ä»¥å…¶ä»–æ–¹å¼å·¥ä½œæ˜¯å¾ˆé‡è¦çš„ã€‚

æ­£åˆ™è¡¨è¾¾å¼ä¸­åªæœ‰ä¸€ä¸ªé€šé…ç¬¦â€”â€”å¥ç‚¹`.`(ä¹Ÿå°±æ˜¯ç‚¹)ã€‚è¿™ä¸ªå­—ç¬¦æ¨¡å¼è¡¨ç¤ºä¸€ä¸ªå•ç‹¬çš„æœªçŸ¥å­—ç¬¦ï¼Œä½†ä¸åŒ¹é…æ¢è¡Œç¬¦(`\n`)ï¼Œæ‰€ä»¥`/c.t/`åŒ¹é…å­—ç¬¦ä¸²`cat`ï¼Œä¸åŒ¹é…`c\nt`ã€‚å®ƒåŸºæœ¬ä¸Šåƒæ‚¨åœ¨å‘½ä»¤è¡Œä¸­ç†Ÿæ‚‰çš„`?`é€šé…ç¬¦ä¸€æ ·å·¥ä½œã€‚

## é‡å¤é™å®šè¯(åˆåã€‚é‡è¯)

é‚£ä¹ˆå¦‚ä½•åŒ¹é…è®¸å¤šæœªçŸ¥å­—ç¬¦å‘¢ï¼Ÿè¿™å°±æ˜¯é‡å¤é™å®šè¯çš„ç”¨æ­¦ä¹‹åœ°ã€‚

æ˜Ÿå·`*`ä»£è¡¨ *0 ä¸ªæˆ–æ›´å¤š*å­—ç¬¦ï¼Œ`?`è¡¨ç¤º *0 ä¸ªæˆ– 1 ä¸ª*å­—ç¬¦ï¼Œ`+`è¡¨ç¤º *1 ä¸ªæˆ–æ›´å¤š*å­—ç¬¦ã€‚

æ‰€ä»¥æ¯”å¦‚`essential`å¯ä»¥æ­é…`/es.*sential/`(æ­¤å¤„ä¸º *0* å¤šä½™å­—ç¬¦)ã€`/es.+ential/`(æ­¤å¤„ä¸º *1* å¤šä½™å­—ç¬¦)ã€`/es.?ential/` ( *1* å¤šä½™å­—ç¬¦)ï¼Œæˆ–è€…æ˜æ˜¾çš„`/.*/`ã€‚é‡å¤é™å®šç¬¦ä¹Ÿé€‚ç”¨äºç‰¹å®šå­—ç¬¦ï¼Œè¿™å…è®¸`/ess?enstial/`åŒ¹é…`essential`å’Œ`esential`ï¼Œä½†ä¸åŒ¹é…ä»»ä½•å…¶ä»–å­—ç¬¦ä¸²ã€‚

æ›´é‡è¦çš„æ˜¯ï¼Œä½ å¯ä»¥ç”¨`{n,m}`æ¥ DIY é‡å¤çš„èŒƒå›´â€”â€”æœ€å°‘ *n* åˆ°æœ€å¤š*m*â€”â€”æˆ–è€…ç”¨`{n}`æ¥æŒ‡å®šç¡®åˆ‡çš„å‘ç”Ÿæ¬¡æ•°ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ç”¨`{n,}`åŒ¹é… *n* åˆ°æ— ç©·å¤§(å¤§äºæˆ–ç­‰äº *n* )çš„å‡ºç°æ¬¡æ•°ã€‚

ä¾‹å¦‚ï¼Œ`essential`å¯ä»¥å’Œ`/es{2}ential/`åŒ¹é…ï¼Œ`1000101`å’Œ`1000000101`éƒ½å¯ä»¥å’Œ`10{3,6}101`åŒ¹é…ï¼Œä½†æ˜¯`10101`ä¸èƒ½ã€‚

## æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦é€ƒé¿

æœ‰æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦åŒ¹é…å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œå¦‚`{`æˆ–`*`â€”â€”æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åæ–œæ `\`æ¥è½¬ä¹‰è¿™äº›å­—ç¬¦ã€‚åœ¨ JavaScript ä¸­ï¼Œè¦è½¬ä¹‰çš„ç‰¹æ®Šå­—ç¬¦æ˜¯`\ / [ { ( ? + * | . ^ $`ã€‚æœ‰è¶£çš„æ˜¯ï¼Œ`] } )`å¹¶ä¸æ˜¯ç‰¹æ®Šäººç‰©ï¼Œä½†æ˜¯è¯•å›¾é€ƒé¿å®ƒä»¬å¹¶æ²¡æœ‰å®³å¤„ã€‚æ‚¨ä¹Ÿå¯ä»¥å¯¹æ™®é€šå­—ç¬¦è¿›è¡Œè½¬ä¹‰ï¼Œä½†æ˜¯æ‚¨å¿…é¡»å°å¿ƒï¼Œå› ä¸ºåœ¨ regex ä¸­ï¼Œæœ‰ä¸€äº›å­—ç¬¦ç±»(æ¯”å¦‚é’ˆå¯¹æ‰€æœ‰æ•°å­—å­—ç¬¦çš„`\d`)å†™èµ·æ¥åƒè½¬ä¹‰ç¬¦ï¼Œä½†å®é™…ä¸Šä¸æ˜¯â€”â€”æ‚¨å¯ä»¥å°†`/\o/`ä¸`/dog/`åŒ¹é…ï¼Œä½†ä¸èƒ½ä¸`/\d/`åŒ¹é…ï¼

## é›†åˆå’Œç±»

å½“æˆ‘ä»¬æƒ³è¦åŒ¹é…ç‰¹å®šé›†åˆä¸­çš„å­—ç¬¦æ—¶ï¼Œå­—ç¬¦ç±»ä½¿æˆ‘ä»¬çš„ç”Ÿæ´»æ›´å®¹æ˜“ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦åŒ¹é…ä¸€ä¸ª ID å­—ç¬¦ä¸²ä¸­çš„æ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä½¿ç”¨`\d`æ¥è¡¨ç¤ºé‚£ä¸ªæ•°å­—â€”â€”æœ¬è´¨ä¸Šåƒä¸€ä¸ªç‚¹é€šé…ç¬¦ï¼Œä½†åªç”¨äºæ•°å­—ã€‚

```
const regex = /\d+/g // the string must contain numbers
const str0 = '1234'
const str1 = 'D1234'
const str2 = 'D'

console.log(regex.test(str0)) // => true
console.log(regex.test(str1)) // => true
console.log(regex.test(str2)) // => false 
```

Enter fullscreen mode Exit fullscreen mode

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´çµæ´»çš„é›†åˆç¬¦å·`[0-9]`æ¥ä»£æ›¿`\d`â€”â€”èŒƒå›´ä» 0 åˆ° 9ã€‚æŒ‰ç…§è¿™ä¸ªâ€œèŒƒå›´â€é€»è¾‘ï¼Œå¯¹äºåŸºæœ¬çš„æ‹‰ä¸å­—æ¯ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åš`[a-z]`æˆ–`[A-Z]`ï¼Œæˆ–è€…ç®€å•åœ°åš`[a-zA-Z]`ã€‚è¿™äº›å®é™…ä¸Šåªæ˜¯ä¸ºäº†ç®€åŒ–`[0123456789]`æˆ–`[abcdef...]`è€Œé¢„å…ˆå®šä¹‰çš„å¿«æ·é”®ã€‚å¦‚æœä½ è¦åŒ¹é…æ‰©å±•æ‹‰ä¸å­—æ¯ï¼Œä½ éœ€è¦æ‰‹åŠ¨æ·»åŠ é¢å¤–çš„å­—æ¯ã€‚ä¾‹å¦‚`[a-zA-ZÃ¼Ã¶Ã¤ÃœÃ–Ã„ÃŸ]`ä¸ºå¾·è¯­ã€‚ä½ æ˜ç™½äº†å—ğŸ˜‰ã€‚

æ‚¨è¿˜å¯ä»¥åœ¨æ–¹æ‹¬å·å†…ä½¿ç”¨`^`ä½œä¸ºæ±‚åè¿ç®—ç¬¦â€”â€”å®ƒå¯¹æ–¹æ‹¬å·å†…çš„æ‰€æœ‰è§„åˆ™æ±‚åâ€”â€”`[^0-9]`å°†åŒ¹é…é™¤æ•°å­—ä¹‹å¤–çš„æ‰€æœ‰å†…å®¹ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåƒ`$`æˆ–`.`è¿™æ ·çš„ç‰¹æ®Šå­—ç¬¦åœ¨æ‹¬å·å†…æ²¡æœ‰ä»»ä½•é¢å¤–çš„å«ä¹‰â€”â€”æ‹¬å·å‰¥å¤ºäº†å®ƒä»¬æ‰€æœ‰çš„é­”åŠ›ï¼Œå®ƒä»¬åªæ˜¯æ™®é€šæ–‡æœ¬ä¸­å¯èƒ½å‡ºç°çš„æ™®é€šç‰¹æ®Šå­—ç¬¦ã€‚

## é¢„å®šä¹‰å­—ç¬¦ç±»ç®€å†™

æ­£å¦‚æˆ‘ä»¬åœ¨ä¸Šé¢çœ‹åˆ°çš„ï¼ŒJavascript regex(æˆ–ä»»ä½•å…¶ä»– regex è¯­è¨€)æœ‰ä¸€äº›é’ˆå¯¹å¸¸è§æƒ…å†µçš„é¢„å®šä¹‰ç®€å†™ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢çš„ä»£ç ç‰‡æ®µã€‚

```
const regex1 = /\w/ // matches "word" characters - equivalent to [a-zA-Z0-9_]
const regex2 = /\s/ // matches "space" characters, also tabs and various unicode control code and stuff
const nregex1 = /\W/ // negated \w - matches everything other than "word" characters
const nregex2 = /\S/ // negated \s - matches everything other than "space" characters 
```

Enter fullscreen mode Exit fullscreen mode

## OR è¿ç®—ç¬¦

åƒåœ¨æ™®é€šç¼–ç¨‹è¯­è¨€ä¸­ä¸€æ ·ï¼Œ`|`æ˜¯*æˆ–*æ“ä½œç¬¦ã€‚å¦‚æœä½ å–œæ¬¢å°è¯•ï¼Œä¹Ÿå¯ä»¥å†™æˆ`[01234]|[56789]`ï¼

## æ›¿æ¢æˆç»„

é™¤äº†åŒ¹é…æ¨¡å¼ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¯¹äºæ›¿æ¢åŒ¹é…ä¸­çš„å­—ç¬¦ä¹Ÿéå¸¸æœ‰ç”¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ JavaScript string çš„`replace()`æ–¹æ³•æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚

è®©æˆ‘ä»¬é¦–å…ˆæ„é€ ä¸€ä¸ªç”µè¯å·ç åŒ¹é…å™¨ã€‚

```
const str0 = '+49 123-123-1234' // a phone number...
const regex0 = /^(\+\d+)\s(\d+)-(\d+)-(\d+)/g // matches the number and put all the digits into 4 groups.
regex0.test(str0); // => true, of course! 
```

Enter fullscreen mode Exit fullscreen mode

ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨`replace()`æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`$`åŠ ä¸Šä¸€ä¸ªæ•°å­—æ¥è¡¨ç¤ºæˆ‘ä»¬åœ¨ç¬¬äºŒä¸ª(`replacer`)å‚æ•°å†…çš„ regex æ¨¡å¼ä¸­å®šä¹‰çš„ç›¸åº”ç»„ã€‚

ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ›æå–å›½å®¶ä»£ç ã€‚

```
str0.replace(regex0, '$1') 
// replace the match (the whole string in this case) with the first matched group, which is  (\+\d+)
// => '+49' 
```

Enter fullscreen mode Exit fullscreen mode

æˆ–è€…ç”¨ *4321* æ›¿æ¢æœ€å 4 ä¸ªæ•°å­—...

```
str0.replace(regex0, '$1 $2-$3-4321')
// => '+49 123-123-4321' 
```

Enter fullscreen mode Exit fullscreen mode

å¾ˆæœ‰è¶£ä¸æ˜¯å—ï¼ŸğŸ˜‰

*æœ€åˆåœ¨æˆ‘çš„åšå®¢ä¸Šå‘å¸ƒ[ï¼Œåœ¨é‚£é‡Œæˆ‘æ¯ä¸¤å‘¨å·¦å³å‘å¸ƒä¸€äº›å…³äº web devã€flutter å’Œ ML çš„ä¸œè¥¿ã€‚](https://www.xiaoru.li/post/fun-with-javascript-regex/)*

*ä½ ä¹Ÿå¯ä»¥åœ¨æ¨ç‰¹ä¸Šæ‰¾åˆ°æˆ‘ [@hexrcs](https://twitter.com/hexrcs) :)*