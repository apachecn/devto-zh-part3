# é€šè¿‡ Vue.js å’Œ axios ä½¿ç”¨ç”µå½±æ•°æ®åº“(TMDb)

> åŸæ–‡:[https://dev . to/mustafaturk/using-the-movie-database-tmdb-with-vue-js-and-axios-1dn 8](https://dev.to/mustafaturk/using-the-movie-database-tmdb-with-vue-js-and-axios-1dn8)

æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå¯ä»¥æœç´¢ç”µå½±çš„åº”ç”¨ç¨‹åºã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ **Vue.jsã€ç”µå½±æ•°æ®åº“(TMDb)** å’Œ **axios** ã€‚

## [](#getting-started)å…¥é—¨

æ‰“å¼€ä½ çš„ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤:

```
$ vue init webpack my-project
$ cd my-project
$ npm install
$ npm run dev
$ npm install axios 
```

è¿™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„ Vue åº”ç”¨ç¨‹åºå¹¶å®‰è£… axiosã€‚Webpack å°†åœ¨ç«¯å£`8080`ä¸Šå¼€å§‹ä¸ºæ‚¨çš„é¡¹ç›®æä¾›æœåŠ¡ã€‚

[![](../Images/c0090f8eb1f96ca70024d0f0d5f63d60.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--n6uqVvHX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/2dlxti4io6k62rqlwy3m.png)

## [](#lets-clean-up)æˆ‘ä»¬æ¥æ”¶æ‹¾ä¸€ä¸‹å§ï¼

åœ¨æ‚¨æœ€å–œæ¬¢çš„æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ‰“å¼€æ‚¨çš„é¡¹ç›®ã€‚æ‰“å¼€`/src/App.vue`å¹¶åˆ é™¤ç¬¬ 3 è¡Œå’Œç¬¬ 4 è¡Œçš„`<HelloWorld/>`ç»„ä»¶å’Œ`<img>`æ ‡ç­¾ã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨`/src/components`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºè‡ªå·±çš„ç»„ä»¶ï¼Œå¹¶å°†å…¶å‘½åä¸º`Search.vue`ã€‚

åœ¨`Search.vue`ç»„ä»¶å†…éƒ¨ï¼Œç²˜è´´ä»¥ä¸‹ä»£ç :

```
<template>
  <div class="search">
    <h1>Search</h1>
  </div>
</template>
<script>
import axios from 'axios'
export default {
  name: 'search',
  data () {
    return {

    }
  }
}
</script> 
```

è¿™æ˜¯æˆ‘ä»¬ç»„ä»¶çš„èµ·å§‹æ¨¡æ¿ã€‚è®©æˆ‘ä»¬è·³å›`/src/App.js`å¹¶æ·»åŠ æˆ‘ä»¬æ–°åˆ›å»ºçš„ç»„ä»¶ã€‚
æ‚¨å¯ä»¥å¤åˆ¶å¹¶ç²˜è´´ä»¥ä¸‹ä»£ç å—:

```
<template>
 <div id='app'>
  <Search/>
 </div>
</template>
<script>
import Search from './components/Search'
export default {
 name: 'App',
 components: {
  Search
 }
}
</script> 
```

ç°åœ¨ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹:

[![](../Images/330bdaf8d961567c85575c657c07a8e7.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--t7LNdJ28--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/v3ijimzjit90j2i3ywl8.png)

## [](#lets-listen-to-the-input)æˆ‘ä»¬æ¥å¬å¬è¾“å…¥

ç°åœ¨æˆ‘ä»¬æœ‰äº†è¿™ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­æ·»åŠ æ›´å¤šçš„ä»£ç ã€‚æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªç”µå½±æœç´¢åº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¾“å…¥å…ƒç´ æ¥æœç´¢ã€‚

è®©æˆ‘ä»¬åœ¨`Search.vue` :
ä¸­çš„`<h1>`å…ƒç´ ä¸‹æ·»åŠ è¾“å…¥å…ƒç´ 

```
<input type='text' v-model='query' @keyup='getResult(query)'> 
```

åœ¨æ¯æ¬¡å‡»é”®æ—¶ï¼Œæˆ‘ä»¬éƒ½è¦è¿è¡Œ`getResult`å‡½æ•°ã€‚è®©æˆ‘ä»¬åœ¨è„šæœ¬ä¸­å£°æ˜ã€‚å¤åˆ¶ä¸‹é¢çš„ä»£ç ï¼Œå¹¶ç”¨æ‚¨çš„`<script>`æ ‡ç­¾æ›¿æ¢å®ƒ:

```
<script>
import axios from 'axios'
export default {
 name: 'search',
 data () {
 return {
  query: '',
}
 },
 methods: {
  getResult(query) {
   console.log(query)
  }
 }
}
</script> 
```

å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬å·²ç»æ·»åŠ äº†ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†è®°å½•æ§åˆ¶å°ä¸­æ¯ä¸ª keyup ä¸Šçš„æœç´¢æŸ¥è¯¢ã€‚å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°æœç´¢æŸ¥è¯¢ã€‚

[![](../Images/a72e094666362096f75e769be163310e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--EiuHl06A--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/1vh59bnhk2ozs8g7i7u1.gif)

## [](#http-requests-using-axios)ä½¿ç”¨ axios çš„ HTTP è¯·æ±‚

ç°åœ¨è®©æˆ‘ä»¬æ›´æ”¹æˆ‘ä»¬çš„`getResult`æ–¹æ³•ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ‰§è¡Œ HTTP è¯·æ±‚(ç”¨æ‚¨è‡ªå·±çš„ API é”® [TMDb](https://www.themoviedb.org/documentation/api) æ›¿æ¢ hash tags):

```
<template>
  <div class='search'>
     <h1>Search</h1>
     <input type='text' v-model='query' @keyup='getResult(query)'>
  </div>
</template>
<script>
import axios from 'axios'
export default {
 name: 'search',
 data () {
  return {
   query: '',
   results: ''
  }
 },
 methods: {
  getResult(query) {
   axios.get('https://api.themoviedb.org/3/search/movie?  api_key=##################query=' + query).then(response => { this.results = response.data.results })
     console.log(this.results)
   }
 }
}
</script> 
```

è¿™å°†æ‰§è¡Œ GET è¯·æ±‚å¹¶å°†ç»“æœä¼ é€’ç»™æˆ‘ä»¬çš„ç»“æœæ•°ç»„ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ° GET è¯·æ±‚çš„ç»“æœï¼Œä½†æ˜¯ä»ç„¶ä¸èƒ½åœ¨é¡µé¢ä¸Šçœ‹åˆ°ã€‚è®©æˆ‘ä»¬ç°åœ¨å°±åšå§ï¼

## [](#showing-the-results)æ˜¾ç¤ºç»“æœ

æˆ‘ä»¬å°†å¯¹ç»“æœæ•°ç»„è¿›è¡Œå¾ªç¯ï¼Œå¹¶åœ¨é¡µé¢ä¸Šæ‰“å°ç»“æœã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ª divï¼Œåœ¨é‚£é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ v-for æŒ‡ä»¤å¹¶å‘ˆç°æˆ‘ä»¬çš„ç»“æœã€‚åœ¨é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥æ”¾ç½®ä¸€ä¸ª`<p>`å’Œ`<img>`æ ‡ç­¾æ¥æ˜¾ç¤ºç”µå½±çš„æ ‡é¢˜å’Œæµ·æŠ¥ã€‚å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼Œå¹¶åœ¨`/src/components/Search.vue`ç”¨æ‚¨çš„`<template>`æ›¿æ¢:

```
<template>
 <div class='search'>
  <h1>Search</h1>
  <input type='text' v-model='query' @keyup='getResult(query)'>
  <div v-for='result in results' :key='result.id'>
   <p>{{result.title}}</p>
   <img v-bind:src="'http://image.tmdb.org/t/p/w500/' +    result.poster_path" width='100px'>
  </div>
 </div>
</template> 
```

[![](../Images/bcb3c92db8f9640f90bea5cbdc5e3b4f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--42WrwnhC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/l64wd5011zsanp07lxdz.gif)

æ­å–œä½ ï¼Œä½ æˆåŠŸäº†ï¼ğŸ‘ğŸ‘ğŸ‘