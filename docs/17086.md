# æœ¬æœº HTML:å¯¹è¯æ¡†

> åŸæ–‡:[https://dev.to/link2twenty/native-html-dialog-boxes-192b](https://dev.to/link2twenty/native-html-dialog-boxes-192b)

å¤šå¹´æ¥ï¼Œå¦‚æœä½ æƒ³åšä¸€ä¸ªæ¨¡æ€`dialog`æ¡†ï¼Œä½ å¿…é¡»åšä¸€ä¸ª divï¼Œéšè—å®ƒï¼Œç„¶ååœ¨ç”¨æˆ·åšæŸä¸ªåŠ¨ä½œæ—¶æ˜¾ç¤ºå®ƒã€‚è¿™å¾ˆå®¹æ˜“æ”¾åœ¨ä¸€èµ·ï¼Œä½†å¯è®¿é—®æ€§ä¸æ˜¯å¾ˆå¥½ï¼Œä¸€ä¸ªå¸¸è§çš„é”™è¯¯æ˜¯å°†`dialog`çš„å…ƒç´ ç•™åœ¨æ ‡ç­¾ç´¢å¼•ä¸­ï¼Œè¿™æ„å‘³ç€ç”¨æˆ·å¿…é¡»é€šè¿‡æ ‡ç­¾æµè§ˆ`dialog`çš„æ¯ä¸ªå…ƒç´ æ‰èƒ½ç»§ç»­ã€‚

ä½ å¯èƒ½å·²ç»æƒ³åˆ°äº†ï¼Œæˆ‘å°†ä¼šå†™ä¸€äº›å…³äºæœ¬åœ°çš„ [`dialog`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) å…ƒç´ ä»¥åŠæˆ‘å¦‚ä½•ä½¿ç”¨å®ƒã€‚ä¸å‡ºæ‰€æ–™ï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œæ”¯æŒåº¦å¹¶æ²¡æœ‰é‚£ä¹ˆé«˜ã€‚

[![support table](../Images/1eb41df12058111ef832f2533944a7ac.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--dWB4jtsP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/lo3faeb6iir481a8fg0d.png)

## `dialog`å…ƒç´ 

æˆ‘æ€»æ˜¯å–œæ¬¢æ·±å…¥ Mozilla çš„å¼€å‘ç½‘ç«™ï¼Œä»¥å¸®åŠ©äº†è§£æ–°å…ƒç´ ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ä»–ä»¬å¦‚ä½•æè¿°å®ƒã€‚

> HTML `<dialog>`å…ƒç´ ä»£è¡¨ä¸€ä¸ªå¯¹è¯æ¡†æˆ–å…¶ä»–äº¤äº’ç»„ä»¶ï¼Œæ¯”å¦‚ä¸€ä¸ªæ£€æŸ¥å™¨æˆ–çª—å£ã€‚

å¥½å§ï¼Œä½†é‚£æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿè¯­æ³•çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬è¯•ä¸€è¯•ã€‚

```
<dialog open> Test dialog </dialog> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[https://codesandbox.io/embed/v0jq1r5qo0](https://codesandbox.io/embed/v0jq1r5qo0)

å®ƒåœ¨æ”¯æŒçš„æµè§ˆå™¨ä¸­çš„å¤–è§‚ã€‚

[![Simple Example](../Images/4eba67e001ac6bb0283edfa0dccd5aa9.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--hydr3jOW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ii3trhtctai0xx9ccxbv.png)

å¥½äº†ï¼Œè°¢è°¢ä½ çš„é˜…è¯»...å“¦ï¼Œæˆ‘ä»¬è¿˜æ²¡å®Œå‘¢ã€‚æˆ‘ä»¬éœ€è¦ä¸`dialog`äº’åŠ¨ï¼Œè®©å®ƒä¸€ç›´åœ¨é‚£é‡ŒçœŸçš„æ²¡ä»€ä¹ˆå¸®åŠ©ã€‚Mozilla ç»™äº†æˆ‘ä»¬ä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹ï¼Œä½†æ˜¯æ²¡æœ‰ç›¸å…³çš„ä¿¡æ¯ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬çœ‹çœ‹å…¶ä»–åœ°æ–¹ã€‚

## w3 è§„æ ¼

å½“æœ‰ç–‘é—®çš„æ—¶å€™ï¼Œå»çœ‹çœ‹[è§„èŒƒ](https://www.w3.org/TR/html52/interactive-elements.html#the-dialog-element)ï¼Œæœç„¶æˆ‘ä»¬æœ‰ 3 ä¸ªå‡½æ•°å¯ä»¥å’Œ`dialog`äº¤äº’ï¼Œè€Œä¸”æ¯ä¸ªå‡½æ•°éƒ½æœ‰æè¿°ã€‚

> **å¯¹è¯æ¡†ã€‚show(`anchor`)**
> æ˜¾ç¤ºå¯¹è¯æ¡†å…ƒç´ ã€‚
> å‚æ•°ï¼Œå¦‚æœæä¾›çš„è¯ï¼Œæä¾›äº†å…ƒç´ å°†è¢«å›ºå®šçš„é”šç‚¹ã€‚
> 
> **å¯¹è¯æ¡†ã€‚showModal( [ `anchor` ] )**
> æ˜¾ç¤ºå¯¹è¯æ¡†å…ƒç´ å¹¶ä½¿å…¶æˆä¸ºæœ€é¡¶å±‚çš„æ¨¡æ€å¯¹è¯æ¡†ã€‚
> å‚æ•°ï¼Œå¦‚æœæä¾›çš„è¯ï¼Œæä¾›äº†å…ƒç´ å°†è¢«å›ºå®šçš„é”šç‚¹ã€‚
> è¯¥æ–¹æ³•æ”¯æŒè‡ªåŠ¨å¯¹ç„¦å±æ€§ã€‚
> 
> **å¯¹è¯æ¡†ã€‚å…³é—­([`result`)**
> å…³é—­å¯¹è¯æ¡†å…ƒç´ ã€‚
> å‚æ•°ï¼Œå¦‚æœæä¾›çš„è¯ï¼Œæä¾›ä¸€ä¸ªè¿”å›å€¼ã€‚

## [](#putting-this-in-practice)ä»˜è¯¸å®æ–½

ç°åœ¨ï¼Œè¿™æ˜¯æˆ‘è‡ªå·±çš„å®è·µæ–¹å¼ï¼Œå¦‚æœä½ è®¤ä¸ºä¸åº”è¯¥è¿™æ ·åšï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚

æœ‰äº†`label` sï¼Œä½ å°±æœ‰äº†ä¸€ä¸ª`for`å±æ€§ï¼Œè®©ä½ é€šè¿‡ ID æŒ‡å‘ä¸€ä¸ªå…ƒç´ ï¼Œä½ æƒ³è®©æ ‡ç­¾ä¸ä¹‹è¿æ¥ã€‚è¿™å¯å‘æˆ‘æœ‰äº†ä¸€ä¸ª`data-modal-for`ï¼Œå› ä¸ºå®ƒä¸æ˜¯çœŸæ­£çš„æ•°æ®å±æ€§ã€‚

```
<button data-modal-for="testDialog" open>Open modal</button>
<dialog id="testDialog">
  <h1>An example of a native Dialog element</h1>
  <p>This is a dialog box and, believe it or not, it's built into HTML, sure we needed some javascript to open it but hey, it's a start.</p>
  <button data-modal-for="testDialog" close>Close modal</button>
</dialog> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
dialog {
  border: none;
  border-radius: 2px;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  max-width: 60vw;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
const modalTriggers = document.querySelectorAll(`[data-modal-for]`);

for (let trigger of modalTriggers) {
  const modal = document.getElementById(trigger.dataset.modalFor);
  trigger.addEventListener('click', () => {
    trigger.hasAttribute('open') && modal.showModal();
    trigger.hasAttribute('close') && modal.close();
  });
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[https://codesandbox.io/embed/jz50o73pqv](https://codesandbox.io/embed/jz50o73pqv)

è¿™æ˜¯åœ¨æ”¯æŒçš„æµè§ˆå™¨ä¸­æŒ‰ä¸‹æŒ‰é’®åçš„æ ·å­ã€‚

[![Dialog example](../Images/70c388211594e8793e0b924613c69949.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--D5ww_J3_--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/zzjxug83xgqils5gl0oq.png)

## [](#explain-the-javascript)è§£é‡Š javascript

æˆ‘å‡è®¾ä½ çŸ¥é“ javascript æ˜¯åšä»€ä¹ˆçš„ï¼Œæ‰€ä»¥æˆ‘ä¼šè§£é‡Šä¸ºä»€ä¹ˆæˆ‘è¿™æ ·åšã€‚

é¦–å…ˆï¼Œæˆ‘é€‰æ‹©æ‰€æœ‰æˆ‘èµ‹äºˆäº†`data-modal-for`å±æ€§çš„å…ƒç´ ï¼Œç„¶åå‘å®ƒä»¬æ·»åŠ  eventListenersã€‚æˆ‘è¿˜ç»™æˆ‘çš„`trigger`å…ƒç´ ä¸€ä¸ª`open`æˆ–`close`å±æ€§æ¥æŒ‡å®šå®ƒä»¬å°†å¦‚ä½•æ”¹å˜`dialog`

æˆ‘çŸ¥é“è¿™æ„å‘³ç€ä»»ä½•åŠ¨æ€åˆ›å»ºçš„å…ƒç´ éƒ½ä¸é€‚åˆè¿™ä¸ªç›’å­ï¼Œä½†è¿™ä»ç„¶æ˜¯æˆ‘èƒ½æƒ³åˆ°çš„æœ€å¥½çš„æ–¹æ³•ã€‚

## [](#signing-off)æ³¨é”€

å¦‚æœä½ å–œæ¬¢è¿™äº›`things we can't really use yet but maybe one day`å¸–å­ï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚æˆ‘è§‰å¾—å¹³å°çš„è¿›æ­¥å¾ˆæœ‰è¶£ï¼Œä¹Ÿå¾ˆäº«å—åˆ†äº«ã€‚

æ„Ÿè°¢é˜…è¯»ğŸ¦„ğŸ¦„ğŸ˜€ğŸ˜€â¤ğŸ¦„