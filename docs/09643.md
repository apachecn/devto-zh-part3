# å¦‚ä½•åœ¨ä¸ä½¿ç”¨ Route53 çš„æƒ…å†µä¸‹ä¸º EC2 å®ä¾‹è®¾ç½®è‡ªå®šä¹‰åŸŸ

> åŸæ–‡:[https://dev . to/maybe bored/how-to-setup-a-custom-domain-for-your-ec2-instance-without-use-route 53-F9](https://dev.to/maybebored/how-to-set-up-a-custom-domain-for-your-ec2-instance-without-using-route53-f9)

åœ¨æˆ‘ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘è§£é‡Šäº†å¦‚ä½•ä½¿ç”¨ AWS éƒ¨ç½²ä¸€ä¸ªç®€å•çš„ WordPress ç«™ç‚¹ã€‚è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†å¦‚ä½•è®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰åŸŸæ¥è®¿é—®ä½ çš„ç½‘ç«™ã€‚è®¿é—® EC2 å®ä¾‹çš„é»˜è®¤æ–¹å¼æ˜¯åœ¨æµè§ˆå™¨ä¸­é”®å…¥å…¶ IP åœ°å€( *192.168.0.1* )ã€‚è¿™å¯¹äºæµ‹è¯•æ¥è¯´å¾ˆå¥½ï¼Œä½†æ˜¯å½“ä½ çš„åšå®¢æˆ–ä½œå“é›†ç½‘ç«™ä¸Šå¸‚æ—¶ï¼Œç”¨ä¸€ä¸ªåŸŸåæ¯”å¦‚â€œexample.comâ€æ›´æœ‰æ„ä¹‰ã€‚ä½ å¯ä»¥åœ¨æœ¬å¸–ä¹‹å¤–äº†è§£æ›´å¤šå…³äº [DNS å’Œ IP åœ°å€](http://bpastudio.csudh.edu/fac/lpress/471/hout/netech/dns.htm)çš„ä¿¡æ¯ã€‚

AWS Route53 æ˜¯ä¸€ç§åŸºäºç½‘ç»œçš„åŸŸåè§£ææœåŠ¡ï¼Œå…·æœ‰é¢å¤–çš„å¯é æ€§å’Œå¯æ‰©å±•æ€§ã€‚å®ƒæ˜“äºä½¿ç”¨ï¼Œçµæ´»ï¼Œéå¸¸é€‚åˆåˆå­¦è€…ã€‚ç„¶è€Œï¼Œè¿™ç¯‡æ–‡ç« æ˜¯ä¸ºé‚£äº›(åƒæˆ‘ä¸€æ ·)ä¸å¸Œæœ›ä½¿ç”¨ Route53 çš„äººå‡†å¤‡çš„ã€‚

### [](#step-1-set-up-elastic-ip)æ­¥éª¤ 1 -è®¾ç½®å¼¹æ€§ IP

[![allocate new IP address](../Images/f1eda0218ffc7ba8e2c825bfb1b519c0.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--tXkkp6rM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d1.awsstatic.com/Getting%2520Started/launch-an-app/get-a-domain/Getting-Started-EIP1.4e0ed611d18a8bba0c9a97a1bff19595c6b51803.png)

åœ¨ AWS ç®¡ç†æ§åˆ¶å°ä¸Šå¯¼èˆªåˆ° EC2 >ç½‘ç»œå’Œå®‰å…¨>å¼¹æ€§ IPsï¼Œç„¶åå•å‡»åˆ†é…æ–°åœ°å€ã€‚

[![associate new IP address begin](../Images/2487dff49c054ac022ac8a3f5c02ee2d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--lDolKfWh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d1.awsstatic.com/Getting%2520Started/launch-an-app/get-a-domain/Getting-Started-EIP4.a981d9bbdf876d00aab66ce33c9d0e5b01c50c59.png)

ç‚¹å‡»ä¸‹ä¸€ä¸ªå±å¹•ä¸Šçš„â€œåˆ†é…â€ã€‚ç¡®è®¤åä½ ä¼šçœ‹åˆ°ä½ æ–°åˆ›å»ºçš„å¼¹æ€§ IPã€‚é€‰æ‹©æ­¤ IP >æ“ä½œ>å…³è”åœ°å€ã€‚

[![associate new IP address end](../Images/b605725662abc34117d931a6560464d4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--gXtHzaiL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/wm5h2lpd0vf5iygd8rrb.png)

ä»ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹©æ‚¨çš„å®ä¾‹ï¼Œç„¶åå•å‡»å…³è”ã€‚ç°åœ¨ï¼Œæ‚¨çš„ EC2 å®ä¾‹æœ‰äº†ä¸€ä¸ªå¼¹æ€§ IP åœ°å€ã€‚è¿™æ„å‘³ç€æ‚¨æœ‰ä¸€ä¸ªé™æ€ IPï¼Œå³ä½¿åœ¨é‡å¯å®ä¾‹åä¹Ÿä¸ä¼šæ”¹å˜ã€‚è¿™å¯¹å®Œæˆæˆ‘ä»¬çš„ä¸‹ä¸€æ­¥å¾ˆé‡è¦ã€‚

é€šè¿‡å¯¼èˆªåˆ°æ­¤å¼¹æ€§ IP åœ°å€ï¼ŒéªŒè¯æ‚¨å¯ä»¥çœ‹åˆ°æ‚¨çš„ç½‘ç«™ã€‚

### [](#step-2-update-your-domains-dns-records-to-point-to-your-elastic-ip)æ­¥éª¤ 2 -æ›´æ–°æ‚¨çš„åŸŸåçš„ DNS è®°å½•ä»¥æŒ‡å‘æ‚¨çš„å¼¹æ€§ IP

[![DNS records](../Images/e87ccae2cd0f2b188d6eca3ac894499d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Juad9mBz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/brpltr6rk4obrzvznms0.png)

åˆ›å»º[ä¸ºæ‚¨çš„åŸŸé”®å…¥ä¸€ä¸ª DNS è®°å½•](https://pdrcybersecurity.com/dns-request-types-cheat-sheet/)ï¼Œå®ƒæŒ‡å‘æ‚¨çš„å¼¹æ€§ IPã€‚å¦‚æœæ²¡æœ‰å¼¹æ€§ IPï¼Œæ¯å½“æ‚¨é‡å¯ AWS å®ä¾‹æ—¶ï¼Œæˆ‘ä»¬éƒ½å¿…é¡»ä¸æ–­æ›´æ–°è¿™ä¸ªè®°å½•ã€‚

åˆ›å»ºæ–°çš„ DNS è®°å½•åï¼Œå¯èƒ½éœ€è¦ 5 åˆ†é’Ÿåˆ° 1 å°æ—¶çš„æ—¶é—´æ¥æ›´æ–°ã€‚â³

### [](#step-3-update-ec2-instances-domain-settings)æ­¥éª¤ 3 -æ›´æ–° EC2 å®ä¾‹çš„åŸŸè®¾ç½®

é€šè¿‡ SSH ç™»å½•åˆ° EC2 å®ä¾‹ï¼Œç„¶ååœ¨ apps/WordPress/htdocs/WP-config . PHP æ–‡ä»¶ä¸­æŒ‡å®šæ‚¨çš„åŸŸåï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

æ›¿æ¢

`define('WP_SITEURL', 'http://' . $_SERVER['HTTP_HOST'] . '/');
define('WP_HOME', 'http://' . $_SERVER['HTTP_HOST'] . '/');`

`define('WP_SITEURL', 'http://DOMAIN/');
define('WP_HOME', 'http://DOMAIN/');`

ä»…æ­¤è€Œå·²ã€‚ä½ åº”è¯¥èƒ½å¤Ÿåœ¨ä½ çš„åŸŸååœ°å€è®¿é—®ä½ çš„ WordPress ç«™ç‚¹ã€‚ğŸ‰

è¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ä½ å¯¹è¿™ç¯‡æ–‡ç« çš„çœ‹æ³•ã€‚æˆ‘æƒ³æé«˜æˆ‘çš„å†™ä½œæ°´å¹³ï¼Œå¹¶å¸®åŠ©å…¶ä»–äººå­¦ä¼šå–œæ¬¢ç§‘æŠ€ï¼Œå°±åƒæˆ‘ä¸€æ ·ã€‚