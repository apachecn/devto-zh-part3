# å¦‚ä½•åœ¨ React Native ä¸­ç®¡ç†è¯•è¿è¡Œå’Œç”Ÿäº§ç¯å¢ƒ

> åŸæ–‡:[https://dev . to/calintamas/how-to-management-staging-and-production-environments-in-a-react-native-app-4 NAA](https://dev.to/calintamas/how-to-manage-staging-and-production-environments-in-a-react-native-app-4naa)

ä½œä¸º React æœ¬åœ°å¼€å‘äººå‘˜ï¼Œæ‚¨çš„ç”Ÿæ´»å°†å˜å¾—æ›´åŠ è½»æ¾ã€‚è‡³å°‘æˆ‘çš„å­©å­æ˜¯è¿™æ ·ï¼Œå½“æˆ‘å­¦ä¼šå¦‚ä½•åœ¨ React Native ä¸­ç®¡ç†æš‚å­˜å’Œç”Ÿäº§ç¯å¢ƒæ—¶ã€‚å®ƒä¸ä¼šæ”¹å˜ React åŸç”Ÿåº”ç”¨çš„å¤–è§‚ã€æ„Ÿè§‰æˆ–é”€å”®æ–¹å¼ã€‚ä½†æ˜¯å®ƒä¸ºæ‚¨èŠ‚çœäº†å¤§é‡å¼€å‘äººå‘˜çš„æ—¶é—´ã€‚

*æˆ‘æœ€åˆåœ¨[å¤§çº¦ 25 å²çš„åšå®¢](https://around25.com/blog/manage-staging-and-production-environments-for-react-native-app/)* ä¸Šå‘å¸ƒè¿™ä¸ªã€‚

å½“åªéœ€è¦åšä¸€ä¸¤å¤„ä¿®æ”¹æ—¶ï¼Œä¿®æ”¹é…ç½®**æ˜¯ä¸€ä»¶è½»è€Œæ˜“ä¸¾çš„äº‹æƒ…ã€‚ä½ æŠŠ`API host`åˆ‡æ¢åˆ°ç”Ÿäº§æ¨¡å¼ï¼Œç °ï¼Œä½ å°±å®Œæˆäº†ã€‚å½“ä½ ä¸å¾—ä¸æ”¹å˜`API host`ï¼Œè®¾ç½®æ”¯ä»˜ç½‘å…³`key`ï¼Œæ”¯ä»˜ç½‘å…³`host`ï¼Œè®¾ç½®é€šçŸ¥`.plist`æ–‡ä»¶ï¼Œæ›´æ–° crashlytics `key`å’Œæ›´æ–°åˆ†æ`key`æ—¶ï¼Œäº‹æƒ…åªä¼šå˜å¾—æ›´åŠ å›°éš¾å’Œå®¹æ˜“å‡ºé”™ã€‚æ¯æ¬¡ä½ æ‰‹å·¥åˆ¶ä½œçš„æ—¶å€™éƒ½è¿™æ ·åšï¼Œåœ¨æŸäº›æ—¶å€™æˆ‘ä¿è¯ä½ ä¼šé”™è¿‡ä¸€äº›ä¸œè¥¿ã€‚**

ä¸ºäº†é¿å…éº»çƒ¦ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç¯å¢ƒå˜é‡ã€‚

ä¸ºäº†å‘`react-native`å…¬å¼€ç¯å¢ƒå˜é‡ï¼Œæˆ‘å°†ä½¿ç”¨ [react-native-config](https://github.com/luggit/react-native-config) åº“ã€‚é€šè¿‡è¿™æ ·åšï¼Œæˆ‘ä½¿é…ç½®å˜é‡è¿œç¦»ä»£ç ã€‚æœ€æœ‰å¯èƒ½çš„æ˜¯ï¼Œè¿™äº›å˜é‡åœ¨ä¸åŒçš„ç¯å¢ƒä¸­ä¼šæœ‰æ‰€ä¸åŒï¼Œè€Œä»£ç åˆ™ä¸ä¼šã€‚

é¦–å…ˆï¼Œæˆ‘è¦å°†åº“æ·»åŠ åˆ°é¡¹ç›®ä¸­ã€‚å½“æˆ‘å†™è¿™ç¯‡æ–‡ç« æ—¶ï¼Œ`react-native-config`çš„æœ€æ–°ç‰ˆæœ¬æ˜¯`0.11.7`ã€‚ç„¶åï¼Œæˆ‘å¿…é¡»åœ¨é¡¹ç›®çš„`root`ä¸­åˆ›å»º 3 ä¸ª env æ–‡ä»¶:ä¸€ä¸ªç”¨äºæœ¬åœ°ç¯å¢ƒï¼Œç®€ç§°ä¸º`.env`ï¼Œå¦å¤–ä¸¤ä¸ªç§°ä¸º`.env.staging`å’Œ`.env.production`ã€‚

```
// .env
IS_PRODUCTION=false
API_HOST=https://api.staging.foobar.com

// .env.staging
IS_PRODUCTION=false
API_HOST=https://api.staging.foobar.com

// .env.production
IS_PRODUCTION=true
API_HOST=https://api.foobar.com 
```

ç°åœ¨ï¼Œæˆ‘åªåœ¨é…ç½®ä¸­ä¿ç•™äº†`API host`,æ—è¾¹è¿˜æœ‰ä¸€ä¸ª`IS_PRODUCTION`æ ‡å¿—ã€‚æˆ‘ä»¬ç¨åä¼šç”¨åˆ°å®ƒã€‚æ˜¾ç„¶ï¼Œ`https://api.staging.foobar.com`å’Œ`https://api.foobar.com`éƒ½æ˜¯è™šæ„çš„ğŸ™‚ã€‚

ç°åœ¨ï¼Œä¸ºäº†å°†è¿™äº›å˜é‡ç”¨äºæˆ‘çš„ React æœ¬æœºåº”ç”¨ç¨‹åºï¼Œä¸‹é¢æ˜¯æˆ‘çš„é…ç½®æ–‡ä»¶é€šå¸¸çš„æ ·å­:

```
// src/config/index.js

import env from 'react-native-config'

const config = {
  api: {
    host: env.API_HOST,
    timeout: 20000
  }
};

const API_HOST = config.api.host;

export {
  API_HOST
}

export default config 
```

ä»…æ­¤è€Œå·²ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`react-native-config`ä»`.env`æ–‡ä»¶ä¸­è¯»å–ï¼Œä½†æ˜¯é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å¯ä»¥ä»è¿è¡Œé¡¹ç›®çš„ä»»ä½•æ–‡ä»¶&ä¸­è¯»å–:

```
$ ENVFILE=.env.staging react-native run-ios 
```

åˆ°ç›®å‰ä¸ºæ­¢ä¸€åˆ‡é¡ºåˆ©ï¼Œä½†æˆ‘å¸Œæœ›æˆ‘çš„æ„å»ºè¿‡ç¨‹å°½å¯èƒ½è‡ªåŠ¨åŒ–ã€‚æ‰€ä»¥æ‰‹åŠ¨æŒ‡å®š`.env`æ–‡ä»¶æ˜¯ä¸å¯æ¥å—çš„ã€‚é¿å…è¿™æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥è¦åšçš„ã€‚

## [](#ios-setup)iOS è®¾ç½®

åœ¨ iOS ä¸Šï¼Œæˆ‘å°†åˆ©ç”¨**æ–¹æ¡ˆ**çš„æ¦‚å¿µã€‚Xcode æ–¹æ¡ˆå®šä¹‰äº†ä¸€ä¸ªç›®æ ‡é›†åˆæ¥æ„å»º&ä¸€ä¸ªåœ¨æ„å»ºæ—¶ä½¿ç”¨çš„é…ç½®ã€‚é»˜è®¤çš„å¯ä»¥åœ¨ Xcode çš„èœå•æ æ‰¾åˆ°:

```
Product -> Scheme -> FooBar 
```

å…¶ä¸­ *FooBar* æ˜¯æˆ‘çš„åº”ç”¨ç¨‹åºçš„åç§°ã€‚

[![show ios product scheme](../Images/5e8745171ff88ba8b11fd5dfb6199b41.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--RbYSYqua--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://around25.com/blog/content/images/2019/02/1.png)

æˆ‘è¦åšçš„æ˜¯å¤åˆ¶é‚£ä¸ªé»˜è®¤æ–¹æ¡ˆå¹¶åˆ›å»ºä¸¤ä¸ªæ–°æ–¹æ¡ˆ:ä¸€ä¸ªç”¨äº**è¯•è¿è¡Œ**ï¼Œå¦ä¸€ä¸ªç”¨äº**ç”Ÿäº§**ã€‚æˆ‘ä»¬å°†ä½¿ç”¨é»˜è®¤çš„**æœ¬åœ°**ç¯å¢ƒã€‚æ‚¨å¯ä»¥è½¬åˆ°:
è¿›è¡Œæ“ä½œ

```
Product -> Scheme -> Edit Scheme -> Duplicate Scheme 
```

[![xcode 2](../Images/f1ca8780b381b71b687fbf709ef293d0.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--DKX9aMG4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://around25.com/blog/content/images/2019/02/2.png)

æˆ‘å°†ç§°å®ƒä»¬ä¸º`FooBar.staging`å’Œ`FooBar.production`ã€‚å½“æˆ‘ä»¬ç¨åç¼–å†™è‡ªåŠ¨åŒ–æ„å»ºè„šæœ¬æ—¶ï¼Œå‘½åå°†å˜å¾—éå¸¸é‡è¦ã€‚

æˆ‘å°†é€‰æ‹©`FooBar.staging`å¹¶è¿”å›åˆ°`Edit Scheme`ï¼Œä»¥ç¡®ä¿æˆ‘çš„æ–¹æ¡ˆåŠ è½½äº†æˆ‘æƒ³è¦çš„`.env`æ–‡ä»¶ã€‚åœ¨è¿™é‡Œï¼Œåœ¨`Build -> Pre-actions`ä¸Šï¼Œæˆ‘æ·»åŠ äº†ä¸€ä¸ªè„šæœ¬æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚

[![add pre build script](../Images/69aeabfebc490d981654ae15527a6c0d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--hrNnDvBh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://around25.com/blog/content/images/2019/02/3.png)

[![add pre build script part 2](../Images/52091106af0e545602e5c752bcff6c2e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--26IbIuez--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://around25.com/blog/content/images/2019/02/4.png)

æˆ‘æ­£åœ¨ä¸º`FooBar.production`ç»å†å®Œå…¨ç›¸åŒçš„è¿‡ç¨‹ã€‚

ç°åœ¨ï¼Œæˆ‘å·²ç»ä¸º iOS åšå¥½äº†ä¸€åˆ‡å‡†å¤‡ã€‚æ¯å½“æˆ‘æ„å»ºåº”ç”¨ç¨‹åºæ—¶ï¼Œé€šè¿‡é€‰æ‹©ä¸€ä¸ªæ–¹æ¡ˆï¼Œæˆ‘å°±å¯ä»¥åŠ è½½æ­£ç¡®çš„ç¯å¢ƒå˜é‡ã€‚æ­å–œï¼Œæˆ‘ä»¬å»å®‰å“å§ã€‚

## [](#android-setup)å®‰å“è®¾ç½®

å¯¹äº Androidï¼Œæˆ‘ä»¬æœ‰[æ„å»ºç±»å‹](https://developer.android.com/studio/build/build-variants?utm_source=android-studio#build-types)ã€‚åœ¨`android/app/build.gradle`ä¸­ï¼Œåœ¨`buildTypes`ä¸‹æˆ‘ä»¬æœ‰ä¸¤ä¸ªé»˜è®¤çš„æ„å»ºç±»å‹ï¼Œ**å‘å¸ƒ**å’Œ**è°ƒè¯•**ã€‚

```
buildTypes {
    release {
        minifyEnabled enableProguardInReleaseBuilds
        proguardFiles getDefaultProguardFile("proguard-android.txt"), "proguard-rules.pro"
        signingConfig signingConfigs.release
    }
    debug {
        debuggable true
    }
} 
```

å’Œä»¥å‰ä¸€æ ·ï¼Œé»˜è®¤ä½¿ç”¨æœ¬åœ°ç¯å¢ƒå˜é‡ã€‚

å¯¹äºæ–°çš„æ„å»ºç±»å‹ï¼Œæ·»åŠ è¿™äº›è¡Œ:

```
stagingrelease {
    initWith release
}
productionrelease {
    initWith release
} 
```

å…¶ä¸­çš„æ¯ä¸€ä¸ªéƒ½å°†è¢«ç”¨äºåˆ¶ä½œä¸€ä¸ª*å‘å¸ƒç±»å‹çš„*æ„å»ºï¼Œæ‰€ä»¥è¯·ç¡®ä¿[åœ¨ç»§ç»­ä¹‹å‰ç”Ÿæˆä¸€ä¸ªç­¾åå¯†é’¥](https://facebook.github.io/react-native/docs/signed-apk-android)ã€‚

**å‘½ååœ¨è¿™ä¸€æ­¥éå¸¸é‡è¦**ã€‚é¦–å…ˆï¼Œæ‚¨å¿…é¡»åœ¨æ„å»ºå˜ä½“åç§°ä¸­ä½¿ç”¨ä»¤ç‰Œ *release* æ¥åº”ç”¨å¸¸è§„çš„å‘å¸ƒæ„å»ºè¡Œä¸ºï¼Œæ›´å¤šä¿¡æ¯è¯·å‚è§[è¿™é‡Œ](https://chase-seibert.github.io/blog/2016/12/09/react-native-android-staging-variant.html)ã€‚ç¬¬äºŒï¼Œå½“æˆ‘æœ€åˆè®¾ç½®åç§°ä¸º *releaseStaging* å’Œ *releaseProduction* æ—¶ï¼Œæˆ‘é‡åˆ°äº†é—®é¢˜ï¼Œå› ä¸ºæ²¡æœ‰åŠ è½½æ­£ç¡®çš„`.env`æ–‡ä»¶ã€‚æˆ‘è°·æ­Œäº†ä¸€ä¸‹ï¼Œåœ¨è¿™é‡Œæ‰¾åˆ°äº†é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚

ç°åœ¨ï¼Œåœ¨åŒä¸€ä¸ª`android/app/build.gradle`æ–‡ä»¶çš„æœ€é¡¶ç«¯ï¼Œæ·»åŠ è¿™ä¸ª:

```
project.ext.envConfigFiles = [
        debug: ".env",
        release: ".env",
        stagingrelease: ".env.staging",
        productionrelease: ".env.production"
] 
```

æ‚¨å¯èƒ½ä¼šåœ¨å‘å¸ƒç‰ˆæœ¬çš„ Proguard ä¸­é‡åˆ°é—®é¢˜ã€‚è§£å†³æ–¹æ³•æ˜¯[è¿™é‡Œçš„](https://github.com/luggit/react-native-config#problems-with-proguard)ã€‚

è¦ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„æ„å»ºç±»å‹ä¹‹ä¸€è¿è¡Œåº”ç”¨ç¨‹åºï¼Œåœ¨æ„å»ºä¹‹å‰ï¼Œè½¬åˆ°`View -> Tool Windows -> Build Variants`å¹¶é€‰æ‹©å˜ä½“(åœ¨æ–°æ˜¾ç¤ºçš„çª—å£ä¸­):

[![android build variants window](../Images/80e95cd6d59af8c04dd0a16aaff4e224.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--vyxG9WUM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://around25.com/blog/content/images/2019/02/5.png)

Android ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€šè¿‡åˆ›å»º`fastlane`è„šæœ¬æ¥è¿›ä¸€æ­¥è‡ªåŠ¨åŒ–æˆ‘ä»¬çš„æ„å»ºè¿‡ç¨‹ã€‚

> æˆ‘çš„ç›®æ ‡æ˜¯ä¸ºè¿™ä¸¤ä¸ªå¹³å°éƒ½åˆ›å»ºä¸€ä¸ªå•è¡Œçš„æ„å»ºè„šæœ¬ã€‚

## [](#bonus-fastlane-scripts)å¥–åŠ±:å¿«è½¦é“è„šæœ¬

é¦–å…ˆï¼Œæˆ‘ä»¬å°†åœ¨[å®‰è£… fastlane](https://docs.fastlane.tools/#getting-started) å¹¶å®Œæˆè®¾ç½®ã€‚`fastlane init`å¿…é¡»åœ¨ ios æˆ– Android é¡¹ç›®ä¸­è¿è¡Œï¼Œå› æ­¤æˆ‘ä»¬å°†åœ¨ iOS æ–‡ä»¶å¤¹ä¸­è¿è¡Œï¼Œç„¶åå°†æ•´ä¸ª`fastlane`æ–‡ä»¶å¤¹ç§»åŠ¨åˆ°é¡¹ç›®çš„æ ¹ç›®å½•ã€‚

åœ¨`fastlane/Fastfile`ä¸­ï¼Œæˆ‘åœ¨ ios å¹³å°ä¸‹åˆ›å»ºäº†ä¸€ä¸ªé€šé“ï¼Œå°†æ„å»ºä¸Šä¼ åˆ° TestFlightã€‚æµªå­è‡ªåŠ¨åŠ è½½ã€‚è¿è¡Œè„šæœ¬æ—¶ä¼ é€’çš„ env æ–‡ä»¶ã€‚å¦‚æœæˆ‘ä»¬è¿™æ ·åš:

```
$ fastlane ios beta --env=production 
```

å®ƒå°†åŠ è½½`.env.production`æ–‡ä»¶ã€‚æ‰€ä»¥æˆ‘ä»¬éƒ½å‡†å¤‡å¥½äº†ã€‚ä¸ºäº†æµ‹è¯•è¿™ä¸€ç‚¹ï¼Œæˆ‘å°†æ·»åŠ å‡ è¡Œä»£ç ï¼Œåªæ‰“å°å‡ºç¯å¢ƒå˜é‡å’ŒåŠ è½½çš„æ–‡ä»¶ã€‚

```
// fastlane/Fastfile

platform :ios do
  desc "Submit a new build to TestFlight"
  lane :beta do
    app_identifier = "com.app.identifier"

    api_environment = "staging"
    if ENV["IS_PRODUCTION"] == "true"
      api_environment = "production"
    end

    ENV["ENVFILE"]=".env.#{api_environment}"

    puts "API_HOST: #{ENV['API_HOST']}"
    puts "IS_PRODUCTION: #{ENV['IS_PRODUCTION']}"
    puts "ENVFILE: #{ENV['ENVFILE']}"
    end
  end 
```

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæˆ‘ä»¬åº”è¯¥ä¼šçœ‹åˆ°è¿™æ ·çš„è¾“å‡º:

```
[18:16:52]: Loading from './/../.env.production'
[18:16:52]: Driving the lane 'ios beta' ğŸš€
[18:16:52]: API_HOST: https://api.foobar.com
[18:16:52]: IS_PRODUCTION: true
[18:16:52]: ENVFILE: .env.production 
```

åœ¨è¿›è¡Œæ–°çš„æ„å»ºä¹‹å‰ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›å¢åŠ æ„å»ºå·å’Œ/æˆ–æ„å»ºç‰ˆæœ¬ã€‚å°†è¿™äº›è¡Œæ·»åŠ åˆ°æ–‡ä»¶:

```
increment_version_number(
    xcodeproj: './ios/FooBar.xcodeproj',
    bump_type: "patch",
    # bump_type: "minor",
    # bump_type: "major",
    # version_number: "1.0.0"
)
increment_build_number(
  xcodeproj: './ios/FooBar.xcodeproj',
  # build_number: '74'
) 
```

ç°åœ¨ï¼Œè¦åˆ›å»ºä¸€ä¸ªæ„å»ºï¼Œæ·»åŠ ä¸‹é¢å‡ è¡Œã€‚è¯·è®°ä½ï¼Œåœ¨æ–‡ç« çš„å¼€å¤´ï¼Œæˆ‘æåˆ°è¿‡**æ–¹æ¡ˆçš„å‘½å**åœ¨åé¢ä¼šå¾ˆé‡è¦ã€‚å—¯ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ:

```
gym(
    xcodeproj: './ios/FooBar.xcodeproj',
    scheme: "FooBar.#{api_environment}"
) 
```

æœ€åï¼Œæˆ‘å¸Œæœ›æˆ‘çš„è„šæœ¬ä¹Ÿå°†æ„å»ºä¸Šä¼ åˆ°`TestFlight`ï¼Œæ‰€ä»¥æˆ‘è¿™æ ·åš:

```
pilot(
    app_identifier: app_identifier,
    email: "itunesconnect_email",
    first_name: "itunesconnect_first_name",
    last_name: "itunesconnect_last_name",
    ipa: "./FooBar.ipa",
    distribute_external: true,
    skip_submission: true,
    skip_waiting_for_build_processing: false
) 
```

å¯¹äº Android æ¥è¯´ï¼Œè¿™å‡ ä¹æ˜¯ç›¸åŒçš„è¿‡ç¨‹ï¼Œä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨äº†`gradle`å’Œ`supply`ï¼Œè€Œä¸æ˜¯`gym`å’Œ`pilot`åŠ¨ä½œã€‚è¿™æ¡å°å··çœ‹èµ·æ¥åƒè¿™æ ·:

```
platform :android do
  desc "Submit a new build to Google Play Console"

  lane :beta do
    app_identifier = "com.app.identifier"

    api_environment = "staging"
    if ENV["IS_PRODUCTION"] == "true"
      api_environment = "production"
    end
    ENV["ENVFILE"]=".env.#{api_environment}"

    puts "API_HOST: #{ENV['API_HOST']}"
    puts "IS_PRODUCTION: #{ENV['IS_PRODUCTION']}"
    puts "ENVFILE: #{ENV['ENVFILE']}"

    gradle_file = "./android/app/build.gradle"

    android_set_version_name(
      version_name: "1.0.0",
      gradle_file: gradle_file
    )

    android_set_version_code(
      gradle_file: gradle_file
    )

    gradle(
      project_dir: './android',
      task: 'assemble',
      build_type: 'release'
    )

    supply(
      json_key: 'google_play_console_key',
      track: 'beta',
      apk: './android/app/build/outputs/apk/release/app-release.apk',
      package_name: app_identifier
    )
  end
end 
```

## [](#final-thoughts-on-staging-and-production-environments-in-a-react-native-app)å…³äº React æœ¬æœºåº”ç”¨ä¸­çš„è¯•è¿è¡Œå’Œç”Ÿäº§ç¯å¢ƒçš„æœ€ç»ˆæƒ³æ³•

åœ¨æˆ‘ç¦»å¼€ä¹‹å‰ï¼Œæˆ‘æƒ³è¡¨è¾¾ä¸€ä¸‹æˆ‘çš„æƒ³æ³•ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯å…³äºæºä»£ç æ§åˆ¶çš„æœ€ä½³å®è·µã€‚

æˆ‘å»ºè®®å°†çœŸå®å€¼æäº¤ç»™`.env`(æœ¬åœ°ç¯å¢ƒ)ï¼Œä½†æ˜¯å°†`.env.staging`å’Œ`.env.production`ä¿ç•™ä¸ºè™šæ‹Ÿ/éæ•æ„Ÿå€¼ï¼Œè¿™äº›å€¼ä»…åœ¨æ„å»ºæ—¶åœ¨æ„å»ºæœºå™¨ä¸Šè¢«æ›¿æ¢ã€‚

å› æ­¤ï¼Œå›è´­åè®®ä¸­çš„ä¸‰ä¸ªæ–‡ä»¶å¦‚ä¸‹æ‰€ç¤º:

```
// .env
IS_PRODUCTION=false
API_HOST=https://api.staging.foobar.com

// .env.staging
IS_PRODUCTION=false
API_HOST=api_host

// .env.production
IS_PRODUCTION=true
API_HOST=api_host 
```

å®Œæ•´çš„æºä»£ç å¯ä»¥åœ¨ [Github](https://github.com/calintamas/react-native-envs-poc) ä¸Šæ‰¾åˆ°ã€‚

è¯·éšæ—¶å‘Šè¯‰æˆ‘ä½ çš„æƒ³æ³•ï¼Œæˆ–è€…å¯¹æˆ‘ä¸Šé¢æå‡ºçš„è§£å†³æ–¹æ¡ˆæœ‰ä»€ä¹ˆå»ºè®®ã€‚

è°¢è°¢ï¼Œ