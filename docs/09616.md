# å¦‚ä½•é€šè¿‡ç§»é™¤å˜é‡æ¥ç®€åŒ–ä»£ç 

> åŸæ–‡:[https://dev . to/babak/use-pipeline-avoid-unnecessary-variables-for-better-data-flow-54 m2](https://dev.to/babak/use-pipeline-avoid-unnecessary-variables-for-better-data-flow-54m2)

ä½ æœ‰æ²¡æœ‰å‘ç°è‡ªå·±åœ¨åšä¸€äº›çœ‹èµ·æ¥ç±»ä¼¼äºè¿™ç§æ¨¡å¼çš„äº‹æƒ…ï¼Ÿ

```
const userInfoFromStorage = localStorage.getItem('userInfo')
const userInfoParsed = JSON.parse(userInfoFromStorage)
const userInfoClearedCache = { ...userInfoParsed, cache: {} }  
return userInfoClearedCache 
```

å¤§é‡ä¸€æ¬¡æ€§ä½¿ç”¨çš„ä¸´æ—¶å˜é‡ã€‚æˆ‘ä»¥å‰ä¹Ÿè¿™æ ·ã€‚æˆ‘æƒ³å‡ºäº†åˆ›é€ æ€§çš„æ–¹æ³•æ¥å‘½åè¿™äº›å˜é‡ï¼Œä»¥â€œè‡ªæˆ‘è®°å½•â€æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚ä½†è¿™é€šå¸¸æ˜¯ä¸ªåä¸»æ„ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›åŸå› :

*   ä½ åˆ›é€ çš„å˜é‡è¶Šå¤šï¼Œä½ å°±è¶Šæœ‰å¯èƒ½å‡ºç°æ‹¼å†™é”™è¯¯ã€‚
*   å¯¹æ•°æ®æ‰§è¡Œçš„æ“ä½œè¢«å¤§é‡çš„è¯­æ³•å¹²æ‰°æ‰€åŒ…å›´ã€‚
*   å˜é‡åä¸èƒ½ä»£æ›¿æ³¨é‡Šã€‚
*   å‘½åä¸å¿…è¦çš„å˜é‡æ˜¯ä¸å¿…è¦çš„ç²¾ç¥è´Ÿæ‹…ã€‚

```
There are only two hard things in Computer Science: cache invalidation and naming things.

-- Phil Karlton 
```

ä½†æ˜¯æˆ‘ä»¬åº”è¯¥åšä»€ä¹ˆå‘¢ï¼Ÿå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªå®¹æ˜“å¤„ç†çš„ä»£ç :

```
return {
  ...( 
    JSON.parse( 
      localStorage.getItem(
        'userInfo'
      )
    )
  ),
  cache: {}
} 
```

å‘€ï¼ğŸ˜²

è™½ç„¶å¾ˆéš¾çœ‹ï¼Œä½†ä¸Šé¢çš„ä»£ç ç¡®å®è¡¨æ˜ï¼Œå°†è¿™ç§è½¬æ¢è¡¨è¾¾ä¸ºä¸€ç³»åˆ—ä¸å¸¦å˜é‡çš„å‡½æ•°è°ƒç”¨æ˜¯å¯èƒ½çš„ã€‚ä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºæ˜¯ä¸‹ä¸€ä¸ªå‡½æ•°çš„è¾“å…¥ï¼Œä¾æ­¤ç±»æ¨ã€‚æˆ‘ä»¬å¸Œæœ›*åœ¨å‡½æ•°*ä¹‹é—´ä¼ è¾“å€¼ã€‚ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…è®¸æˆ‘ä»¬è¿›è¡Œè¿™ç§æŠ½è±¡ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹å‘¢ï¼Ÿ

è¿™é‡Œæœ‰ä¸€ä¸ªä½¿ç”¨`reduce` :
çš„è§£å†³æ–¹æ¡ˆ

```
const pipeline = ( initialValue, ...fns ) => (
  fns.reduce( 
    ( val, fn ) => fn( val ), 
    initialValue 
  )
) 
```

å¦‚æ‚¨æ‰€è§ï¼Œè¿™ä¸ªå‡½æ•°ä½¿ç”¨ä¸€ä¸ª`initialValue`å¹¶ä½¿ç”¨`reduce`å°†ä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºè¾“å…¥åˆ°ä¸‹ä¸€ä¸ªå‡½æ•°çš„è¾“å…¥ä¸­ã€‚å¦‚æœä½ ä¸ç¡®å®šæˆ‘ä¸ºä»€ä¹ˆåœ¨è¿™é‡Œä½¿ç”¨ reduceï¼Œæˆ‘çš„ [reduce æ•™ç¨‹](https://dev.to/babak/why-you-should-use-reduce-instead-of-loops----part-i-5dfa)çš„ç¬¬ä¸€éƒ¨åˆ†å¯èƒ½ä¼šæœ‰å¸®åŠ©ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·é‡æ„åŸå§‹ä»£ç :

```
 return pipeline(
  // get user information stored as a string in local storage
  localStorage.getItem('userInfo'),
  // parse the string
  JSON.parse,
  // reset the cache to an empty obj
  obj => ({ ...obj, cache: {} })
) 
```

è¿™ä¸æ˜¯å¹²å‡€å¤šäº†å—ï¼Ÿå¾ˆå®¹æ˜“çœ‹å‡ºæ•°æ®æ˜¯å¦‚ä½•ä»ä¸Šåˆ°ä¸‹æµåŠ¨çš„ã€‚

å¯¹äºè¿™ç§é£æ ¼ï¼Œä¸€äº›å¼€å‘äººå‘˜å¯èƒ½ä¼šé‡åˆ°ä¸¤ä¸ªå¸¸è§çš„æŒ‘æˆ˜:

1.  ç±»å‹ã€‚å¦‚ä½•é”®å…¥ä¸€ä¸ª`pipeline`å‡½æ•°ï¼Ÿ
2.  æ—¥å¿—è®°å½•(ç”¨äºè°ƒè¯•)ã€‚å¦‚ä½•è®°å½•ç®¡é“é“¾ä¹‹é—´çš„æ•°æ®ï¼Ÿ

æˆ‘ä»¬å°†åœ¨æ­¤è§£å†³è¿™äº›é—®é¢˜:

# [](#the-typed-version)æ‰“å­—ç‰ˆ

æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥ä½¿ç”¨è‡ªå¼•ç”¨ç±»å‹æ¥è¡¨è¾¾è¿™ä¸ªå‡½æ•°ï¼Œä½†æ˜¯è¿™å¾ˆå¤æ‚ï¼Œéœ€è¦å¦å¤–å†™ä¸€ç¯‡æ–‡ç« ã€‚å¯¹äºé‚£äº›å¥½å¥‡çš„äººæ¥è¯´ï¼Œè¿™å¤§æ¦‚æ˜¯è¿™ç§ç±»å‹çš„æ ·å­:

[https://github . com/babakness/soul train/blob/v 0 . 0 . 43/src/type/_ experiments . ts # L18](https://github.com/babakness/soultrain/blob/v0.0.43/src/type/_experiements.ts#L18)

æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä½¿ç”¨ TypeScript çš„å‡½æ•°é‡è½½æ¥è¡¨è¾¾ç±»å‹åº”è¯¥å¦‚ä½•å‘å±•ã€‚ä¾‹å¦‚:

```
function pipeline<A,B>( a: A,  ab: (a: A) => B ): B
function pipeline<A,B,C>( a: A,  ab: (a: A) => B, bc: (a: B) => C ): C
function pipeline<A,B,C,D>( a: A, ab: (a: A) => B, bc: (a: B) => C, cd: (c: C) => D):D
// and so on 
```

è¿™å°±æ˜¯`pipeline`åœ¨æˆ‘çš„å›¾ä¹¦é¦†çµé­‚åˆ—è½¦ä¸­çš„å·¥ä½œæ–¹å¼ã€‚

## ![GitHub logo](../Images/a73f630113876d78cff79f59c2125b24.png) [å·´å·´å…‹å°¼æ–¯](https://github.com/babakness) / [çµé­‚åˆ—è½¦](https://github.com/babakness/soultrain)

### Soultrain æ˜¯ä¸€ä¸ªç”¨ Typescript ç¼–å†™çš„ç´§å‡‘å‡½æ•°åº“ã€‚

<article class="markdown-body entry-content container-lg" itemprop="text">

è¯·æ³¨æ„ï¼Œè¿™ä¸ªåº“ä»ç„¶æ˜¯å®éªŒæ€§çš„ï¼Œå°†ä¼šæœ‰çªç ´æ€§çš„å˜åŒ–ã€‚å¦‚æœæ‚¨åœ¨å¦ä¸€ä¸ªå®éªŒé¡¹ç›®ä¸­å°è¯•è¿™ä¸ªï¼Œæœ€å¥½å°†å…¶é”å®šåˆ°ä¸€ä¸ªç‰¹å®šçš„ç‰ˆæœ¬ã€‚

# å®‰è£…

`npm install soultrain`

# çµé­‚åˆ—è½¦

Soultrain æ˜¯ä¸€ä¸ªç”¨ Typescript ç¼–å†™çš„ç´§å‡‘å‡½æ•°åº“ã€‚å®ƒçš„çµæ„Ÿæ¥è‡ª Ramda å’ŒåŸºäºä»£æ•°æ•°æ®ç±»å‹çš„å®¹å™¨å¼ç¼–ç¨‹ã€‚

# åŠ¨æœº

Ramda æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„å·¥å…·ï¼Œä½†æ˜¯ï¼Œå®ƒä¾èµ– JS DOC æ³¨é‡Šè§„èŒƒæ¥æä¾›ç±»å‹æ•°æ®ã€‚è™½ç„¶è¿™å¾ˆå¥½ï¼Œä½† Typescript æä¾›äº†æ›´å¥½çš„é™æ€ç±»å‹ã€‚å› æ­¤ï¼Œè¿™ä¸ªåº“æ—¨åœ¨æä¾›å…·æœ‰æ›´å¥½é™æ€ç±»å‹çš„é€šç”¨åŠŸèƒ½å·¥å…·ã€‚

# æ¦‚è§‚

è¿™ä¸€éƒ¨åˆ†å°†åœ¨ä»¥åå®Œæˆã€‚ä»é«˜å±‚æ¬¡æ¥çœ‹ï¼Œè¯¥åº“æä¾›äº†æ™ºèƒ½çš„`curry`ã€`pipe`å’Œ`pipeline`å‡½æ•°ï¼Œå…·æœ‰è‰¯å¥½çš„ç±»å‹æ”¯æŒã€‚å®ƒç›®å‰æä¾›ä¸¤ä¸ªå•å­ï¼Œä¸€ä¸ª`Maybe`å’Œä¸€ä¸ª`Transduce`ã€‚å‰è€…çš„å·¥ä½œç±»ä¼¼äºå…¶ä»–å¯èƒ½çš„å›¾ä¹¦é¦†ï¼Œä½†æ˜¯ï¼Œå®ƒæä¾›äº†â€¦

</article>

[View on GitHub](https://github.com/babakness/soultrain)

ç±»å‹åŒ–ç‰ˆæœ¬çš„å¥½å¤„æ˜¯è®©ç¼–è¯‘å™¨ä»”ç»†æ£€æŸ¥ä»£ç ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª JavaScript ç‰ˆæœ¬æ— æ³•æ•æ‰çš„ç¤ºä¾‹:

[![](../Images/4d8dc03a8ec7791a6533943fe4d6a85d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--K6Wpjzfh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/qnm6vket3cyuahxan7k5.png)

ç¼–è¯‘å™¨æ³¨æ„åˆ°`roo`ä¸æ˜¯ç”±`processor.process`è¿”å›çš„å¯¹è±¡çš„å±æ€§

# [](#logging-debugging)è®°å½•/è°ƒè¯•

è¦è®°å½•ç®¡é“ä¸­å‡½æ•°ä¹‹é—´çš„æ•°æ®æµï¼Œå¯ä»¥ç®€å•åœ°ä½¿ç”¨ä¸€ä¸ªæ—¥å¿—å‡½æ•°ï¼Œè¯¥å‡½æ•°è®°å½•å¹¶è¿”å›å®ƒæ¥æ”¶åˆ°çš„æ•°æ®ã€‚å¯¹äºç±»å‹ï¼Œå¯ä»¥è¿™æ ·å†™:

```
const log = <A>(data: A): A => (console.log(data),data) 
```

æˆ–è€…ï¼Œè¦è®°å½•æ¶ˆæ¯ï¼Œå¯ä»¥è¿™æ ·å®šä¹‰æ—¥å¿—:

```
const noteLog = (note: unknown) => (
  <A>(data: A): A => ( console.log(note, data), data )
) 
```

å¯ä»¥è¿™æ ·ä½¿ç”¨:

```
return pipeline(
  // get user information stored as a string in local storage
  localStorage.getItem('userInfo'),
  // parse the string
  JSON.parse,
  // log the data,
  noteLog('data before cache removal'),
  // reset the cache to an empty obj
  obj => ({ ...obj, cache: {} })
) 
```

ä½œä¸ºå¯¹è¯»è€…çš„ä¸€ä¸ªç»ƒä¹ ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªæœ‰æ¡ä»¶åœ°è§¦å‘è°ƒè¯•å™¨çš„å‡½æ•°ã€‚

# [](#functional-programming)åŠŸèƒ½ç¼–ç¨‹

`pipe`å’Œ`compose`çš„å…„å¼Ÿ`pipeline`å‡½æ•°å°†é‚€è¯·ä½ ç¼–å†™æ›´å¤šçš„å‡½æ•°ã€‚å®ƒä¹Ÿå°†å‘ä½ å±•ç¤ºè°„åªšæ˜¯å¤šä¹ˆå¼ºå¤§ï¼›ç”šè‡³é€šçŸ¥æ‚¨å‡½æ•°å‚æ•°çš„é¡ºåºã€‚

ä¸ºäº†è¯´æ˜è¿™ä¸€ç‚¹ï¼Œè¯·æ³¨æ„æˆ‘ä»¬çš„ç®¡é“ç¤ºä¾‹ä¸­çš„ç®­å¤´å‡½æ•°ã€‚`obj`ä¸æ˜¯ä¸€æ¬¡æ€§å˜é‡å—ï¼Ÿæˆ‘ä»¬ä½¿ç”¨å®ƒçš„å”¯ä¸€ç›®çš„æ˜¯ä½œä¸ºæˆ‘ä»¬æ•°æ®çš„å ä½ç¬¦...åªéœ€å‘å³ç§»åŠ¨å‡ ä¸ªå­—ç¬¦ï¼

äº‹å®è¯æ˜ï¼Œé€šè¿‡ç¡®ä¿æˆ‘ä»¬çš„æºæ•°æ®æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä½¿ç”¨ curried å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ä»£ç ã€‚ä¸‹é¢æˆ‘å†™äº†å¦‚ä½•ç”¨æ™®é€šçš„ JS æ¥è¡¨è¾¾è¿™ä¸€ç‚¹â€”â€”æ³¨æ„ï¼Œæˆ‘ä»¬æƒ³è¦è¦†ç›–ä¼ å…¥å¯¹è±¡çš„é”®ã€‚å®ƒå°†æ˜¯ç¬¬äºŒä¸ªå‚æ•°â€”â€”å› æ­¤ä»å·¦å‘å³ç§»åŠ¨ï¼Œç”¨ç¬¬ä¸€ä¸ªå‚æ•°ä¸­çš„å¯¹è±¡è¦†ç›–ç¬¬äºŒä¸ªå¯¹è±¡`obj2`ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬æ²¡æœ‰æŠŠ`obj2`æ”¾åœ¨å¯¹è±¡å±•å¼€çš„å³è¾¹ï¼Œè€Œæ˜¯é¢ å€’é¡ºåºï¼ŒæŠŠå®ƒæ”¾åœ¨å·¦è¾¹:

```
const mergeLeft = curry( 
  // spread the second parameter first
  ( obj1, obj2 ) => ({ ...obj2, ...obj1 })
) 
```

å¦‚æœä½ å¯¹`curry`ä¸ç†Ÿæ‚‰ï¼Œå®ƒåŸºæœ¬ä¸Šä¿®æ”¹äº†æˆ‘ä»¬çš„å‡½æ•°ï¼Œä½¿å®ƒå¯ä»¥åƒè¿™æ ·å†™çš„ä¸€æ ·ä½¿ç”¨:

```
const mergeLeft = obj1 => obj2 => ({ ...obj2, ...obj1 }) 
```

ç°åœ¨æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆå˜æˆ:

```
return pipeline(
  // get user information stored as a string in local storage
  localStorage.getItem('userInfo'),
  // parse the string
  JSON.parse,
  // log the data,
  noteLog('data before cache removal'),
  // reset the cache to an empty obj
  mergeLeft({ cache: {} })
) 
```

ç®¡é“é¼“åŠ±æˆ‘ä»¬ç¼–å†™å°çš„ã€å¯é‡ç”¨çš„å‡½æ•°æ¥æ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡ï¼Œå¹¶å°†æºæ•°æ®ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ã€‚è¿™ç±»ä¼¼äº UNIX æˆ– Linux ç»ˆç«¯ä¸Šçš„å‘½ä»¤ã€‚è¿™æ˜¯ä¸€ä¸ªå·²ç»å­˜åœ¨å¾ˆé•¿æ—¶é—´çš„å‡½æ•°å¼ç¼–ç¨‹æ¦‚å¿µã€‚å°±åƒä¸€ä¸ªä¼Ÿå¤§çš„ç»å…¸ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸåˆ™ï¼Œè¯æ˜è‡ªå·±æ›´å¥½åœ°ä¸æ—¶é—´ã€‚

# ES-ä¸‹ä¸€ä¸ª

å‡½æ•°ä¹‹é—´çš„ç®¡é“æ•°æ®æ˜¯åˆ›å»ºä¸€æ¬¡æ€§å˜é‡çš„ä¸€ä¸ªå¾ˆå¥½çš„æ›¿ä»£æ–¹æ³•ï¼Œä¸€æ¬¡æ€§å˜é‡åªç”¨äºå°†æ•°æ®ä»ä¸€ä¸ªå‡½æ•°ä¼ é€’åˆ°å¦ä¸€ä¸ªå‡½æ•°ã€‚è®¸å¤šç¼–ç¨‹è¯­è¨€è®¤è¯†åˆ°è¿™ä¸€ç‚¹ï¼Œå¹¶æœ‰ä¸€ä¸ªæ“ä½œç¬¦æ¥æ‰§è¡Œè¿™é¡¹ä»»åŠ¡ã€‚å¯¹äº JavaScriptï¼Œæœ‰æè®®çš„ç®¡é“æ“ä½œç¬¦

## ![GitHub logo](../Images/a73f630113876d78cff79f59c2125b24.png) [ tc39 ](https://github.com/tc39) / [æè®®-ç®¡é“-è¿è¥å•†](https://github.com/tc39/proposal-pipeline-operator)

### å‘ JavaScript æ·»åŠ ç®€å•ä½†æœ‰ç”¨çš„ç®¡é“æ“ä½œç¬¦çš„å»ºè®®ã€‚

<article class="markdown-body entry-content container-lg" itemprop="text">

# ä¸‹ä¸€ä¸ªæè®®:ç®¡é“è¿è¥å•†

è¿™ä¸ªææ¡ˆå¼•å…¥äº†ä¸€ä¸ªç±»ä¼¼äº[F #](https://en.wikibooks.org/wiki/F_Sharp_Programming/Higher_Order_Functions#The_.7C.3E_Operator)[OCaml](http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VAL%28%7C%3E%29)[elixin](https://hexdocs.pm/elixir/Kernel.html#%7C%3E/2)[Elm](https://package.elm-lang.org/packages/elm/core/latest/Basics#%7C%3E)[Julia](https://docs.julialang.org/en/v1/base/base/#Base.:%7C%3E)ã€ [Hack](https://docs.hhvm.com/hack/expressions-and-operators/pipe) å’Œ [LiveScript](http://livescript.net/#piping) çš„æ–°æ“ä½œç¬¦`|>`ï¼Œä»¥åŠ UNIX ç®¡é“å’Œ [Haskell](https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Function.html#v:-38-) çš„`&`ã€‚è¿™æ˜¯ä¸€ç§å‘åå…¼å®¹çš„æ–¹å¼ï¼Œä»¥ä¸€ç§å¯è¯»çš„ã€åŠŸèƒ½æ€§çš„æ–¹å¼æ¥ç®€åŒ–é“¾å¼å‡½æ•°è°ƒç”¨ï¼Œå¹¶ä¸ºæ‰©å±•å†…ç½®åŸå‹æä¾›äº†ä¸€ç§å®ç”¨çš„æ›¿ä»£æ–¹æ³•ã€‚

* * *

**<g-emoji class="g-emoji" alias="warning" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png">âš </g-emoji> è­¦å‘Š**:ç®¡é“è¯­æ³•ç»†èŠ‚**ç›®å‰æœªè§£å†³**ã€‚æœ‰ä¸¤ä¸ªç«äº‰æ–¹æ¡ˆæ­£åœ¨è€ƒè™‘ä¸­ã€‚æœ¬è‡ªè¿°æ–‡ä»¶æ˜¯ä¸€ä¸ªæœ€ä½é™åº¦çš„å»ºè®®ï¼Œæ¶µç›–äº†ç®¡é“è¿è¥å•†çš„åŸºæœ¬åŠŸèƒ½ã€‚å®ƒçš„åŠŸèƒ½å°±åƒä¸€ä¸ªç¨»è‰äººï¼Œç”¨æ¥æ¯”è¾ƒç«äº‰æ–¹æ¡ˆçš„åˆ©å¼Šã€‚

è¿™äº›å»ºè®®å¦‚ä¸‹:

*   **F#ç®¡é“** : [**è®²è§£äºº**](https://github.com/valtech-nyc/proposal-fsharp-pipelines/blob/master/README.md) + [**è§„æ ¼**](https://valtech-nyc.github.io/proposal-fsharp-pipelines/)
*   **æ™ºèƒ½ç®¡é“** : [**è®²è§£äºº**](https://github.com/js-choi/proposal-smart-pipelines/blob/master/readme.md) + [**è§„æ ¼**](https://jschoi.org/18/es-smart-pipelines/spec)

ä¸¤è€…çš„å·´åˆ«å¡”æ’ä»¶å·²ç»å¼€å§‹æ”¶é›†åé¦ˆã€‚

å¦è§ [**å¯¹ TC39**](https://docs.google.com/presentation/d/1eFFRK1wLIazIuK0F6fY974OIDvvWXS890XAMB59PUBA/edit#slide=id.p) çš„æœ€æ–°æ¼”ç¤ºä»¥åŠ [**æœ€è¿‘çš„ GitHub é—®é¢˜**](https://github.com/tc39/proposal-pipeline-operator/issues?utf8=%E2%9C%93&q=is%3Aissue+sort%3Aupdated-desc+) â€¦

</article>

[View on GitHub](https://github.com/tc39/proposal-pipeline-operator)

è¿™å°†å…è®¸æˆ‘ä»¬åƒè¿™æ ·é‡å†™æˆ‘ä»¬æœ€åˆçš„ä¾‹å­:

```
return (
 // get user information stored as a string in local storage
 localStorage.getItem('userInfo'),
  // parse the string
  |> JSON.parse
  // reset the cache to an empty obj
  |> obj => ({ ...obj, cache: {} })
) 
```

åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å—ç›Šäºä»Šå¤©ä½¿ç”¨çš„`pipeline`å‡½æ•°ï¼Œä»¥é¿å…ä¸å¿…è¦çš„å˜é‡å£°æ˜ã€‚