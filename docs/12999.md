# æ”¹è¿›å†™æ–‡ç« æ—¶åœ¨ Dev.to ä¸Šä¿å­˜æ–‡ç« çš„æ–¹å¼ã€‚

> åŸæ–‡ï¼š<https://dev.to/iaziz786/improving-the-way-of-saving-posts-on-devto-while-writing-48gm>

æ˜¨å¤©ï¼Œå½“æˆ‘æ­£åœ¨å†™ä¸€ç¯‡èŠ±äº† 45 åˆ†é’Ÿæ‰å†™å®Œçš„å¸–å­æ—¶ï¼Œæˆ‘å®¶é‡Œçš„ä¸€ä¸ªäººæ¥äº†ï¼Œä¸å°å¿ƒæŒ‰äº†æˆ‘æµè§ˆå™¨çš„åé€€é”®ã€‚åœ¨é‚£ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä¸æ˜ç™½åæœï¼Œæˆ‘æƒ³å¦‚æœæˆ‘ç»§ç»­ä¸‹å»ï¼Œæ‰€æœ‰å†™çš„å†…å®¹éƒ½ä¼šåœ¨é‚£é‡Œã€‚ä¸å¹¸çš„æ˜¯ï¼Œå¯¹äºåƒ [Hashnode](https://hashnode.com) å’Œ [Dev.to](https://dev.to) è¿™æ ·çš„ç½‘ç«™æ¥è¯´ï¼Œæƒ…å†µå¹¶éå¦‚æ­¤ã€‚

### éœ‡æƒŠæœŸ

å›åˆ°æˆ‘å†™æ–‡ç« çš„é¡µé¢åï¼Œæˆ‘çœ‹åˆ°äº†ä½ ç‚¹å‡»[å†™æ–‡ç« ](https://dev.to/new)æŒ‰é’®æ—¶é€šå¸¸ä¼šçœ‹åˆ°çš„å†…å®¹ã€‚æ²¡æœ‰å†…å®¹çš„é¡µé¢ã€‚é‚£æ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ„Ÿè§‰åˆ°å¯æ€•çš„äº‹æƒ…å‘ç”Ÿäº†ã€‚ä¸ºäº†è¯å®è¿™åœºç¾éš¾ï¼Œæˆ‘åˆ·æ–°äº†é¡µé¢ï¼Œä¹‹åï¼Œæˆ‘å¼€å§‹åœ¨å†…å¿ƒå“­æ³£ã€‚

æˆ‘åœ¨ 45 åˆ†é’Ÿå†…åšçš„æ‰€æœ‰å·¥ä½œéƒ½æ²¡äº†ã€‚ğŸ˜ 

### å½“å‰è§£

åœ¨ç›®å‰çš„æƒ…å†µä¸‹ï¼Œè¦å®šæœŸä¿å­˜ä½ çš„å¸–å­ï¼Œæ¯æ¬¡ä½ æƒ³ä¿å­˜è‰ç¨¿çš„å½“å‰çŠ¶æ€æ—¶ï¼Œä½ éƒ½å¿…é¡»ç‚¹å‡»**ä¿å­˜å¸–å­**ã€‚æˆ‘å½“ç„¶ç†è§£å¹³å°åˆ›å»ºè€…ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ç§å®ç°æ–¹å¼ã€‚æœ‰ä¸¤ä¸ªç®€å•çš„åŸå› :

1.  å‡å°‘æœåŠ¡å™¨åŠ è½½æ—¶é—´ï¼Œå› æ­¤...
2.  å‡å°‘æœåŠ¡å™¨è´¹ç”¨

å—¯ï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥è¿™æ ·å®ç°ï¼Œä½†æˆ‘è®¤ä¸ºè¿˜æœ‰æ›´å¥½çš„æ–¹æ³•ã€‚

### æˆ‘çš„è§£å†³æ–¹æ¡ˆ

[`localStorage`](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage) æ˜¯æ”¹å–„å®ƒçš„ä¸€ç§æ–¹æ³•ã€‚`localStorage`æ˜¯ä¸€ä¸ªé”®/å€¼ Web å­˜å‚¨ APIã€‚æˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­å­˜å‚¨å¸–å­çš„æ•°æ®ã€‚localStorage æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ï¼Œå³ä½¿åœ¨é€‰é¡¹å¡å…³é—­æˆ–åˆ·æ–°åï¼Œå…¶ä¸­çš„æ•°æ®ä»ç„¶å­˜åœ¨ã€‚

å› ä¸º Dev.to ä½¿ç”¨ Reactï¼Œæ‰€ä»¥æˆ‘çš„å®ç°æ˜¯ React ç‰¹å®šçš„ï¼Œä½†æ€»ä½“æ€æƒ³å¯¹äºå…¶ä»–å¹³å°ä¸Šçš„å…¶ä»–æ¡†æ¶æ˜¯ç›¸åŒçš„ã€‚è¿™ä¸ªå®ç°åœ¨ Codesandbox ä¸Šï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„é“¾æ¥æŸ¥çœ‹ã€‚

[![Edit Stateful Content](img/0b3f0135583496627e3621355d8e9248.png)](https://codesandbox.io/s/n7289z8z8j)

åœ¨åˆå§‹æ¸²æŸ“æ—¶ï¼Œæˆ‘ä¼šæ£€æŸ¥æ˜¯å¦æœ‰ä¸€äº›å†…å®¹å·²ç»å­˜åœ¨ã€‚å¦‚æœæœ‰ï¼Œå°†`textarea`çš„å€¼è®¾ç½®ä¸ºä¹‹å‰ä¿å­˜çš„å€¼ã€‚

```
 ...
  React.useEffect(() => {
    const content = localStorage.getItem("content") || "";
    setContent(content);
  }, []);
  ...

  <textarea
    value={content}
    onChange={handleChange}
  /> 
```

`handleChange`åŠŸèƒ½:

```
 function handleChange(event) {
    const value = event.target.value;
    setContent(value);
  } 
```

å¯¹`setContent`çš„æ¯æ¬¡è°ƒç”¨éƒ½ä¼šè§¦å‘`useEffect`é’©å­ï¼Œä»è€Œé™åˆ¶è®¾ç½®æˆ‘ä»¬åœ¨`localStorage`ä¸­çš„å†…å®¹çš„å€¼ã€‚è™½ç„¶èŠ‚æµä¸æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯å¦‚æœæœ‰ä¸€ä¸ª APIï¼Œé‚£ä¹ˆèŠ‚æµåœ¨è¿™ç§æƒ…å†µä¸‹è‚¯å®šæ˜¯æœ‰æ„ä¹‰çš„ã€‚

```
const throttled = throttle((content = "") => {
  localStorage.setItem("content", content);
}, 500);

  ...
  React.useEffect(() => throttled(content));
  ... 
```

æ˜¯çš„ï¼Œä¸ºäº†ä¿æŒè¿™ç¯‡æ–‡ç« çš„ç®€æ´ï¼Œæˆ‘åœ¨è¿™ä¸ªå®ç°ä¸­æ²¡æœ‰æ¶‰åŠåˆ°ä¸€äº›æç«¯çš„æƒ…å†µã€‚

è¯·å‘Šè¯‰æˆ‘æ‚¨å¯¹æ­¤çš„æƒ³æ³•ä»¥åŠæˆ‘ä»¬å¦‚ä½•æ”¹è¿›ï¼Ÿ